'use strict';void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Number.isInteger&&(Number.isInteger=function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a});void 0===Math.sign&&(Math.sign=function(a){return 0>a?-1:0<a?1:+a});!1==="name"in Function.prototype&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});
void 0===Object.assign&&(Object.assign=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");const b=Object(a);for(let c=1;c<arguments.length;c++){const d=arguments[c];if(void 0!==d&&null!==d)for(const e in d)Object.prototype.hasOwnProperty.call(d,e)&&(b[e]=d[e])}return b});
const REVISION$$module$node_modules$three$build$three_module="120",MOUSE$$module$node_modules$three$build$three_module={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH$$module$node_modules$three$build$three_module={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone$$module$node_modules$three$build$three_module=0,CullFaceBack$$module$node_modules$three$build$three_module=1,CullFaceFront$$module$node_modules$three$build$three_module=2,CullFaceFrontBack$$module$node_modules$three$build$three_module=
3,BasicShadowMap$$module$node_modules$three$build$three_module=0,PCFShadowMap$$module$node_modules$three$build$three_module=1,PCFSoftShadowMap$$module$node_modules$three$build$three_module=2,VSMShadowMap$$module$node_modules$three$build$three_module=3,FrontSide$$module$node_modules$three$build$three_module=0,BackSide$$module$node_modules$three$build$three_module=1,DoubleSide$$module$node_modules$three$build$three_module=2,FlatShading$$module$node_modules$three$build$three_module=1,SmoothShading$$module$node_modules$three$build$three_module=
2,NoBlending$$module$node_modules$three$build$three_module=0,NormalBlending$$module$node_modules$three$build$three_module=1,AdditiveBlending$$module$node_modules$three$build$three_module=2,SubtractiveBlending$$module$node_modules$three$build$three_module=3,MultiplyBlending$$module$node_modules$three$build$three_module=4,CustomBlending$$module$node_modules$three$build$three_module=5,AddEquation$$module$node_modules$three$build$three_module=100,SubtractEquation$$module$node_modules$three$build$three_module=
101,ReverseSubtractEquation$$module$node_modules$three$build$three_module=102,MinEquation$$module$node_modules$three$build$three_module=103,MaxEquation$$module$node_modules$three$build$three_module=104,ZeroFactor$$module$node_modules$three$build$three_module=200,OneFactor$$module$node_modules$three$build$three_module=201,SrcColorFactor$$module$node_modules$three$build$three_module=202,OneMinusSrcColorFactor$$module$node_modules$three$build$three_module=203,SrcAlphaFactor$$module$node_modules$three$build$three_module=
204,OneMinusSrcAlphaFactor$$module$node_modules$three$build$three_module=205,DstAlphaFactor$$module$node_modules$three$build$three_module=206,OneMinusDstAlphaFactor$$module$node_modules$three$build$three_module=207,DstColorFactor$$module$node_modules$three$build$three_module=208,OneMinusDstColorFactor$$module$node_modules$three$build$three_module=209,SrcAlphaSaturateFactor$$module$node_modules$three$build$three_module=210,NeverDepth$$module$node_modules$three$build$three_module=0,AlwaysDepth$$module$node_modules$three$build$three_module=
1,LessDepth$$module$node_modules$three$build$three_module=2,LessEqualDepth$$module$node_modules$three$build$three_module=3,EqualDepth$$module$node_modules$three$build$three_module=4,GreaterEqualDepth$$module$node_modules$three$build$three_module=5,GreaterDepth$$module$node_modules$three$build$three_module=6,NotEqualDepth$$module$node_modules$three$build$three_module=7,MultiplyOperation$$module$node_modules$three$build$three_module=0,MixOperation$$module$node_modules$three$build$three_module=1,AddOperation$$module$node_modules$three$build$three_module=
2,NoToneMapping$$module$node_modules$three$build$three_module=0,LinearToneMapping$$module$node_modules$three$build$three_module=1,ReinhardToneMapping$$module$node_modules$three$build$three_module=2,CineonToneMapping$$module$node_modules$three$build$three_module=3,ACESFilmicToneMapping$$module$node_modules$three$build$three_module=4,CustomToneMapping$$module$node_modules$three$build$three_module=5,UVMapping$$module$node_modules$three$build$three_module=300,CubeReflectionMapping$$module$node_modules$three$build$three_module=
301,CubeRefractionMapping$$module$node_modules$three$build$three_module=302,EquirectangularReflectionMapping$$module$node_modules$three$build$three_module=303,EquirectangularRefractionMapping$$module$node_modules$three$build$three_module=304,CubeUVReflectionMapping$$module$node_modules$three$build$three_module=306,CubeUVRefractionMapping$$module$node_modules$three$build$three_module=307,RepeatWrapping$$module$node_modules$three$build$three_module=1E3,ClampToEdgeWrapping$$module$node_modules$three$build$three_module=
1001,MirroredRepeatWrapping$$module$node_modules$three$build$three_module=1002,NearestFilter$$module$node_modules$three$build$three_module=1003,NearestMipmapNearestFilter$$module$node_modules$three$build$three_module=1004,NearestMipMapNearestFilter$$module$node_modules$three$build$three_module=1004,NearestMipmapLinearFilter$$module$node_modules$three$build$three_module=1005,NearestMipMapLinearFilter$$module$node_modules$three$build$three_module=1005,LinearFilter$$module$node_modules$three$build$three_module=
1006,LinearMipmapNearestFilter$$module$node_modules$three$build$three_module=1007,LinearMipMapNearestFilter$$module$node_modules$three$build$three_module=1007,LinearMipmapLinearFilter$$module$node_modules$three$build$three_module=1008,LinearMipMapLinearFilter$$module$node_modules$three$build$three_module=1008,UnsignedByteType$$module$node_modules$three$build$three_module=1009,ByteType$$module$node_modules$three$build$three_module=1010,ShortType$$module$node_modules$three$build$three_module=1011,UnsignedShortType$$module$node_modules$three$build$three_module=
1012,IntType$$module$node_modules$three$build$three_module=1013,UnsignedIntType$$module$node_modules$three$build$three_module=1014,FloatType$$module$node_modules$three$build$three_module=1015,HalfFloatType$$module$node_modules$three$build$three_module=1016,UnsignedShort4444Type$$module$node_modules$three$build$three_module=1017,UnsignedShort5551Type$$module$node_modules$three$build$three_module=1018,UnsignedShort565Type$$module$node_modules$three$build$three_module=1019,UnsignedInt248Type$$module$node_modules$three$build$three_module=
1020,AlphaFormat$$module$node_modules$three$build$three_module=1021,RGBFormat$$module$node_modules$three$build$three_module=1022,RGBAFormat$$module$node_modules$three$build$three_module=1023,LuminanceFormat$$module$node_modules$three$build$three_module=1024,LuminanceAlphaFormat$$module$node_modules$three$build$three_module=1025,RGBEFormat$$module$node_modules$three$build$three_module=RGBAFormat$$module$node_modules$three$build$three_module,DepthFormat$$module$node_modules$three$build$three_module=
1026,DepthStencilFormat$$module$node_modules$three$build$three_module=1027,RedFormat$$module$node_modules$three$build$three_module=1028,RedIntegerFormat$$module$node_modules$three$build$three_module=1029,RGFormat$$module$node_modules$three$build$three_module=1030,RGIntegerFormat$$module$node_modules$three$build$three_module=1031,RGBIntegerFormat$$module$node_modules$three$build$three_module=1032,RGBAIntegerFormat$$module$node_modules$three$build$three_module=1033,RGB_S3TC_DXT1_Format$$module$node_modules$three$build$three_module=
33776,RGBA_S3TC_DXT1_Format$$module$node_modules$three$build$three_module=33777,RGBA_S3TC_DXT3_Format$$module$node_modules$three$build$three_module=33778,RGBA_S3TC_DXT5_Format$$module$node_modules$three$build$three_module=33779,RGB_PVRTC_4BPPV1_Format$$module$node_modules$three$build$three_module=35840,RGB_PVRTC_2BPPV1_Format$$module$node_modules$three$build$three_module=35841,RGBA_PVRTC_4BPPV1_Format$$module$node_modules$three$build$three_module=35842,RGBA_PVRTC_2BPPV1_Format$$module$node_modules$three$build$three_module=
35843,RGB_ETC1_Format$$module$node_modules$three$build$three_module=36196,RGB_ETC2_Format$$module$node_modules$three$build$three_module=37492,RGBA_ETC2_EAC_Format$$module$node_modules$three$build$three_module=37496,RGBA_ASTC_4x4_Format$$module$node_modules$three$build$three_module=37808,RGBA_ASTC_5x4_Format$$module$node_modules$three$build$three_module=37809,RGBA_ASTC_5x5_Format$$module$node_modules$three$build$three_module=37810,RGBA_ASTC_6x5_Format$$module$node_modules$three$build$three_module=
37811,RGBA_ASTC_6x6_Format$$module$node_modules$three$build$three_module=37812,RGBA_ASTC_8x5_Format$$module$node_modules$three$build$three_module=37813,RGBA_ASTC_8x6_Format$$module$node_modules$three$build$three_module=37814,RGBA_ASTC_8x8_Format$$module$node_modules$three$build$three_module=37815,RGBA_ASTC_10x5_Format$$module$node_modules$three$build$three_module=37816,RGBA_ASTC_10x6_Format$$module$node_modules$three$build$three_module=37817,RGBA_ASTC_10x8_Format$$module$node_modules$three$build$three_module=
37818,RGBA_ASTC_10x10_Format$$module$node_modules$three$build$three_module=37819,RGBA_ASTC_12x10_Format$$module$node_modules$three$build$three_module=37820,RGBA_ASTC_12x12_Format$$module$node_modules$three$build$three_module=37821,RGBA_BPTC_Format$$module$node_modules$three$build$three_module=36492,SRGB8_ALPHA8_ASTC_4x4_Format$$module$node_modules$three$build$three_module=37840,SRGB8_ALPHA8_ASTC_5x4_Format$$module$node_modules$three$build$three_module=37841,SRGB8_ALPHA8_ASTC_5x5_Format$$module$node_modules$three$build$three_module=
37842,SRGB8_ALPHA8_ASTC_6x5_Format$$module$node_modules$three$build$three_module=37843,SRGB8_ALPHA8_ASTC_6x6_Format$$module$node_modules$three$build$three_module=37844,SRGB8_ALPHA8_ASTC_8x5_Format$$module$node_modules$three$build$three_module=37845,SRGB8_ALPHA8_ASTC_8x6_Format$$module$node_modules$three$build$three_module=37846,SRGB8_ALPHA8_ASTC_8x8_Format$$module$node_modules$three$build$three_module=37847,SRGB8_ALPHA8_ASTC_10x5_Format$$module$node_modules$three$build$three_module=37848,SRGB8_ALPHA8_ASTC_10x6_Format$$module$node_modules$three$build$three_module=
37849,SRGB8_ALPHA8_ASTC_10x8_Format$$module$node_modules$three$build$three_module=37850,SRGB8_ALPHA8_ASTC_10x10_Format$$module$node_modules$three$build$three_module=37851,SRGB8_ALPHA8_ASTC_12x10_Format$$module$node_modules$three$build$three_module=37852,SRGB8_ALPHA8_ASTC_12x12_Format$$module$node_modules$three$build$three_module=37853,LoopOnce$$module$node_modules$three$build$three_module=2200,LoopRepeat$$module$node_modules$three$build$three_module=2201,LoopPingPong$$module$node_modules$three$build$three_module=
2202,InterpolateDiscrete$$module$node_modules$three$build$three_module=2300,InterpolateLinear$$module$node_modules$three$build$three_module=2301,InterpolateSmooth$$module$node_modules$three$build$three_module=2302,ZeroCurvatureEnding$$module$node_modules$three$build$three_module=2400,ZeroSlopeEnding$$module$node_modules$three$build$three_module=2401,WrapAroundEnding$$module$node_modules$three$build$three_module=2402,NormalAnimationBlendMode$$module$node_modules$three$build$three_module=2500,AdditiveAnimationBlendMode$$module$node_modules$three$build$three_module=
2501,TrianglesDrawMode$$module$node_modules$three$build$three_module=0,TriangleStripDrawMode$$module$node_modules$three$build$three_module=1,TriangleFanDrawMode$$module$node_modules$three$build$three_module=2,LinearEncoding$$module$node_modules$three$build$three_module=3E3,sRGBEncoding$$module$node_modules$three$build$three_module=3001,GammaEncoding$$module$node_modules$three$build$three_module=3007,RGBEEncoding$$module$node_modules$three$build$three_module=3002,LogLuvEncoding$$module$node_modules$three$build$three_module=
3003,RGBM7Encoding$$module$node_modules$three$build$three_module=3004,RGBM16Encoding$$module$node_modules$three$build$three_module=3005,RGBDEncoding$$module$node_modules$three$build$three_module=3006,BasicDepthPacking$$module$node_modules$three$build$three_module=3200,RGBADepthPacking$$module$node_modules$three$build$three_module=3201,TangentSpaceNormalMap$$module$node_modules$three$build$three_module=0,ObjectSpaceNormalMap$$module$node_modules$three$build$three_module=1,ZeroStencilOp$$module$node_modules$three$build$three_module=
0,KeepStencilOp$$module$node_modules$three$build$three_module=7680,ReplaceStencilOp$$module$node_modules$three$build$three_module=7681,IncrementStencilOp$$module$node_modules$three$build$three_module=7682,DecrementStencilOp$$module$node_modules$three$build$three_module=7683,IncrementWrapStencilOp$$module$node_modules$three$build$three_module=34055,DecrementWrapStencilOp$$module$node_modules$three$build$three_module=34056,InvertStencilOp$$module$node_modules$three$build$three_module=5386,NeverStencilFunc$$module$node_modules$three$build$three_module=
512,LessStencilFunc$$module$node_modules$three$build$three_module=513,EqualStencilFunc$$module$node_modules$three$build$three_module=514,LessEqualStencilFunc$$module$node_modules$three$build$three_module=515,GreaterStencilFunc$$module$node_modules$three$build$three_module=516,NotEqualStencilFunc$$module$node_modules$three$build$three_module=517,GreaterEqualStencilFunc$$module$node_modules$three$build$three_module=518,AlwaysStencilFunc$$module$node_modules$three$build$three_module=519,StaticDrawUsage$$module$node_modules$three$build$three_module=
35044,DynamicDrawUsage$$module$node_modules$three$build$three_module=35048,StreamDrawUsage$$module$node_modules$three$build$three_module=35040,StaticReadUsage$$module$node_modules$three$build$three_module=35045,DynamicReadUsage$$module$node_modules$three$build$three_module=35049,StreamReadUsage$$module$node_modules$three$build$three_module=35041,StaticCopyUsage$$module$node_modules$three$build$three_module=35046,DynamicCopyUsage$$module$node_modules$three$build$three_module=35050,StreamCopyUsage$$module$node_modules$three$build$three_module=
35042,GLSL1$$module$node_modules$three$build$three_module="100",GLSL3$$module$node_modules$three$build$three_module="300 es";function EventDispatcher$$module$node_modules$three$build$three_module(){}
Object.assign(EventDispatcher$$module$node_modules$three$build$three_module.prototype,{addEventListener:function(a,b){void 0===this._listeners&&(this._listeners={});const c=this._listeners;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)},hasEventListener:function(a,b){if(void 0===this._listeners)return!1;const c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)},removeEventListener:function(a,b){void 0!==this._listeners&&(a=this._listeners[a],void 0!==a&&(b=a.indexOf(b),-1!==
b&&a.splice(b,1)))},dispatchEvent:function(a){if(void 0!==this._listeners){var b=this._listeners[a.type];if(void 0!==b){a.target=this;b=b.slice(0);for(let c=0,d=b.length;c<d;c++)b[c].call(this,a)}}}});const _lut$$module$node_modules$three$build$three_module=[];for(let a=0;256>a;a++)_lut$$module$node_modules$three$build$three_module[a]=(16>a?"0":"")+a.toString(16);let _seed$$module$node_modules$three$build$three_module=1234567;
const MathUtils$$module$node_modules$three$build$three_module={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const a=4294967295*Math.random()|0,b=4294967295*Math.random()|0,c=4294967295*Math.random()|0,d=4294967295*Math.random()|0;return(_lut$$module$node_modules$three$build$three_module[a&255]+_lut$$module$node_modules$three$build$three_module[a>>8&255]+_lut$$module$node_modules$three$build$three_module[a>>16&255]+_lut$$module$node_modules$three$build$three_module[a>>24&255]+"-"+
_lut$$module$node_modules$three$build$three_module[b&255]+_lut$$module$node_modules$three$build$three_module[b>>8&255]+"-"+_lut$$module$node_modules$three$build$three_module[b>>16&15|64]+_lut$$module$node_modules$three$build$three_module[b>>24&255]+"-"+_lut$$module$node_modules$three$build$three_module[c&63|128]+_lut$$module$node_modules$three$build$three_module[c>>8&255]+"-"+_lut$$module$node_modules$three$build$three_module[c>>16&255]+_lut$$module$node_modules$three$build$three_module[c>>24&255]+
_lut$$module$node_modules$three$build$three_module[d&255]+_lut$$module$node_modules$three$build$three_module[d>>8&255]+_lut$$module$node_modules$three$build$three_module[d>>16&255]+_lut$$module$node_modules$three$build$three_module[d>>24&255]).toUpperCase()},clamp:function(a,b,c){return Math.max(b,Math.min(c,a))},euclideanModulo:function(a,b){return(a%b+b)%b},mapLinear:function(a,b,c,d,e){return d+(a-b)*(e-d)/(c-b)},lerp:function(a,b,c){return(1-c)*a+c*b},smoothstep:function(a,b,c){if(a<=b)return 0;
if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*(.5-Math.random())},seededRandom:function(a){void 0!==a&&(_seed$$module$node_modules$three$build$three_module=a%2147483647);_seed$$module$node_modules$three$build$three_module=16807*_seed$$module$node_modules$three$build$three_module%
2147483647;return(_seed$$module$node_modules$three$build$three_module-1)/2147483646},degToRad:function(a){return a*MathUtils$$module$node_modules$three$build$three_module.DEG2RAD},radToDeg:function(a){return a*MathUtils$$module$node_modules$three$build$three_module.RAD2DEG},isPowerOfTwo:function(a){return 0===(a&a-1)&&0!==a},ceilPowerOfTwo:function(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))},floorPowerOfTwo:function(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))},setQuaternionFromProperEuler:function(a,
b,c,d,e){var g=Math.cos;const h=Math.sin,k=g(c/2);c=h(c/2);const l=g((b+d)/2),m=h((b+d)/2),n=g((b-d)/2),p=h((b-d)/2);g=g((d-b)/2);b=h((d-b)/2);switch(e){case "XYX":a.set(k*m,c*n,c*p,k*l);break;case "YZY":a.set(c*p,k*m,c*n,k*l);break;case "ZXZ":a.set(c*n,c*p,k*m,k*l);break;case "XZX":a.set(k*m,c*b,c*g,k*l);break;case "YXY":a.set(c*g,k*m,c*b,k*l);break;case "ZYZ":a.set(c*b,c*g,k*m,k*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+e)}}};
class Vector2$$module$node_modules$three$build$three_module{constructor(a=0,b=0){Object.defineProperty(this,"isVector2",{value:!0});this.x=a;this.y=b}get width(){return this.x}set width(a){this.x=a}get height(){return this.y}set height(a){this.y=a}set(a,b){this.x=a;this.y=b;return this}setScalar(a){this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+
a);}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,this.y)}copy(a){this.x=a.x;this.y=a.y;return this}add(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;return this}addScalar(a){this.x+=a;this.y+=a;return this}addVectors(a,b){this.x=a.x+b.x;this.y=a.y+
b.y;return this}addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;return this}sub(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;return this}subScalar(a){this.x-=a;this.y-=a;return this}subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this}multiply(a){this.x*=a.x;this.y*=a.y;return this}multiplyScalar(a){this.x*=a;this.y*=a;return this}divide(a){this.x/=a.x;this.y/=a.y;
return this}divideScalar(a){return this.multiplyScalar(1/a)}applyMatrix3(a){const b=this.x,c=this.y;a=a.elements;this.x=a[0]*b+a[3]*c+a[6];this.y=a[1]*b+a[4]*c+a[7];return this}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this}clamp(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this}clampScalar(a,b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,
Math.min(b,this.y));return this}clampLength(a,b){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this}negate(){this.x=
-this.x;this.y=-this.y;return this}dot(a){return this.x*a.x+this.y*a.y}cross(a){return this.x*a.y-this.y*a.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const b=this.x-a.x;a=this.y-a.y;return b*b+a*a}manhattanDistanceTo(a){return Math.abs(this.x-
a.x)+Math.abs(this.y-a.y)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this}lerpVectors(a,b,c){this.x=a.x+(b.x-a.x)*c;this.y=a.y+(b.y-a.y)*c;return this}equals(a){return a.x===this.x&&a.y===this.y}fromArray(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this}toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a}fromBufferAttribute(a,b,c){void 0!==c&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute().");
this.x=a.getX(b);this.y=a.getY(b);return this}rotateAround(a,b){const c=Math.cos(b);b=Math.sin(b);const d=this.x-a.x,e=this.y-a.y;this.x=d*c-e*b+a.x;this.y=d*b+e*c+a.y;return this}random(){this.x=Math.random();this.y=Math.random();return this}}
class Matrix3$$module$node_modules$three$build$three_module{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0});this.elements=[1,0,0,0,1,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(a,b,c,d,e,g,h,k,l){const m=this.elements;m[0]=a;m[1]=d;m[2]=h;m[3]=b;m[4]=e;m[5]=k;m[6]=c;m[7]=g;m[8]=l;return this}identity(){this.set(1,0,0,0,1,0,0,0,1);return this}clone(){return(new this.constructor).fromArray(this.elements)}copy(a){const b=
this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return this}extractBasis(a,b,c){a.setFromMatrix3Column(this,0);b.setFromMatrix3Column(this,1);c.setFromMatrix3Column(this,2);return this}setFromMatrix4(a){a=a.elements;this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]);return this}multiply(a){return this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,b){var c=a.elements,d=b.elements;
b=this.elements;a=c[0];const e=c[3],g=c[6],h=c[1],k=c[4],l=c[7],m=c[2],n=c[5];c=c[8];const p=d[0],t=d[3],w=d[6],x=d[1],A=d[4],r=d[7],E=d[2],B=d[5];d=d[8];b[0]=a*p+e*x+g*E;b[3]=a*t+e*A+g*B;b[6]=a*w+e*r+g*d;b[1]=h*p+k*x+l*E;b[4]=h*t+k*A+l*B;b[7]=h*w+k*r+l*d;b[2]=m*p+n*x+c*E;b[5]=m*t+n*A+c*B;b[8]=m*w+n*r+c*d;return this}multiplyScalar(a){const b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this}determinant(){var a=this.elements;const b=a[0],c=a[1],d=a[2],
e=a[3],g=a[4],h=a[5],k=a[6],l=a[7];a=a[8];return b*g*a-b*h*l-c*e*a+c*h*k+d*e*l-d*g*k}getInverse(a,b){void 0!==b&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var c=a.elements;a=this.elements;b=c[0];const d=c[1],e=c[2],g=c[3],h=c[4],k=c[5],l=c[6],m=c[7];c=c[8];const n=c*h-k*m,p=k*l-c*g,t=m*g-h*l;var w=b*n+d*p+e*t;if(0===w)return this.set(0,0,0,0,0,0,0,0,0);w=1/w;a[0]=n*w;a[1]=(e*m-c*d)*w;a[2]=(k*d-e*h)*w;a[3]=p*w;a[4]=(c*b-e*l)*w;a[5]=(e*g-k*b)*w;
a[6]=t*w;a[7]=(d*l-m*b)*w;a[8]=(h*b-d*g)*w;return this}transpose(){let a;const b=this.elements;a=b[1];b[1]=b[3];b[3]=a;a=b[2];b[2]=b[6];b[6]=a;a=b[5];b[5]=b[7];b[7]=a;return this}getNormalMatrix(a){return this.setFromMatrix4(a).getInverse(this).transpose()}transposeIntoArray(a){const b=this.elements;a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this}setUvTransform(a,b,c,d,e,g,h){const k=Math.cos(e);e=Math.sin(e);this.set(c*k,c*e,-c*(k*g+e*h)+g+a,
-d*e,d*k,-d*(-e*g+k*h)+h+b,0,0,1)}scale(a,b){const c=this.elements;c[0]*=a;c[3]*=a;c[6]*=a;c[1]*=b;c[4]*=b;c[7]*=b;return this}rotate(a){const b=Math.cos(a);a=Math.sin(a);const c=this.elements,d=c[0],e=c[3],g=c[6],h=c[1],k=c[4],l=c[7];c[0]=b*d+a*h;c[3]=b*e+a*k;c[6]=b*g+a*l;c[1]=-a*d+b*h;c[4]=-a*e+b*k;c[7]=-a*g+b*l;return this}translate(a,b){const c=this.elements;c[0]+=a*c[2];c[3]+=a*c[5];c[6]+=a*c[8];c[1]+=b*c[2];c[4]+=b*c[5];c[7]+=b*c[8];return this}equals(a){const b=this.elements;a=a.elements;for(let c=
0;9>c;c++)if(b[c]!==a[c])return!1;return!0}fromArray(a,b){void 0===b&&(b=0);for(let c=0;9>c;c++)this.elements[c]=a[c+b];return this}toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);const c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a}}let _canvas$$module$node_modules$three$build$three_module;
const ImageUtils$$module$node_modules$three$build$three_module={getDataURL:function(a){if(/^data:/i.test(a.src)||"undefined"==typeof HTMLCanvasElement)return a.src;if(!(a instanceof HTMLCanvasElement)){void 0===_canvas$$module$node_modules$three$build$three_module&&(_canvas$$module$node_modules$three$build$three_module=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"));_canvas$$module$node_modules$three$build$three_module.width=a.width;_canvas$$module$node_modules$three$build$three_module.height=
a.height;const b=_canvas$$module$node_modules$three$build$three_module.getContext("2d");a instanceof ImageData?b.putImageData(a,0,0):b.drawImage(a,0,0,a.width,a.height);a=_canvas$$module$node_modules$three$build$three_module}return 2048<a.width||2048<a.height?a.toDataURL("image/jpeg",.6):a.toDataURL("image/png")}};let textureId$$module$node_modules$three$build$three_module=0;
function Texture$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h,k,l,m){Object.defineProperty(this,"id",{value:textureId$$module$node_modules$three$build$three_module++});this.uuid=MathUtils$$module$node_modules$three$build$three_module.generateUUID();this.name="";this.image=void 0!==a?a:Texture$$module$node_modules$three$build$three_module.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==b?b:Texture$$module$node_modules$three$build$three_module.DEFAULT_MAPPING;this.wrapS=void 0!==
c?c:ClampToEdgeWrapping$$module$node_modules$three$build$three_module;this.wrapT=void 0!==d?d:ClampToEdgeWrapping$$module$node_modules$three$build$three_module;this.magFilter=void 0!==e?e:LinearFilter$$module$node_modules$three$build$three_module;this.minFilter=void 0!==g?g:LinearMipmapLinearFilter$$module$node_modules$three$build$three_module;this.anisotropy=void 0!==l?l:1;this.format=void 0!==h?h:RGBAFormat$$module$node_modules$three$build$three_module;this.internalFormat=null;this.type=void 0!==
k?k:UnsignedByteType$$module$node_modules$three$build$three_module;this.offset=new Vector2$$module$node_modules$three$build$three_module(0,0);this.repeat=new Vector2$$module$node_modules$three$build$three_module(1,1);this.center=new Vector2$$module$node_modules$three$build$three_module(0,0);this.rotation=0;this.matrixAutoUpdate=!0;this.matrix=new Matrix3$$module$node_modules$three$build$three_module;this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=
void 0!==m?m:LinearEncoding$$module$node_modules$three$build$three_module;this.version=0;this.onUpdate=null}Texture$$module$node_modules$three$build$three_module.DEFAULT_IMAGE=void 0;Texture$$module$node_modules$three$build$three_module.DEFAULT_MAPPING=UVMapping$$module$node_modules$three$build$three_module;
Texture$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(EventDispatcher$$module$node_modules$three$build$three_module.prototype),{constructor:Texture$$module$node_modules$three$build$three_module,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=a.name;this.image=a.image;
this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.internalFormat=a.internalFormat;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.center.copy(a.center);this.rotation=a.rotation;this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrix.copy(a.matrix);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=a.premultiplyAlpha;
this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;this.encoding=a.encoding;return this},toJSON:function(a){const b=void 0===a||"string"===typeof a;if(!b&&void 0!==a.textures[this.uuid])return a.textures[this.uuid];const c={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],
format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const d=this.image;void 0===d.uuid&&(d.uuid=MathUtils$$module$node_modules$three$build$three_module.generateUUID());if(!b&&void 0===a.images[d.uuid]){let e;if(Array.isArray(d)){e=[];for(let g=0,h=d.length;g<h;g++)e.push(ImageUtils$$module$node_modules$three$build$three_module.getDataURL(d[g]))}else e=
ImageUtils$$module$node_modules$three$build$three_module.getDataURL(d);a.images[d.uuid]={uuid:d.uuid,url:e}}c.image=d.uuid}b||(a.textures[this.uuid]=c);return c},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(a){if(this.mapping!==UVMapping$$module$node_modules$three$build$three_module)return a;a.applyMatrix3(this.matrix);if(0>a.x||1<a.x)switch(this.wrapS){case RepeatWrapping$$module$node_modules$three$build$three_module:a.x-=Math.floor(a.x);break;case ClampToEdgeWrapping$$module$node_modules$three$build$three_module:a.x=
0>a.x?0:1;break;case MirroredRepeatWrapping$$module$node_modules$three$build$three_module:a.x=1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapT){case RepeatWrapping$$module$node_modules$three$build$three_module:a.y-=Math.floor(a.y);break;case ClampToEdgeWrapping$$module$node_modules$three$build$three_module:a.y=0>a.y?0:1;break;case MirroredRepeatWrapping$$module$node_modules$three$build$three_module:a.y=1===Math.abs(Math.floor(a.y)%2)?Math.ceil(a.y)-
a.y:a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y);return a}});Object.defineProperty(Texture$$module$node_modules$three$build$three_module.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});
class Vector4$$module$node_modules$three$build$three_module{constructor(a=0,b=0,c=0,d=1){Object.defineProperty(this,"isVector4",{value:!0});this.x=a;this.y=b;this.z=c;this.w=d}get width(){return this.z}set width(a){this.z=a}get height(){return this.w}set height(a){this.w=a}set(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this}setScalar(a){this.w=this.z=this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setZ(a){this.z=a;return this}setW(a){this.w=a;return this}setComponent(a,
b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this}add(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this}addScalar(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this}addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this}addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;this.w+=a.w*b;return this}sub(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=
a.z;this.w-=a.w;return this}subScalar(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this}subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this}multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this}applyMatrix4(a){const b=this.x,c=this.y,d=this.z,e=this.w;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12]*e;this.y=a[1]*b+a[5]*c+a[9]*d+a[13]*e;this.z=a[2]*b+a[6]*c+a[10]*d+a[14]*e;this.w=a[3]*b+a[7]*c+a[11]*d+a[15]*e;return this}divideScalar(a){return this.multiplyScalar(1/
a)}setAxisAngleFromQuaternion(a){this.w=2*Math.acos(a.w);const b=Math.sqrt(1-a.w*a.w);1E-4>b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this}setAxisAngleFromRotationMatrix(a){a=a.elements;var b=a[0];var c=a[4];var d=a[8];const e=a[1];var g=a[5],h=a[9];var k=a[2];var l=a[6];var m=a[10];if(.01>Math.abs(c-e)&&.01>Math.abs(d-k)&&.01>Math.abs(h-l)){if(.1>Math.abs(c+e)&&.1>Math.abs(d+k)&&.1>Math.abs(h+l)&&.1>Math.abs(b+g+m-3))return this.set(1,0,0,0),this;a=Math.PI;b=(b+
1)/2;g=(g+1)/2;m=(m+1)/2;c=(c+e)/4;d=(d+k)/4;h=(h+l)/4;b>g&&b>m?.01>b?(l=0,c=k=.707106781):(l=Math.sqrt(b),k=c/l,c=d/l):g>m?.01>g?(l=.707106781,k=0,c=.707106781):(k=Math.sqrt(g),l=c/k,c=h/k):.01>m?(k=l=.707106781,c=0):(c=Math.sqrt(m),l=d/c,k=h/c);this.set(l,k,c,a);return this}a=Math.sqrt((l-h)*(l-h)+(d-k)*(d-k)+(e-c)*(e-c));.001>Math.abs(a)&&(a=1);this.x=(l-h)/a;this.y=(d-k)/a;this.z=(e-c)/a;this.w=Math.acos((b+g+m-1)/2);return this}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=
Math.min(this.z,a.z);this.w=Math.min(this.w,a.w);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this}clamp(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));this.w=Math.max(a.w,Math.min(b.w,this.w));return this}clampScalar(a,b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));this.z=Math.max(a,Math.min(b,
this.z));this.w=Math.max(a,Math.min(b,this.w));return this}clampLength(a,b){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=
Math.round(this.w);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*
this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this}lerpVectors(a,b,c){this.x=a.x+(b.x-a.x)*c;this.y=a.y+(b.y-a.y)*c;this.z=a.z+(b.z-a.z)*c;this.w=a.w+(b.w-a.w)*c;return this}equals(a){return a.x===
this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w}fromArray(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this}toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a}fromBufferAttribute(a,b,c){void 0!==c&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);this.w=a.getW(b);return this}random(){this.x=Math.random();this.y=
Math.random();this.z=Math.random();this.w=Math.random();return this}}
function WebGLRenderTarget$$module$node_modules$three$build$three_module(a,b,c){this.width=a;this.height=b;this.scissor=new Vector4$$module$node_modules$three$build$three_module(0,0,a,b);this.scissorTest=!1;this.viewport=new Vector4$$module$node_modules$three$build$three_module(0,0,a,b);c=c||{};this.texture=new Texture$$module$node_modules$three$build$three_module(void 0,c.mapping,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding);this.texture.image={};this.texture.image.width=
a;this.texture.image.height=b;this.texture.generateMipmaps=void 0!==c.generateMipmaps?c.generateMipmaps:!1;this.texture.minFilter=void 0!==c.minFilter?c.minFilter:LinearFilter$$module$node_modules$three$build$three_module;this.depthBuffer=void 0!==c.depthBuffer?c.depthBuffer:!0;this.stencilBuffer=void 0!==c.stencilBuffer?c.stencilBuffer:!1;this.depthTexture=void 0!==c.depthTexture?c.depthTexture:null}
WebGLRenderTarget$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(EventDispatcher$$module$node_modules$three$build$three_module.prototype),{constructor:WebGLRenderTarget$$module$node_modules$three$build$three_module,isWebGLRenderTarget:!0,setSize:function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.texture.image.width=a,this.texture.image.height=b,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)},clone:function(){return(new this.constructor).copy(this)},
copy:function(a){this.width=a.width;this.height=a.height;this.viewport.copy(a.viewport);this.texture=a.texture.clone();this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;this.depthTexture=a.depthTexture;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function WebGLMultisampleRenderTarget$$module$node_modules$three$build$three_module(a,b,c){WebGLRenderTarget$$module$node_modules$three$build$three_module.call(this,a,b,c);this.samples=4}
WebGLMultisampleRenderTarget$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(WebGLRenderTarget$$module$node_modules$three$build$three_module.prototype),{constructor:WebGLMultisampleRenderTarget$$module$node_modules$three$build$three_module,isWebGLMultisampleRenderTarget:!0,copy:function(a){WebGLRenderTarget$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.samples=a.samples;return this}});
class Quaternion$$module$node_modules$three$build$three_module{constructor(a=0,b=0,c=0,d=1){Object.defineProperty(this,"isQuaternion",{value:!0});this._x=a;this._y=b;this._z=c;this._w=d}static slerp(a,b,c,d){return c.copy(a).slerp(b,d)}static slerpFlat(a,b,c,d,e,g,h){let k=c[d+0],l=c[d+1],m=c[d+2];c=c[d+3];d=e[g+0];const n=e[g+1],p=e[g+2];e=e[g+3];if(c!==e||k!==d||l!==n||m!==p){g=1-h;var t=k*d+l*n+m*p+c*e,w=0<=t?1:-1,x=1-t*t;x>Number.EPSILON&&(x=Math.sqrt(x),t=Math.atan2(x,t*w),g=Math.sin(g*t)/x,
h=Math.sin(h*t)/x);w*=h;k=k*g+d*w;l=l*g+n*w;m=m*g+p*w;c=c*g+e*w;g===1-h&&(h=1/Math.sqrt(k*k+l*l+m*m+c*c),k*=h,l*=h,m*=h,c*=h)}a[b]=k;a[b+1]=l;a[b+2]=m;a[b+3]=c}static multiplyQuaternionsFlat(a,b,c,d,e,g){const h=c[d],k=c[d+1],l=c[d+2];c=c[d+3];d=e[g];const m=e[g+1],n=e[g+2];e=e[g+3];a[b]=h*e+c*d+k*n-l*m;a[b+1]=k*e+c*m+l*d-h*n;a[b+2]=l*e+c*n+h*m-k*d;a[b+3]=c*e-h*d-k*m-l*n;return a}get x(){return this._x}set x(a){this._x=a;this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a;this._onChangeCallback()}get z(){return this._z}set z(a){this._z=
a;this._onChangeCallback()}get w(){return this._w}set w(a){this._w=a;this._onChangeCallback()}set(a,b,c,d){this._x=a;this._y=b;this._z=c;this._w=d;this._onChangeCallback();return this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(a){this._x=a.x;this._y=a.y;this._z=a.z;this._w=a.w;this._onChangeCallback();return this}setFromEuler(a,b){if(!a||!a.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var c=a._x,
d=a._y,e=a._z;a=a._order;var g=Math.cos;const h=Math.sin,k=g(c/2),l=g(d/2);g=g(e/2);c=h(c/2);d=h(d/2);e=h(e/2);switch(a){case "XYZ":this._x=c*l*g+k*d*e;this._y=k*d*g-c*l*e;this._z=k*l*e+c*d*g;this._w=k*l*g-c*d*e;break;case "YXZ":this._x=c*l*g+k*d*e;this._y=k*d*g-c*l*e;this._z=k*l*e-c*d*g;this._w=k*l*g+c*d*e;break;case "ZXY":this._x=c*l*g-k*d*e;this._y=k*d*g+c*l*e;this._z=k*l*e+c*d*g;this._w=k*l*g-c*d*e;break;case "ZYX":this._x=c*l*g-k*d*e;this._y=k*d*g+c*l*e;this._z=k*l*e-c*d*g;this._w=k*l*g+c*d*
e;break;case "YZX":this._x=c*l*g+k*d*e;this._y=k*d*g+c*l*e;this._z=k*l*e-c*d*g;this._w=k*l*g-c*d*e;break;case "XZY":this._x=c*l*g-k*d*e;this._y=k*d*g-c*l*e;this._z=k*l*e+c*d*g;this._w=k*l*g+c*d*e;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}!1!==b&&this._onChangeCallback();return this}setFromAxisAngle(a,b){b/=2;const c=Math.sin(b);this._x=a.x*c;this._y=a.y*c;this._z=a.z*c;this._w=Math.cos(b);this._onChangeCallback();return this}setFromRotationMatrix(a){var b=
a.elements,c=b[0];a=b[4];const d=b[8],e=b[1],g=b[5],h=b[9],k=b[2],l=b[6];b=b[10];const m=c+g+b;0<m?(c=.5/Math.sqrt(m+1),this._w=.25/c,this._x=(l-h)*c,this._y=(d-k)*c,this._z=(e-a)*c):c>g&&c>b?(c=2*Math.sqrt(1+c-g-b),this._w=(l-h)/c,this._x=.25*c,this._y=(a+e)/c,this._z=(d+k)/c):g>b?(c=2*Math.sqrt(1+g-c-b),this._w=(d-k)/c,this._x=(a+e)/c,this._y=.25*c,this._z=(h+l)/c):(c=2*Math.sqrt(1+b-c-g),this._w=(e-a)/c,this._x=(d+k)/c,this._y=(h+l)/c,this._z=.25*c);this._onChangeCallback();return this}setFromUnitVectors(a,
b){let c=a.dot(b)+1;1E-6>c?(c=0,Math.abs(a.x)>Math.abs(a.z)?(this._x=-a.y,this._y=a.x,this._z=0):(this._x=0,this._y=-a.z,this._z=a.y)):(this._x=a.y*b.z-a.z*b.y,this._y=a.z*b.x-a.x*b.z,this._z=a.x*b.y-a.y*b.x);this._w=c;return this.normalize()}angleTo(a){return 2*Math.acos(Math.abs(MathUtils$$module$node_modules$three$build$three_module.clamp(this.dot(a),-1,1)))}rotateTowards(a,b){const c=this.angleTo(a);if(0===c)return this;this.slerp(a,Math.min(1,b/c));return this}identity(){return this.set(0,0,
0,1)}inverse(){return this.conjugate()}conjugate(){this._x*=-1;this._y*=-1;this._z*=-1;this._onChangeCallback();return this}dot(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this._onChangeCallback();
return this}multiply(a,b){return void 0!==b?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(a,b)):this.multiplyQuaternions(this,a)}premultiply(a){return this.multiplyQuaternions(a,this)}multiplyQuaternions(a,b){const c=a._x,d=a._y,e=a._z;a=a._w;const g=b._x,h=b._y,k=b._z;b=b._w;this._x=c*b+a*g+d*k-e*h;this._y=d*b+a*h+e*g-c*k;this._z=e*b+a*k+c*h-d*g;this._w=a*b-c*g-d*h-e*k;this._onChangeCallback();return this}slerp(a,
b){if(0===b)return this;if(1===b)return this.copy(a);const c=this._x,d=this._y,e=this._z,g=this._w;var h=g*a._w+c*a._x+d*a._y+e*a._z;0>h?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,h=-h):this.copy(a);if(1<=h)return this._w=g,this._x=c,this._y=d,this._z=e,this;a=1-h*h;if(a<=Number.EPSILON)return h=1-b,this._w=h*g+b*this._w,this._x=h*c+b*this._x,this._y=h*d+b*this._y,this._z=h*e+b*this._z,this.normalize(),this._onChangeCallback(),this;a=Math.sqrt(a);const k=Math.atan2(a,h);h=Math.sin((1-
b)*k)/a;b=Math.sin(b*k)/a;this._w=g*h+this._w*b;this._x=c*h+this._x*b;this._y=d*h+this._y*b;this._z=e*h+this._z*b;this._onChangeCallback();return this}equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w}fromArray(a,b){void 0===b&&(b=0);this._x=a[b];this._y=a[b+1];this._z=a[b+2];this._w=a[b+3];this._onChangeCallback();return this}toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._w;return a}fromBufferAttribute(a,b){this._x=
a.getX(b);this._y=a.getY(b);this._z=a.getZ(b);this._w=a.getW(b);return this}_onChange(a){this._onChangeCallback=a;return this}_onChangeCallback(){}}
class Vector3$$module$node_modules$three$build$three_module{constructor(a=0,b=0,c=0){Object.defineProperty(this,"isVector3",{value:!0});this.x=a;this.y=b;this.z=c}set(a,b,c){void 0===c&&(c=this.z);this.x=a;this.y=b;this.z=c;return this}setScalar(a){this.z=this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setZ(a){this.z=a;return this}setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+
a);}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(a){this.x=a.x;this.y=a.y;this.z=a.z;return this}add(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this}addScalar(a){this.x+=a;this.y+=a;
this.z+=a;return this}addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this}addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this}sub(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this}subScalar(a){this.x-=a;this.y-=a;this.z-=a;return this}subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this}multiply(a,
b){if(void 0!==b)return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(a,b);this.x*=a.x;this.y*=a.y;this.z*=a.z;return this}multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;return this}multiplyVectors(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this}applyEuler(a){a&&a.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");return this.applyQuaternion(_quaternion$$module$node_modules$three$build$three_module.setFromEuler(a))}applyAxisAngle(a,
b){return this.applyQuaternion(_quaternion$$module$node_modules$three$build$three_module.setFromAxisAngle(a,b))}applyMatrix3(a){const b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[3]*c+a[6]*d;this.y=a[1]*b+a[4]*c+a[7]*d;this.z=a[2]*b+a[5]*c+a[8]*d;return this}applyNormalMatrix(a){return this.applyMatrix3(a).normalize()}applyMatrix4(a){const b=this.x,c=this.y,d=this.z;a=a.elements;const e=1/(a[3]*b+a[7]*c+a[11]*d+a[15]);this.x=(a[0]*b+a[4]*c+a[8]*d+a[12])*e;this.y=(a[1]*b+a[5]*c+a[9]*d+a[13])*
e;this.z=(a[2]*b+a[6]*c+a[10]*d+a[14])*e;return this}applyQuaternion(a){var b=this.x;const c=this.y,d=this.z,e=a.x,g=a.y,h=a.z;a=a.w;const k=a*b+g*d-h*c,l=a*c+h*b-e*d,m=a*d+e*c-g*b;b=-e*b-g*c-h*d;this.x=k*a+b*-e+l*-h-m*-g;this.y=l*a+b*-g+m*-e-k*-h;this.z=m*a+b*-h+k*-g-l*-e;return this}project(a){return this.applyMatrix4(a.matrixWorldInverse).applyMatrix4(a.projectionMatrix)}unproject(a){return this.applyMatrix4(a.projectionMatrixInverse).applyMatrix4(a.matrixWorld)}transformDirection(a){const b=this.x,
c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d;this.y=a[1]*b+a[5]*c+a[9]*d;this.z=a[2]*b+a[6]*c+a[10]*d;return this.normalize()}divide(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this}divideScalar(a){return this.multiplyScalar(1/a)}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this}clamp(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));
this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this}clampScalar(a,b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));this.z=Math.max(a,Math.min(b,this.z));return this}clampLength(a,b){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);
this.z=Math.ceil(this.z);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*
this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this}lerpVectors(a,b,c){this.x=a.x+(b.x-a.x)*c;this.y=a.y+(b.y-a.y)*c;this.z=a.z+(b.z-a.z)*c;return this}cross(a,b){return void 0!==b?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),
this.crossVectors(a,b)):this.crossVectors(this,a)}crossVectors(a,b){const c=a.x,d=a.y;a=a.z;const e=b.x,g=b.y;b=b.z;this.x=d*b-a*g;this.y=a*e-c*b;this.z=c*g-d*e;return this}projectOnVector(a){var b=a.lengthSq();if(0===b)return this.set(0,0,0);b=a.dot(this)/b;return this.copy(a).multiplyScalar(b)}projectOnPlane(a){_vector$$module$node_modules$three$build$three_module.copy(this).projectOnVector(a);return this.sub(_vector$$module$node_modules$three$build$three_module)}reflect(a){return this.sub(_vector$$module$node_modules$three$build$three_module.copy(a).multiplyScalar(2*
this.dot(a)))}angleTo(a){const b=Math.sqrt(this.lengthSq()*a.lengthSq());if(0===b)return Math.PI/2;a=this.dot(a)/b;return Math.acos(MathUtils$$module$node_modules$three$build$three_module.clamp(a,-1,1))}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)+Math.abs(this.z-a.z)}setFromSpherical(a){return this.setFromSphericalCoords(a.radius,
a.phi,a.theta)}setFromSphericalCoords(a,b,c){const d=Math.sin(b)*a;this.x=d*Math.sin(c);this.y=Math.cos(b)*a;this.z=d*Math.cos(c);return this}setFromCylindrical(a){return this.setFromCylindricalCoords(a.radius,a.theta,a.y)}setFromCylindricalCoords(a,b,c){this.x=a*Math.sin(b);this.y=c;this.z=a*Math.cos(b);return this}setFromMatrixPosition(a){a=a.elements;this.x=a[12];this.y=a[13];this.z=a[14];return this}setFromMatrixScale(a){const b=this.setFromMatrixColumn(a,0).length(),c=this.setFromMatrixColumn(a,
1).length();a=this.setFromMatrixColumn(a,2).length();this.x=b;this.y=c;this.z=a;return this}setFromMatrixColumn(a,b){return this.fromArray(a.elements,4*b)}setFromMatrix3Column(a,b){return this.fromArray(a.elements,3*b)}equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z}fromArray(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this}toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a}fromBufferAttribute(a,b,c){void 0!==c&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute().");
this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);return this}random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();return this}}const _vector$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_quaternion$$module$node_modules$three$build$three_module=new Quaternion$$module$node_modules$three$build$three_module;
class Box3$$module$node_modules$three$build$three_module{constructor(a,b){Object.defineProperty(this,"isBox3",{value:!0});this.min=void 0!==a?a:new Vector3$$module$node_modules$three$build$three_module(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new Vector3$$module$node_modules$three$build$three_module(-Infinity,-Infinity,-Infinity)}set(a,b){this.min.copy(a);this.max.copy(b);return this}setFromArray(a){let b=Infinity,c=Infinity,d=Infinity,e=-Infinity,g=-Infinity,h=-Infinity;for(let k=0,l=a.length;k<
l;k+=3){const m=a[k],n=a[k+1],p=a[k+2];m<b&&(b=m);n<c&&(c=n);p<d&&(d=p);m>e&&(e=m);n>g&&(g=n);p>h&&(h=p)}this.min.set(b,c,d);this.max.set(e,g,h);return this}setFromBufferAttribute(a){let b=Infinity,c=Infinity,d=Infinity,e=-Infinity,g=-Infinity,h=-Infinity;for(let k=0,l=a.count;k<l;k++){const m=a.getX(k),n=a.getY(k),p=a.getZ(k);m<b&&(b=m);n<c&&(c=n);p<d&&(d=p);m>e&&(e=m);n>g&&(g=n);p>h&&(h=p)}this.min.set(b,c,d);this.max.set(e,g,h);return this}setFromPoints(a){this.makeEmpty();for(let b=0,c=a.length;b<
c;b++)this.expandByPoint(a[b]);return this}setFromCenterAndSize(a,b){b=_vector$1$$module$node_modules$three$build$three_module.copy(b).multiplyScalar(.5);this.min.copy(a).sub(b);this.max.copy(a).add(b);return this}setFromObject(a){this.makeEmpty();return this.expandByObject(a)}clone(){return(new this.constructor).copy(this)}copy(a){this.min.copy(a.min);this.max.copy(a.max);return this}makeEmpty(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this}isEmpty(){return this.max.x<
this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(a){void 0===a&&(console.warn("THREE.Box3: .getCenter() target is now required"),a=new Vector3$$module$node_modules$three$build$three_module);return this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(a){void 0===a&&(console.warn("THREE.Box3: .getSize() target is now required"),a=new Vector3$$module$node_modules$three$build$three_module);return this.isEmpty()?a.set(0,0,0):a.subVectors(this.max,this.min)}expandByPoint(a){this.min.min(a);
this.max.max(a);return this}expandByVector(a){this.min.sub(a);this.max.add(a);return this}expandByScalar(a){this.min.addScalar(-a);this.max.addScalar(a);return this}expandByObject(a){a.updateWorldMatrix(!1,!1);const b=a.geometry;void 0!==b&&(null===b.boundingBox&&b.computeBoundingBox(),_box$$module$node_modules$three$build$three_module.copy(b.boundingBox),_box$$module$node_modules$three$build$three_module.applyMatrix4(a.matrixWorld),this.union(_box$$module$node_modules$three$build$three_module));
a=a.children;for(let c=0,d=a.length;c<d;c++)this.expandByObject(a[c]);return this}containsPoint(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0}containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z}getParameter(a,b){void 0===b&&(console.warn("THREE.Box3: .getParameter() target is now required"),b=new Vector3$$module$node_modules$three$build$three_module);
return b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0}intersectsSphere(a){this.clampPoint(a.center,_vector$1$$module$node_modules$three$build$three_module);return _vector$1$$module$node_modules$three$build$three_module.distanceToSquared(a.center)<=a.radius*a.radius}intersectsPlane(a){let b,
c;0<a.normal.x?(b=a.normal.x*this.min.x,c=a.normal.x*this.max.x):(b=a.normal.x*this.max.x,c=a.normal.x*this.min.x);0<a.normal.y?(b+=a.normal.y*this.min.y,c+=a.normal.y*this.max.y):(b+=a.normal.y*this.max.y,c+=a.normal.y*this.min.y);0<a.normal.z?(b+=a.normal.z*this.min.z,c+=a.normal.z*this.max.z):(b+=a.normal.z*this.max.z,c+=a.normal.z*this.min.z);return b<=-a.constant&&c>=-a.constant}intersectsTriangle(a){if(this.isEmpty())return!1;this.getCenter(_center$$module$node_modules$three$build$three_module);
_extents$$module$node_modules$three$build$three_module.subVectors(this.max,_center$$module$node_modules$three$build$three_module);_v0$$module$node_modules$three$build$three_module.subVectors(a.a,_center$$module$node_modules$three$build$three_module);_v1$$module$node_modules$three$build$three_module.subVectors(a.b,_center$$module$node_modules$three$build$three_module);_v2$$module$node_modules$three$build$three_module.subVectors(a.c,_center$$module$node_modules$three$build$three_module);_f0$$module$node_modules$three$build$three_module.subVectors(_v1$$module$node_modules$three$build$three_module,
_v0$$module$node_modules$three$build$three_module);_f1$$module$node_modules$three$build$three_module.subVectors(_v2$$module$node_modules$three$build$three_module,_v1$$module$node_modules$three$build$three_module);_f2$$module$node_modules$three$build$three_module.subVectors(_v0$$module$node_modules$three$build$three_module,_v2$$module$node_modules$three$build$three_module);a=[0,-_f0$$module$node_modules$three$build$three_module.z,_f0$$module$node_modules$three$build$three_module.y,0,-_f1$$module$node_modules$three$build$three_module.z,
_f1$$module$node_modules$three$build$three_module.y,0,-_f2$$module$node_modules$three$build$three_module.z,_f2$$module$node_modules$three$build$three_module.y,_f0$$module$node_modules$three$build$three_module.z,0,-_f0$$module$node_modules$three$build$three_module.x,_f1$$module$node_modules$three$build$three_module.z,0,-_f1$$module$node_modules$three$build$three_module.x,_f2$$module$node_modules$three$build$three_module.z,0,-_f2$$module$node_modules$three$build$three_module.x,-_f0$$module$node_modules$three$build$three_module.y,
_f0$$module$node_modules$three$build$three_module.x,0,-_f1$$module$node_modules$three$build$three_module.y,_f1$$module$node_modules$three$build$three_module.x,0,-_f2$$module$node_modules$three$build$three_module.y,_f2$$module$node_modules$three$build$three_module.x,0];if(!satForAxes$$module$node_modules$three$build$three_module(a,_v0$$module$node_modules$three$build$three_module,_v1$$module$node_modules$three$build$three_module,_v2$$module$node_modules$three$build$three_module,_extents$$module$node_modules$three$build$three_module))return!1;
a=[1,0,0,0,1,0,0,0,1];if(!satForAxes$$module$node_modules$three$build$three_module(a,_v0$$module$node_modules$three$build$three_module,_v1$$module$node_modules$three$build$three_module,_v2$$module$node_modules$three$build$three_module,_extents$$module$node_modules$three$build$three_module))return!1;_triangleNormal$$module$node_modules$three$build$three_module.crossVectors(_f0$$module$node_modules$three$build$three_module,_f1$$module$node_modules$three$build$three_module);a=[_triangleNormal$$module$node_modules$three$build$three_module.x,
_triangleNormal$$module$node_modules$three$build$three_module.y,_triangleNormal$$module$node_modules$three$build$three_module.z];return satForAxes$$module$node_modules$three$build$three_module(a,_v0$$module$node_modules$three$build$three_module,_v1$$module$node_modules$three$build$three_module,_v2$$module$node_modules$three$build$three_module,_extents$$module$node_modules$three$build$three_module)}clampPoint(a,b){void 0===b&&(console.warn("THREE.Box3: .clampPoint() target is now required"),b=new Vector3$$module$node_modules$three$build$three_module);
return b.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return _vector$1$$module$node_modules$three$build$three_module.copy(a).clamp(this.min,this.max).sub(a).length()}getBoundingSphere(a){void 0===a&&console.error("THREE.Box3: .getBoundingSphere() target is now required");this.getCenter(a.center);a.radius=.5*this.getSize(_vector$1$$module$node_modules$three$build$three_module).length();return a}intersect(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this}union(a){this.min.min(a.min);
this.max.max(a.max);return this}applyMatrix4(a){if(this.isEmpty())return this;_points$$module$node_modules$three$build$three_module[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(a);_points$$module$node_modules$three$build$three_module[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(a);_points$$module$node_modules$three$build$three_module[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(a);_points$$module$node_modules$three$build$three_module[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(a);
_points$$module$node_modules$three$build$three_module[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(a);_points$$module$node_modules$three$build$three_module[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(a);_points$$module$node_modules$three$build$three_module[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(a);_points$$module$node_modules$three$build$three_module[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(a);this.setFromPoints(_points$$module$node_modules$three$build$three_module);
return this}translate(a){this.min.add(a);this.max.add(a);return this}equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}
function satForAxes$$module$node_modules$three$build$three_module(a,b,c,d,e){for(let g=0,h=a.length-3;g<=h;g+=3){_testAxis$$module$node_modules$three$build$three_module.fromArray(a,g);const k=e.x*Math.abs(_testAxis$$module$node_modules$three$build$three_module.x)+e.y*Math.abs(_testAxis$$module$node_modules$three$build$three_module.y)+e.z*Math.abs(_testAxis$$module$node_modules$three$build$three_module.z),l=b.dot(_testAxis$$module$node_modules$three$build$three_module),m=c.dot(_testAxis$$module$node_modules$three$build$three_module),
n=d.dot(_testAxis$$module$node_modules$three$build$three_module);if(Math.max(-Math.max(l,m,n),Math.min(l,m,n))>k)return!1}return!0}
const _points$$module$node_modules$three$build$three_module=[new Vector3$$module$node_modules$three$build$three_module,new Vector3$$module$node_modules$three$build$three_module,new Vector3$$module$node_modules$three$build$three_module,new Vector3$$module$node_modules$three$build$three_module,new Vector3$$module$node_modules$three$build$three_module,new Vector3$$module$node_modules$three$build$three_module,new Vector3$$module$node_modules$three$build$three_module,new Vector3$$module$node_modules$three$build$three_module],
_vector$1$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_box$$module$node_modules$three$build$three_module=new Box3$$module$node_modules$three$build$three_module,_v0$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_v1$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_v2$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,
_f0$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_f1$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_f2$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_center$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_extents$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,
_triangleNormal$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_testAxis$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_box$1$$module$node_modules$three$build$three_module=new Box3$$module$node_modules$three$build$three_module;
class Sphere$$module$node_modules$three$build$three_module{constructor(a,b){this.center=void 0!==a?a:new Vector3$$module$node_modules$three$build$three_module;this.radius=void 0!==b?b:-1}set(a,b){this.center.copy(a);this.radius=b;return this}setFromPoints(a,b){const c=this.center;void 0!==b?c.copy(b):_box$1$$module$node_modules$three$build$three_module.setFromPoints(a).getCenter(c);b=0;for(let d=0,e=a.length;d<e;d++)b=Math.max(b,c.distanceToSquared(a[d]));this.radius=Math.sqrt(b);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.center.copy(a.center);
this.radius=a.radius;return this}isEmpty(){return 0>this.radius}makeEmpty(){this.center.set(0,0,0);this.radius=-1;return this}containsPoint(a){return a.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(a){return a.distanceTo(this.center)-this.radius}intersectsSphere(a){const b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=b*b}intersectsBox(a){return a.intersectsSphere(this)}intersectsPlane(a){return Math.abs(a.distanceToPoint(this.center))<=this.radius}clampPoint(a,
b){const c=this.center.distanceToSquared(a);void 0===b&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),b=new Vector3$$module$node_modules$three$build$three_module);b.copy(a);c>this.radius*this.radius&&(b.sub(this.center).normalize(),b.multiplyScalar(this.radius).add(this.center));return b}getBoundingBox(a){void 0===a&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),a=new Box3$$module$node_modules$three$build$three_module);if(this.isEmpty())return a.makeEmpty(),
a;a.set(this.center,this.center);a.expandByScalar(this.radius);return a}applyMatrix4(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this}translate(a){this.center.add(a);return this}equals(a){return a.center.equals(this.center)&&a.radius===this.radius}}
const _vector$2$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_segCenter$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_segDir$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_diff$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_edge1$$module$node_modules$three$build$three_module=
new Vector3$$module$node_modules$three$build$three_module,_edge2$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_normal$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module;
class Ray$$module$node_modules$three$build$three_module{constructor(a,b){this.origin=void 0!==a?a:new Vector3$$module$node_modules$three$build$three_module;this.direction=void 0!==b?b:new Vector3$$module$node_modules$three$build$three_module(0,0,-1)}set(a,b){this.origin.copy(a);this.direction.copy(b);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this}at(a,b){void 0===b&&(console.warn("THREE.Ray: .at() target is now required"),
b=new Vector3$$module$node_modules$three$build$three_module);return b.copy(this.direction).multiplyScalar(a).add(this.origin)}lookAt(a){this.direction.copy(a).sub(this.origin).normalize();return this}recast(a){this.origin.copy(this.at(a,_vector$2$$module$node_modules$three$build$three_module));return this}closestPointToPoint(a,b){void 0===b&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),b=new Vector3$$module$node_modules$three$build$three_module);b.subVectors(a,this.origin);
a=b.dot(this.direction);return 0>a?b.copy(this.origin):b.copy(this.direction).multiplyScalar(a).add(this.origin)}distanceToPoint(a){return Math.sqrt(this.distanceSqToPoint(a))}distanceSqToPoint(a){const b=_vector$2$$module$node_modules$three$build$three_module.subVectors(a,this.origin).dot(this.direction);if(0>b)return this.origin.distanceToSquared(a);_vector$2$$module$node_modules$three$build$three_module.copy(this.direction).multiplyScalar(b).add(this.origin);return _vector$2$$module$node_modules$three$build$three_module.distanceToSquared(a)}distanceSqToSegment(a,
b,c,d){_segCenter$$module$node_modules$three$build$three_module.copy(a).add(b).multiplyScalar(.5);_segDir$$module$node_modules$three$build$three_module.copy(b).sub(a).normalize();_diff$$module$node_modules$three$build$three_module.copy(this.origin).sub(_segCenter$$module$node_modules$three$build$three_module);var e=.5*a.distanceTo(b),g=-this.direction.dot(_segDir$$module$node_modules$three$build$three_module);const h=_diff$$module$node_modules$three$build$three_module.dot(this.direction),k=-_diff$$module$node_modules$three$build$three_module.dot(_segDir$$module$node_modules$three$build$three_module),
l=_diff$$module$node_modules$three$build$three_module.lengthSq(),m=Math.abs(1-g*g);let n;0<m?(a=g*k-h,b=g*h-k,n=e*m,0<=a?b>=-n?b<=n?(e=1/m,a*=e,b*=e,g=a*(a+g*b+2*h)+b*(g*a+b+2*k)+l):(b=e,a=Math.max(0,-(g*b+h)),g=-a*a+b*(b+2*k)+l):(b=-e,a=Math.max(0,-(g*b+h)),g=-a*a+b*(b+2*k)+l):b<=-n?(a=Math.max(0,-(-g*e+h)),b=0<a?-e:Math.min(Math.max(-e,-k),e),g=-a*a+b*(b+2*k)+l):b<=n?(a=0,b=Math.min(Math.max(-e,-k),e),g=b*(b+2*k)+l):(a=Math.max(0,-(g*e+h)),b=0<a?e:Math.min(Math.max(-e,-k),e),g=-a*a+b*(b+2*k)+l)):
(b=0<g?-e:e,a=Math.max(0,-(g*b+h)),g=-a*a+b*(b+2*k)+l);c&&c.copy(this.direction).multiplyScalar(a).add(this.origin);d&&d.copy(_segDir$$module$node_modules$three$build$three_module).multiplyScalar(b).add(_segCenter$$module$node_modules$three$build$three_module);return g}intersectSphere(a,b){_vector$2$$module$node_modules$three$build$three_module.subVectors(a.center,this.origin);var c=_vector$2$$module$node_modules$three$build$three_module.dot(this.direction),d=_vector$2$$module$node_modules$three$build$three_module.dot(_vector$2$$module$node_modules$three$build$three_module)-
c*c;a=a.radius*a.radius;if(d>a)return null;a=Math.sqrt(a-d);d=c-a;c+=a;return 0>d&&0>c?null:0>d?this.at(c,b):this.at(d,b)}intersectsSphere(a){return this.distanceSqToPoint(a.center)<=a.radius*a.radius}distanceToPlane(a){const b=a.normal.dot(this.direction);if(0===b)return 0===a.distanceToPoint(this.origin)?0:null;a=-(this.origin.dot(a.normal)+a.constant)/b;return 0<=a?a:null}intersectPlane(a,b){a=this.distanceToPlane(a);return null===a?null:this.at(a,b)}intersectsPlane(a){const b=a.distanceToPoint(this.origin);
return 0===b||0>a.normal.dot(this.direction)*b?!0:!1}intersectBox(a,b){let c;var d=1/this.direction.x;var e=1/this.direction.y;const g=1/this.direction.z,h=this.origin;0<=d?(c=(a.min.x-h.x)*d,d*=a.max.x-h.x):(c=(a.max.x-h.x)*d,d*=a.min.x-h.x);if(0<=e){var k=(a.min.y-h.y)*e;e*=a.max.y-h.y}else k=(a.max.y-h.y)*e,e*=a.min.y-h.y;if(c>e||k>d)return null;if(k>c||c!==c)c=k;if(e<d||d!==d)d=e;0<=g?(k=(a.min.z-h.z)*g,a=(a.max.z-h.z)*g):(k=(a.max.z-h.z)*g,a=(a.min.z-h.z)*g);if(c>a||k>d)return null;if(k>c||c!==
c)c=k;if(a<d||d!==d)d=a;return 0>d?null:this.at(0<=c?c:d,b)}intersectsBox(a){return null!==this.intersectBox(a,_vector$2$$module$node_modules$three$build$three_module)}intersectTriangle(a,b,c,d,e){_edge1$$module$node_modules$three$build$three_module.subVectors(b,a);_edge2$$module$node_modules$three$build$three_module.subVectors(c,a);_normal$$module$node_modules$three$build$three_module.crossVectors(_edge1$$module$node_modules$three$build$three_module,_edge2$$module$node_modules$three$build$three_module);
b=this.direction.dot(_normal$$module$node_modules$three$build$three_module);if(0<b){if(d)return null;d=1}else if(0>b)d=-1,b=-b;else return null;_diff$$module$node_modules$three$build$three_module.subVectors(this.origin,a);a=d*this.direction.dot(_edge2$$module$node_modules$three$build$three_module.crossVectors(_diff$$module$node_modules$three$build$three_module,_edge2$$module$node_modules$three$build$three_module));if(0>a)return null;c=d*this.direction.dot(_edge1$$module$node_modules$three$build$three_module.cross(_diff$$module$node_modules$three$build$three_module));
if(0>c||a+c>b)return null;a=-d*_diff$$module$node_modules$three$build$three_module.dot(_normal$$module$node_modules$three$build$three_module);return 0>a?null:this.at(a/b,e)}applyMatrix4(a){this.origin.applyMatrix4(a);this.direction.transformDirection(a);return this}equals(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}}
class Matrix4$$module$node_modules$three$build$three_module{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0});this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(a,b,c,d,e,g,h,k,l,m,n,p,t,w,x,A){const r=this.elements;r[0]=a;r[4]=b;r[8]=c;r[12]=d;r[1]=e;r[5]=g;r[9]=h;r[13]=k;r[2]=l;r[6]=m;r[10]=n;r[14]=p;r[3]=t;r[7]=w;r[11]=x;r[15]=A;return this}identity(){this.set(1,0,
0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this}clone(){return(new Matrix4$$module$node_modules$three$build$three_module).fromArray(this.elements)}copy(a){const b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return this}copyPosition(a){const b=this.elements;a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this}extractBasis(a,b,c){a.setFromMatrixColumn(this,
0);b.setFromMatrixColumn(this,1);c.setFromMatrixColumn(this,2);return this}makeBasis(a,b,c){this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1);return this}extractRotation(a){const b=this.elements,c=a.elements,d=1/_v1$1$$module$node_modules$three$build$three_module.setFromMatrixColumn(a,0).length(),e=1/_v1$1$$module$node_modules$three$build$three_module.setFromMatrixColumn(a,1).length();a=1/_v1$1$$module$node_modules$three$build$three_module.setFromMatrixColumn(a,2).length();b[0]=c[0]*d;b[1]=
c[1]*d;b[2]=c[2]*d;b[3]=0;b[4]=c[4]*e;b[5]=c[5]*e;b[6]=c[6]*e;b[7]=0;b[8]=c[8]*a;b[9]=c[9]*a;b[10]=c[10]*a;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this}makeRotationFromEuler(a){a&&a.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const b=this.elements;var c=a.x,d=a.y,e=a.z;const g=Math.cos(c);c=Math.sin(c);const h=Math.cos(d);d=Math.sin(d);const k=Math.cos(e);e=Math.sin(e);if("XYZ"===a.order){a=g*k;var l=g*e,m=
c*k,n=c*e;b[0]=h*k;b[4]=-h*e;b[8]=d;b[1]=l+m*d;b[5]=a-n*d;b[9]=-c*h;b[2]=n-a*d;b[6]=m+l*d;b[10]=g*h}else"YXZ"===a.order?(a=h*k,l=h*e,m=d*k,n=d*e,b[0]=a+n*c,b[4]=m*c-l,b[8]=g*d,b[1]=g*e,b[5]=g*k,b[9]=-c,b[2]=l*c-m,b[6]=n+a*c,b[10]=g*h):"ZXY"===a.order?(a=h*k,l=h*e,m=d*k,n=d*e,b[0]=a-n*c,b[4]=-g*e,b[8]=m+l*c,b[1]=l+m*c,b[5]=g*k,b[9]=n-a*c,b[2]=-g*d,b[6]=c,b[10]=g*h):"ZYX"===a.order?(a=g*k,l=g*e,m=c*k,n=c*e,b[0]=h*k,b[4]=m*d-l,b[8]=a*d+n,b[1]=h*e,b[5]=n*d+a,b[9]=l*d-m,b[2]=-d,b[6]=c*h,b[10]=g*h):"YZX"===
a.order?(a=g*h,l=g*d,m=c*h,n=c*d,b[0]=h*k,b[4]=n-a*e,b[8]=m*e+l,b[1]=e,b[5]=g*k,b[9]=-c*k,b[2]=-d*k,b[6]=l*e+m,b[10]=a-n*e):"XZY"===a.order&&(a=g*h,l=g*d,m=c*h,n=c*d,b[0]=h*k,b[4]=-e,b[8]=d*k,b[1]=a*e+n,b[5]=g*k,b[9]=l*e-m,b[2]=m*e-l,b[6]=c*k,b[10]=n*e+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this}makeRotationFromQuaternion(a){return this.compose(_zero$$module$node_modules$three$build$three_module,a,_one$$module$node_modules$three$build$three_module)}lookAt(a,b,c){const d=this.elements;
_z$$module$node_modules$three$build$three_module.subVectors(a,b);0===_z$$module$node_modules$three$build$three_module.lengthSq()&&(_z$$module$node_modules$three$build$three_module.z=1);_z$$module$node_modules$three$build$three_module.normalize();_x$$module$node_modules$three$build$three_module.crossVectors(c,_z$$module$node_modules$three$build$three_module);0===_x$$module$node_modules$three$build$three_module.lengthSq()&&(1===Math.abs(c.z)?_z$$module$node_modules$three$build$three_module.x+=1E-4:
_z$$module$node_modules$three$build$three_module.z+=1E-4,_z$$module$node_modules$three$build$three_module.normalize(),_x$$module$node_modules$three$build$three_module.crossVectors(c,_z$$module$node_modules$three$build$three_module));_x$$module$node_modules$three$build$three_module.normalize();_y$$module$node_modules$three$build$three_module.crossVectors(_z$$module$node_modules$three$build$three_module,_x$$module$node_modules$three$build$three_module);d[0]=_x$$module$node_modules$three$build$three_module.x;
d[4]=_y$$module$node_modules$three$build$three_module.x;d[8]=_z$$module$node_modules$three$build$three_module.x;d[1]=_x$$module$node_modules$three$build$three_module.y;d[5]=_y$$module$node_modules$three$build$three_module.y;d[9]=_z$$module$node_modules$three$build$three_module.y;d[2]=_x$$module$node_modules$three$build$three_module.z;d[6]=_y$$module$node_modules$three$build$three_module.z;d[10]=_z$$module$node_modules$three$build$three_module.z;return this}multiply(a,b){return void 0!==b?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),
this.multiplyMatrices(a,b)):this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,b){var c=a.elements,d=b.elements;b=this.elements;a=c[0];const e=c[4],g=c[8],h=c[12],k=c[1],l=c[5],m=c[9],n=c[13],p=c[2],t=c[6],w=c[10],x=c[14],A=c[3],r=c[7],E=c[11];c=c[15];const B=d[0],G=d[4],H=d[8],O=d[12],N=d[1],U=d[5],W=d[9],J=d[13],aa=d[2],ba=d[6],z=d[10],K=d[14],Q=d[3],M=d[7],L=d[11];d=d[15];b[0]=a*B+e*N+g*aa+h*Q;b[4]=a*G+e*U+g*ba+h*M;b[8]=a*H+e*W+g*z+h*L;b[12]=a*
O+e*J+g*K+h*d;b[1]=k*B+l*N+m*aa+n*Q;b[5]=k*G+l*U+m*ba+n*M;b[9]=k*H+l*W+m*z+n*L;b[13]=k*O+l*J+m*K+n*d;b[2]=p*B+t*N+w*aa+x*Q;b[6]=p*G+t*U+w*ba+x*M;b[10]=p*H+t*W+w*z+x*L;b[14]=p*O+t*J+w*K+x*d;b[3]=A*B+r*N+E*aa+c*Q;b[7]=A*G+r*U+E*ba+c*M;b[11]=A*H+r*W+E*z+c*L;b[15]=A*O+r*J+E*K+c*d;return this}multiplyScalar(a){const b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this}determinant(){const a=this.elements,
b=a[0],c=a[4],d=a[8],e=a[12],g=a[1],h=a[5],k=a[9],l=a[13],m=a[2],n=a[6],p=a[10],t=a[14];return a[3]*(+e*k*n-d*l*n-e*h*p+c*l*p+d*h*t-c*k*t)+a[7]*(+b*k*t-b*l*p+e*g*p-d*g*t+d*l*m-e*k*m)+a[11]*(+b*l*n-b*h*t-e*g*n+c*g*t+e*h*m-c*l*m)+a[15]*(-d*h*m-b*k*n+b*h*p+d*g*n-c*g*p+c*k*m)}transpose(){const a=this.elements;let b;b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this}setPosition(a,b,c){const d=
this.elements;a.isVector3?(d[12]=a.x,d[13]=a.y,d[14]=a.z):(d[12]=a,d[13]=b,d[14]=c);return this}getInverse(a,b){void 0!==b&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");b=this.elements;var c=a.elements;a=c[0];const d=c[1],e=c[2],g=c[3],h=c[4],k=c[5],l=c[6],m=c[7],n=c[8],p=c[9],t=c[10],w=c[11],x=c[12],A=c[13],r=c[14];c=c[15];const E=p*r*m-A*t*m+A*l*w-k*r*w-p*l*c+k*t*c,B=x*t*m-n*r*m-x*l*w+h*r*w+n*l*c-h*t*c,G=n*A*m-x*p*m+x*k*w-h*A*w-n*k*c+h*p*c,H=x*
p*l-n*A*l-x*k*t+h*A*t+n*k*r-h*p*r;var O=a*E+d*B+e*G+g*H;if(0===O)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);O=1/O;b[0]=E*O;b[1]=(A*t*g-p*r*g-A*e*w+d*r*w+p*e*c-d*t*c)*O;b[2]=(k*r*g-A*l*g+A*e*m-d*r*m-k*e*c+d*l*c)*O;b[3]=(p*l*g-k*t*g-p*e*m+d*t*m+k*e*w-d*l*w)*O;b[4]=B*O;b[5]=(n*r*g-x*t*g+x*e*w-a*r*w-n*e*c+a*t*c)*O;b[6]=(x*l*g-h*r*g-x*e*m+a*r*m+h*e*c-a*l*c)*O;b[7]=(h*t*g-n*l*g+n*e*m-a*t*m-h*e*w+a*l*w)*O;b[8]=G*O;b[9]=(x*p*g-n*A*g-x*d*w+a*A*w+n*d*c-a*p*c)*O;b[10]=(h*A*g-x*k*g+x*d*m-a*A*m-h*d*c+a*
k*c)*O;b[11]=(n*k*g-h*p*g-n*d*m+a*p*m+h*d*w-a*k*w)*O;b[12]=H*O;b[13]=(n*A*e-x*p*e+x*d*t-a*A*t-n*d*r+a*p*r)*O;b[14]=(x*k*e-h*A*e-x*d*l+a*A*l+h*d*r-a*k*r)*O;b[15]=(h*p*e-n*k*e+n*d*l-a*p*l-h*d*t+a*k*t)*O;return this}scale(a){const b=this.elements,c=a.x,d=a.y;a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=c;b[7]*=d;b[11]*=a;return this}getMaxScaleOnAxis(){const a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*
a[8]+a[9]*a[9]+a[10]*a[10]))}makeTranslation(a,b,c){this.set(1,0,0,a,0,1,0,b,0,0,1,c,0,0,0,1);return this}makeRotationX(a){const b=Math.cos(a);a=Math.sin(a);this.set(1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1);return this}makeRotationY(a){const b=Math.cos(a);a=Math.sin(a);this.set(b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1);return this}makeRotationZ(a){const b=Math.cos(a);a=Math.sin(a);this.set(b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1);return this}makeRotationAxis(a,b){const c=Math.cos(b);b=Math.sin(b);const d=1-c,e=a.x,g=a.y;
a=a.z;const h=d*e,k=d*g;this.set(h*e+c,h*g-b*a,h*a+b*g,0,h*g+b*a,k*g+c,k*a-b*e,0,h*a-b*g,k*a+b*e,d*a*a+c,0,0,0,0,1);return this}makeScale(a,b,c){this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1);return this}makeShear(a,b,c){this.set(1,b,c,0,a,1,c,0,a,b,1,0,0,0,0,1);return this}compose(a,b,c){const d=this.elements;var e=b._x,g=b._y,h=b._z,k=b._w,l=e+e,m=g+g,n=h+h;b=e*l;const p=e*m;e*=n;const t=g*m;g*=n;h*=n;l*=k;m*=k;k*=n;n=c.x;const w=c.y;c=c.z;d[0]=(1-(t+h))*n;d[1]=(p+k)*n;d[2]=(e-m)*n;d[3]=0;d[4]=(p-k)*
w;d[5]=(1-(b+h))*w;d[6]=(g+l)*w;d[7]=0;d[8]=(e+m)*c;d[9]=(g-l)*c;d[10]=(1-(b+t))*c;d[11]=0;d[12]=a.x;d[13]=a.y;d[14]=a.z;d[15]=1;return this}decompose(a,b,c){var d=this.elements;let e=_v1$1$$module$node_modules$three$build$three_module.set(d[0],d[1],d[2]).length();const g=_v1$1$$module$node_modules$three$build$three_module.set(d[4],d[5],d[6]).length(),h=_v1$1$$module$node_modules$three$build$three_module.set(d[8],d[9],d[10]).length();0>this.determinant()&&(e=-e);a.x=d[12];a.y=d[13];a.z=d[14];_m1$$module$node_modules$three$build$three_module.copy(this);
a=1/e;d=1/g;const k=1/h;_m1$$module$node_modules$three$build$three_module.elements[0]*=a;_m1$$module$node_modules$three$build$three_module.elements[1]*=a;_m1$$module$node_modules$three$build$three_module.elements[2]*=a;_m1$$module$node_modules$three$build$three_module.elements[4]*=d;_m1$$module$node_modules$three$build$three_module.elements[5]*=d;_m1$$module$node_modules$three$build$three_module.elements[6]*=d;_m1$$module$node_modules$three$build$three_module.elements[8]*=k;_m1$$module$node_modules$three$build$three_module.elements[9]*=
k;_m1$$module$node_modules$three$build$three_module.elements[10]*=k;b.setFromRotationMatrix(_m1$$module$node_modules$three$build$three_module);c.x=e;c.y=g;c.z=h;return this}makePerspective(a,b,c,d,e,g){void 0===g&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const h=this.elements;h[0]=2*e/(b-a);h[4]=0;h[8]=(b+a)/(b-a);h[12]=0;h[1]=0;h[5]=2*e/(c-d);h[9]=(c+d)/(c-d);h[13]=0;h[2]=0;h[6]=0;h[10]=-(g+e)/(g-e);h[14]=-2*g*e/(g-e);h[3]=
0;h[7]=0;h[11]=-1;h[15]=0;return this}makeOrthographic(a,b,c,d,e,g){const h=this.elements,k=1/(b-a),l=1/(c-d),m=1/(g-e);h[0]=2*k;h[4]=0;h[8]=0;h[12]=-((b+a)*k);h[1]=0;h[5]=2*l;h[9]=0;h[13]=-((c+d)*l);h[2]=0;h[6]=0;h[10]=-2*m;h[14]=-((g+e)*m);h[3]=0;h[7]=0;h[11]=0;h[15]=1;return this}equals(a){const b=this.elements;a=a.elements;for(let c=0;16>c;c++)if(b[c]!==a[c])return!1;return!0}fromArray(a,b){void 0===b&&(b=0);for(let c=0;16>c;c++)this.elements[c]=a[c+b];return this}toArray(a,b){void 0===a&&(a=
[]);void 0===b&&(b=0);const c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a}}
const _v1$1$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_m1$$module$node_modules$three$build$three_module=new Matrix4$$module$node_modules$three$build$three_module,_zero$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module(0,0,0),_one$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module(1,1,1),_x$$module$node_modules$three$build$three_module=
new Vector3$$module$node_modules$three$build$three_module,_y$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_z$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module;
class Euler$$module$node_modules$three$build$three_module{constructor(a=0,b=0,c=0,d=Euler$$module$node_modules$three$build$three_module.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0});this._x=a;this._y=b;this._z=c;this._order=d}get x(){return this._x}set x(a){this._x=a;this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a;this._onChangeCallback()}get z(){return this._z}set z(a){this._z=a;this._onChangeCallback()}get order(){return this._order}set order(a){this._order=a;
this._onChangeCallback()}set(a,b,c,d){this._x=a;this._y=b;this._z=c;this._order=d||this._order;this._onChangeCallback();return this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this._onChangeCallback();return this}setFromRotationMatrix(a,b,c){const d=MathUtils$$module$node_modules$three$build$three_module.clamp;var e=a.elements;a=e[0];const g=e[4],h=e[8],k=e[1],l=e[5],m=e[9],n=e[2],p=e[6];e=e[10];b=b||
this._order;switch(b){case "XYZ":this._y=Math.asin(d(h,-1,1));.9999999>Math.abs(h)?(this._x=Math.atan2(-m,e),this._z=Math.atan2(-g,a)):(this._x=Math.atan2(p,l),this._z=0);break;case "YXZ":this._x=Math.asin(-d(m,-1,1));.9999999>Math.abs(m)?(this._y=Math.atan2(h,e),this._z=Math.atan2(k,l)):(this._y=Math.atan2(-n,a),this._z=0);break;case "ZXY":this._x=Math.asin(d(p,-1,1));.9999999>Math.abs(p)?(this._y=Math.atan2(-n,e),this._z=Math.atan2(-g,l)):(this._y=0,this._z=Math.atan2(k,a));break;case "ZYX":this._y=
Math.asin(-d(n,-1,1));.9999999>Math.abs(n)?(this._x=Math.atan2(p,e),this._z=Math.atan2(k,a)):(this._x=0,this._z=Math.atan2(-g,l));break;case "YZX":this._z=Math.asin(d(k,-1,1));.9999999>Math.abs(k)?(this._x=Math.atan2(-m,l),this._y=Math.atan2(-n,a)):(this._x=0,this._y=Math.atan2(h,e));break;case "XZY":this._z=Math.asin(-d(g,-1,1));.9999999>Math.abs(g)?(this._x=Math.atan2(p,l),this._y=Math.atan2(h,a)):(this._x=Math.atan2(-m,e),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+
b)}this._order=b;!1!==c&&this._onChangeCallback();return this}setFromQuaternion(a,b,c){_matrix$$module$node_modules$three$build$three_module.makeRotationFromQuaternion(a);return this.setFromRotationMatrix(_matrix$$module$node_modules$three$build$three_module,b,c)}setFromVector3(a,b){return this.set(a.x,a.y,a.z,b||this._order)}reorder(a){_quaternion$1$$module$node_modules$three$build$three_module.setFromEuler(this);return this.setFromQuaternion(_quaternion$1$$module$node_modules$three$build$three_module,
a)}equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order}fromArray(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this._onChangeCallback();return this}toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a}toVector3(a){return a?a.set(this._x,this._y,this._z):new Vector3$$module$node_modules$three$build$three_module(this._x,this._y,this._z)}_onChange(a){this._onChangeCallback=
a;return this}_onChangeCallback(){}}Euler$$module$node_modules$three$build$three_module.DefaultOrder="XYZ";Euler$$module$node_modules$three$build$three_module.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");const _matrix$$module$node_modules$three$build$three_module=new Matrix4$$module$node_modules$three$build$three_module,_quaternion$1$$module$node_modules$three$build$three_module=new Quaternion$$module$node_modules$three$build$three_module;
class Layers$$module$node_modules$three$build$three_module{constructor(){this.mask=1}set(a){this.mask=1<<a|0}enable(a){this.mask=this.mask|1<<a|0}enableAll(){this.mask=-1}toggle(a){this.mask^=1<<a|0}disable(a){this.mask&=~(1<<a|0)}disableAll(){this.mask=0}test(a){return 0!==(this.mask&a.mask)}}let _object3DId$$module$node_modules$three$build$three_module=0;
const _v1$2$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_q1$$module$node_modules$three$build$three_module=new Quaternion$$module$node_modules$three$build$three_module,_m1$1$$module$node_modules$three$build$three_module=new Matrix4$$module$node_modules$three$build$three_module,_target$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_position$$module$node_modules$three$build$three_module=
new Vector3$$module$node_modules$three$build$three_module,_scale$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_quaternion$2$$module$node_modules$three$build$three_module=new Quaternion$$module$node_modules$three$build$three_module,_xAxis$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module(1,0,0),_yAxis$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module(0,
1,0),_zAxis$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module(0,0,1),_addedEvent$$module$node_modules$three$build$three_module={type:"added"},_removedEvent$$module$node_modules$three$build$three_module={type:"removed"};
function Object3D$$module$node_modules$three$build$three_module(){Object.defineProperty(this,"id",{value:_object3DId$$module$node_modules$three$build$three_module++});this.uuid=MathUtils$$module$node_modules$three$build$three_module.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=Object3D$$module$node_modules$three$build$three_module.DefaultUp.clone();const a=new Vector3$$module$node_modules$three$build$three_module,b=new Euler$$module$node_modules$three$build$three_module,
c=new Quaternion$$module$node_modules$three$build$three_module,d=new Vector3$$module$node_modules$three$build$three_module(1,1,1);b._onChange(function(){c.setFromEuler(b,!1)});c._onChange(function(){b.setFromQuaternion(c,void 0,!1)});Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:a},rotation:{configurable:!0,enumerable:!0,value:b},quaternion:{configurable:!0,enumerable:!0,value:c},scale:{configurable:!0,enumerable:!0,value:d},modelViewMatrix:{value:new Matrix4$$module$node_modules$three$build$three_module},
normalMatrix:{value:new Matrix3$$module$node_modules$three$build$three_module}});this.matrix=new Matrix4$$module$node_modules$three$build$three_module;this.matrixWorld=new Matrix4$$module$node_modules$three$build$three_module;this.matrixAutoUpdate=Object3D$$module$node_modules$three$build$three_module.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new Layers$$module$node_modules$three$build$three_module;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;
this.renderOrder=0;this.userData={}}Object3D$$module$node_modules$three$build$three_module.DefaultUp=new Vector3$$module$node_modules$three$build$three_module(0,1,0);Object3D$$module$node_modules$three$build$three_module.DefaultMatrixAutoUpdate=!0;
Object3D$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(EventDispatcher$$module$node_modules$three$build$three_module.prototype),{constructor:Object3D$$module$node_modules$three$build$three_module,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(a){this.matrixAutoUpdate&&this.updateMatrix();this.matrix.premultiply(a);this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(a){this.quaternion.premultiply(a);
return this},setRotationFromAxisAngle:function(a,b){this.quaternion.setFromAxisAngle(a,b)},setRotationFromEuler:function(a){this.quaternion.setFromEuler(a,!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(a,b){_q1$$module$node_modules$three$build$three_module.setFromAxisAngle(a,b);this.quaternion.multiply(_q1$$module$node_modules$three$build$three_module);return this},rotateOnWorldAxis:function(a,
b){_q1$$module$node_modules$three$build$three_module.setFromAxisAngle(a,b);this.quaternion.premultiply(_q1$$module$node_modules$three$build$three_module);return this},rotateX:function(a){return this.rotateOnAxis(_xAxis$$module$node_modules$three$build$three_module,a)},rotateY:function(a){return this.rotateOnAxis(_yAxis$$module$node_modules$three$build$three_module,a)},rotateZ:function(a){return this.rotateOnAxis(_zAxis$$module$node_modules$three$build$three_module,a)},translateOnAxis:function(a,b){_v1$2$$module$node_modules$three$build$three_module.copy(a).applyQuaternion(this.quaternion);
this.position.add(_v1$2$$module$node_modules$three$build$three_module.multiplyScalar(b));return this},translateX:function(a){return this.translateOnAxis(_xAxis$$module$node_modules$three$build$three_module,a)},translateY:function(a){return this.translateOnAxis(_yAxis$$module$node_modules$three$build$three_module,a)},translateZ:function(a){return this.translateOnAxis(_zAxis$$module$node_modules$three$build$three_module,a)},localToWorld:function(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(a){return a.applyMatrix4(_m1$1$$module$node_modules$three$build$three_module.getInverse(this.matrixWorld))},
lookAt:function(a,b,c){a.isVector3?_target$$module$node_modules$three$build$three_module.copy(a):_target$$module$node_modules$three$build$three_module.set(a,b,c);a=this.parent;this.updateWorldMatrix(!0,!1);_position$$module$node_modules$three$build$three_module.setFromMatrixPosition(this.matrixWorld);this.isCamera||this.isLight?_m1$1$$module$node_modules$three$build$three_module.lookAt(_position$$module$node_modules$three$build$three_module,_target$$module$node_modules$three$build$three_module,this.up):
_m1$1$$module$node_modules$three$build$three_module.lookAt(_target$$module$node_modules$three$build$three_module,_position$$module$node_modules$three$build$three_module,this.up);this.quaternion.setFromRotationMatrix(_m1$1$$module$node_modules$three$build$three_module);a&&(_m1$1$$module$node_modules$three$build$three_module.extractRotation(a.matrixWorld),_q1$$module$node_modules$three$build$three_module.setFromRotationMatrix(_m1$1$$module$node_modules$three$build$three_module),this.quaternion.premultiply(_q1$$module$node_modules$three$build$three_module.inverse()))},
add:function(a){if(1<arguments.length){for(let b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a&&a.isObject3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,this.children.push(a),a.dispatchEvent(_addedEvent$$module$node_modules$three$build$three_module)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",a);return this},remove:function(a){if(1<arguments.length){for(var b=
0;b<arguments.length;b++)this.remove(arguments[b]);return this}b=this.children.indexOf(a);-1!==b&&(a.parent=null,this.children.splice(b,1),a.dispatchEvent(_removedEvent$$module$node_modules$three$build$three_module));return this},attach:function(a){this.updateWorldMatrix(!0,!1);_m1$1$$module$node_modules$three$build$three_module.getInverse(this.matrixWorld);null!==a.parent&&(a.parent.updateWorldMatrix(!0,!1),_m1$1$$module$node_modules$three$build$three_module.multiply(a.parent.matrixWorld));a.applyMatrix4(_m1$1$$module$node_modules$three$build$three_module);
a.updateWorldMatrix(!1,!1);this.add(a);return this},getObjectById:function(a){return this.getObjectByProperty("id",a)},getObjectByName:function(a){return this.getObjectByProperty("name",a)},getObjectByProperty:function(a,b){if(this[a]===b)return this;for(let c=0,d=this.children.length;c<d;c++){const e=this.children[c].getObjectByProperty(a,b);if(void 0!==e)return e}},getWorldPosition:function(a){void 0===a&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),a=new Vector3$$module$node_modules$three$build$three_module);
this.updateMatrixWorld(!0);return a.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(a){void 0===a&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),a=new Quaternion$$module$node_modules$three$build$three_module);this.updateMatrixWorld(!0);this.matrixWorld.decompose(_position$$module$node_modules$three$build$three_module,a,_scale$$module$node_modules$three$build$three_module);return a},getWorldScale:function(a){void 0===a&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),
a=new Vector3$$module$node_modules$three$build$three_module);this.updateMatrixWorld(!0);this.matrixWorld.decompose(_position$$module$node_modules$three$build$three_module,_quaternion$2$$module$node_modules$three$build$three_module,a);return a},getWorldDirection:function(a){void 0===a&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),a=new Vector3$$module$node_modules$three$build$three_module);this.updateMatrixWorld(!0);const b=this.matrixWorld.elements;return a.set(b[8],
b[9],b[10]).normalize()},raycast:function(){},traverse:function(a){a(this);const b=this.children;for(let c=0,d=b.length;c<d;c++)b[c].traverse(a)},traverseVisible:function(a){if(!1!==this.visible){a(this);var b=this.children;for(let c=0,d=b.length;c<d;c++)b[c].traverseVisible(a)}},traverseAncestors:function(a){const b=this.parent;null!==b&&(a(b),b.traverseAncestors(a))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){this.matrixAutoUpdate&&
this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;const b=this.children;for(let c=0,d=b.length;c<d;c++)b[c].updateMatrixWorld(a)},updateWorldMatrix:function(a,b){const c=this.parent;!0===a&&null!==c&&c.updateWorldMatrix(!0,!1);this.matrixAutoUpdate&&this.updateMatrix();null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,
this.matrix);if(!0===b){a=this.children;for(let d=0,e=a.length;d<e;d++)a[d].updateWorldMatrix(!1,!0)}},toJSON:function(a){function b(k,l){void 0===k[l.uuid]&&(k[l.uuid]=l.toJSON(a));return l.uuid}function c(k){const l=[];for(const m in k){const n=k[m];delete n.metadata;l.push(n)}return l}var d=void 0===a||"string"===typeof a;const e={};d&&(a={geometries:{},materials:{},textures:{},images:{},shapes:{}},e.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const g={};g.uuid=this.uuid;
g.type=this.type;""!==this.name&&(g.name=this.name);!0===this.castShadow&&(g.castShadow=!0);!0===this.receiveShadow&&(g.receiveShadow=!0);!1===this.visible&&(g.visible=!1);!1===this.frustumCulled&&(g.frustumCulled=!1);0!==this.renderOrder&&(g.renderOrder=this.renderOrder);"{}"!==JSON.stringify(this.userData)&&(g.userData=this.userData);g.layers=this.layers.mask;g.matrix=this.matrix.toArray();!1===this.matrixAutoUpdate&&(g.matrixAutoUpdate=!1);this.isInstancedMesh&&(g.type="InstancedMesh",g.count=
this.count,g.instanceMatrix=this.instanceMatrix.toJSON());if(this.isMesh||this.isLine||this.isPoints){g.geometry=b(a.geometries,this.geometry);var h=this.geometry.parameters;if(void 0!==h&&void 0!==h.shapes)if(h=h.shapes,Array.isArray(h))for(let k=0,l=h.length;k<l;k++)b(a.shapes,h[k]);else b(a.shapes,h)}if(void 0!==this.material)if(Array.isArray(this.material)){h=[];for(let k=0,l=this.material.length;k<l;k++)h.push(b(a.materials,this.material[k]));g.material=h}else g.material=b(a.materials,this.material);
if(0<this.children.length)for(g.children=[],h=0;h<this.children.length;h++)g.children.push(this.children[h].toJSON(a).object);if(d){d=c(a.geometries);h=c(a.materials);const k=c(a.textures),l=c(a.images),m=c(a.shapes);0<d.length&&(e.geometries=d);0<h.length&&(e.materials=h);0<k.length&&(e.textures=k);0<l.length&&(e.images=l);0<m.length&&(e.shapes=m)}e.object=g;return e},clone:function(a){return(new this.constructor).copy(this,a)},copy:function(a,b){void 0===b&&(b=!0);this.name=a.name;this.up.copy(a.up);
this.position.copy(a.position);this.rotation.order=a.rotation.order;this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.layers.mask=a.layers.mask;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));
if(!0===b)for(b=0;b<a.children.length;b++)this.add(a.children[b].clone());return this}});const _vector1$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_vector2$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_normalMatrix$$module$node_modules$three$build$three_module=new Matrix3$$module$node_modules$three$build$three_module;
class Plane$$module$node_modules$three$build$three_module{constructor(a,b){Object.defineProperty(this,"isPlane",{value:!0});this.normal=void 0!==a?a:new Vector3$$module$node_modules$three$build$three_module(1,0,0);this.constant=void 0!==b?b:0}set(a,b){this.normal.copy(a);this.constant=b;return this}setComponents(a,b,c,d){this.normal.set(a,b,c);this.constant=d;return this}setFromNormalAndCoplanarPoint(a,b){this.normal.copy(a);this.constant=-b.dot(this.normal);return this}setFromCoplanarPoints(a,b,
c){b=_vector1$$module$node_modules$three$build$three_module.subVectors(c,b).cross(_vector2$$module$node_modules$three$build$three_module.subVectors(a,b)).normalize();this.setFromNormalAndCoplanarPoint(b,a);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.normal.copy(a.normal);this.constant=a.constant;return this}normalize(){const a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this}negate(){this.constant*=-1;this.normal.negate();return this}distanceToPoint(a){return this.normal.dot(a)+
this.constant}distanceToSphere(a){return this.distanceToPoint(a.center)-a.radius}projectPoint(a,b){void 0===b&&(console.warn("THREE.Plane: .projectPoint() target is now required"),b=new Vector3$$module$node_modules$three$build$three_module);return b.copy(this.normal).multiplyScalar(-this.distanceToPoint(a)).add(a)}intersectLine(a,b){void 0===b&&(console.warn("THREE.Plane: .intersectLine() target is now required"),b=new Vector3$$module$node_modules$three$build$three_module);const c=a.delta(_vector1$$module$node_modules$three$build$three_module);
var d=this.normal.dot(c);if(0===d){if(0===this.distanceToPoint(a.start))return b.copy(a.start)}else if(d=-(a.start.dot(this.normal)+this.constant)/d,!(0>d||1<d))return b.copy(c).multiplyScalar(d).add(a.start)}intersectsLine(a){const b=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b}intersectsBox(a){return a.intersectsPlane(this)}intersectsSphere(a){return a.intersectsPlane(this)}coplanarPoint(a){void 0===a&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),
a=new Vector3$$module$node_modules$three$build$three_module);return a.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(a,b){b=b||_normalMatrix$$module$node_modules$three$build$three_module.getNormalMatrix(a);a=this.coplanarPoint(_vector1$$module$node_modules$three$build$three_module).applyMatrix4(a);b=this.normal.applyMatrix3(b).normalize();this.constant=-a.dot(b);return this}translate(a){this.constant-=a.dot(this.normal);return this}equals(a){return a.normal.equals(this.normal)&&a.constant===
this.constant}}
const _v0$1$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_v1$3$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_v2$1$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_v3$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_vab$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,
_vac$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_vbc$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_vap$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_vbp$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_vcp$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module;
class Triangle$$module$node_modules$three$build$three_module{constructor(a,b,c){this.a=void 0!==a?a:new Vector3$$module$node_modules$three$build$three_module;this.b=void 0!==b?b:new Vector3$$module$node_modules$three$build$three_module;this.c=void 0!==c?c:new Vector3$$module$node_modules$three$build$three_module}static getNormal(a,b,c,d){void 0===d&&(console.warn("THREE.Triangle: .getNormal() target is now required"),d=new Vector3$$module$node_modules$three$build$three_module);d.subVectors(c,b);_v0$1$$module$node_modules$three$build$three_module.subVectors(a,
b);d.cross(_v0$1$$module$node_modules$three$build$three_module);a=d.lengthSq();return 0<a?d.multiplyScalar(1/Math.sqrt(a)):d.set(0,0,0)}static getBarycoord(a,b,c,d,e){_v0$1$$module$node_modules$three$build$three_module.subVectors(d,b);_v1$3$$module$node_modules$three$build$three_module.subVectors(c,b);_v2$1$$module$node_modules$three$build$three_module.subVectors(a,b);a=_v0$1$$module$node_modules$three$build$three_module.dot(_v0$1$$module$node_modules$three$build$three_module);b=_v0$1$$module$node_modules$three$build$three_module.dot(_v1$3$$module$node_modules$three$build$three_module);
c=_v0$1$$module$node_modules$three$build$three_module.dot(_v2$1$$module$node_modules$three$build$three_module);var g=_v1$3$$module$node_modules$three$build$three_module.dot(_v1$3$$module$node_modules$three$build$three_module);d=_v1$3$$module$node_modules$three$build$three_module.dot(_v2$1$$module$node_modules$three$build$three_module);var h=a*g-b*b;void 0===e&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),e=new Vector3$$module$node_modules$three$build$three_module);if(0===
h)return e.set(-2,-1,-1);h=1/h;g=(g*c-b*d)*h;a=(a*d-b*c)*h;return e.set(1-g-a,a,g)}static containsPoint(a,b,c,d){this.getBarycoord(a,b,c,d,_v3$$module$node_modules$three$build$three_module);return 0<=_v3$$module$node_modules$three$build$three_module.x&&0<=_v3$$module$node_modules$three$build$three_module.y&&1>=_v3$$module$node_modules$three$build$three_module.x+_v3$$module$node_modules$three$build$three_module.y}static getUV(a,b,c,d,e,g,h,k){this.getBarycoord(a,b,c,d,_v3$$module$node_modules$three$build$three_module);
k.set(0,0);k.addScaledVector(e,_v3$$module$node_modules$three$build$three_module.x);k.addScaledVector(g,_v3$$module$node_modules$three$build$three_module.y);k.addScaledVector(h,_v3$$module$node_modules$three$build$three_module.z);return k}static isFrontFacing(a,b,c,d){_v0$1$$module$node_modules$three$build$three_module.subVectors(c,b);_v1$3$$module$node_modules$three$build$three_module.subVectors(a,b);return 0>_v0$1$$module$node_modules$three$build$three_module.cross(_v1$3$$module$node_modules$three$build$three_module).dot(d)?
!0:!1}set(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this}setFromPointsAndIndices(a,b,c,d){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[d]);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this}getArea(){_v0$1$$module$node_modules$three$build$three_module.subVectors(this.c,this.b);_v1$3$$module$node_modules$three$build$three_module.subVectors(this.a,this.b);return.5*_v0$1$$module$node_modules$three$build$three_module.cross(_v1$3$$module$node_modules$three$build$three_module).length()}getMidpoint(a){void 0===
a&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),a=new Vector3$$module$node_modules$three$build$three_module);return a.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(a){return Triangle$$module$node_modules$three$build$three_module.getNormal(this.a,this.b,this.c,a)}getPlane(a){void 0===a&&(console.warn("THREE.Triangle: .getPlane() target is now required"),a=new Plane$$module$node_modules$three$build$three_module);return a.setFromCoplanarPoints(this.a,this.b,
this.c)}getBarycoord(a,b){return Triangle$$module$node_modules$three$build$three_module.getBarycoord(a,this.a,this.b,this.c,b)}getUV(a,b,c,d,e){return Triangle$$module$node_modules$three$build$three_module.getUV(a,this.a,this.b,this.c,b,c,d,e)}containsPoint(a){return Triangle$$module$node_modules$three$build$three_module.containsPoint(a,this.a,this.b,this.c)}isFrontFacing(a){return Triangle$$module$node_modules$three$build$three_module.isFrontFacing(this.a,this.b,this.c,a)}intersectsBox(a){return a.intersectsTriangle(this)}closestPointToPoint(a,
b){void 0===b&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),b=new Vector3$$module$node_modules$three$build$three_module);const c=this.a;var d=this.b,e=this.c;_vab$$module$node_modules$three$build$three_module.subVectors(d,c);_vac$$module$node_modules$three$build$three_module.subVectors(e,c);_vap$$module$node_modules$three$build$three_module.subVectors(a,c);var g=_vab$$module$node_modules$three$build$three_module.dot(_vap$$module$node_modules$three$build$three_module),
h=_vac$$module$node_modules$three$build$three_module.dot(_vap$$module$node_modules$three$build$three_module);if(0>=g&&0>=h)return b.copy(c);_vbp$$module$node_modules$three$build$three_module.subVectors(a,d);const k=_vab$$module$node_modules$three$build$three_module.dot(_vbp$$module$node_modules$three$build$three_module),l=_vac$$module$node_modules$three$build$three_module.dot(_vbp$$module$node_modules$three$build$three_module);if(0<=k&&l<=k)return b.copy(d);var m=g*l-k*h;if(0>=m&&0<=g&&0>=k)return d=
g/(g-k),b.copy(c).addScaledVector(_vab$$module$node_modules$three$build$three_module,d);_vcp$$module$node_modules$three$build$three_module.subVectors(a,e);a=_vab$$module$node_modules$three$build$three_module.dot(_vcp$$module$node_modules$three$build$three_module);const n=_vac$$module$node_modules$three$build$three_module.dot(_vcp$$module$node_modules$three$build$three_module);if(0<=n&&a<=n)return b.copy(e);g=a*h-g*n;if(0>=g&&0<=h&&0>=n)return m=h/(h-n),b.copy(c).addScaledVector(_vac$$module$node_modules$three$build$three_module,
m);h=k*n-a*l;if(0>=h&&0<=l-k&&0<=a-n)return _vbc$$module$node_modules$three$build$three_module.subVectors(e,d),m=(l-k)/(l-k+(a-n)),b.copy(d).addScaledVector(_vbc$$module$node_modules$three$build$three_module,m);e=1/(h+g+m);d=g*e;m*=e;return b.copy(c).addScaledVector(_vab$$module$node_modules$three$build$three_module,d).addScaledVector(_vac$$module$node_modules$three$build$three_module,m)}equals(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}}
const _colorKeywords$$module$node_modules$three$build$three_module={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,
darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,
gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,
lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,
orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,
steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA$$module$node_modules$three$build$three_module={h:0,s:0,l:0},_hslB$$module$node_modules$three$build$three_module={h:0,s:0,l:0};function hue2rgb$$module$node_modules$three$build$three_module(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+6*(b-a)*(2/3-c):a}
function SRGBToLinear$$module$node_modules$three$build$three_module(a){return.04045>a?.0773993808*a:Math.pow(.9478672986*a+.0521327014,2.4)}function LinearToSRGB$$module$node_modules$three$build$three_module(a){return.0031308>a?12.92*a:1.055*Math.pow(a,.41666)-.055}
class Color$$module$node_modules$three$build$three_module{constructor(a,b,c){Object.defineProperty(this,"isColor",{value:!0});return void 0===b&&void 0===c?this.set(a):this.setRGB(a,b,c)}set(a){a&&a.isColor?this.copy(a):"number"===typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a);return this}setScalar(a){this.b=this.g=this.r=a;return this}setHex(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this}setRGB(a,b,c){this.r=a;this.g=b;this.b=c;return this}setHSL(a,
b,c){a=MathUtils$$module$node_modules$three$build$three_module.euclideanModulo(a,1);b=MathUtils$$module$node_modules$three$build$three_module.clamp(b,0,1);c=MathUtils$$module$node_modules$three$build$three_module.clamp(c,0,1);0===b?this.r=this.g=this.b=c:(b=.5>=c?c*(1+b):c+b-c*b,c=2*c-b,this.r=hue2rgb$$module$node_modules$three$build$three_module(c,b,a+1/3),this.g=hue2rgb$$module$node_modules$three$build$three_module(c,b,a),this.b=hue2rgb$$module$node_modules$three$build$three_module(c,b,a-1/3));
return this}setStyle(a){function b(e){void 0!==e&&1>parseFloat(e)&&console.warn("THREE.Color: Alpha component of "+a+" will be ignored.")}var c;if(c=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(a)){var d=c[2];switch(c[1]){case "rgb":case "rgba":if(c=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=Math.min(255,parseInt(c[1],10))/255,this.g=Math.min(255,parseInt(c[2],10))/255,this.b=Math.min(255,parseInt(c[3],10))/255,b(c[5]),this;if(c=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=
Math.min(100,parseInt(c[1],10))/100,this.g=Math.min(100,parseInt(c[2],10))/100,this.b=Math.min(100,parseInt(c[3],10))/100,b(c[5]),this;break;case "hsl":case "hsla":if(c=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d)){d=parseFloat(c[1])/360;const e=parseInt(c[2],10)/100,g=parseInt(c[3],10)/100;b(c[5]);return this.setHSL(d,e,g)}}}else if(c=/^#([A-Fa-f0-9]+)$/.exec(a)){c=c[1];d=c.length;if(3===d)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+
c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===d)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}return a&&0<a.length?this.setColorName(a):this}setColorName(a){const b=_colorKeywords$$module$node_modules$three$build$three_module[a];void 0!==b?this.setHex(b):console.warn("THREE.Color: Unknown color "+a);return this}clone(){return new this.constructor(this.r,this.g,
this.b)}copy(a){this.r=a.r;this.g=a.g;this.b=a.b;return this}copyGammaToLinear(a,b){void 0===b&&(b=2);this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this}copyLinearToGamma(a,b){void 0===b&&(b=2);b=0<b?1/b:1;this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this}convertGammaToLinear(a){this.copyGammaToLinear(this,a);return this}convertLinearToGamma(a){this.copyLinearToGamma(this,a);return this}copySRGBToLinear(a){this.r=SRGBToLinear$$module$node_modules$three$build$three_module(a.r);
this.g=SRGBToLinear$$module$node_modules$three$build$three_module(a.g);this.b=SRGBToLinear$$module$node_modules$three$build$three_module(a.b);return this}copyLinearToSRGB(a){this.r=LinearToSRGB$$module$node_modules$three$build$three_module(a.r);this.g=LinearToSRGB$$module$node_modules$three$build$three_module(a.g);this.b=LinearToSRGB$$module$node_modules$three$build$three_module(a.b);return this}convertSRGBToLinear(){this.copySRGBToLinear(this);return this}convertLinearToSRGB(){this.copyLinearToSRGB(this);
return this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(a){void 0===a&&(console.warn("THREE.Color: .getHSL() target is now required"),a={h:0,s:0,l:0});const b=this.r,c=this.g,d=this.b,e=Math.max(b,c,d);var g=Math.min(b,c,d);let h;const k=(g+e)/2;if(g===e)g=h=0;else{const l=e-g;g=.5>=k?l/(e+g):l/(2-e-g);switch(e){case b:h=(c-d)/l+(c<d?6:0);break;case c:h=(d-b)/l+2;break;case d:h=(b-c)/l+4}h/=6}a.h=h;a.s=g;a.l=
k;return a}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(a,b,c){this.getHSL(_hslA$$module$node_modules$three$build$three_module);_hslA$$module$node_modules$three$build$three_module.h+=a;_hslA$$module$node_modules$three$build$three_module.s+=b;_hslA$$module$node_modules$three$build$three_module.l+=c;this.setHSL(_hslA$$module$node_modules$three$build$three_module.h,_hslA$$module$node_modules$three$build$three_module.s,_hslA$$module$node_modules$three$build$three_module.l);
return this}add(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this}addColors(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this}addScalar(a){this.r+=a;this.g+=a;this.b+=a;return this}sub(a){this.r=Math.max(0,this.r-a.r);this.g=Math.max(0,this.g-a.g);this.b=Math.max(0,this.b-a.b);return this}multiply(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this}multiplyScalar(a){this.r*=a;this.g*=a;this.b*=a;return this}lerp(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;
return this}lerpHSL(a,b){this.getHSL(_hslA$$module$node_modules$three$build$three_module);a.getHSL(_hslB$$module$node_modules$three$build$three_module);a=MathUtils$$module$node_modules$three$build$three_module.lerp(_hslA$$module$node_modules$three$build$three_module.h,_hslB$$module$node_modules$three$build$three_module.h,b);const c=MathUtils$$module$node_modules$three$build$three_module.lerp(_hslA$$module$node_modules$three$build$three_module.s,_hslB$$module$node_modules$three$build$three_module.s,
b);b=MathUtils$$module$node_modules$three$build$three_module.lerp(_hslA$$module$node_modules$three$build$three_module.l,_hslB$$module$node_modules$three$build$three_module.l,b);this.setHSL(a,c,b);return this}equals(a){return a.r===this.r&&a.g===this.g&&a.b===this.b}fromArray(a,b){void 0===b&&(b=0);this.r=a[b];this.g=a[b+1];this.b=a[b+2];return this}toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a}fromBufferAttribute(a,b){this.r=a.getX(b);this.g=a.getY(b);
this.b=a.getZ(b);!0===a.normalized&&(this.r/=255,this.g/=255,this.b/=255);return this}toJSON(){return this.getHex()}}Color$$module$node_modules$three$build$three_module.NAMES=_colorKeywords$$module$node_modules$three$build$three_module;Color$$module$node_modules$three$build$three_module.prototype.r=1;Color$$module$node_modules$three$build$three_module.prototype.g=1;Color$$module$node_modules$three$build$three_module.prototype.b=1;
class Face3$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e,g){this.a=a;this.b=b;this.c=c;this.normal=d&&d.isVector3?d:new Vector3$$module$node_modules$three$build$three_module;this.vertexNormals=Array.isArray(d)?d:[];this.color=e&&e.isColor?e:new Color$$module$node_modules$three$build$three_module;this.vertexColors=Array.isArray(e)?e:[];this.materialIndex=void 0!==g?g:0}clone(){return(new this.constructor).copy(this)}copy(a){this.a=a.a;this.b=a.b;this.c=a.c;this.normal.copy(a.normal);
this.color.copy(a.color);this.materialIndex=a.materialIndex;for(let b=0,c=a.vertexNormals.length;b<c;b++)this.vertexNormals[b]=a.vertexNormals[b].clone();for(let b=0,c=a.vertexColors.length;b<c;b++)this.vertexColors[b]=a.vertexColors[b].clone();return this}}let materialId$$module$node_modules$three$build$three_module=0;
function Material$$module$node_modules$three$build$three_module(){Object.defineProperty(this,"id",{value:materialId$$module$node_modules$three$build$three_module++});this.uuid=MathUtils$$module$node_modules$three$build$three_module.generateUUID();this.name="";this.type="Material";this.fog=!0;this.blending=NormalBlending$$module$node_modules$three$build$three_module;this.side=FrontSide$$module$node_modules$three$build$three_module;this.vertexColors=this.flatShading=!1;this.opacity=1;this.transparent=
!1;this.blendSrc=SrcAlphaFactor$$module$node_modules$three$build$three_module;this.blendDst=OneMinusSrcAlphaFactor$$module$node_modules$three$build$three_module;this.blendEquation=AddEquation$$module$node_modules$three$build$three_module;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=LessEqualDepth$$module$node_modules$three$build$three_module;this.depthWrite=this.depthTest=!0;this.stencilWriteMask=255;this.stencilFunc=AlwaysStencilFunc$$module$node_modules$three$build$three_module;
this.stencilRef=0;this.stencilFuncMask=255;this.stencilZPass=this.stencilZFail=this.stencilFail=KeepStencilOp$$module$node_modules$three$build$three_module;this.stencilWrite=!1;this.clippingPlanes=null;this.clipShadows=this.clipIntersection=!1;this.shadowSide=null;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.dithering=!1;this.alphaTest=0;this.premultipliedAlpha=!1;this.toneMapped=this.visible=!0;this.userData={};this.version=
0}
Material$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(EventDispatcher$$module$node_modules$three$build$three_module.prototype),{constructor:Material$$module$node_modules$three$build$three_module,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(a){if(void 0!==a)for(const b in a){const c=a[b];if(void 0===c){console.warn("THREE.Material: '"+b+"' parameter is undefined.");continue}if("shading"===b){console.warn("THREE."+
this.type+": .shading has been removed. Use the boolean .flatShading instead.");this.flatShading=c===FlatShading$$module$node_modules$three$build$three_module?!0:!1;continue}const d=this[b];void 0===d?console.warn("THREE."+this.type+": '"+b+"' is not a property of this material."):d&&d.isColor?d.set(c):d&&d.isVector3&&c&&c.isVector3?d.copy(c):this[b]=c}},toJSON:function(a){function b(e){const g=[];for(const h in e){const k=e[h];delete k.metadata;g.push(k)}return g}var c=void 0===a||"string"===typeof a;
c&&(a={textures:{},images:{}});const d={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};d.uuid=this.uuid;d.type=this.type;""!==this.name&&(d.name=this.name);this.color&&this.color.isColor&&(d.color=this.color.getHex());void 0!==this.roughness&&(d.roughness=this.roughness);void 0!==this.metalness&&(d.metalness=this.metalness);this.sheen&&this.sheen.isColor&&(d.sheen=this.sheen.getHex());this.emissive&&this.emissive.isColor&&(d.emissive=this.emissive.getHex());this.emissiveIntensity&&
1!==this.emissiveIntensity&&(d.emissiveIntensity=this.emissiveIntensity);this.specular&&this.specular.isColor&&(d.specular=this.specular.getHex());void 0!==this.shininess&&(d.shininess=this.shininess);void 0!==this.clearcoat&&(d.clearcoat=this.clearcoat);void 0!==this.clearcoatRoughness&&(d.clearcoatRoughness=this.clearcoatRoughness);this.clearcoatMap&&this.clearcoatMap.isTexture&&(d.clearcoatMap=this.clearcoatMap.toJSON(a).uuid);this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(d.clearcoatRoughnessMap=
this.clearcoatRoughnessMap.toJSON(a).uuid);this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(d.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(a).uuid,d.clearcoatNormalScale=this.clearcoatNormalScale.toArray());this.map&&this.map.isTexture&&(d.map=this.map.toJSON(a).uuid);this.matcap&&this.matcap.isTexture&&(d.matcap=this.matcap.toJSON(a).uuid);this.alphaMap&&this.alphaMap.isTexture&&(d.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap&&this.lightMap.isTexture&&(d.lightMap=this.lightMap.toJSON(a).uuid);
this.aoMap&&this.aoMap.isTexture&&(d.aoMap=this.aoMap.toJSON(a).uuid,d.aoMapIntensity=this.aoMapIntensity);this.bumpMap&&this.bumpMap.isTexture&&(d.bumpMap=this.bumpMap.toJSON(a).uuid,d.bumpScale=this.bumpScale);this.normalMap&&this.normalMap.isTexture&&(d.normalMap=this.normalMap.toJSON(a).uuid,d.normalMapType=this.normalMapType,d.normalScale=this.normalScale.toArray());this.displacementMap&&this.displacementMap.isTexture&&(d.displacementMap=this.displacementMap.toJSON(a).uuid,d.displacementScale=
this.displacementScale,d.displacementBias=this.displacementBias);this.roughnessMap&&this.roughnessMap.isTexture&&(d.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap&&this.metalnessMap.isTexture&&(d.metalnessMap=this.metalnessMap.toJSON(a).uuid);this.emissiveMap&&this.emissiveMap.isTexture&&(d.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap&&this.specularMap.isTexture&&(d.specularMap=this.specularMap.toJSON(a).uuid);this.envMap&&this.envMap.isTexture&&(d.envMap=this.envMap.toJSON(a).uuid,
d.reflectivity=this.reflectivity,d.refractionRatio=this.refractionRatio,void 0!==this.combine&&(d.combine=this.combine),void 0!==this.envMapIntensity&&(d.envMapIntensity=this.envMapIntensity));this.gradientMap&&this.gradientMap.isTexture&&(d.gradientMap=this.gradientMap.toJSON(a).uuid);void 0!==this.size&&(d.size=this.size);void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation);this.blending!==NormalBlending$$module$node_modules$three$build$three_module&&(d.blending=this.blending);
!0===this.flatShading&&(d.flatShading=this.flatShading);this.side!==FrontSide$$module$node_modules$three$build$three_module&&(d.side=this.side);this.vertexColors&&(d.vertexColors=!0);1>this.opacity&&(d.opacity=this.opacity);!0===this.transparent&&(d.transparent=this.transparent);d.depthFunc=this.depthFunc;d.depthTest=this.depthTest;d.depthWrite=this.depthWrite;d.stencilWrite=this.stencilWrite;d.stencilWriteMask=this.stencilWriteMask;d.stencilFunc=this.stencilFunc;d.stencilRef=this.stencilRef;d.stencilFuncMask=
this.stencilFuncMask;d.stencilFail=this.stencilFail;d.stencilZFail=this.stencilZFail;d.stencilZPass=this.stencilZPass;this.rotation&&0!==this.rotation&&(d.rotation=this.rotation);!0===this.polygonOffset&&(d.polygonOffset=!0);0!==this.polygonOffsetFactor&&(d.polygonOffsetFactor=this.polygonOffsetFactor);0!==this.polygonOffsetUnits&&(d.polygonOffsetUnits=this.polygonOffsetUnits);this.linewidth&&1!==this.linewidth&&(d.linewidth=this.linewidth);void 0!==this.dashSize&&(d.dashSize=this.dashSize);void 0!==
this.gapSize&&(d.gapSize=this.gapSize);void 0!==this.scale&&(d.scale=this.scale);!0===this.dithering&&(d.dithering=!0);0<this.alphaTest&&(d.alphaTest=this.alphaTest);!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha);!0===this.wireframe&&(d.wireframe=this.wireframe);1<this.wireframeLinewidth&&(d.wireframeLinewidth=this.wireframeLinewidth);"round"!==this.wireframeLinecap&&(d.wireframeLinecap=this.wireframeLinecap);"round"!==this.wireframeLinejoin&&(d.wireframeLinejoin=this.wireframeLinejoin);
!0===this.morphTargets&&(d.morphTargets=!0);!0===this.morphNormals&&(d.morphNormals=!0);!0===this.skinning&&(d.skinning=!0);!1===this.visible&&(d.visible=!1);!1===this.toneMapped&&(d.toneMapped=!1);"{}"!==JSON.stringify(this.userData)&&(d.userData=this.userData);c&&(c=b(a.textures),a=b(a.images),0<c.length&&(d.textures=c),0<a.length&&(d.images=a));return d},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=a.name;this.fog=a.fog;this.blending=a.blending;this.side=
a.side;this.flatShading=a.flatShading;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.stencilWriteMask=a.stencilWriteMask;this.stencilFunc=a.stencilFunc;this.stencilRef=a.stencilRef;
this.stencilFuncMask=a.stencilFuncMask;this.stencilFail=a.stencilFail;this.stencilZFail=a.stencilZFail;this.stencilZPass=a.stencilZPass;this.stencilWrite=a.stencilWrite;const b=a.clippingPlanes;let c=null;if(null!==b){const d=b.length;c=Array(d);for(let e=0;e!==d;++e)c[e]=b[e].clone()}this.clippingPlanes=c;this.clipIntersection=a.clipIntersection;this.clipShadows=a.clipShadows;this.shadowSide=a.shadowSide;this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=
a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.dithering=a.dithering;this.alphaTest=a.alphaTest;this.premultipliedAlpha=a.premultipliedAlpha;this.visible=a.visible;this.toneMapped=a.toneMapped;this.userData=JSON.parse(JSON.stringify(a.userData));return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(Material$$module$node_modules$three$build$three_module.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});
function MeshBasicMaterial$$module$node_modules$three$build$three_module(a){Material$$module$node_modules$three$build$three_module.call(this);this.type="MeshBasicMaterial";this.color=new Color$$module$node_modules$three$build$three_module(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=MultiplyOperation$$module$node_modules$three$build$three_module;this.reflectivity=1;this.refractionRatio=
.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphTargets=this.skinning=!1;this.setValues(a)}MeshBasicMaterial$$module$node_modules$three$build$three_module.prototype=Object.create(Material$$module$node_modules$three$build$three_module.prototype);MeshBasicMaterial$$module$node_modules$three$build$three_module.prototype.constructor=MeshBasicMaterial$$module$node_modules$three$build$three_module;
MeshBasicMaterial$$module$node_modules$three$build$three_module.prototype.isMeshBasicMaterial=!0;
MeshBasicMaterial$$module$node_modules$three$build$three_module.prototype.copy=function(a){Material$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;
this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;return this};const _vector$3$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_vector2$1$$module$node_modules$three$build$three_module=new Vector2$$module$node_modules$three$build$three_module;
function BufferAttribute$$module$node_modules$three$build$three_module(a,b,c){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="";this.array=a;this.itemSize=b;this.count=void 0!==a?a.length/b:0;this.normalized=!0===c;this.usage=StaticDrawUsage$$module$node_modules$three$build$three_module;this.updateRange={offset:0,count:-1};this.version=0}
Object.defineProperty(BufferAttribute$$module$node_modules$three$build$three_module.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});
Object.assign(BufferAttribute$$module$node_modules$three$build$three_module.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(a){this.usage=a;return this},copy:function(a){this.name=a.name;this.array=new a.array.constructor(a.array);this.itemSize=a.itemSize;this.count=a.count;this.normalized=a.normalized;this.usage=a.usage;return this},copyAt:function(a,b,c){a*=this.itemSize;c*=b.itemSize;for(let d=0,e=this.itemSize;d<e;d++)this.array[a+d]=b.array[c+d];return this},copyArray:function(a){this.array.set(a);
return this},copyColorsArray:function(a){const b=this.array;let c=0;for(let d=0,e=a.length;d<e;d++){let g=a[d];void 0===g&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",d),g=new Color$$module$node_modules$three$build$three_module);b[c++]=g.r;b[c++]=g.g;b[c++]=g.b}return this},copyVector2sArray:function(a){const b=this.array;let c=0;for(let d=0,e=a.length;d<e;d++){let g=a[d];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",d),
g=new Vector2$$module$node_modules$three$build$three_module);b[c++]=g.x;b[c++]=g.y}return this},copyVector3sArray:function(a){const b=this.array;let c=0;for(let d=0,e=a.length;d<e;d++){let g=a[d];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",d),g=new Vector3$$module$node_modules$three$build$three_module);b[c++]=g.x;b[c++]=g.y;b[c++]=g.z}return this},copyVector4sArray:function(a){const b=this.array;let c=0;for(let d=0,e=a.length;d<e;d++){let g=a[d];void 0===
g&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",d),g=new Vector4$$module$node_modules$three$build$three_module);b[c++]=g.x;b[c++]=g.y;b[c++]=g.z;b[c++]=g.w}return this},applyMatrix3:function(a){if(2===this.itemSize)for(let b=0,c=this.count;b<c;b++)_vector2$1$$module$node_modules$three$build$three_module.fromBufferAttribute(this,b),_vector2$1$$module$node_modules$three$build$three_module.applyMatrix3(a),this.setXY(b,_vector2$1$$module$node_modules$three$build$three_module.x,
_vector2$1$$module$node_modules$three$build$three_module.y);else if(3===this.itemSize)for(let b=0,c=this.count;b<c;b++)_vector$3$$module$node_modules$three$build$three_module.fromBufferAttribute(this,b),_vector$3$$module$node_modules$three$build$three_module.applyMatrix3(a),this.setXYZ(b,_vector$3$$module$node_modules$three$build$three_module.x,_vector$3$$module$node_modules$three$build$three_module.y,_vector$3$$module$node_modules$three$build$three_module.z);return this},applyMatrix4:function(a){for(let b=
0,c=this.count;b<c;b++)_vector$3$$module$node_modules$three$build$three_module.x=this.getX(b),_vector$3$$module$node_modules$three$build$three_module.y=this.getY(b),_vector$3$$module$node_modules$three$build$three_module.z=this.getZ(b),_vector$3$$module$node_modules$three$build$three_module.applyMatrix4(a),this.setXYZ(b,_vector$3$$module$node_modules$three$build$three_module.x,_vector$3$$module$node_modules$three$build$three_module.y,_vector$3$$module$node_modules$three$build$three_module.z);return this},
applyNormalMatrix:function(a){for(let b=0,c=this.count;b<c;b++)_vector$3$$module$node_modules$three$build$three_module.x=this.getX(b),_vector$3$$module$node_modules$three$build$three_module.y=this.getY(b),_vector$3$$module$node_modules$three$build$three_module.z=this.getZ(b),_vector$3$$module$node_modules$three$build$three_module.applyNormalMatrix(a),this.setXYZ(b,_vector$3$$module$node_modules$three$build$three_module.x,_vector$3$$module$node_modules$three$build$three_module.y,_vector$3$$module$node_modules$three$build$three_module.z);
return this},transformDirection:function(a){for(let b=0,c=this.count;b<c;b++)_vector$3$$module$node_modules$three$build$three_module.x=this.getX(b),_vector$3$$module$node_modules$three$build$three_module.y=this.getY(b),_vector$3$$module$node_modules$three$build$three_module.z=this.getZ(b),_vector$3$$module$node_modules$three$build$three_module.transformDirection(a),this.setXYZ(b,_vector$3$$module$node_modules$three$build$three_module.x,_vector$3$$module$node_modules$three$build$three_module.y,_vector$3$$module$node_modules$three$build$three_module.z);
return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},getX:function(a){return this.array[a*this.itemSize]},setX:function(a,b){this.array[a*this.itemSize]=b;return this},getY:function(a){return this.array[a*this.itemSize+1]},setY:function(a,b){this.array[a*this.itemSize+1]=b;return this},getZ:function(a){return this.array[a*this.itemSize+2]},setZ:function(a,b){this.array[a*this.itemSize+2]=b;return this},getW:function(a){return this.array[a*this.itemSize+3]},setW:function(a,
b){this.array[a*this.itemSize+3]=b;return this},setXY:function(a,b,c){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;this.array[a+3]=e;return this},onUpload:function(a){this.onUploadCallback=a;return this},clone:function(){return(new this.constructor(this.array,this.itemSize)).copy(this)},
toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function Int8BufferAttribute$$module$node_modules$three$build$three_module(a,b,c){BufferAttribute$$module$node_modules$three$build$three_module.call(this,new Int8Array(a),b,c)}Int8BufferAttribute$$module$node_modules$three$build$three_module.prototype=Object.create(BufferAttribute$$module$node_modules$three$build$three_module.prototype);
Int8BufferAttribute$$module$node_modules$three$build$three_module.prototype.constructor=Int8BufferAttribute$$module$node_modules$three$build$three_module;function Uint8BufferAttribute$$module$node_modules$three$build$three_module(a,b,c){BufferAttribute$$module$node_modules$three$build$three_module.call(this,new Uint8Array(a),b,c)}Uint8BufferAttribute$$module$node_modules$three$build$three_module.prototype=Object.create(BufferAttribute$$module$node_modules$three$build$three_module.prototype);
Uint8BufferAttribute$$module$node_modules$three$build$three_module.prototype.constructor=Uint8BufferAttribute$$module$node_modules$three$build$three_module;function Uint8ClampedBufferAttribute$$module$node_modules$three$build$three_module(a,b,c){BufferAttribute$$module$node_modules$three$build$three_module.call(this,new Uint8ClampedArray(a),b,c)}Uint8ClampedBufferAttribute$$module$node_modules$three$build$three_module.prototype=Object.create(BufferAttribute$$module$node_modules$three$build$three_module.prototype);
Uint8ClampedBufferAttribute$$module$node_modules$three$build$three_module.prototype.constructor=Uint8ClampedBufferAttribute$$module$node_modules$three$build$three_module;function Int16BufferAttribute$$module$node_modules$three$build$three_module(a,b,c){BufferAttribute$$module$node_modules$three$build$three_module.call(this,new Int16Array(a),b,c)}Int16BufferAttribute$$module$node_modules$three$build$three_module.prototype=Object.create(BufferAttribute$$module$node_modules$three$build$three_module.prototype);
Int16BufferAttribute$$module$node_modules$three$build$three_module.prototype.constructor=Int16BufferAttribute$$module$node_modules$three$build$three_module;function Uint16BufferAttribute$$module$node_modules$three$build$three_module(a,b,c){BufferAttribute$$module$node_modules$three$build$three_module.call(this,new Uint16Array(a),b,c)}Uint16BufferAttribute$$module$node_modules$three$build$three_module.prototype=Object.create(BufferAttribute$$module$node_modules$three$build$three_module.prototype);
Uint16BufferAttribute$$module$node_modules$three$build$three_module.prototype.constructor=Uint16BufferAttribute$$module$node_modules$three$build$three_module;function Int32BufferAttribute$$module$node_modules$three$build$three_module(a,b,c){BufferAttribute$$module$node_modules$three$build$three_module.call(this,new Int32Array(a),b,c)}Int32BufferAttribute$$module$node_modules$three$build$three_module.prototype=Object.create(BufferAttribute$$module$node_modules$three$build$three_module.prototype);
Int32BufferAttribute$$module$node_modules$three$build$three_module.prototype.constructor=Int32BufferAttribute$$module$node_modules$three$build$three_module;function Uint32BufferAttribute$$module$node_modules$three$build$three_module(a,b,c){BufferAttribute$$module$node_modules$three$build$three_module.call(this,new Uint32Array(a),b,c)}Uint32BufferAttribute$$module$node_modules$three$build$three_module.prototype=Object.create(BufferAttribute$$module$node_modules$three$build$three_module.prototype);
Uint32BufferAttribute$$module$node_modules$three$build$three_module.prototype.constructor=Uint32BufferAttribute$$module$node_modules$three$build$three_module;function Float32BufferAttribute$$module$node_modules$three$build$three_module(a,b,c){BufferAttribute$$module$node_modules$three$build$three_module.call(this,new Float32Array(a),b,c)}Float32BufferAttribute$$module$node_modules$three$build$three_module.prototype=Object.create(BufferAttribute$$module$node_modules$three$build$three_module.prototype);
Float32BufferAttribute$$module$node_modules$three$build$three_module.prototype.constructor=Float32BufferAttribute$$module$node_modules$three$build$three_module;function Float64BufferAttribute$$module$node_modules$three$build$three_module(a,b,c){BufferAttribute$$module$node_modules$three$build$three_module.call(this,new Float64Array(a),b,c)}Float64BufferAttribute$$module$node_modules$three$build$three_module.prototype=Object.create(BufferAttribute$$module$node_modules$three$build$three_module.prototype);
Float64BufferAttribute$$module$node_modules$three$build$three_module.prototype.constructor=Float64BufferAttribute$$module$node_modules$three$build$three_module;
class DirectGeometry$$module$node_modules$three$build$three_module{constructor(){this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}computeGroups(a){const b=[];let c,d=void 0;const e=a.faces;for(a=0;a<e.length;a++){const g=e[a];g.materialIndex!==d&&
(d=g.materialIndex,void 0!==c&&(c.count=3*a-c.start,b.push(c)),c={start:3*a,materialIndex:d})}void 0!==c&&(c.count=3*a-c.start,b.push(c));this.groups=b}fromGeometry(a){const b=a.faces,c=a.vertices,d=a.faceVertexUvs,e=d[0]&&0<d[0].length,g=d[1]&&0<d[1].length,h=a.morphTargets,k=h.length;let l;if(0<k){l=[];for(var m=0;m<k;m++)l[m]={name:h[m].name,data:[]};this.morphTargets.position=l}m=a.morphNormals;const n=m.length;let p;if(0<n){p=[];for(var t=0;t<n;t++)p[t]={name:m[t].name,data:[]};this.morphTargets.normal=
p}t=a.skinIndices;const w=a.skinWeights,x=t.length===c.length,A=w.length===c.length;0<c.length&&0===b.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let B=0;B<b.length;B++){const G=b[B];this.vertices.push(c[G.a],c[G.b],c[G.c]);var r=G.vertexNormals;3===r.length?this.normals.push(r[0],r[1],r[2]):(r=G.normal,this.normals.push(r,r,r));r=G.vertexColors;3===r.length?this.colors.push(r[0],r[1],r[2]):(r=G.color,this.colors.push(r,r,r));!0===e&&(r=d[0][B],void 0!==
r?this.uvs.push(r[0],r[1],r[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",B),this.uvs.push(new Vector2$$module$node_modules$three$build$three_module,new Vector2$$module$node_modules$three$build$three_module,new Vector2$$module$node_modules$three$build$three_module)));!0===g&&(r=d[1][B],void 0!==r?this.uvs2.push(r[0],r[1],r[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",B),this.uvs2.push(new Vector2$$module$node_modules$three$build$three_module,
new Vector2$$module$node_modules$three$build$three_module,new Vector2$$module$node_modules$three$build$three_module)));for(r=0;r<k;r++){var E=h[r].vertices;l[r].data.push(E[G.a],E[G.b],E[G.c])}for(r=0;r<n;r++)E=m[r].vertexNormals[B],p[r].data.push(E.a,E.b,E.c);x&&this.skinIndices.push(t[G.a],t[G.b],t[G.c]);A&&this.skinWeights.push(w[G.a],w[G.b],w[G.c])}this.computeGroups(a);this.verticesNeedUpdate=a.verticesNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;
this.uvsNeedUpdate=a.uvsNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return this}}function arrayMax$$module$node_modules$three$build$three_module(a){if(0===a.length)return-Infinity;let b=a[0];for(let c=1,d=a.length;c<d;++c)a[c]>b&&(b=a[c]);return b}let _bufferGeometryId$$module$node_modules$three$build$three_module=1;
const _m1$2$$module$node_modules$three$build$three_module=new Matrix4$$module$node_modules$three$build$three_module,_obj$$module$node_modules$three$build$three_module=new Object3D$$module$node_modules$three$build$three_module,_offset$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_box$2$$module$node_modules$three$build$three_module=new Box3$$module$node_modules$three$build$three_module,_boxMorphTargets$$module$node_modules$three$build$three_module=
new Box3$$module$node_modules$three$build$three_module,_vector$4$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module;
function BufferGeometry$$module$node_modules$three$build$three_module(){Object.defineProperty(this,"id",{value:_bufferGeometryId$$module$node_modules$three$build$three_module+=2});this.uuid=MathUtils$$module$node_modules$three$build$three_module.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.morphTargetsRelative=!1;this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity};this.userData={}}
BufferGeometry$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(EventDispatcher$$module$node_modules$three$build$three_module.prototype),{constructor:BufferGeometry$$module$node_modules$three$build$three_module,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(a){Array.isArray(a)?this.index=new (65535<arrayMax$$module$node_modules$three$build$three_module(a)?Uint32BufferAttribute$$module$node_modules$three$build$three_module:Uint16BufferAttribute$$module$node_modules$three$build$three_module)(a,
1):this.index=a},getAttribute:function(a){return this.attributes[a]},setAttribute:function(a,b){this.attributes[a]=b;return this},deleteAttribute:function(a){delete this.attributes[a];return this},addGroup:function(a,b,c){this.groups.push({start:a,count:b,materialIndex:void 0!==c?c:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(a,b){this.drawRange.start=a;this.drawRange.count=b},applyMatrix4:function(a){var b=this.attributes.position;void 0!==b&&(b.applyMatrix4(a),b.needsUpdate=
!0);b=this.attributes.normal;if(void 0!==b){const c=(new Matrix3$$module$node_modules$three$build$three_module).getNormalMatrix(a);b.applyNormalMatrix(c);b.needsUpdate=!0}b=this.attributes.tangent;void 0!==b&&(b.transformDirection(a),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();return this},rotateX:function(a){_m1$2$$module$node_modules$three$build$three_module.makeRotationX(a);this.applyMatrix4(_m1$2$$module$node_modules$three$build$three_module);
return this},rotateY:function(a){_m1$2$$module$node_modules$three$build$three_module.makeRotationY(a);this.applyMatrix4(_m1$2$$module$node_modules$three$build$three_module);return this},rotateZ:function(a){_m1$2$$module$node_modules$three$build$three_module.makeRotationZ(a);this.applyMatrix4(_m1$2$$module$node_modules$three$build$three_module);return this},translate:function(a,b,c){_m1$2$$module$node_modules$three$build$three_module.makeTranslation(a,b,c);this.applyMatrix4(_m1$2$$module$node_modules$three$build$three_module);
return this},scale:function(a,b,c){_m1$2$$module$node_modules$three$build$three_module.makeScale(a,b,c);this.applyMatrix4(_m1$2$$module$node_modules$three$build$three_module);return this},lookAt:function(a){_obj$$module$node_modules$three$build$three_module.lookAt(a);_obj$$module$node_modules$three$build$three_module.updateMatrix();this.applyMatrix4(_obj$$module$node_modules$three$build$three_module.matrix);return this},center:function(){this.computeBoundingBox();this.boundingBox.getCenter(_offset$$module$node_modules$three$build$three_module).negate();
this.translate(_offset$$module$node_modules$three$build$three_module.x,_offset$$module$node_modules$three$build$three_module.y,_offset$$module$node_modules$three$build$three_module.z);return this},setFromObject:function(a){const b=a.geometry;if(a.isPoints||a.isLine){a=new Float32BufferAttribute$$module$node_modules$three$build$three_module(3*b.vertices.length,3);const c=new Float32BufferAttribute$$module$node_modules$three$build$three_module(3*b.colors.length,3);this.setAttribute("position",a.copyVector3sArray(b.vertices));
this.setAttribute("color",c.copyColorsArray(b.colors));b.lineDistances&&b.lineDistances.length===b.vertices.length&&(a=new Float32BufferAttribute$$module$node_modules$three$build$three_module(b.lineDistances.length,1),this.setAttribute("lineDistance",a.copyArray(b.lineDistances)));null!==b.boundingSphere&&(this.boundingSphere=b.boundingSphere.clone());null!==b.boundingBox&&(this.boundingBox=b.boundingBox.clone())}else a.isMesh&&b&&b.isGeometry&&this.fromGeometry(b);return this},setFromPoints:function(a){const b=
[];for(let c=0,d=a.length;c<d;c++){const e=a[c];b.push(e.x,e.y,e.z||0)}this.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(b,3));return this},updateFromObject:function(a){let b=a.geometry;if(a.isMesh){var c=b.__directGeometry;!0===b.elementsNeedUpdate&&(c=void 0,b.elementsNeedUpdate=!1);if(void 0===c)return this.fromGeometry(b);c.verticesNeedUpdate=b.verticesNeedUpdate;c.normalsNeedUpdate=b.normalsNeedUpdate;c.colorsNeedUpdate=b.colorsNeedUpdate;c.uvsNeedUpdate=
b.uvsNeedUpdate;c.groupsNeedUpdate=b.groupsNeedUpdate;b.verticesNeedUpdate=!1;b.normalsNeedUpdate=!1;b.colorsNeedUpdate=!1;b.uvsNeedUpdate=!1;b.groupsNeedUpdate=!1;b=c}!0===b.verticesNeedUpdate&&(c=this.attributes.position,void 0!==c&&(c.copyVector3sArray(b.vertices),c.needsUpdate=!0),b.verticesNeedUpdate=!1);!0===b.normalsNeedUpdate&&(c=this.attributes.normal,void 0!==c&&(c.copyVector3sArray(b.normals),c.needsUpdate=!0),b.normalsNeedUpdate=!1);!0===b.colorsNeedUpdate&&(c=this.attributes.color,void 0!==
c&&(c.copyColorsArray(b.colors),c.needsUpdate=!0),b.colorsNeedUpdate=!1);b.uvsNeedUpdate&&(c=this.attributes.uv,void 0!==c&&(c.copyVector2sArray(b.uvs),c.needsUpdate=!0),b.uvsNeedUpdate=!1);b.lineDistancesNeedUpdate&&(c=this.attributes.lineDistance,void 0!==c&&(c.copyArray(b.lineDistances),c.needsUpdate=!0),b.lineDistancesNeedUpdate=!1);b.groupsNeedUpdate&&(b.computeGroups(a.geometry),this.groups=b.groups,b.groupsNeedUpdate=!1);return this},fromGeometry:function(a){a.__directGeometry=(new DirectGeometry$$module$node_modules$three$build$three_module).fromGeometry(a);
return this.fromDirectGeometry(a.__directGeometry)},fromDirectGeometry:function(a){var b=new Float32Array(3*a.vertices.length);this.setAttribute("position",(new BufferAttribute$$module$node_modules$three$build$three_module(b,3)).copyVector3sArray(a.vertices));0<a.normals.length&&(b=new Float32Array(3*a.normals.length),this.setAttribute("normal",(new BufferAttribute$$module$node_modules$three$build$three_module(b,3)).copyVector3sArray(a.normals)));0<a.colors.length&&(b=new Float32Array(3*a.colors.length),
this.setAttribute("color",(new BufferAttribute$$module$node_modules$three$build$three_module(b,3)).copyColorsArray(a.colors)));0<a.uvs.length&&(b=new Float32Array(2*a.uvs.length),this.setAttribute("uv",(new BufferAttribute$$module$node_modules$three$build$three_module(b,2)).copyVector2sArray(a.uvs)));0<a.uvs2.length&&(b=new Float32Array(2*a.uvs2.length),this.setAttribute("uv2",(new BufferAttribute$$module$node_modules$three$build$three_module(b,2)).copyVector2sArray(a.uvs2)));this.groups=a.groups;
for(var c in a.morphTargets){b=[];const d=a.morphTargets[c];for(let e=0,g=d.length;e<g;e++){const h=d[e],k=new Float32BufferAttribute$$module$node_modules$three$build$three_module(3*h.data.length,3);k.name=h.name;b.push(k.copyVector3sArray(h.data))}this.morphAttributes[c]=b}0<a.skinIndices.length&&(c=new Float32BufferAttribute$$module$node_modules$three$build$three_module(4*a.skinIndices.length,4),this.setAttribute("skinIndex",c.copyVector4sArray(a.skinIndices)));0<a.skinWeights.length&&(c=new Float32BufferAttribute$$module$node_modules$three$build$three_module(4*
a.skinWeights.length,4),this.setAttribute("skinWeight",c.copyVector4sArray(a.skinWeights)));null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Box3$$module$node_modules$three$build$three_module);const a=this.attributes.position,b=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',
this),this.boundingBox.set(new Vector3$$module$node_modules$three$build$three_module(-Infinity,-Infinity,-Infinity),new Vector3$$module$node_modules$three$build$three_module(Infinity,Infinity,Infinity));else{if(void 0!==a){if(this.boundingBox.setFromBufferAttribute(a),b)for(let c=0,d=b.length;c<d;c++)_box$2$$module$node_modules$three$build$three_module.setFromBufferAttribute(b[c]),this.morphTargetsRelative?(_vector$4$$module$node_modules$three$build$three_module.addVectors(this.boundingBox.min,_box$2$$module$node_modules$three$build$three_module.min),
this.boundingBox.expandByPoint(_vector$4$$module$node_modules$three$build$three_module),_vector$4$$module$node_modules$three$build$three_module.addVectors(this.boundingBox.max,_box$2$$module$node_modules$three$build$three_module.max),this.boundingBox.expandByPoint(_vector$4$$module$node_modules$three$build$three_module)):(this.boundingBox.expandByPoint(_box$2$$module$node_modules$three$build$three_module.min),this.boundingBox.expandByPoint(_box$2$$module$node_modules$three$build$three_module.max))}else this.boundingBox.makeEmpty();
(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Sphere$$module$node_modules$three$build$three_module);const a=this.attributes.position,b=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',
this),this.boundingSphere.set(new Vector3$$module$node_modules$three$build$three_module,Infinity);else if(a){const c=this.boundingSphere.center;_box$2$$module$node_modules$three$build$three_module.setFromBufferAttribute(a);if(b)for(let e=0,g=b.length;e<g;e++)_boxMorphTargets$$module$node_modules$three$build$three_module.setFromBufferAttribute(b[e]),this.morphTargetsRelative?(_vector$4$$module$node_modules$three$build$three_module.addVectors(_box$2$$module$node_modules$three$build$three_module.min,
_boxMorphTargets$$module$node_modules$three$build$three_module.min),_box$2$$module$node_modules$three$build$three_module.expandByPoint(_vector$4$$module$node_modules$three$build$three_module),_vector$4$$module$node_modules$three$build$three_module.addVectors(_box$2$$module$node_modules$three$build$three_module.max,_boxMorphTargets$$module$node_modules$three$build$three_module.max),_box$2$$module$node_modules$three$build$three_module.expandByPoint(_vector$4$$module$node_modules$three$build$three_module)):
(_box$2$$module$node_modules$three$build$three_module.expandByPoint(_boxMorphTargets$$module$node_modules$three$build$three_module.min),_box$2$$module$node_modules$three$build$three_module.expandByPoint(_boxMorphTargets$$module$node_modules$three$build$three_module.max));_box$2$$module$node_modules$three$build$three_module.getCenter(c);let d=0;for(let e=0,g=a.count;e<g;e++)_vector$4$$module$node_modules$three$build$three_module.fromBufferAttribute(a,e),d=Math.max(d,c.distanceToSquared(_vector$4$$module$node_modules$three$build$three_module));
if(b)for(let e=0,g=b.length;e<g;e++){const h=b[e],k=this.morphTargetsRelative;for(let l=0,m=h.count;l<m;l++)_vector$4$$module$node_modules$three$build$three_module.fromBufferAttribute(h,l),k&&(_offset$$module$node_modules$three$build$three_module.fromBufferAttribute(a,l),_vector$4$$module$node_modules$three$build$three_module.add(_offset$$module$node_modules$three$build$three_module)),d=Math.max(d,c.distanceToSquared(_vector$4$$module$node_modules$three$build$three_module))}this.boundingSphere.radius=
Math.sqrt(d);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const a=this.index,b=this.getAttribute("position");if(void 0!==b){let c=this.getAttribute("normal");if(void 0===c)c=new BufferAttribute$$module$node_modules$three$build$three_module(new Float32Array(3*b.count),3),this.setAttribute("normal",
c);else for(let p=0,t=c.count;p<t;p++)c.setXYZ(p,0,0,0);const d=new Vector3$$module$node_modules$three$build$three_module,e=new Vector3$$module$node_modules$three$build$three_module,g=new Vector3$$module$node_modules$three$build$three_module,h=new Vector3$$module$node_modules$three$build$three_module,k=new Vector3$$module$node_modules$three$build$three_module,l=new Vector3$$module$node_modules$three$build$three_module,m=new Vector3$$module$node_modules$three$build$three_module,n=new Vector3$$module$node_modules$three$build$three_module;
if(a)for(let p=0,t=a.count;p<t;p+=3){const w=a.getX(p+0),x=a.getX(p+1),A=a.getX(p+2);d.fromBufferAttribute(b,w);e.fromBufferAttribute(b,x);g.fromBufferAttribute(b,A);m.subVectors(g,e);n.subVectors(d,e);m.cross(n);h.fromBufferAttribute(c,w);k.fromBufferAttribute(c,x);l.fromBufferAttribute(c,A);h.add(m);k.add(m);l.add(m);c.setXYZ(w,h.x,h.y,h.z);c.setXYZ(x,k.x,k.y,k.z);c.setXYZ(A,l.x,l.y,l.z)}else for(let p=0,t=b.count;p<t;p+=3)d.fromBufferAttribute(b,p+0),e.fromBufferAttribute(b,p+1),g.fromBufferAttribute(b,
p+2),m.subVectors(g,e),n.subVectors(d,e),m.cross(n),c.setXYZ(p+0,m.x,m.y,m.z),c.setXYZ(p+1,m.x,m.y,m.z),c.setXYZ(p+2,m.x,m.y,m.z);this.normalizeNormals();c.needsUpdate=!0}},merge:function(a,b){if(a&&a.isBufferGeometry){void 0===b&&(b=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var c=this.attributes;for(const e in c){if(void 0===a.attributes[e])continue;const g=c[e].array;var d=
a.attributes[e];const h=d.array;d=d.itemSize*b;const k=Math.min(h.length,g.length-d);for(let l=0,m=d;l<k;l++,m++)g[m]=h[l]}return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",a)},normalizeNormals:function(){const a=this.attributes.normal;for(let b=0,c=a.count;b<c;b++)_vector$4$$module$node_modules$three$build$three_module.fromBufferAttribute(a,b),_vector$4$$module$node_modules$three$build$three_module.normalize(),a.setXYZ(b,_vector$4$$module$node_modules$three$build$three_module.x,
_vector$4$$module$node_modules$three$build$three_module.y,_vector$4$$module$node_modules$three$build$three_module.z)},toNonIndexed:function(){function a(k,l){const m=k.array,n=k.itemSize;k=k.normalized;const p=new m.constructor(l.length*n);let t,w=0;for(let x=0,A=l.length;x<A;x++){t=l[x]*n;for(let r=0;r<n;r++)p[w++]=m[t++]}return new BufferAttribute$$module$node_modules$three$build$three_module(p,n,k)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),
this;const b=new BufferGeometry$$module$node_modules$three$build$three_module;var c=this.index.array,d=this.attributes;for(var e in d){var g=a(d[e],c);b.setAttribute(e,g)}d=this.morphAttributes;for(var h in d){e=[];g=d[h];for(let k=0,l=g.length;k<l;k++){const m=a(g[k],c);e.push(m)}b.morphAttributes[h]=e}b.morphTargetsRelative=this.morphTargetsRelative;c=this.groups;for(let k=0,l=c.length;k<l;k++)h=c[k],b.addGroup(h.start,h.count,h.materialIndex);return b},toJSON:function(){const a={metadata:{version:4.5,
type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};a.uuid=this.uuid;a.type=this.type;""!==this.name&&(a.name=this.name);0<Object.keys(this.userData).length&&(a.userData=this.userData);if(void 0!==this.parameters){var b=this.parameters;for(var c in b)void 0!==b[c]&&(a[c]=b[c]);return a}a.data={attributes:{}};c=this.index;null!==c&&(a.data.index={type:c.array.constructor.name,array:Array.prototype.slice.call(c.array)});c=this.attributes;for(var d in c){var e=c[d],g=e.toJSON(a.data);""!==e.name&&
(g.name=e.name);a.data.attributes[d]=g}d={};c=!1;for(b in this.morphAttributes){e=this.morphAttributes[b];g=[];for(let h=0,k=e.length;h<k;h++){const l=e[h],m=l.toJSON(a.data);""!==l.name&&(m.name=l.name);g.push(m)}0<g.length&&(d[b]=g,c=!0)}c&&(a.data.morphAttributes=d,a.data.morphTargetsRelative=this.morphTargetsRelative);b=this.groups;0<b.length&&(a.data.groups=JSON.parse(JSON.stringify(b)));b=this.boundingSphere;null!==b&&(a.data.boundingSphere={center:b.center.toArray(),radius:b.radius});return a},
clone:function(){return(new BufferGeometry$$module$node_modules$three$build$three_module).copy(this)},copy:function(a){this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;var b={};this.name=a.name;var c=a.index;null!==c&&this.setIndex(c.clone(b));c=a.attributes;for(var d in c)this.setAttribute(d,c[d].clone(b));d=a.morphAttributes;for(var e in d){c=[];const g=d[e];for(let h=0,k=g.length;h<k;h++)c.push(g[h].clone(b));this.morphAttributes[e]=
c}this.morphTargetsRelative=a.morphTargetsRelative;b=a.groups;for(let g=0,h=b.length;g<h;g++)e=b[g],this.addGroup(e.start,e.count,e.materialIndex);b=a.boundingBox;null!==b&&(this.boundingBox=b.clone());b=a.boundingSphere;null!==b&&(this.boundingSphere=b.clone());this.drawRange.start=a.drawRange.start;this.drawRange.count=a.drawRange.count;this.userData=a.userData;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
const _inverseMatrix$$module$node_modules$three$build$three_module=new Matrix4$$module$node_modules$three$build$three_module,_ray$$module$node_modules$three$build$three_module=new Ray$$module$node_modules$three$build$three_module,_sphere$$module$node_modules$three$build$three_module=new Sphere$$module$node_modules$three$build$three_module,_vA$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_vB$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,
_vC$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_tempA$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_tempB$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_tempC$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_morphA$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,
_morphB$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_morphC$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_uvA$$module$node_modules$three$build$three_module=new Vector2$$module$node_modules$three$build$three_module,_uvB$$module$node_modules$three$build$three_module=new Vector2$$module$node_modules$three$build$three_module,_uvC$$module$node_modules$three$build$three_module=new Vector2$$module$node_modules$three$build$three_module,
_intersectionPoint$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_intersectionPointWorld$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module;
function Mesh$$module$node_modules$three$build$three_module(a,b){Object3D$$module$node_modules$three$build$three_module.call(this);this.type="Mesh";this.geometry=void 0!==a?a:new BufferGeometry$$module$node_modules$three$build$three_module;this.material=void 0!==b?b:new MeshBasicMaterial$$module$node_modules$three$build$three_module;this.updateMorphTargets()}
Mesh$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Object3D$$module$node_modules$three$build$three_module.prototype),{constructor:Mesh$$module$node_modules$three$build$three_module,isMesh:!0,copy:function(a){Object3D$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);void 0!==a.morphTargetInfluences&&(this.morphTargetInfluences=a.morphTargetInfluences.slice());void 0!==a.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},
a.morphTargetDictionary));this.material=a.material;this.geometry=a.geometry;return this},updateMorphTargets:function(){var a=this.geometry;if(a.isBufferGeometry){a=a.morphAttributes;var b=Object.keys(a);if(0<b.length&&(a=a[b[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let c=0,d=a.length;c<d;c++)b=a[c].name||String(c),this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=c}}else a=a.morphTargets,void 0!==a&&0<a.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},
raycast:function(a,b){var c=this.geometry;const d=this.material;var e=this.matrixWorld;if(void 0!==d&&(null===c.boundingSphere&&c.computeBoundingSphere(),_sphere$$module$node_modules$three$build$three_module.copy(c.boundingSphere),_sphere$$module$node_modules$three$build$three_module.applyMatrix4(e),!1!==a.ray.intersectsSphere(_sphere$$module$node_modules$three$build$three_module)&&(_inverseMatrix$$module$node_modules$three$build$three_module.getInverse(e),_ray$$module$node_modules$three$build$three_module.copy(a.ray).applyMatrix4(_inverseMatrix$$module$node_modules$three$build$three_module),
null===c.boundingBox||!1!==_ray$$module$node_modules$three$build$three_module.intersectsBox(c.boundingBox))))if(c.isBufferGeometry){var g=c.index,h=c.attributes.position;e=c.morphAttributes.position;var k=c.morphTargetsRelative,l=c.attributes.uv,m=c.attributes.uv2,n=c.groups,p=c.drawRange;if(null!==g)if(Array.isArray(d))for(let A=0,r=n.length;A<r;A++){var t=n[A],w=d[t.materialIndex];c=Math.max(t.start,p.start);var x=Math.min(t.start+t.count,p.start+p.count);for(let E=c,B=x;E<B;E+=3){c=g.getX(E);x=
g.getX(E+1);const G=g.getX(E+2);if(c=checkBufferGeometryIntersection$$module$node_modules$three$build$three_module(this,w,a,_ray$$module$node_modules$three$build$three_module,h,e,k,l,m,c,x,G))c.faceIndex=Math.floor(E/3),c.face.materialIndex=t.materialIndex,b.push(c)}}else{c=Math.max(0,p.start);p=Math.min(g.count,p.start+p.count);for(let A=c,r=p;A<r;A+=3)if(c=g.getX(A),p=g.getX(A+1),n=g.getX(A+2),c=checkBufferGeometryIntersection$$module$node_modules$three$build$three_module(this,d,a,_ray$$module$node_modules$three$build$three_module,
h,e,k,l,m,c,p,n))c.faceIndex=Math.floor(A/3),b.push(c)}else if(void 0!==h)if(Array.isArray(d))for(let A=0,r=n.length;A<r;A++){g=n[A];t=d[g.materialIndex];c=Math.max(g.start,p.start);w=Math.min(g.start+g.count,p.start+p.count);for(let E=c,B=w;E<B;E+=3)if(c=checkBufferGeometryIntersection$$module$node_modules$three$build$three_module(this,t,a,_ray$$module$node_modules$three$build$three_module,h,e,k,l,m,E,E+1,E+2))c.faceIndex=Math.floor(E/3),c.face.materialIndex=g.materialIndex,b.push(c)}else{c=Math.max(0,
p.start);g=Math.min(h.count,p.start+p.count);for(let A=c,r=g;A<r;A+=3)if(c=checkBufferGeometryIntersection$$module$node_modules$three$build$three_module(this,d,a,_ray$$module$node_modules$three$build$three_module,h,e,k,l,m,A,A+1,A+2))c.faceIndex=Math.floor(A/3),b.push(c)}}else if(c.isGeometry){e=Array.isArray(d);k=c.vertices;l=c.faces;m=c.faceVertexUvs[0];0<m.length&&(h=m);for(let A=0,r=l.length;A<r;A++)if(m=l[A],c=e?d[m.materialIndex]:d,void 0!==c&&(g=k[m.a],p=k[m.b],n=k[m.c],c=checkIntersection$$module$node_modules$three$build$three_module(this,
c,a,_ray$$module$node_modules$three$build$three_module,g,p,n,_intersectionPoint$$module$node_modules$three$build$three_module)))h&&h[A]&&(t=h[A],_uvA$$module$node_modules$three$build$three_module.copy(t[0]),_uvB$$module$node_modules$three$build$three_module.copy(t[1]),_uvC$$module$node_modules$three$build$three_module.copy(t[2]),c.uv=Triangle$$module$node_modules$three$build$three_module.getUV(_intersectionPoint$$module$node_modules$three$build$three_module,g,p,n,_uvA$$module$node_modules$three$build$three_module,
_uvB$$module$node_modules$three$build$three_module,_uvC$$module$node_modules$three$build$three_module,new Vector2$$module$node_modules$three$build$three_module)),c.face=m,c.faceIndex=A,b.push(c)}}});
function checkIntersection$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h,k){if(null===(b.side===BackSide$$module$node_modules$three$build$three_module?d.intersectTriangle(h,g,e,!0,k):d.intersectTriangle(e,g,h,b.side!==DoubleSide$$module$node_modules$three$build$three_module,k)))return null;_intersectionPointWorld$$module$node_modules$three$build$three_module.copy(k);_intersectionPointWorld$$module$node_modules$three$build$three_module.applyMatrix4(a.matrixWorld);b=c.ray.origin.distanceTo(_intersectionPointWorld$$module$node_modules$three$build$three_module);
return b<c.near||b>c.far?null:{distance:b,point:_intersectionPointWorld$$module$node_modules$three$build$three_module.clone(),object:a}}
function checkBufferGeometryIntersection$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h,k,l,m,n,p){_vA$$module$node_modules$three$build$three_module.fromBufferAttribute(e,m);_vB$$module$node_modules$three$build$three_module.fromBufferAttribute(e,n);_vC$$module$node_modules$three$build$three_module.fromBufferAttribute(e,p);e=a.morphTargetInfluences;if(b.morphTargets&&g&&e){_morphA$$module$node_modules$three$build$three_module.set(0,0,0);_morphB$$module$node_modules$three$build$three_module.set(0,
0,0);_morphC$$module$node_modules$three$build$three_module.set(0,0,0);for(let t=0,w=g.length;t<w;t++){const x=e[t],A=g[t];0!==x&&(_tempA$$module$node_modules$three$build$three_module.fromBufferAttribute(A,m),_tempB$$module$node_modules$three$build$three_module.fromBufferAttribute(A,n),_tempC$$module$node_modules$three$build$three_module.fromBufferAttribute(A,p),h?(_morphA$$module$node_modules$three$build$three_module.addScaledVector(_tempA$$module$node_modules$three$build$three_module,x),_morphB$$module$node_modules$three$build$three_module.addScaledVector(_tempB$$module$node_modules$three$build$three_module,
x),_morphC$$module$node_modules$three$build$three_module.addScaledVector(_tempC$$module$node_modules$three$build$three_module,x)):(_morphA$$module$node_modules$three$build$three_module.addScaledVector(_tempA$$module$node_modules$three$build$three_module.sub(_vA$$module$node_modules$three$build$three_module),x),_morphB$$module$node_modules$three$build$three_module.addScaledVector(_tempB$$module$node_modules$three$build$three_module.sub(_vB$$module$node_modules$three$build$three_module),x),_morphC$$module$node_modules$three$build$three_module.addScaledVector(_tempC$$module$node_modules$three$build$three_module.sub(_vC$$module$node_modules$three$build$three_module),
x)))}_vA$$module$node_modules$three$build$three_module.add(_morphA$$module$node_modules$three$build$three_module);_vB$$module$node_modules$three$build$three_module.add(_morphB$$module$node_modules$three$build$three_module);_vC$$module$node_modules$three$build$three_module.add(_morphC$$module$node_modules$three$build$three_module)}a.isSkinnedMesh&&(a.boneTransform(m,_vA$$module$node_modules$three$build$three_module),a.boneTransform(n,_vB$$module$node_modules$three$build$three_module),a.boneTransform(p,
_vC$$module$node_modules$three$build$three_module));if(a=checkIntersection$$module$node_modules$three$build$three_module(a,b,c,d,_vA$$module$node_modules$three$build$three_module,_vB$$module$node_modules$three$build$three_module,_vC$$module$node_modules$three$build$three_module,_intersectionPoint$$module$node_modules$three$build$three_module))k&&(_uvA$$module$node_modules$three$build$three_module.fromBufferAttribute(k,m),_uvB$$module$node_modules$three$build$three_module.fromBufferAttribute(k,n),
_uvC$$module$node_modules$three$build$three_module.fromBufferAttribute(k,p),a.uv=Triangle$$module$node_modules$three$build$three_module.getUV(_intersectionPoint$$module$node_modules$three$build$three_module,_vA$$module$node_modules$three$build$three_module,_vB$$module$node_modules$three$build$three_module,_vC$$module$node_modules$three$build$three_module,_uvA$$module$node_modules$three$build$three_module,_uvB$$module$node_modules$three$build$three_module,_uvC$$module$node_modules$three$build$three_module,
new Vector2$$module$node_modules$three$build$three_module)),l&&(_uvA$$module$node_modules$three$build$three_module.fromBufferAttribute(l,m),_uvB$$module$node_modules$three$build$three_module.fromBufferAttribute(l,n),_uvC$$module$node_modules$three$build$three_module.fromBufferAttribute(l,p),a.uv2=Triangle$$module$node_modules$three$build$three_module.getUV(_intersectionPoint$$module$node_modules$three$build$three_module,_vA$$module$node_modules$three$build$three_module,_vB$$module$node_modules$three$build$three_module,
_vC$$module$node_modules$three$build$three_module,_uvA$$module$node_modules$three$build$three_module,_uvB$$module$node_modules$three$build$three_module,_uvC$$module$node_modules$three$build$three_module,new Vector2$$module$node_modules$three$build$three_module)),k=new Face3$$module$node_modules$three$build$three_module(m,n,p),Triangle$$module$node_modules$three$build$three_module.getNormal(_vA$$module$node_modules$three$build$three_module,_vB$$module$node_modules$three$build$three_module,_vC$$module$node_modules$three$build$three_module,
k.normal),a.face=k;return a}let _geometryId$$module$node_modules$three$build$three_module=0;const _m1$3$$module$node_modules$three$build$three_module=new Matrix4$$module$node_modules$three$build$three_module,_obj$1$$module$node_modules$three$build$three_module=new Object3D$$module$node_modules$three$build$three_module,_offset$1$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module;
function Geometry$$module$node_modules$three$build$three_module(){Object.defineProperty(this,"id",{value:_geometryId$$module$node_modules$three$build$three_module+=2});this.uuid=MathUtils$$module$node_modules$three$build$three_module.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=
this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}
Geometry$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(EventDispatcher$$module$node_modules$three$build$three_module.prototype),{constructor:Geometry$$module$node_modules$three$build$three_module,isGeometry:!0,applyMatrix4:function(a){const b=(new Matrix3$$module$node_modules$three$build$three_module).getNormalMatrix(a);for(let c=0,d=this.vertices.length;c<d;c++)this.vertices[c].applyMatrix4(a);for(let c=0,d=this.faces.length;c<d;c++){a=this.faces[c];a.normal.applyMatrix3(b).normalize();
for(let e=0,g=a.vertexNormals.length;e<g;e++)a.vertexNormals[e].applyMatrix3(b).normalize()}null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();this.normalsNeedUpdate=this.verticesNeedUpdate=!0;return this},rotateX:function(a){_m1$3$$module$node_modules$three$build$three_module.makeRotationX(a);this.applyMatrix4(_m1$3$$module$node_modules$three$build$three_module);return this},rotateY:function(a){_m1$3$$module$node_modules$three$build$three_module.makeRotationY(a);
this.applyMatrix4(_m1$3$$module$node_modules$three$build$three_module);return this},rotateZ:function(a){_m1$3$$module$node_modules$three$build$three_module.makeRotationZ(a);this.applyMatrix4(_m1$3$$module$node_modules$three$build$three_module);return this},translate:function(a,b,c){_m1$3$$module$node_modules$three$build$three_module.makeTranslation(a,b,c);this.applyMatrix4(_m1$3$$module$node_modules$three$build$three_module);return this},scale:function(a,b,c){_m1$3$$module$node_modules$three$build$three_module.makeScale(a,
b,c);this.applyMatrix4(_m1$3$$module$node_modules$three$build$three_module);return this},lookAt:function(a){_obj$1$$module$node_modules$three$build$three_module.lookAt(a);_obj$1$$module$node_modules$three$build$three_module.updateMatrix();this.applyMatrix4(_obj$1$$module$node_modules$three$build$three_module.matrix);return this},fromBufferGeometry:function(a){function b(n,p,t,w){const x=void 0===k?[]:[c.colors[n].clone(),c.colors[p].clone(),c.colors[t].clone()],A=void 0===h?[]:[(new Vector3$$module$node_modules$three$build$three_module).fromBufferAttribute(h,
n),(new Vector3$$module$node_modules$three$build$three_module).fromBufferAttribute(h,p),(new Vector3$$module$node_modules$three$build$three_module).fromBufferAttribute(h,t)];w=new Face3$$module$node_modules$three$build$three_module(n,p,t,A,x,w);c.faces.push(w);void 0!==l&&c.faceVertexUvs[0].push([(new Vector2$$module$node_modules$three$build$three_module).fromBufferAttribute(l,n),(new Vector2$$module$node_modules$three$build$three_module).fromBufferAttribute(l,p),(new Vector2$$module$node_modules$three$build$three_module).fromBufferAttribute(l,
t)]);void 0!==m&&c.faceVertexUvs[1].push([(new Vector2$$module$node_modules$three$build$three_module).fromBufferAttribute(m,n),(new Vector2$$module$node_modules$three$build$three_module).fromBufferAttribute(m,p),(new Vector2$$module$node_modules$three$build$three_module).fromBufferAttribute(m,t)])}const c=this;var d=null!==a.index?a.index:void 0,e=a.attributes;if(void 0===e.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var g=
e.position;const h=e.normal,k=e.color,l=e.uv,m=e.uv2;void 0!==m&&(this.faceVertexUvs[1]=[]);for(e=0;e<g.count;e++)c.vertices.push((new Vector3$$module$node_modules$three$build$three_module).fromBufferAttribute(g,e)),void 0!==k&&c.colors.push((new Color$$module$node_modules$three$build$three_module).fromBufferAttribute(k,e));e=a.groups;if(0<e.length)for(g=0;g<e.length;g++){const n=e[g],p=n.start,t=n.count;for(let w=p,x=p+t;w<x;w+=3)void 0!==d?b(d.getX(w),d.getX(w+1),d.getX(w+2),n.materialIndex):b(w,
w+1,w+2,n.materialIndex)}else if(void 0!==d)for(e=0;e<d.count;e+=3)b(d.getX(e),d.getX(e+1),d.getX(e+2));else for(d=0;d<g.count;d+=3)b(d,d+1,d+2);this.computeFaceNormals();null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this},center:function(){this.computeBoundingBox();this.boundingBox.getCenter(_offset$1$$module$node_modules$three$build$three_module).negate();this.translate(_offset$1$$module$node_modules$three$build$three_module.x,
_offset$1$$module$node_modules$three$build$three_module.y,_offset$1$$module$node_modules$three$build$three_module.z);return this},normalize:function(){this.computeBoundingSphere();const a=this.boundingSphere.center;var b=this.boundingSphere.radius;b=0===b?1:1/b;const c=new Matrix4$$module$node_modules$three$build$three_module;c.set(b,0,0,-b*a.x,0,b,0,-b*a.y,0,0,b,-b*a.z,0,0,0,1);this.applyMatrix4(c);return this},computeFaceNormals:function(){const a=new Vector3$$module$node_modules$three$build$three_module,
b=new Vector3$$module$node_modules$three$build$three_module;for(let c=0,d=this.faces.length;c<d;c++){const e=this.faces[c],g=this.vertices[e.a],h=this.vertices[e.b];a.subVectors(this.vertices[e.c],h);b.subVectors(g,h);a.cross(b);a.normalize();e.normal.copy(a)}},computeVertexNormals:function(a){void 0===a&&(a=!0);const b=Array(this.vertices.length);for(let d=0,e=this.vertices.length;d<e;d++)b[d]=new Vector3$$module$node_modules$three$build$three_module;if(a){a=new Vector3$$module$node_modules$three$build$three_module;
var c=new Vector3$$module$node_modules$three$build$three_module;for(let d=0,e=this.faces.length;d<e;d++){const g=this.faces[d],h=this.vertices[g.a],k=this.vertices[g.b];a.subVectors(this.vertices[g.c],k);c.subVectors(h,k);a.cross(c);b[g.a].add(a);b[g.b].add(a);b[g.c].add(a)}}else{this.computeFaceNormals();for(let d=0,e=this.faces.length;d<e;d++)a=this.faces[d],b[a.a].add(a.normal),b[a.b].add(a.normal),b[a.c].add(a.normal)}for(let d=0,e=this.vertices.length;d<e;d++)b[d].normalize();for(let d=0,e=this.faces.length;d<
e;d++)a=this.faces[d],c=a.vertexNormals,3===c.length?(c[0].copy(b[a.a]),c[1].copy(b[a.b]),c[2].copy(b[a.c])):(c[0]=b[a.a].clone(),c[1]=b[a.b].clone(),c[2]=b[a.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let a=0,b=this.faces.length;a<b;a++){const c=this.faces[a],d=c.vertexNormals;3===d.length?(d[0].copy(c.normal),d[1].copy(c.normal),d[2].copy(c.normal)):(d[0]=c.normal.clone(),d[1]=c.normal.clone(),d[2]=c.normal.clone())}0<
this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let e=0,g=this.faces.length;e<g;e++){var a=this.faces[e];a.__originalFaceNormal?a.__originalFaceNormal.copy(a.normal):a.__originalFaceNormal=a.normal.clone();a.__originalVertexNormals||(a.__originalVertexNormals=[]);for(let h=0,k=a.vertexNormals.length;h<k;h++)a.__originalVertexNormals[h]?a.__originalVertexNormals[h].copy(a.vertexNormals[h]):a.__originalVertexNormals[h]=a.vertexNormals[h].clone()}a=new Geometry$$module$node_modules$three$build$three_module;
a.faces=this.faces;for(let e=0,g=this.morphTargets.length;e<g;e++){if(!this.morphNormals[e]){this.morphNormals[e]={};this.morphNormals[e].faceNormals=[];this.morphNormals[e].vertexNormals=[];var b=this.morphNormals[e].faceNormals,c=this.morphNormals[e].vertexNormals;for(let h=0,k=this.faces.length;h<k;h++){var d=new Vector3$$module$node_modules$three$build$three_module;const l={a:new Vector3$$module$node_modules$three$build$three_module,b:new Vector3$$module$node_modules$three$build$three_module,
c:new Vector3$$module$node_modules$three$build$three_module};b.push(d);c.push(l)}}b=this.morphNormals[e];a.vertices=this.morphTargets[e].vertices;a.computeFaceNormals();a.computeVertexNormals();for(let h=0,k=this.faces.length;h<k;h++)c=this.faces[h],d=b.vertexNormals[h],b.faceNormals[h].copy(c.normal),d.a.copy(c.vertexNormals[0]),d.b.copy(c.vertexNormals[1]),d.c.copy(c.vertexNormals[2])}for(let e=0,g=this.faces.length;e<g;e++)a=this.faces[e],a.normal=a.__originalFaceNormal,a.vertexNormals=a.__originalVertexNormals},
computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Box3$$module$node_modules$three$build$three_module);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Sphere$$module$node_modules$three$build$three_module);this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,b,c){if(a&&a.isGeometry){var d,e=this.vertices.length,g=this.vertices,h=a.vertices,k=this.faces,l=a.faces,m=this.colors,
n=a.colors;void 0===c&&(c=0);void 0!==b&&(d=(new Matrix3$$module$node_modules$three$build$three_module).getNormalMatrix(b));for(let p=0,t=h.length;p<t;p++){const w=h[p].clone();void 0!==b&&w.applyMatrix4(b);g.push(w)}for(let p=0,t=n.length;p<t;p++)m.push(n[p].clone());for(let p=0,t=l.length;p<t;p++){b=l[p];n=b.vertexNormals;g=b.vertexColors;h=new Face3$$module$node_modules$three$build$three_module(b.a+e,b.b+e,b.c+e);h.normal.copy(b.normal);void 0!==d&&h.normal.applyMatrix3(d).normalize();for(let w=
0,x=n.length;w<x;w++)m=n[w].clone(),void 0!==d&&m.applyMatrix3(d).normalize(),h.vertexNormals.push(m);h.color.copy(b.color);for(let w=0,x=g.length;w<x;w++)m=g[w],h.vertexColors.push(m.clone());h.materialIndex=b.materialIndex+c;k.push(h)}for(let p=0,t=a.faceVertexUvs.length;p<t;p++){c=a.faceVertexUvs[p];void 0===this.faceVertexUvs[p]&&(this.faceVertexUvs[p]=[]);for(let w=0,x=c.length;w<x;w++){d=c[w];e=[];for(let A=0,r=d.length;A<r;A++)e.push(d[A].clone());this.faceVertexUvs[p].push(e)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",
a)},mergeMesh:function(a){a&&a.isMesh?(a.matrixAutoUpdate&&a.updateMatrix(),this.merge(a.geometry,a.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",a)},mergeVertices:function(){var a={};const b=[];var c=[],d=Math.pow(10,4);for(let g=0,h=this.vertices.length;g<h;g++){var e=this.vertices[g];e=Math.round(e.x*d)+"_"+Math.round(e.y*d)+"_"+Math.round(e.z*d);void 0===a[e]?(a[e]=g,b.push(this.vertices[g]),c[g]=b.length-1):c[g]=c[a[e]]}a=[];for(let g=0,h=this.faces.length;g<
h;g++)for(d=this.faces[g],d.a=c[d.a],d.b=c[d.b],d.c=c[d.c],d=[d.a,d.b,d.c],e=0;3>e;e++)if(d[e]===d[(e+1)%3]){a.push(g);break}for(c=a.length-1;0<=c;c--){d=a[c];this.faces.splice(d,1);for(let g=0,h=this.faceVertexUvs.length;g<h;g++)this.faceVertexUvs[g].splice(d,1)}c=this.vertices.length-b.length;this.vertices=b;return c},setFromPoints:function(a){this.vertices=[];for(let b=0,c=a.length;b<c;b++){const d=a[b];this.vertices.push(new Vector3$$module$node_modules$three$build$three_module(d.x,d.y,d.z||0))}return this},
sortFacesByMaterialIndex:function(){const a=this.faces,b=a.length;for(var c=0;c<b;c++)a[c]._id=c;a.sort(function(h,k){return h.materialIndex-k.materialIndex});c=this.faceVertexUvs[0];const d=this.faceVertexUvs[1];let e,g;c&&c.length===b&&(e=[]);d&&d.length===b&&(g=[]);for(let h=0;h<b;h++){const k=a[h]._id;e&&e.push(c[k]);g&&g.push(d[k])}e&&(this.faceVertexUvs[0]=e);g&&(this.faceVertexUvs[1]=g)},toJSON:function(){function a(E,B,G){return G?E|1<<B:E&~(1<<B)}function b(E){const B=E.x.toString()+E.y.toString()+
E.z.toString();if(void 0!==m[B])return m[B];m[B]=l.length/3;l.push(E.x,E.y,E.z);return m[B]}function c(E){const B=E.r.toString()+E.g.toString()+E.b.toString();if(void 0!==p[B])return p[B];p[B]=n.length;n.push(E.getHex());return p[B]}function d(E){const B=E.x.toString()+E.y.toString();if(void 0!==w[B])return w[B];w[B]=t.length/2;t.push(E.x,E.y);return w[B]}const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};e.uuid=this.uuid;e.type=this.type;""!==this.name&&(e.name=this.name);
if(void 0!==this.parameters){var g=this.parameters;for(var h in g)void 0!==g[h]&&(e[h]=g[h]);return e}g=[];for(h=0;h<this.vertices.length;h++){var k=this.vertices[h];g.push(k.x,k.y,k.z)}h=[];const l=[],m={},n=[],p={},t=[],w={};for(k=0;k<this.faces.length;k++){var x=this.faces[k],A=void 0!==this.faceVertexUvs[0][k],r=0<x.normal.length();const E=0<x.vertexNormals.length,B=1!==x.color.r||1!==x.color.g||1!==x.color.b,G=0<x.vertexColors.length;let H=0;H=a(H,0,0);H=a(H,1,!0);H=a(H,2,!1);H=a(H,3,A);H=a(H,
4,r);H=a(H,5,E);H=a(H,6,B);H=a(H,7,G);h.push(H);h.push(x.a,x.b,x.c);h.push(x.materialIndex);A&&(A=this.faceVertexUvs[0][k],h.push(d(A[0]),d(A[1]),d(A[2])));r&&h.push(b(x.normal));E&&(r=x.vertexNormals,h.push(b(r[0]),b(r[1]),b(r[2])));B&&h.push(c(x.color));G&&(x=x.vertexColors,h.push(c(x[0]),c(x[1]),c(x[2])))}e.data={};e.data.vertices=g;e.data.normals=l;0<n.length&&(e.data.colors=n);0<t.length&&(e.data.uvs=[t]);e.data.faces=h;return e},clone:function(){return(new Geometry$$module$node_modules$three$build$three_module).copy(this)},
copy:function(a){this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.name=a.name;var b=a.vertices;for(let e=0,g=b.length;e<g;e++)this.vertices.push(b[e].clone());b=a.colors;for(let e=0,g=b.length;e<g;e++)this.colors.push(b[e].clone());b=a.faces;for(let e=0,g=b.length;e<g;e++)this.faces.push(b[e].clone());for(let e=0,g=a.faceVertexUvs.length;e<
g;e++){b=a.faceVertexUvs[e];void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]);for(let h=0,k=b.length;h<k;h++){var c=b[h],d=[];for(let l=0,m=c.length;l<m;l++)d.push(c[l].clone());this.faceVertexUvs[e].push(d)}}b=a.morphTargets;for(let e=0,g=b.length;e<g;e++){c={};c.name=b[e].name;if(void 0!==b[e].vertices){c.vertices=[];for(let h=0,k=b[e].vertices.length;h<k;h++)c.vertices.push(b[e].vertices[h].clone())}if(void 0!==b[e].normals){c.normals=[];for(let h=0,k=b[e].normals.length;h<k;h++)c.normals.push(b[e].normals[h].clone())}this.morphTargets.push(c)}b=
a.morphNormals;for(let e=0,g=b.length;e<g;e++){c={};if(void 0!==b[e].vertexNormals){c.vertexNormals=[];for(let h=0,k=b[e].vertexNormals.length;h<k;h++){d=b[e].vertexNormals[h];const l={};l.a=d.a.clone();l.b=d.b.clone();l.c=d.c.clone();c.vertexNormals.push(l)}}if(void 0!==b[e].faceNormals){c.faceNormals=[];for(let h=0,k=b[e].faceNormals.length;h<k;h++)c.faceNormals.push(b[e].faceNormals[h].clone())}this.morphNormals.push(c)}b=a.skinWeights;for(let e=0,g=b.length;e<g;e++)this.skinWeights.push(b[e].clone());
b=a.skinIndices;for(let e=0,g=b.length;e<g;e++)this.skinIndices.push(b[e].clone());b=a.lineDistances;for(let e=0,g=b.length;e<g;e++)this.lineDistances.push(b[e]);b=a.boundingBox;null!==b&&(this.boundingBox=b.clone());b=a.boundingSphere;null!==b&&(this.boundingSphere=b.clone());this.elementsNeedUpdate=a.elementsNeedUpdate;this.verticesNeedUpdate=a.verticesNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.lineDistancesNeedUpdate=
a.lineDistancesNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
class BoxGeometry$$module$node_modules$three$build$three_module extends Geometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e,g){super();this.type="BoxGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:g};this.fromBufferGeometry(new BoxBufferGeometry$$module$node_modules$three$build$three_module(a,b,c,d,e,g));this.mergeVertices()}}
class BoxBufferGeometry$$module$node_modules$three$build$three_module extends BufferGeometry$$module$node_modules$three$build$three_module{constructor(a=1,b=1,c=1,d=1,e=1,g=1){function h(x,A,r,E,B,G,H,O,N,U,W){const J=G/N,aa=H/U,ba=G/2,z=H/2,K=O/2;H=N+1;const Q=U+1;let M=G=0;const L=new Vector3$$module$node_modules$three$build$three_module;for(let T=0;T<Q;T++){const X=T*aa-z;for(let y=0;y<H;y++)L[x]=(y*J-ba)*E,L[A]=X*B,L[r]=K,m.push(L.x,L.y,L.z),L[x]=0,L[A]=0,L[r]=0<O?1:-1,n.push(L.x,L.y,L.z),p.push(y/
N),p.push(1-T/U),G+=1}for(x=0;x<U;x++)for(A=0;A<N;A++)r=t+A+H*(x+1),E=t+(A+1)+H*(x+1),B=t+(A+1)+H*x,l.push(t+A+H*x,r,B),l.push(r,E,B),M+=6;k.addGroup(w,M,W);w+=M;t+=G}super();this.type="BoxBufferGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:g};const k=this;d=Math.floor(d);e=Math.floor(e);g=Math.floor(g);const l=[],m=[],n=[],p=[];let t=0,w=0;h("z","y","x",-1,-1,c,b,a,g,e,0);h("z","y","x",1,-1,c,b,-a,g,e,1);h("x","z","y",1,1,a,c,b,d,g,2);h("x","z",
"y",1,-1,a,c,-b,d,g,3);h("x","y","z",1,-1,a,b,c,d,e,4);h("x","y","z",-1,-1,a,b,-c,d,e,5);this.setIndex(l);this.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(m,3));this.setAttribute("normal",new Float32BufferAttribute$$module$node_modules$three$build$three_module(n,3));this.setAttribute("uv",new Float32BufferAttribute$$module$node_modules$three$build$three_module(p,2))}}
function cloneUniforms$$module$node_modules$three$build$three_module(a){const b={};for(const c in a){b[c]={};for(const d in a[c]){const e=a[c][d];e&&(e.isColor||e.isMatrix3||e.isMatrix4||e.isVector2||e.isVector3||e.isVector4||e.isTexture)?b[c][d]=e.clone():Array.isArray(e)?b[c][d]=e.slice():b[c][d]=e}}return b}
function mergeUniforms$$module$node_modules$three$build$three_module(a){const b={};for(let c=0;c<a.length;c++){const d=cloneUniforms$$module$node_modules$three$build$three_module(a[c]);for(const e in d)b[e]=d[e]}return b}const UniformsUtils$$module$node_modules$three$build$three_module={clone:cloneUniforms$$module$node_modules$three$build$three_module,merge:mergeUniforms$$module$node_modules$three$build$three_module};
var default_vertex$$module$node_modules$three$build$three_module="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",default_fragment$$module$node_modules$three$build$three_module="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";
function ShaderMaterial$$module$node_modules$three$build$three_module(a){Material$$module$node_modules$three$build$three_module.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader=default_vertex$$module$node_modules$three$build$three_module;this.fragmentShader=default_fragment$$module$node_modules$three$build$three_module;this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=
!1;this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;this.uniformsNeedUpdate=!1;this.glslVersion=null;void 0!==a&&(void 0!==a.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(a))}ShaderMaterial$$module$node_modules$three$build$three_module.prototype=Object.create(Material$$module$node_modules$three$build$three_module.prototype);
ShaderMaterial$$module$node_modules$three$build$three_module.prototype.constructor=ShaderMaterial$$module$node_modules$three$build$three_module;ShaderMaterial$$module$node_modules$three$build$three_module.prototype.isShaderMaterial=!0;
ShaderMaterial$$module$node_modules$three$build$three_module.prototype.copy=function(a){Material$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=cloneUniforms$$module$node_modules$three$build$three_module(a.uniforms);this.defines=Object.assign({},a.defines);this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.lights=a.lights;this.clipping=a.clipping;this.skinning=a.skinning;
this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;this.extensions=Object.assign({},a.extensions);this.glslVersion=a.glslVersion;return this};
ShaderMaterial$$module$node_modules$three$build$three_module.prototype.toJSON=function(a){const b=Material$$module$node_modules$three$build$three_module.prototype.toJSON.call(this,a);b.glslVersion=this.glslVersion;b.uniforms={};for(const c in this.uniforms){const d=this.uniforms[c].value;b.uniforms[c]=d&&d.isTexture?{type:"t",value:d.toJSON(a).uuid}:d&&d.isColor?{type:"c",value:d.getHex()}:d&&d.isVector2?{type:"v2",value:d.toArray()}:d&&d.isVector3?{type:"v3",value:d.toArray()}:d&&d.isVector4?{type:"v4",
value:d.toArray()}:d&&d.isMatrix3?{type:"m3",value:d.toArray()}:d&&d.isMatrix4?{type:"m4",value:d.toArray()}:{value:d}}0<Object.keys(this.defines).length&&(b.defines=this.defines);b.vertexShader=this.vertexShader;b.fragmentShader=this.fragmentShader;a={};for(const c in this.extensions)!0===this.extensions[c]&&(a[c]=!0);0<Object.keys(a).length&&(b.extensions=a);return b};
function Camera$$module$node_modules$three$build$three_module(){Object3D$$module$node_modules$three$build$three_module.call(this);this.type="Camera";this.matrixWorldInverse=new Matrix4$$module$node_modules$three$build$three_module;this.projectionMatrix=new Matrix4$$module$node_modules$three$build$three_module;this.projectionMatrixInverse=new Matrix4$$module$node_modules$three$build$three_module}
Camera$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Object3D$$module$node_modules$three$build$three_module.prototype),{constructor:Camera$$module$node_modules$three$build$three_module,isCamera:!0,copy:function(a,b){Object3D$$module$node_modules$three$build$three_module.prototype.copy.call(this,a,b);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);this.projectionMatrixInverse.copy(a.projectionMatrixInverse);return this},
getWorldDirection:function(a){void 0===a&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),a=new Vector3$$module$node_modules$three$build$three_module);this.updateMatrixWorld(!0);const b=this.matrixWorld.elements;return a.set(-b[8],-b[9],-b[10]).normalize()},updateMatrixWorld:function(a){Object3D$$module$node_modules$three$build$three_module.prototype.updateMatrixWorld.call(this,a);this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(a,b){Object3D$$module$node_modules$three$build$three_module.prototype.updateWorldMatrix.call(this,
a,b);this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}});
function PerspectiveCamera$$module$node_modules$three$build$three_module(a,b,c,d){Camera$$module$node_modules$three$build$three_module.call(this);this.type="PerspectiveCamera";this.fov=void 0!==a?a:50;this.zoom=1;this.near=void 0!==c?c:.1;this.far=void 0!==d?d:2E3;this.focus=10;this.aspect=void 0!==b?b:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}
PerspectiveCamera$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Camera$$module$node_modules$three$build$three_module.prototype),{constructor:PerspectiveCamera$$module$node_modules$three$build$three_module,isPerspectiveCamera:!0,copy:function(a,b){Camera$$module$node_modules$three$build$three_module.prototype.copy.call(this,a,b);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:
Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return this},setFocalLength:function(a){a=.5*this.getFilmHeight()/a;this.fov=2*MathUtils$$module$node_modules$three$build$three_module.RAD2DEG*Math.atan(a);this.updateProjectionMatrix()},getFocalLength:function(){const a=Math.tan(.5*MathUtils$$module$node_modules$three$build$three_module.DEG2RAD*this.fov);return.5*this.getFilmHeight()/a},getEffectiveFOV:function(){return 2*MathUtils$$module$node_modules$three$build$three_module.RAD2DEG*
Math.atan(Math.tan(.5*MathUtils$$module$node_modules$three$build$three_module.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(a,b,c,d,e,g){this.aspect=a/b;null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=c;this.view.offsetY=
d;this.view.width=e;this.view.height=g;this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()},updateProjectionMatrix:function(){const a=this.near;let b=a*Math.tan(.5*MathUtils$$module$node_modules$three$build$three_module.DEG2RAD*this.fov)/this.zoom,c=2*b,d=this.aspect*c,e=-.5*d;var g=this.view;if(null!==this.view&&this.view.enabled){const h=g.fullWidth,k=g.fullHeight;e+=g.offsetX*d/h;b-=g.offsetY*c/k;d*=g.width/h;c*=g.height/
k}g=this.filmOffset;0!==g&&(e+=a*g/this.getFilmWidth());this.projectionMatrix.makePerspective(e,e+d,b,b-c,a,this.far);this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(a){a=Object3D$$module$node_modules$three$build$three_module.prototype.toJSON.call(this,a);a.object.fov=this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=
this.filmGauge;a.object.filmOffset=this.filmOffset;return a}});const fov$$module$node_modules$three$build$three_module=90,aspect$$module$node_modules$three$build$three_module=1;
function CubeCamera$$module$node_modules$three$build$three_module(a,b,c){Object3D$$module$node_modules$three$build$three_module.call(this);this.type="CubeCamera";if(!0!==c.isWebGLCubeRenderTarget)console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");else{this.renderTarget=c;var d=new PerspectiveCamera$$module$node_modules$three$build$three_module(fov$$module$node_modules$three$build$three_module,aspect$$module$node_modules$three$build$three_module,
a,b);d.layers=this.layers;d.up.set(0,-1,0);d.lookAt(new Vector3$$module$node_modules$three$build$three_module(1,0,0));this.add(d);var e=new PerspectiveCamera$$module$node_modules$three$build$three_module(fov$$module$node_modules$three$build$three_module,aspect$$module$node_modules$three$build$three_module,a,b);e.layers=this.layers;e.up.set(0,-1,0);e.lookAt(new Vector3$$module$node_modules$three$build$three_module(-1,0,0));this.add(e);var g=new PerspectiveCamera$$module$node_modules$three$build$three_module(fov$$module$node_modules$three$build$three_module,
aspect$$module$node_modules$three$build$three_module,a,b);g.layers=this.layers;g.up.set(0,0,1);g.lookAt(new Vector3$$module$node_modules$three$build$three_module(0,1,0));this.add(g);var h=new PerspectiveCamera$$module$node_modules$three$build$three_module(fov$$module$node_modules$three$build$three_module,aspect$$module$node_modules$three$build$three_module,a,b);h.layers=this.layers;h.up.set(0,0,-1);h.lookAt(new Vector3$$module$node_modules$three$build$three_module(0,-1,0));this.add(h);var k=new PerspectiveCamera$$module$node_modules$three$build$three_module(fov$$module$node_modules$three$build$three_module,
aspect$$module$node_modules$three$build$three_module,a,b);k.layers=this.layers;k.up.set(0,-1,0);k.lookAt(new Vector3$$module$node_modules$three$build$three_module(0,0,1));this.add(k);var l=new PerspectiveCamera$$module$node_modules$three$build$three_module(fov$$module$node_modules$three$build$three_module,aspect$$module$node_modules$three$build$three_module,a,b);l.layers=this.layers;l.up.set(0,-1,0);l.lookAt(new Vector3$$module$node_modules$three$build$three_module(0,0,-1));this.add(l);this.update=
function(m,n){null===this.parent&&this.updateMatrixWorld();const p=m.xr.enabled,t=m.getRenderTarget();m.xr.enabled=!1;const w=c.texture.generateMipmaps;c.texture.generateMipmaps=!1;m.setRenderTarget(c,0);m.render(n,d);m.setRenderTarget(c,1);m.render(n,e);m.setRenderTarget(c,2);m.render(n,g);m.setRenderTarget(c,3);m.render(n,h);m.setRenderTarget(c,4);m.render(n,k);c.texture.generateMipmaps=w;m.setRenderTarget(c,5);m.render(n,l);m.setRenderTarget(t);m.xr.enabled=p};this.clear=function(m,n,p,t){const w=
m.getRenderTarget();for(let x=0;6>x;x++)m.setRenderTarget(c,x),m.clear(n,p,t);m.setRenderTarget(w)}}}CubeCamera$$module$node_modules$three$build$three_module.prototype=Object.create(Object3D$$module$node_modules$three$build$three_module.prototype);CubeCamera$$module$node_modules$three$build$three_module.prototype.constructor=CubeCamera$$module$node_modules$three$build$three_module;
function WebGLCubeRenderTarget$$module$node_modules$three$build$three_module(a,b,c){Number.isInteger(b)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),b=c);WebGLRenderTarget$$module$node_modules$three$build$three_module.call(this,a,a,b);this.texture.isWebGLCubeRenderTargetTexture=!0}WebGLCubeRenderTarget$$module$node_modules$three$build$three_module.prototype=Object.create(WebGLRenderTarget$$module$node_modules$three$build$three_module.prototype);
WebGLCubeRenderTarget$$module$node_modules$three$build$three_module.prototype.constructor=WebGLCubeRenderTarget$$module$node_modules$three$build$three_module;WebGLCubeRenderTarget$$module$node_modules$three$build$three_module.prototype.isWebGLCubeRenderTarget=!0;
WebGLCubeRenderTarget$$module$node_modules$three$build$three_module.prototype.fromEquirectangularTexture=function(a,b){this.texture.type=b.type;this.texture.format=RGBAFormat$$module$node_modules$three$build$three_module;this.texture.encoding=b.encoding;this.texture.generateMipmaps=b.generateMipmaps;this.texture.minFilter=b.minFilter;this.texture.magFilter=b.magFilter;var c=new BoxBufferGeometry$$module$node_modules$three$build$three_module(5,5,5),d=new ShaderMaterial$$module$node_modules$three$build$three_module({name:"CubemapFromEquirect",
uniforms:cloneUniforms$$module$node_modules$three$build$three_module({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",fragmentShader:"\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t",
side:BackSide$$module$node_modules$three$build$three_module,blending:NoBlending$$module$node_modules$three$build$three_module});d.uniforms.tEquirect.value=b;c=new Mesh$$module$node_modules$three$build$three_module(c,d);d=b.minFilter;b.minFilter===LinearMipmapLinearFilter$$module$node_modules$three$build$three_module&&(b.minFilter=LinearFilter$$module$node_modules$three$build$three_module);(new CubeCamera$$module$node_modules$three$build$three_module(1,10,this)).update(a,c);b.minFilter=d;c.geometry.dispose();
c.material.dispose();return this};
function DataTexture$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h,k,l,m,n,p){Texture$$module$node_modules$three$build$three_module.call(this,null,g,h,k,l,m,d,e,n,p);this.image={data:a||null,width:b||1,height:c||1};this.magFilter=void 0!==l?l:NearestFilter$$module$node_modules$three$build$three_module;this.minFilter=void 0!==m?m:NearestFilter$$module$node_modules$three$build$three_module;this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1;this.needsUpdate=!0}
DataTexture$$module$node_modules$three$build$three_module.prototype=Object.create(Texture$$module$node_modules$three$build$three_module.prototype);DataTexture$$module$node_modules$three$build$three_module.prototype.constructor=DataTexture$$module$node_modules$three$build$three_module;DataTexture$$module$node_modules$three$build$three_module.prototype.isDataTexture=!0;
const _sphere$1$$module$node_modules$three$build$three_module=new Sphere$$module$node_modules$three$build$three_module,_vector$5$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module;
class Frustum$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e,g){this.planes=[void 0!==a?a:new Plane$$module$node_modules$three$build$three_module,void 0!==b?b:new Plane$$module$node_modules$three$build$three_module,void 0!==c?c:new Plane$$module$node_modules$three$build$three_module,void 0!==d?d:new Plane$$module$node_modules$three$build$three_module,void 0!==e?e:new Plane$$module$node_modules$three$build$three_module,void 0!==g?g:new Plane$$module$node_modules$three$build$three_module]}set(a,
b,c,d,e,g){const h=this.planes;h[0].copy(a);h[1].copy(b);h[2].copy(c);h[3].copy(d);h[4].copy(e);h[5].copy(g);return this}clone(){return(new this.constructor).copy(this)}copy(a){const b=this.planes;for(let c=0;6>c;c++)b[c].copy(a.planes[c]);return this}setFromProjectionMatrix(a){const b=this.planes;var c=a.elements;a=c[0];const d=c[1],e=c[2],g=c[3],h=c[4],k=c[5],l=c[6],m=c[7],n=c[8],p=c[9],t=c[10],w=c[11],x=c[12],A=c[13],r=c[14];c=c[15];b[0].setComponents(g-a,m-h,w-n,c-x).normalize();b[1].setComponents(g+
a,m+h,w+n,c+x).normalize();b[2].setComponents(g+d,m+k,w+p,c+A).normalize();b[3].setComponents(g-d,m-k,w-p,c-A).normalize();b[4].setComponents(g-e,m-l,w-t,c-r).normalize();b[5].setComponents(g+e,m+l,w+t,c+r).normalize();return this}intersectsObject(a){const b=a.geometry;null===b.boundingSphere&&b.computeBoundingSphere();_sphere$1$$module$node_modules$three$build$three_module.copy(b.boundingSphere).applyMatrix4(a.matrixWorld);return this.intersectsSphere(_sphere$1$$module$node_modules$three$build$three_module)}intersectsSprite(a){_sphere$1$$module$node_modules$three$build$three_module.center.set(0,
0,0);_sphere$1$$module$node_modules$three$build$three_module.radius=.7071067811865476;_sphere$1$$module$node_modules$three$build$three_module.applyMatrix4(a.matrixWorld);return this.intersectsSphere(_sphere$1$$module$node_modules$three$build$three_module)}intersectsSphere(a){const b=this.planes,c=a.center;a=-a.radius;for(let d=0;6>d;d++)if(b[d].distanceToPoint(c)<a)return!1;return!0}intersectsBox(a){const b=this.planes;for(let c=0;6>c;c++){const d=b[c];_vector$5$$module$node_modules$three$build$three_module.x=
0<d.normal.x?a.max.x:a.min.x;_vector$5$$module$node_modules$three$build$three_module.y=0<d.normal.y?a.max.y:a.min.y;_vector$5$$module$node_modules$three$build$three_module.z=0<d.normal.z?a.max.z:a.min.z;if(0>d.distanceToPoint(_vector$5$$module$node_modules$three$build$three_module))return!1}return!0}containsPoint(a){const b=this.planes;for(let c=0;6>c;c++)if(0>b[c].distanceToPoint(a))return!1;return!0}}
function WebGLAnimation$$module$node_modules$three$build$three_module(){function a(g,h){d(g,h);e=b.requestAnimationFrame(a)}let b=null,c=!1,d=null,e=null;return{start:function(){!0!==c&&null!==d&&(e=b.requestAnimationFrame(a),c=!0)},stop:function(){b.cancelAnimationFrame(e);c=!1},setAnimationLoop:function(g){d=g},setContext:function(g){b=g}}}
function WebGLAttributes$$module$node_modules$three$build$three_module(a,b){function c(g,h){const k=g.array,l=g.usage,m=a.createBuffer();a.bindBuffer(h,m);a.bufferData(h,k,l);g.onUploadCallback();h=5126;k instanceof Float32Array?h=5126:k instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):k instanceof Uint16Array?h=5123:k instanceof Int16Array?h=5122:k instanceof Uint32Array?h=5125:k instanceof Int32Array?h=5124:k instanceof Int8Array?h=5120:
k instanceof Uint8Array&&(h=5121);return{buffer:m,type:h,bytesPerElement:k.BYTES_PER_ELEMENT,version:g.version}}const d=b.isWebGL2,e=new WeakMap;return{get:function(g){g.isInterleavedBufferAttribute&&(g=g.data);return e.get(g)},remove:function(g){g.isInterleavedBufferAttribute&&(g=g.data);const h=e.get(g);h&&(a.deleteBuffer(h.buffer),e.delete(g))},update:function(g,h){if(g.isGLBufferAttribute)h=e.get(g),(!h||h.version<g.version)&&e.set(g,{buffer:g.buffer,type:g.type,bytesPerElement:g.elementSize,
version:g.version});else{g.isInterleavedBufferAttribute&&(g=g.data);var k=e.get(g);if(void 0===k)e.set(g,c(g,h));else if(k.version<g.version){{const l=g.array,m=g.updateRange;a.bindBuffer(h,k.buffer);-1===m.count?a.bufferSubData(h,0,l):(d?a.bufferSubData(h,m.offset*l.BYTES_PER_ELEMENT,l,m.offset,m.count):a.bufferSubData(h,m.offset*l.BYTES_PER_ELEMENT,l.subarray(m.offset,m.offset+m.count)),m.count=-1)}k.version=g.version}}}}}
class PlaneGeometry$$module$node_modules$three$build$three_module extends Geometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d){super();this.type="PlaneGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};this.fromBufferGeometry(new PlaneBufferGeometry$$module$node_modules$three$build$three_module(a,b,c,d));this.mergeVertices()}}
class PlaneBufferGeometry$$module$node_modules$three$build$three_module extends BufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d){super();this.type="PlaneBufferGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};a=a||1;b=b||1;var e=a/2,g=b/2;c=Math.floor(c)||1;d=Math.floor(d)||1;const h=c+1;var k=d+1,l=a/c,m=b/d;b=[];a=[];const n=[],p=[];for(let t=0;t<k;t++){const w=t*m-g;for(let x=0;x<h;x++)a.push(x*l-e,-w,0),n.push(0,0,1),p.push(x/c),p.push(1-
t/d)}for(e=0;e<d;e++)for(g=0;g<c;g++)k=g+h*(e+1),l=g+1+h*(e+1),m=g+1+h*e,b.push(g+h*e,k,m),b.push(k,l,m);this.setIndex(b);this.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(a,3));this.setAttribute("normal",new Float32BufferAttribute$$module$node_modules$three$build$three_module(n,3));this.setAttribute("uv",new Float32BufferAttribute$$module$node_modules$three$build$three_module(p,2))}}
var alphamap_fragment$$module$node_modules$three$build$three_module="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment$$module$node_modules$three$build$three_module="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment$$module$node_modules$three$build$three_module="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment$$module$node_modules$three$build$three_module="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",
aomap_pars_fragment$$module$node_modules$three$build$three_module="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex$$module$node_modules$three$build$three_module="vec3 transformed = vec3( position );",beginnormal_vertex$$module$node_modules$three$build$three_module="vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs$$module$node_modules$three$build$three_module="vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",
bumpmap_pars_fragment$$module$node_modules$three$build$three_module="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",
clipping_planes_fragment$$module$node_modules$three$build$three_module="#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",
clipping_planes_pars_fragment$$module$node_modules$three$build$three_module="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex$$module$node_modules$three$build$three_module="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex$$module$node_modules$three$build$three_module="#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment$$module$node_modules$three$build$three_module=
"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment$$module$node_modules$three$build$three_module="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex$$module$node_modules$three$build$three_module="#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex$$module$node_modules$three$build$three_module="#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",
common$$module$node_modules$three$build$three_module="#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",
cube_uv_reflection_fragment$$module$node_modules$three$build$three_module="#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",
defaultnormal_vertex$$module$node_modules$three$build$three_module="vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",
displacementmap_pars_vertex$$module$node_modules$three$build$three_module="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex$$module$node_modules$three$build$three_module="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment$$module$node_modules$three$build$three_module=
"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment$$module$node_modules$three$build$three_module="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment$$module$node_modules$three$build$three_module="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment$$module$node_modules$three$build$three_module=
"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",
envmap_fragment$$module$node_modules$three$build$three_module="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",
envmap_common_pars_fragment$$module$node_modules$three$build$three_module="#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment$$module$node_modules$three$build$three_module="#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",
envmap_pars_vertex$$module$node_modules$three$build$three_module="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_vertex$$module$node_modules$three$build$three_module="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",
fog_vertex$$module$node_modules$three$build$three_module="#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex$$module$node_modules$three$build$three_module="#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment$$module$node_modules$three$build$three_module="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",
fog_pars_fragment$$module$node_modules$three$build$three_module="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment$$module$node_modules$three$build$three_module="#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",
lightmap_fragment$$module$node_modules$three$build$three_module="#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment$$module$node_modules$three$build$three_module="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex$$module$node_modules$three$build$three_module="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",
lights_pars_begin$$module$node_modules$three$build$three_module="uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",
envmap_physical_pars_fragment$$module$node_modules$three$build$three_module="#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",
lights_toon_fragment$$module$node_modules$three$build$three_module="ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment$$module$node_modules$three$build$three_module="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",
lights_phong_fragment$$module$node_modules$three$build$three_module="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment$$module$node_modules$three$build$three_module="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",
lights_physical_fragment$$module$node_modules$three$build$three_module="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",
lights_physical_pars_fragment$$module$node_modules$three$build$three_module="struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",
lights_fragment_begin$$module$node_modules$three$build$three_module="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",
lights_fragment_maps$$module$node_modules$three$build$three_module="#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",
lights_fragment_end$$module$node_modules$three$build$three_module="#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment$$module$node_modules$three$build$three_module="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",
logdepthbuf_pars_fragment$$module$node_modules$three$build$three_module="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex$$module$node_modules$three$build$three_module="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex$$module$node_modules$three$build$three_module=
"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment$$module$node_modules$three$build$three_module="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",
map_pars_fragment$$module$node_modules$three$build$three_module="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment$$module$node_modules$three$build$three_module="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",
map_particle_pars_fragment$$module$node_modules$three$build$three_module="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment$$module$node_modules$three$build$three_module="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",
metalnessmap_pars_fragment$$module$node_modules$three$build$three_module="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex$$module$node_modules$three$build$three_module="#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",
morphtarget_pars_vertex$$module$node_modules$three$build$three_module="#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex$$module$node_modules$three$build$three_module="#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",
normal_fragment_begin$$module$node_modules$three$build$three_module="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",
normal_fragment_maps$$module$node_modules$three$build$three_module="#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",
normalmap_pars_fragment$$module$node_modules$three$build$three_module="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",
clearcoat_normal_fragment_begin$$module$node_modules$three$build$three_module="#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps$$module$node_modules$three$build$three_module="#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",
clearcoat_pars_fragment$$module$node_modules$three$build$three_module="#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing$$module$node_modules$three$build$three_module="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",
premultiplied_alpha_fragment$$module$node_modules$three$build$three_module="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex$$module$node_modules$three$build$three_module="vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment$$module$node_modules$three$build$three_module="#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",
dithering_pars_fragment$$module$node_modules$three$build$three_module="#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment$$module$node_modules$three$build$three_module="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",
roughnessmap_pars_fragment$$module$node_modules$three$build$three_module="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment$$module$node_modules$three$build$three_module="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",
shadowmap_pars_vertex$$module$node_modules$three$build$three_module="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",
shadowmap_vertex$$module$node_modules$three$build$three_module="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",
shadowmask_pars_fragment$$module$node_modules$three$build$three_module="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",
skinbase_vertex$$module$node_modules$three$build$three_module="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex$$module$node_modules$three$build$three_module="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",
skinning_vertex$$module$node_modules$three$build$three_module="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex$$module$node_modules$three$build$three_module=
"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment$$module$node_modules$three$build$three_module=
"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment$$module$node_modules$three$build$three_module="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment$$module$node_modules$three$build$three_module="#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment$$module$node_modules$three$build$three_module=
"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",
transmissionmap_fragment$$module$node_modules$three$build$three_module="#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment$$module$node_modules$three$build$three_module="#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment$$module$node_modules$three$build$three_module="#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex$$module$node_modules$three$build$three_module=
"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex$$module$node_modules$three$build$three_module="#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment$$module$node_modules$three$build$three_module="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex$$module$node_modules$three$build$three_module="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",
uv2_vertex$$module$node_modules$three$build$three_module="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex$$module$node_modules$three$build$three_module="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",
background_frag$$module$node_modules$three$build$three_module="uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert$$module$node_modules$three$build$three_module="varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",
cube_frag$$module$node_modules$three$build$three_module="#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert$$module$node_modules$three$build$three_module="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",
depth_frag$$module$node_modules$three$build$three_module="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",
depth_vert$$module$node_modules$three$build$three_module="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",
distanceRGBA_frag$$module$node_modules$three$build$three_module="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",
distanceRGBA_vert$$module$node_modules$three$build$three_module="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",
equirect_frag$$module$node_modules$three$build$three_module="uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert$$module$node_modules$three$build$three_module="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",
linedashed_frag$$module$node_modules$three$build$three_module="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",
linedashed_vert$$module$node_modules$three$build$three_module="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",
meshbasic_frag$$module$node_modules$three$build$three_module="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshbasic_vert$$module$node_modules$three$build$three_module="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",
meshlambert_frag$$module$node_modules$three$build$three_module="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshlambert_vert$$module$node_modules$three$build$three_module="#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
meshmatcap_frag$$module$node_modules$three$build$three_module="#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshmatcap_vert$$module$node_modules$three$build$three_module="#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",
meshtoon_frag$$module$node_modules$three$build$three_module="#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshtoon_vert$$module$node_modules$three$build$three_module="#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
meshphong_frag$$module$node_modules$three$build$three_module="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshphong_vert$$module$node_modules$three$build$three_module="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
meshphysical_frag$$module$node_modules$three$build$three_module="#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshphysical_vert$$module$node_modules$three$build$three_module="#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
normal_frag$$module$node_modules$three$build$three_module="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",
normal_vert$$module$node_modules$three$build$three_module="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",
points_frag$$module$node_modules$three$build$three_module="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",
points_vert$$module$node_modules$three$build$three_module="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",
shadow_frag$$module$node_modules$three$build$three_module="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert$$module$node_modules$three$build$three_module=
"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag$$module$node_modules$three$build$three_module="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
sprite_vert$$module$node_modules$three$build$three_module="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}";
const ShaderChunk$$module$node_modules$three$build$three_module={alphamap_fragment:alphamap_fragment$$module$node_modules$three$build$three_module,alphamap_pars_fragment:alphamap_pars_fragment$$module$node_modules$three$build$three_module,alphatest_fragment:alphatest_fragment$$module$node_modules$three$build$three_module,aomap_fragment:aomap_fragment$$module$node_modules$three$build$three_module,aomap_pars_fragment:aomap_pars_fragment$$module$node_modules$three$build$three_module,begin_vertex:begin_vertex$$module$node_modules$three$build$three_module,
beginnormal_vertex:beginnormal_vertex$$module$node_modules$three$build$three_module,bsdfs:bsdfs$$module$node_modules$three$build$three_module,bumpmap_pars_fragment:bumpmap_pars_fragment$$module$node_modules$three$build$three_module,clipping_planes_fragment:clipping_planes_fragment$$module$node_modules$three$build$three_module,clipping_planes_pars_fragment:clipping_planes_pars_fragment$$module$node_modules$three$build$three_module,clipping_planes_pars_vertex:clipping_planes_pars_vertex$$module$node_modules$three$build$three_module,
clipping_planes_vertex:clipping_planes_vertex$$module$node_modules$three$build$three_module,color_fragment:color_fragment$$module$node_modules$three$build$three_module,color_pars_fragment:color_pars_fragment$$module$node_modules$three$build$three_module,color_pars_vertex:color_pars_vertex$$module$node_modules$three$build$three_module,color_vertex:color_vertex$$module$node_modules$three$build$three_module,common:common$$module$node_modules$three$build$three_module,cube_uv_reflection_fragment:cube_uv_reflection_fragment$$module$node_modules$three$build$three_module,
defaultnormal_vertex:defaultnormal_vertex$$module$node_modules$three$build$three_module,displacementmap_pars_vertex:displacementmap_pars_vertex$$module$node_modules$three$build$three_module,displacementmap_vertex:displacementmap_vertex$$module$node_modules$three$build$three_module,emissivemap_fragment:emissivemap_fragment$$module$node_modules$three$build$three_module,emissivemap_pars_fragment:emissivemap_pars_fragment$$module$node_modules$three$build$three_module,encodings_fragment:encodings_fragment$$module$node_modules$three$build$three_module,
encodings_pars_fragment:encodings_pars_fragment$$module$node_modules$three$build$three_module,envmap_fragment:envmap_fragment$$module$node_modules$three$build$three_module,envmap_common_pars_fragment:envmap_common_pars_fragment$$module$node_modules$three$build$three_module,envmap_pars_fragment:envmap_pars_fragment$$module$node_modules$three$build$three_module,envmap_pars_vertex:envmap_pars_vertex$$module$node_modules$three$build$three_module,envmap_physical_pars_fragment:envmap_physical_pars_fragment$$module$node_modules$three$build$three_module,
envmap_vertex:envmap_vertex$$module$node_modules$three$build$three_module,fog_vertex:fog_vertex$$module$node_modules$three$build$three_module,fog_pars_vertex:fog_pars_vertex$$module$node_modules$three$build$three_module,fog_fragment:fog_fragment$$module$node_modules$three$build$three_module,fog_pars_fragment:fog_pars_fragment$$module$node_modules$three$build$three_module,gradientmap_pars_fragment:gradientmap_pars_fragment$$module$node_modules$three$build$three_module,lightmap_fragment:lightmap_fragment$$module$node_modules$three$build$three_module,
lightmap_pars_fragment:lightmap_pars_fragment$$module$node_modules$three$build$three_module,lights_lambert_vertex:lights_lambert_vertex$$module$node_modules$three$build$three_module,lights_pars_begin:lights_pars_begin$$module$node_modules$three$build$three_module,lights_toon_fragment:lights_toon_fragment$$module$node_modules$three$build$three_module,lights_toon_pars_fragment:lights_toon_pars_fragment$$module$node_modules$three$build$three_module,lights_phong_fragment:lights_phong_fragment$$module$node_modules$three$build$three_module,
lights_phong_pars_fragment:lights_phong_pars_fragment$$module$node_modules$three$build$three_module,lights_physical_fragment:lights_physical_fragment$$module$node_modules$three$build$three_module,lights_physical_pars_fragment:lights_physical_pars_fragment$$module$node_modules$three$build$three_module,lights_fragment_begin:lights_fragment_begin$$module$node_modules$three$build$three_module,lights_fragment_maps:lights_fragment_maps$$module$node_modules$three$build$three_module,lights_fragment_end:lights_fragment_end$$module$node_modules$three$build$three_module,
logdepthbuf_fragment:logdepthbuf_fragment$$module$node_modules$three$build$three_module,logdepthbuf_pars_fragment:logdepthbuf_pars_fragment$$module$node_modules$three$build$three_module,logdepthbuf_pars_vertex:logdepthbuf_pars_vertex$$module$node_modules$three$build$three_module,logdepthbuf_vertex:logdepthbuf_vertex$$module$node_modules$three$build$three_module,map_fragment:map_fragment$$module$node_modules$three$build$three_module,map_pars_fragment:map_pars_fragment$$module$node_modules$three$build$three_module,
map_particle_fragment:map_particle_fragment$$module$node_modules$three$build$three_module,map_particle_pars_fragment:map_particle_pars_fragment$$module$node_modules$three$build$three_module,metalnessmap_fragment:metalnessmap_fragment$$module$node_modules$three$build$three_module,metalnessmap_pars_fragment:metalnessmap_pars_fragment$$module$node_modules$three$build$three_module,morphnormal_vertex:morphnormal_vertex$$module$node_modules$three$build$three_module,morphtarget_pars_vertex:morphtarget_pars_vertex$$module$node_modules$three$build$three_module,
morphtarget_vertex:morphtarget_vertex$$module$node_modules$three$build$three_module,normal_fragment_begin:normal_fragment_begin$$module$node_modules$three$build$three_module,normal_fragment_maps:normal_fragment_maps$$module$node_modules$three$build$three_module,normalmap_pars_fragment:normalmap_pars_fragment$$module$node_modules$three$build$three_module,clearcoat_normal_fragment_begin:clearcoat_normal_fragment_begin$$module$node_modules$three$build$three_module,clearcoat_normal_fragment_maps:clearcoat_normal_fragment_maps$$module$node_modules$three$build$three_module,
clearcoat_pars_fragment:clearcoat_pars_fragment$$module$node_modules$three$build$three_module,packing:packing$$module$node_modules$three$build$three_module,premultiplied_alpha_fragment:premultiplied_alpha_fragment$$module$node_modules$three$build$three_module,project_vertex:project_vertex$$module$node_modules$three$build$three_module,dithering_fragment:dithering_fragment$$module$node_modules$three$build$three_module,dithering_pars_fragment:dithering_pars_fragment$$module$node_modules$three$build$three_module,
roughnessmap_fragment:roughnessmap_fragment$$module$node_modules$three$build$three_module,roughnessmap_pars_fragment:roughnessmap_pars_fragment$$module$node_modules$three$build$three_module,shadowmap_pars_fragment:shadowmap_pars_fragment$$module$node_modules$three$build$three_module,shadowmap_pars_vertex:shadowmap_pars_vertex$$module$node_modules$three$build$three_module,shadowmap_vertex:shadowmap_vertex$$module$node_modules$three$build$three_module,shadowmask_pars_fragment:shadowmask_pars_fragment$$module$node_modules$three$build$three_module,
skinbase_vertex:skinbase_vertex$$module$node_modules$three$build$three_module,skinning_pars_vertex:skinning_pars_vertex$$module$node_modules$three$build$three_module,skinning_vertex:skinning_vertex$$module$node_modules$three$build$three_module,skinnormal_vertex:skinnormal_vertex$$module$node_modules$three$build$three_module,specularmap_fragment:specularmap_fragment$$module$node_modules$three$build$three_module,specularmap_pars_fragment:specularmap_pars_fragment$$module$node_modules$three$build$three_module,
tonemapping_fragment:tonemapping_fragment$$module$node_modules$three$build$three_module,tonemapping_pars_fragment:tonemapping_pars_fragment$$module$node_modules$three$build$three_module,transmissionmap_fragment:transmissionmap_fragment$$module$node_modules$three$build$three_module,transmissionmap_pars_fragment:transmissionmap_pars_fragment$$module$node_modules$three$build$three_module,uv_pars_fragment:uv_pars_fragment$$module$node_modules$three$build$three_module,uv_pars_vertex:uv_pars_vertex$$module$node_modules$three$build$three_module,
uv_vertex:uv_vertex$$module$node_modules$three$build$three_module,uv2_pars_fragment:uv2_pars_fragment$$module$node_modules$three$build$three_module,uv2_pars_vertex:uv2_pars_vertex$$module$node_modules$three$build$three_module,uv2_vertex:uv2_vertex$$module$node_modules$three$build$three_module,worldpos_vertex:worldpos_vertex$$module$node_modules$three$build$three_module,background_frag:background_frag$$module$node_modules$three$build$three_module,background_vert:background_vert$$module$node_modules$three$build$three_module,
cube_frag:cube_frag$$module$node_modules$three$build$three_module,cube_vert:cube_vert$$module$node_modules$three$build$three_module,depth_frag:depth_frag$$module$node_modules$three$build$three_module,depth_vert:depth_vert$$module$node_modules$three$build$three_module,distanceRGBA_frag:distanceRGBA_frag$$module$node_modules$three$build$three_module,distanceRGBA_vert:distanceRGBA_vert$$module$node_modules$three$build$three_module,equirect_frag:equirect_frag$$module$node_modules$three$build$three_module,
equirect_vert:equirect_vert$$module$node_modules$three$build$three_module,linedashed_frag:linedashed_frag$$module$node_modules$three$build$three_module,linedashed_vert:linedashed_vert$$module$node_modules$three$build$three_module,meshbasic_frag:meshbasic_frag$$module$node_modules$three$build$three_module,meshbasic_vert:meshbasic_vert$$module$node_modules$three$build$three_module,meshlambert_frag:meshlambert_frag$$module$node_modules$three$build$three_module,meshlambert_vert:meshlambert_vert$$module$node_modules$three$build$three_module,
meshmatcap_frag:meshmatcap_frag$$module$node_modules$three$build$three_module,meshmatcap_vert:meshmatcap_vert$$module$node_modules$three$build$three_module,meshtoon_frag:meshtoon_frag$$module$node_modules$three$build$three_module,meshtoon_vert:meshtoon_vert$$module$node_modules$three$build$three_module,meshphong_frag:meshphong_frag$$module$node_modules$three$build$three_module,meshphong_vert:meshphong_vert$$module$node_modules$three$build$three_module,meshphysical_frag:meshphysical_frag$$module$node_modules$three$build$three_module,
meshphysical_vert:meshphysical_vert$$module$node_modules$three$build$three_module,normal_frag:normal_frag$$module$node_modules$three$build$three_module,normal_vert:normal_vert$$module$node_modules$three$build$three_module,points_frag:points_frag$$module$node_modules$three$build$three_module,points_vert:points_vert$$module$node_modules$three$build$three_module,shadow_frag:shadow_frag$$module$node_modules$three$build$three_module,shadow_vert:shadow_vert$$module$node_modules$three$build$three_module,
sprite_frag:sprite_frag$$module$node_modules$three$build$three_module,sprite_vert:sprite_vert$$module$node_modules$three$build$three_module},UniformsLib$$module$node_modules$three$build$three_module={common:{diffuse:{value:new Color$$module$node_modules$three$build$three_module(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3$$module$node_modules$three$build$three_module},uv2Transform:{value:new Matrix3$$module$node_modules$three$build$three_module},alphaMap:{value:null}},
specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2$$module$node_modules$three$build$three_module(1,1)}},displacementmap:{displacementMap:{value:null},
displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:2.5E-4},fogNear:{value:1},fogFar:{value:2E3},fogColor:{value:new Color$$module$node_modules$three$build$three_module(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},
shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],
properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color$$module$node_modules$three$build$three_module(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},
map:{value:null},alphaMap:{value:null},uvTransform:{value:new Matrix3$$module$node_modules$three$build$three_module}},sprite:{diffuse:{value:new Color$$module$node_modules$three$build$three_module(15658734)},opacity:{value:1},center:{value:new Vector2$$module$node_modules$three$build$three_module(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Matrix3$$module$node_modules$three$build$three_module}}},ShaderLib$$module$node_modules$three$build$three_module={basic:{uniforms:mergeUniforms$$module$node_modules$three$build$three_module([UniformsLib$$module$node_modules$three$build$three_module.common,
UniformsLib$$module$node_modules$three$build$three_module.specularmap,UniformsLib$$module$node_modules$three$build$three_module.envmap,UniformsLib$$module$node_modules$three$build$three_module.aomap,UniformsLib$$module$node_modules$three$build$three_module.lightmap,UniformsLib$$module$node_modules$three$build$three_module.fog]),vertexShader:ShaderChunk$$module$node_modules$three$build$three_module.meshbasic_vert,fragmentShader:ShaderChunk$$module$node_modules$three$build$three_module.meshbasic_frag},
lambert:{uniforms:mergeUniforms$$module$node_modules$three$build$three_module([UniformsLib$$module$node_modules$three$build$three_module.common,UniformsLib$$module$node_modules$three$build$three_module.specularmap,UniformsLib$$module$node_modules$three$build$three_module.envmap,UniformsLib$$module$node_modules$three$build$three_module.aomap,UniformsLib$$module$node_modules$three$build$three_module.lightmap,UniformsLib$$module$node_modules$three$build$three_module.emissivemap,UniformsLib$$module$node_modules$three$build$three_module.fog,
UniformsLib$$module$node_modules$three$build$three_module.lights,{emissive:{value:new Color$$module$node_modules$three$build$three_module(0)}}]),vertexShader:ShaderChunk$$module$node_modules$three$build$three_module.meshlambert_vert,fragmentShader:ShaderChunk$$module$node_modules$three$build$three_module.meshlambert_frag},phong:{uniforms:mergeUniforms$$module$node_modules$three$build$three_module([UniformsLib$$module$node_modules$three$build$three_module.common,UniformsLib$$module$node_modules$three$build$three_module.specularmap,
UniformsLib$$module$node_modules$three$build$three_module.envmap,UniformsLib$$module$node_modules$three$build$three_module.aomap,UniformsLib$$module$node_modules$three$build$three_module.lightmap,UniformsLib$$module$node_modules$three$build$three_module.emissivemap,UniformsLib$$module$node_modules$three$build$three_module.bumpmap,UniformsLib$$module$node_modules$three$build$three_module.normalmap,UniformsLib$$module$node_modules$three$build$three_module.displacementmap,UniformsLib$$module$node_modules$three$build$three_module.fog,
UniformsLib$$module$node_modules$three$build$three_module.lights,{emissive:{value:new Color$$module$node_modules$three$build$three_module(0)},specular:{value:new Color$$module$node_modules$three$build$three_module(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk$$module$node_modules$three$build$three_module.meshphong_vert,fragmentShader:ShaderChunk$$module$node_modules$three$build$three_module.meshphong_frag},standard:{uniforms:mergeUniforms$$module$node_modules$three$build$three_module([UniformsLib$$module$node_modules$three$build$three_module.common,
UniformsLib$$module$node_modules$three$build$three_module.envmap,UniformsLib$$module$node_modules$three$build$three_module.aomap,UniformsLib$$module$node_modules$three$build$three_module.lightmap,UniformsLib$$module$node_modules$three$build$three_module.emissivemap,UniformsLib$$module$node_modules$three$build$three_module.bumpmap,UniformsLib$$module$node_modules$three$build$three_module.normalmap,UniformsLib$$module$node_modules$three$build$three_module.displacementmap,UniformsLib$$module$node_modules$three$build$three_module.roughnessmap,
UniformsLib$$module$node_modules$three$build$three_module.metalnessmap,UniformsLib$$module$node_modules$three$build$three_module.fog,UniformsLib$$module$node_modules$three$build$three_module.lights,{emissive:{value:new Color$$module$node_modules$three$build$three_module(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk$$module$node_modules$three$build$three_module.meshphysical_vert,fragmentShader:ShaderChunk$$module$node_modules$three$build$three_module.meshphysical_frag},
toon:{uniforms:mergeUniforms$$module$node_modules$three$build$three_module([UniformsLib$$module$node_modules$three$build$three_module.common,UniformsLib$$module$node_modules$three$build$three_module.aomap,UniformsLib$$module$node_modules$three$build$three_module.lightmap,UniformsLib$$module$node_modules$three$build$three_module.emissivemap,UniformsLib$$module$node_modules$three$build$three_module.bumpmap,UniformsLib$$module$node_modules$three$build$three_module.normalmap,UniformsLib$$module$node_modules$three$build$three_module.displacementmap,
UniformsLib$$module$node_modules$three$build$three_module.gradientmap,UniformsLib$$module$node_modules$three$build$three_module.fog,UniformsLib$$module$node_modules$three$build$three_module.lights,{emissive:{value:new Color$$module$node_modules$three$build$three_module(0)}}]),vertexShader:ShaderChunk$$module$node_modules$three$build$three_module.meshtoon_vert,fragmentShader:ShaderChunk$$module$node_modules$three$build$three_module.meshtoon_frag},matcap:{uniforms:mergeUniforms$$module$node_modules$three$build$three_module([UniformsLib$$module$node_modules$three$build$three_module.common,
UniformsLib$$module$node_modules$three$build$three_module.bumpmap,UniformsLib$$module$node_modules$three$build$three_module.normalmap,UniformsLib$$module$node_modules$three$build$three_module.displacementmap,UniformsLib$$module$node_modules$three$build$three_module.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk$$module$node_modules$three$build$three_module.meshmatcap_vert,fragmentShader:ShaderChunk$$module$node_modules$three$build$three_module.meshmatcap_frag},points:{uniforms:mergeUniforms$$module$node_modules$three$build$three_module([UniformsLib$$module$node_modules$three$build$three_module.points,
UniformsLib$$module$node_modules$three$build$three_module.fog]),vertexShader:ShaderChunk$$module$node_modules$three$build$three_module.points_vert,fragmentShader:ShaderChunk$$module$node_modules$three$build$three_module.points_frag},dashed:{uniforms:mergeUniforms$$module$node_modules$three$build$three_module([UniformsLib$$module$node_modules$three$build$three_module.common,UniformsLib$$module$node_modules$three$build$three_module.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk$$module$node_modules$three$build$three_module.linedashed_vert,
fragmentShader:ShaderChunk$$module$node_modules$three$build$three_module.linedashed_frag},depth:{uniforms:mergeUniforms$$module$node_modules$three$build$three_module([UniformsLib$$module$node_modules$three$build$three_module.common,UniformsLib$$module$node_modules$three$build$three_module.displacementmap]),vertexShader:ShaderChunk$$module$node_modules$three$build$three_module.depth_vert,fragmentShader:ShaderChunk$$module$node_modules$three$build$three_module.depth_frag},normal:{uniforms:mergeUniforms$$module$node_modules$three$build$three_module([UniformsLib$$module$node_modules$three$build$three_module.common,
UniformsLib$$module$node_modules$three$build$three_module.bumpmap,UniformsLib$$module$node_modules$three$build$three_module.normalmap,UniformsLib$$module$node_modules$three$build$three_module.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk$$module$node_modules$three$build$three_module.normal_vert,fragmentShader:ShaderChunk$$module$node_modules$three$build$three_module.normal_frag},sprite:{uniforms:mergeUniforms$$module$node_modules$three$build$three_module([UniformsLib$$module$node_modules$three$build$three_module.sprite,
UniformsLib$$module$node_modules$three$build$three_module.fog]),vertexShader:ShaderChunk$$module$node_modules$three$build$three_module.sprite_vert,fragmentShader:ShaderChunk$$module$node_modules$three$build$three_module.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3$$module$node_modules$three$build$three_module},t2D:{value:null}},vertexShader:ShaderChunk$$module$node_modules$three$build$three_module.background_vert,fragmentShader:ShaderChunk$$module$node_modules$three$build$three_module.background_frag},
cube:{uniforms:mergeUniforms$$module$node_modules$three$build$three_module([UniformsLib$$module$node_modules$three$build$three_module.envmap,{opacity:{value:1}}]),vertexShader:ShaderChunk$$module$node_modules$three$build$three_module.cube_vert,fragmentShader:ShaderChunk$$module$node_modules$three$build$three_module.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk$$module$node_modules$three$build$three_module.equirect_vert,fragmentShader:ShaderChunk$$module$node_modules$three$build$three_module.equirect_frag},
distanceRGBA:{uniforms:mergeUniforms$$module$node_modules$three$build$three_module([UniformsLib$$module$node_modules$three$build$three_module.common,UniformsLib$$module$node_modules$three$build$three_module.displacementmap,{referencePosition:{value:new Vector3$$module$node_modules$three$build$three_module},nearDistance:{value:1},farDistance:{value:1E3}}]),vertexShader:ShaderChunk$$module$node_modules$three$build$three_module.distanceRGBA_vert,fragmentShader:ShaderChunk$$module$node_modules$three$build$three_module.distanceRGBA_frag},
shadow:{uniforms:mergeUniforms$$module$node_modules$three$build$three_module([UniformsLib$$module$node_modules$three$build$three_module.lights,UniformsLib$$module$node_modules$three$build$three_module.fog,{color:{value:new Color$$module$node_modules$three$build$three_module(0)},opacity:{value:1}}]),vertexShader:ShaderChunk$$module$node_modules$three$build$three_module.shadow_vert,fragmentShader:ShaderChunk$$module$node_modules$three$build$three_module.shadow_frag}};
ShaderLib$$module$node_modules$three$build$three_module.physical={uniforms:mergeUniforms$$module$node_modules$three$build$three_module([ShaderLib$$module$node_modules$three$build$three_module.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2$$module$node_modules$three$build$three_module(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Color$$module$node_modules$three$build$three_module(0)},
transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:ShaderChunk$$module$node_modules$three$build$three_module.meshphysical_vert,fragmentShader:ShaderChunk$$module$node_modules$three$build$three_module.meshphysical_frag};
function WebGLBackground$$module$node_modules$three$build$three_module(a,b,c,d,e){function g(w,x){c.buffers.color.setClear(w.r,w.g,w.b,x,e)}const h=new Color$$module$node_modules$three$build$three_module(0);let k=0,l,m,n=null,p=0,t=null;return{getClearColor:function(){return h},setClearColor:function(w,x){h.set(w);k=void 0!==x?x:1;g(h,k)},getClearAlpha:function(){return k},setClearAlpha:function(w){k=w;g(h,k)},render:function(w,x,A,r){(x=!0===x.isScene?x.background:null)&&x.isTexture&&(x=b.get(x));
A=a.xr;(A=A.getSession&&A.getSession())&&"additive"===A.environmentBlendMode&&(x=null);null===x?g(h,k):x&&x.isColor&&(g(x,1),r=!0);(a.autoClear||r)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil);if(x&&(x.isCubeTexture||x.isWebGLCubeRenderTarget||x.isWebGLCubeRenderTargetTexture||x.mapping===CubeUVReflectionMapping$$module$node_modules$three$build$three_module)){void 0===m&&(m=new Mesh$$module$node_modules$three$build$three_module(new BoxBufferGeometry$$module$node_modules$three$build$three_module(1,
1,1),new ShaderMaterial$$module$node_modules$three$build$three_module({name:"BackgroundCubeMaterial",uniforms:cloneUniforms$$module$node_modules$three$build$three_module(ShaderLib$$module$node_modules$three$build$three_module.cube.uniforms),vertexShader:ShaderLib$$module$node_modules$three$build$three_module.cube.vertexShader,fragmentShader:ShaderLib$$module$node_modules$three$build$three_module.cube.fragmentShader,side:BackSide$$module$node_modules$three$build$three_module,depthTest:!1,depthWrite:!1,
fog:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(E,B,G){this.matrixWorld.copyPosition(G.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),d.update(m));x.isWebGLCubeRenderTarget&&(x=x.texture);m.material.uniforms.envMap.value=x;m.material.uniforms.flipEnvMap.value=x.isCubeTexture?-1:1;if(n!==x||p!==x.version||t!==a.toneMapping)m.material.needsUpdate=!0,n=x,p=x.version,t=a.toneMapping;
w.unshift(m,m.geometry,m.material,0,0,null)}else if(x&&x.isTexture){void 0===l&&(l=new Mesh$$module$node_modules$three$build$three_module(new PlaneBufferGeometry$$module$node_modules$three$build$three_module(2,2),new ShaderMaterial$$module$node_modules$three$build$three_module({name:"BackgroundMaterial",uniforms:cloneUniforms$$module$node_modules$three$build$three_module(ShaderLib$$module$node_modules$three$build$three_module.background.uniforms),vertexShader:ShaderLib$$module$node_modules$three$build$three_module.background.vertexShader,
fragmentShader:ShaderLib$$module$node_modules$three$build$three_module.background.fragmentShader,side:FrontSide$$module$node_modules$three$build$three_module,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),d.update(l));l.material.uniforms.t2D.value=x;!0===x.matrixAutoUpdate&&x.updateMatrix();l.material.uniforms.uvTransform.value.copy(x.matrix);if(n!==x||p!==x.version||t!==a.toneMapping)l.material.needsUpdate=
!0,n=x,p=x.version,t=a.toneMapping;w.unshift(l,l.geometry,l.material,0,0,null)}}}}
function WebGLBindingStates$$module$node_modules$three$build$three_module(a,b,c,d){function e(G){return d.isWebGL2?a.bindVertexArray(G):x.bindVertexArrayOES(G)}function g(G){return d.isWebGL2?a.deleteVertexArray(G):x.deleteVertexArrayOES(G)}function h(G){const H=[],O=[],N=[];for(let U=0;U<w;U++)H[U]=0,O[U]=0,N[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:O,attributeDivisors:N,object:G,attributes:{},index:null}}function k(){const G=B.newAttributes;for(let H=
0,O=G.length;H<O;H++)G[H]=0}function l(G){m(G,0)}function m(G,H){const O=B.enabledAttributes,N=B.attributeDivisors;B.newAttributes[G]=1;0===O[G]&&(a.enableVertexAttribArray(G),O[G]=1);N[G]!==H&&((d.isWebGL2?a:b.get("ANGLE_instanced_arrays"))[d.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](G,H),N[G]=H)}function n(){const G=B.newAttributes,H=B.enabledAttributes;for(let O=0,N=H.length;O<N;O++)H[O]!==G[O]&&(a.disableVertexAttribArray(O),H[O]=0)}function p(){t();B!==E&&(B=E,e(B.object))}function t(){E.geometry=
null;E.program=null;E.wireframe=!1}const w=a.getParameter(34921),x=d.isWebGL2?null:b.get("OES_vertex_array_object"),A=d.isWebGL2||null!==x,r={},E=h(null);let B=E;return{setup:function(G,H,O,N,U){var W=!1;if(A){W=!0===H.wireframe;var J=r[N.id];void 0===J&&(J={},r[N.id]=J);var aa=J[O.id];void 0===aa&&(aa={},J[O.id]=aa);J=aa[W];void 0===J&&(J=h(d.isWebGL2?a.createVertexArray():x.createVertexArrayOES()),aa[W]=J);W=J;B!==W&&(B=W,e(B.object));a:if(W=B.attributes,aa=N.attributes,Object.keys(W).length!==
Object.keys(aa).length)W=!0;else{for(var ba in aa){J=W[ba];var z=aa[ba];if(void 0===J||J.attribute!==z||J.data!==z.data){W=!0;break a}}W=B.index!==U?!0:!1}if(W){ba={};aa=N.attributes;for(var K in aa)J=aa[K],z={},z.attribute=J,J.data&&(z.data=J.data),ba[K]=z;B.attributes=ba;B.index=U}}else if(K=!0===H.wireframe,B.geometry!==N.id||B.program!==O.id||B.wireframe!==K)B.geometry=N.id,B.program=O.id,B.wireframe=K,W=!0;!0===G.isInstancedMesh&&(W=!0);null!==U&&c.update(U,34963);if(W){if(!1!==d.isWebGL2||!G.isInstancedMesh&&
!N.isInstancedBufferGeometry||null!==b.get("ANGLE_instanced_arrays")){k();K=N.attributes;O=O.getAttributes();H=H.defaultAttributeValues;for(const L in O)if(W=O[L],0<=W){var Q=K[L];if(void 0!==Q){ba=Q.normalized;z=Q.itemSize;J=c.get(Q);if(void 0===J)continue;const T=J.buffer;aa=J.type;J=J.bytesPerElement;if(Q.isInterleavedBufferAttribute){const X=Q.data;var M=X.stride;Q=Q.offset;X&&X.isInstancedInterleavedBuffer?(m(W,X.meshPerAttribute),void 0===N._maxInstanceCount&&(N._maxInstanceCount=X.meshPerAttribute*
X.count)):l(W);a.bindBuffer(34962,T);M*=J;J*=Q;!0!==d.isWebGL2||5124!==aa&&5125!==aa?a.vertexAttribPointer(W,z,aa,ba,M,J):a.vertexAttribIPointer(W,z,aa,M,J)}else Q.isInstancedBufferAttribute?(m(W,Q.meshPerAttribute),void 0===N._maxInstanceCount&&(N._maxInstanceCount=Q.meshPerAttribute*Q.count)):l(W),a.bindBuffer(34962,T),J=z,!0!==d.isWebGL2||5124!==aa&&5125!==aa?a.vertexAttribPointer(W,J,aa,ba,0,0):a.vertexAttribIPointer(W,J,aa,0,0)}else if("instanceMatrix"===L)aa=c.get(G.instanceMatrix),void 0!==
aa&&(ba=aa.buffer,aa=aa.type,m(W+0,1),m(W+1,1),m(W+2,1),m(W+3,1),a.bindBuffer(34962,ba),a.vertexAttribPointer(W+0,4,aa,!1,64,0),a.vertexAttribPointer(W+1,4,aa,!1,64,16),a.vertexAttribPointer(W+2,4,aa,!1,64,32),a.vertexAttribPointer(W+3,4,aa,!1,64,48));else if("instanceColor"===L)aa=c.get(G.instanceColor),void 0!==aa&&(ba=aa.buffer,aa=aa.type,m(W,1),a.bindBuffer(34962,ba),a.vertexAttribPointer(W,3,aa,!1,12,0));else if(void 0!==H&&(ba=H[L],void 0!==ba))switch(ba.length){case 2:a.vertexAttrib2fv(W,ba);
break;case 3:a.vertexAttrib3fv(W,ba);break;case 4:a.vertexAttrib4fv(W,ba);break;default:a.vertexAttrib1fv(W,ba)}}n()}null!==U&&a.bindBuffer(34963,c.get(U).buffer)}},reset:p,resetDefaultState:t,dispose:function(){p();for(const G in r){const H=r[G];for(const O in H){const N=H[O];for(const U in N)g(N[U].object),delete N[U];delete H[O]}delete r[G]}},releaseStatesOfGeometry:function(G){if(void 0!==r[G.id]){var H=r[G.id];for(const O in H){const N=H[O];for(const U in N)g(N[U].object),delete N[U];delete H[O]}delete r[G.id]}},
releaseStatesOfProgram:function(G){for(const H in r){const O=r[H];if(void 0===O[G.id])continue;const N=O[G.id];for(const U in N)g(N[U].object),delete N[U];delete O[G.id]}},initAttributes:k,enableAttribute:l,disableUnusedAttributes:n}}
function WebGLBufferRenderer$$module$node_modules$three$build$three_module(a,b,c,d){const e=d.isWebGL2;let g;this.setMode=function(h){g=h};this.render=function(h,k){a.drawArrays(g,h,k);c.update(k,g,1)};this.renderInstances=function(h,k,l){if(0!==l){if(e){var m=a;var n="drawArraysInstanced"}else if(m=b.get("ANGLE_instanced_arrays"),n="drawArraysInstancedANGLE",null===m){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
return}m[n](g,h,k,l);c.update(k,g,l)}}}
function WebGLCapabilities$$module$node_modules$three$build$three_module(a,b,c){function d(G){if("highp"===G){if(0<a.getShaderPrecisionFormat(35633,36338).precision&&0<a.getShaderPrecisionFormat(35632,36338).precision)return"highp";G="mediump"}return"mediump"===G&&0<a.getShaderPrecisionFormat(35633,36337).precision&&0<a.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}let e;const g="undefined"!==typeof WebGL2RenderingContext&&a instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&
a instanceof WebGL2ComputeRenderingContext;let h=void 0!==c.precision?c.precision:"highp";var k=d(h);k!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",k,"instead."),h=k);c=!0===c.logarithmicDepthBuffer;k=a.getParameter(34930);const l=a.getParameter(35660),m=a.getParameter(3379),n=a.getParameter(34076),p=a.getParameter(34921),t=a.getParameter(36347),w=a.getParameter(36348),x=a.getParameter(36349),A=0<l,r=g||!!b.get("OES_texture_float"),E=A&&r,B=g?a.getParameter(36183):0;return{isWebGL2:g,
getMaxAnisotropy:function(){if(void 0!==e)return e;const G=b.get("EXT_texture_filter_anisotropic");return e=null!==G?a.getParameter(G.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:d,precision:h,logarithmicDepthBuffer:c,maxTextures:k,maxVertexTextures:l,maxTextureSize:m,maxCubemapSize:n,maxAttributes:p,maxVertexUniforms:t,maxVaryings:w,maxFragmentUniforms:x,vertexTextures:A,floatFragmentTextures:r,floatVertexTextures:E,maxSamples:B}}
function WebGLClipping$$module$node_modules$three$build$three_module(a){function b(){n.value!==e&&(n.value=e,n.needsUpdate=0<g);d.numPlanes=g;d.numIntersection=0}function c(p,t,w,x){const A=null!==p?p.length:0;let r=null;if(0!==A){r=n.value;if(!0!==x||null===r){x=w+4*A;t=t.matrixWorldInverse;m.getNormalMatrix(t);if(null===r||r.length<x)r=new Float32Array(x);for(let E=0,B=w;E!==A;++E,B+=4)l.copy(p[E]).applyMatrix4(t,m),l.normal.toArray(r,B),r[B+3]=l.constant}n.value=r;n.needsUpdate=!0}d.numPlanes=
A;d.numIntersection=0;return r}const d=this;let e=null,g=0,h=!1,k=!1;const l=new Plane$$module$node_modules$three$build$three_module,m=new Matrix3$$module$node_modules$three$build$three_module,n={value:null,needsUpdate:!1};this.uniform=n;this.numIntersection=this.numPlanes=0;this.init=function(p,t,w){const x=0!==p.length||t||0!==g||h;h=t;e=c(p,w,0);g=p.length;return x};this.beginShadows=function(){k=!0;c(null)};this.endShadows=function(){k=!1;b()};this.setState=function(p,t,w){const x=p.clippingPlanes,
A=p.clipIntersection;var r=p.clipShadows;p=a.get(p);if(!h||null===x||0===x.length||k&&!r)k?c(null):b();else{r=k?0:g;const E=4*r;let B=p.clippingState||null;n.value=B;B=c(x,t,E,w);for(t=0;t!==E;++t)B[t]=e[t];p.clippingState=B;this.numIntersection=A?this.numPlanes:0;this.numPlanes+=r}}}
function WebGLCubeMaps$$module$node_modules$three$build$three_module(a){function b(d,e){e===EquirectangularReflectionMapping$$module$node_modules$three$build$three_module?d.mapping=CubeReflectionMapping$$module$node_modules$three$build$three_module:e===EquirectangularRefractionMapping$$module$node_modules$three$build$three_module&&(d.mapping=CubeRefractionMapping$$module$node_modules$three$build$three_module);return d}let c=new WeakMap;return{get:function(d){if(d&&d.isTexture){var e=d.mapping;if(e===
EquirectangularReflectionMapping$$module$node_modules$three$build$three_module||e===EquirectangularRefractionMapping$$module$node_modules$three$build$three_module){if(c.has(d))return e=c.get(d).texture,b(e,d.mapping);var g=d.image;if(g&&0<g.height){e=a.getRenderList();const h=a.getRenderTarget(),k=a.getRenderState();g=new WebGLCubeRenderTarget$$module$node_modules$three$build$three_module(g.height/2);g.fromEquirectangularTexture(a,d);c.set(d,g);a.setRenderTarget(h);a.setRenderList(e);a.setRenderState(k);
return b(g.texture,d.mapping)}return null}}return d},dispose:function(){c=new WeakMap}}}
function WebGLExtensions$$module$node_modules$three$build$three_module(a){const b={};return{has:function(c){if(void 0!==b[c])return null!==b[c];let d;switch(c){case "WEBGL_depth_texture":d=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case "EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
break;case "WEBGL_compressed_texture_s3tc":d=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":d=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:d=a.getExtension(c)}b[c]=d;return null!==d},get:function(c){this.has(c)||console.warn("THREE.WebGLRenderer: "+c+" extension not supported.");
return b[c]}}}
function WebGLGeometries$$module$node_modules$three$build$three_module(a,b,c,d){function e(l){l=l.target;const m=h.get(l);null!==m.index&&b.remove(m.index);for(var n in m.attributes)b.remove(m.attributes[n]);l.removeEventListener("dispose",e);h.delete(l);if(n=k.get(m))b.remove(n),k.delete(m);d.releaseStatesOfGeometry(l);!0===l.isInstancedBufferGeometry&&delete l._maxInstanceCount;c.memory.geometries--}function g(l){var m=[],n=l.index,p=l.attributes.position;if(null!==n){p=n.array;n=n.version;for(let x=
0,A=p.length;x<A;x+=3){var t=p[x+0],w=p[x+1];const r=p[x+2];m.push(t,w,w,r,r,t)}}else{t=p.array;n=p.version;for(let x=0,A=t.length/3-1;x<A;x+=3)p=x+0,t=x+1,w=x+2,m.push(p,t,t,w,w,p)}m=new (65535<arrayMax$$module$node_modules$three$build$three_module(m)?Uint32BufferAttribute$$module$node_modules$three$build$three_module:Uint16BufferAttribute$$module$node_modules$three$build$three_module)(m,1);m.version=n;(n=k.get(l))&&b.remove(n);k.set(l,m)}const h=new WeakMap,k=new WeakMap;return{get:function(l,m){let n=
h.get(m);if(n)return n;m.addEventListener("dispose",e);m.isBufferGeometry?n=m:m.isGeometry&&(void 0===m._bufferGeometry&&(m._bufferGeometry=(new BufferGeometry$$module$node_modules$three$build$three_module).setFromObject(l)),n=m._bufferGeometry);h.set(m,n);c.memory.geometries++;return n},update:function(l){var m=l.attributes;for(const n in m)b.update(m[n],34962);l=l.morphAttributes;for(const n in l){m=l[n];for(let p=0,t=m.length;p<t;p++)b.update(m[p],34962)}},getWireframeAttribute:function(l){const m=
k.get(l);if(m){const n=l.index;null!==n&&m.version<n.version&&g(l)}else g(l);return k.get(l)}}}
function WebGLIndexedBufferRenderer$$module$node_modules$three$build$three_module(a,b,c,d){const e=d.isWebGL2;let g,h,k;this.setMode=function(l){g=l};this.setIndex=function(l){h=l.type;k=l.bytesPerElement};this.render=function(l,m){a.drawElements(g,m,h,l*k);c.update(m,g,1)};this.renderInstances=function(l,m,n){if(0!==n){if(e){var p=a;var t="drawElementsInstanced"}else if(p=b.get("ANGLE_instanced_arrays"),t="drawElementsInstancedANGLE",null===p){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
return}p[t](g,m,h,l*k,n);c.update(m,g,n)}}}
function WebGLInfo$$module$node_modules$three$build$three_module(a){const b={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:b,programs:null,autoReset:!0,reset:function(){b.frame++;b.calls=0;b.triangles=0;b.points=0;b.lines=0},update:function(c,d,e){b.calls++;switch(d){case 4:b.triangles+=c/3*e;break;case 1:b.lines+=c/2*e;break;case 3:b.lines+=e*(c-1);break;case 2:b.lines+=e*c;break;case 0:b.points+=e*c;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",
d)}}}}function numericalSort$$module$node_modules$three$build$three_module(a,b){return a[0]-b[0]}function absNumericalSort$$module$node_modules$three$build$three_module(a,b){return Math.abs(b[1])-Math.abs(a[1])}
function WebGLMorphtargets$$module$node_modules$three$build$three_module(a){const b={},c=new Float32Array(8),d=[];for(let e=0;8>e;e++)d[e]=[e,0];return{update:function(e,g,h,k){var l=e.morphTargetInfluences;e=void 0===l?0:l.length;var m=b[g.id];if(void 0===m){m=[];for(var n=0;n<e;n++)m[n]=[n,0];b[g.id]=m}for(n=0;n<e;n++){var p=m[n];p[0]=n;p[1]=l[n]}m.sort(absNumericalSort$$module$node_modules$three$build$three_module);for(l=0;8>l;l++)l<e&&m[l][1]?(d[l][0]=m[l][0],d[l][1]=m[l][1]):(d[l][0]=Number.MAX_SAFE_INTEGER,
d[l][1]=0);d.sort(numericalSort$$module$node_modules$three$build$three_module);e=h.morphTargets&&g.morphAttributes.position;h=h.morphNormals&&g.morphAttributes.normal;m=0;for(l=0;8>l;l++)p=d[l],n=p[0],p=p[1],n!==Number.MAX_SAFE_INTEGER&&p?(e&&g.getAttribute("morphTarget"+l)!==e[n]&&g.setAttribute("morphTarget"+l,e[n]),h&&g.getAttribute("morphNormal"+l)!==h[n]&&g.setAttribute("morphNormal"+l,h[n]),c[l]=p,m+=p):(e&&void 0!==g.getAttribute("morphTarget"+l)&&g.deleteAttribute("morphTarget"+l),h&&void 0!==
g.getAttribute("morphNormal"+l)&&g.deleteAttribute("morphNormal"+l),c[l]=0);g=g.morphTargetsRelative?1:1-m;k.getUniforms().setValue(a,"morphTargetBaseInfluence",g);k.getUniforms().setValue(a,"morphTargetInfluences",c)}}}
function WebGLObjects$$module$node_modules$three$build$three_module(a,b,c,d){let e=new WeakMap;return{update:function(g){const h=d.render.frame,k=g.geometry,l=b.get(g,k);e.get(l)!==h&&(k.isGeometry&&l.updateFromObject(g),b.update(l),e.set(l,h));g.isInstancedMesh&&(c.update(g.instanceMatrix,34962),null!==g.instanceColor&&c.update(g.instanceColor,34962));return l},dispose:function(){e=new WeakMap}}}
function CubeTexture$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h,k,l,m){a=void 0!==a?a:[];b=void 0!==b?b:CubeReflectionMapping$$module$node_modules$three$build$three_module;h=void 0!==h?h:RGBFormat$$module$node_modules$three$build$three_module;Texture$$module$node_modules$three$build$three_module.call(this,a,b,c,d,e,g,h,k,l,m);this.flipY=!1}CubeTexture$$module$node_modules$three$build$three_module.prototype=Object.create(Texture$$module$node_modules$three$build$three_module.prototype);
CubeTexture$$module$node_modules$three$build$three_module.prototype.constructor=CubeTexture$$module$node_modules$three$build$three_module;CubeTexture$$module$node_modules$three$build$three_module.prototype.isCubeTexture=!0;Object.defineProperty(CubeTexture$$module$node_modules$three$build$three_module.prototype,"images",{get:function(){return this.image},set:function(a){this.image=a}});
function DataTexture2DArray$$module$node_modules$three$build$three_module(a,b,c,d){Texture$$module$node_modules$three$build$three_module.call(this,null);this.image={data:a||null,width:b||1,height:c||1,depth:d||1};this.minFilter=this.magFilter=NearestFilter$$module$node_modules$three$build$three_module;this.wrapR=ClampToEdgeWrapping$$module$node_modules$three$build$three_module;this.flipY=this.generateMipmaps=!1;this.needsUpdate=!0}
DataTexture2DArray$$module$node_modules$three$build$three_module.prototype=Object.create(Texture$$module$node_modules$three$build$three_module.prototype);DataTexture2DArray$$module$node_modules$three$build$three_module.prototype.constructor=DataTexture2DArray$$module$node_modules$three$build$three_module;DataTexture2DArray$$module$node_modules$three$build$three_module.prototype.isDataTexture2DArray=!0;
function DataTexture3D$$module$node_modules$three$build$three_module(a,b,c,d){Texture$$module$node_modules$three$build$three_module.call(this,null);this.image={data:a||null,width:b||1,height:c||1,depth:d||1};this.minFilter=this.magFilter=NearestFilter$$module$node_modules$three$build$three_module;this.wrapR=ClampToEdgeWrapping$$module$node_modules$three$build$three_module;this.flipY=this.generateMipmaps=!1;this.needsUpdate=!0}DataTexture3D$$module$node_modules$three$build$three_module.prototype=Object.create(Texture$$module$node_modules$three$build$three_module.prototype);
DataTexture3D$$module$node_modules$three$build$three_module.prototype.constructor=DataTexture3D$$module$node_modules$three$build$three_module;DataTexture3D$$module$node_modules$three$build$three_module.prototype.isDataTexture3D=!0;
const emptyTexture$$module$node_modules$three$build$three_module=new Texture$$module$node_modules$three$build$three_module,emptyTexture2dArray$$module$node_modules$three$build$three_module=new DataTexture2DArray$$module$node_modules$three$build$three_module,emptyTexture3d$$module$node_modules$three$build$three_module=new DataTexture3D$$module$node_modules$three$build$three_module,emptyCubeTexture$$module$node_modules$three$build$three_module=new CubeTexture$$module$node_modules$three$build$three_module,
arrayCacheF32$$module$node_modules$three$build$three_module=[],arrayCacheI32$$module$node_modules$three$build$three_module=[],mat4array$$module$node_modules$three$build$three_module=new Float32Array(16),mat3array$$module$node_modules$three$build$three_module=new Float32Array(9),mat2array$$module$node_modules$three$build$three_module=new Float32Array(4);
function flatten$$module$node_modules$three$build$three_module(a,b,c){const d=a[0];if(0>=d||0<d)return a;const e=b*c;let g=arrayCacheF32$$module$node_modules$three$build$three_module[e];void 0===g&&(g=new Float32Array(e),arrayCacheF32$$module$node_modules$three$build$three_module[e]=g);if(0!==b){d.toArray(g,0);for(let h=1,k=0;h!==b;++h)k+=c,a[h].toArray(g,k)}return g}
function arraysEqual$$module$node_modules$three$build$three_module(a,b){if(a.length!==b.length)return!1;for(let c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}function copyArray$$module$node_modules$three$build$three_module(a,b){for(let c=0,d=b.length;c<d;c++)a[c]=b[c]}
function allocTexUnits$$module$node_modules$three$build$three_module(a,b){let c=arrayCacheI32$$module$node_modules$three$build$three_module[b];void 0===c&&(c=new Int32Array(b),arrayCacheI32$$module$node_modules$three$build$three_module[b]=c);for(let d=0;d!==b;++d)c[d]=a.allocateTextureUnit();return c}function setValueV1f$$module$node_modules$three$build$three_module(a,b){const c=this.cache;c[0]!==b&&(a.uniform1f(this.addr,b),c[0]=b)}
function setValueV2f$$module$node_modules$three$build$three_module(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y)a.uniform2f(this.addr,b.x,b.y),c[0]=b.x,c[1]=b.y}else arraysEqual$$module$node_modules$three$build$three_module(c,b)||(a.uniform2fv(this.addr,b),copyArray$$module$node_modules$three$build$three_module(c,b))}
function setValueV3f$$module$node_modules$three$build$three_module(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z)a.uniform3f(this.addr,b.x,b.y,b.z),c[0]=b.x,c[1]=b.y,c[2]=b.z}else if(void 0!==b.r){if(c[0]!==b.r||c[1]!==b.g||c[2]!==b.b)a.uniform3f(this.addr,b.r,b.g,b.b),c[0]=b.r,c[1]=b.g,c[2]=b.b}else arraysEqual$$module$node_modules$three$build$three_module(c,b)||(a.uniform3fv(this.addr,b),copyArray$$module$node_modules$three$build$three_module(c,b))}
function setValueV4f$$module$node_modules$three$build$three_module(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z||c[3]!==b.w)a.uniform4f(this.addr,b.x,b.y,b.z,b.w),c[0]=b.x,c[1]=b.y,c[2]=b.z,c[3]=b.w}else arraysEqual$$module$node_modules$three$build$three_module(c,b)||(a.uniform4fv(this.addr,b),copyArray$$module$node_modules$three$build$three_module(c,b))}
function setValueM2$$module$node_modules$three$build$three_module(a,b){const c=this.cache,d=b.elements;void 0===d?arraysEqual$$module$node_modules$three$build$three_module(c,b)||(a.uniformMatrix2fv(this.addr,!1,b),copyArray$$module$node_modules$three$build$three_module(c,b)):arraysEqual$$module$node_modules$three$build$three_module(c,d)||(mat2array$$module$node_modules$three$build$three_module.set(d),a.uniformMatrix2fv(this.addr,!1,mat2array$$module$node_modules$three$build$three_module),copyArray$$module$node_modules$three$build$three_module(c,
d))}
function setValueM3$$module$node_modules$three$build$three_module(a,b){const c=this.cache,d=b.elements;void 0===d?arraysEqual$$module$node_modules$three$build$three_module(c,b)||(a.uniformMatrix3fv(this.addr,!1,b),copyArray$$module$node_modules$three$build$three_module(c,b)):arraysEqual$$module$node_modules$three$build$three_module(c,d)||(mat3array$$module$node_modules$three$build$three_module.set(d),a.uniformMatrix3fv(this.addr,!1,mat3array$$module$node_modules$three$build$three_module),copyArray$$module$node_modules$three$build$three_module(c,d))}
function setValueM4$$module$node_modules$three$build$three_module(a,b){const c=this.cache,d=b.elements;void 0===d?arraysEqual$$module$node_modules$three$build$three_module(c,b)||(a.uniformMatrix4fv(this.addr,!1,b),copyArray$$module$node_modules$three$build$three_module(c,b)):arraysEqual$$module$node_modules$three$build$three_module(c,d)||(mat4array$$module$node_modules$three$build$three_module.set(d),a.uniformMatrix4fv(this.addr,!1,mat4array$$module$node_modules$three$build$three_module),copyArray$$module$node_modules$three$build$three_module(c,
d))}function setValueT1$$module$node_modules$three$build$three_module(a,b,c){const d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.safeSetTexture2D(b||emptyTexture$$module$node_modules$three$build$three_module,e)}
function setValueT2DArray1$$module$node_modules$three$build$three_module(a,b,c){const d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.setTexture2DArray(b||emptyTexture2dArray$$module$node_modules$three$build$three_module,e)}
function setValueT3D1$$module$node_modules$three$build$three_module(a,b,c){const d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.setTexture3D(b||emptyTexture3d$$module$node_modules$three$build$three_module,e)}function setValueT6$$module$node_modules$three$build$three_module(a,b,c){const d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.safeSetTextureCube(b||emptyCubeTexture$$module$node_modules$three$build$three_module,e)}
function setValueV1i$$module$node_modules$three$build$three_module(a,b){const c=this.cache;c[0]!==b&&(a.uniform1i(this.addr,b),c[0]=b)}function setValueV2i$$module$node_modules$three$build$three_module(a,b){const c=this.cache;arraysEqual$$module$node_modules$three$build$three_module(c,b)||(a.uniform2iv(this.addr,b),copyArray$$module$node_modules$three$build$three_module(c,b))}
function setValueV3i$$module$node_modules$three$build$three_module(a,b){const c=this.cache;arraysEqual$$module$node_modules$three$build$three_module(c,b)||(a.uniform3iv(this.addr,b),copyArray$$module$node_modules$three$build$three_module(c,b))}function setValueV4i$$module$node_modules$three$build$three_module(a,b){const c=this.cache;arraysEqual$$module$node_modules$three$build$three_module(c,b)||(a.uniform4iv(this.addr,b),copyArray$$module$node_modules$three$build$three_module(c,b))}
function setValueV1ui$$module$node_modules$three$build$three_module(a,b){const c=this.cache;c[0]!==b&&(a.uniform1ui(this.addr,b),c[0]=b)}
function getSingularSetter$$module$node_modules$three$build$three_module(a){switch(a){case 5126:return setValueV1f$$module$node_modules$three$build$three_module;case 35664:return setValueV2f$$module$node_modules$three$build$three_module;case 35665:return setValueV3f$$module$node_modules$three$build$three_module;case 35666:return setValueV4f$$module$node_modules$three$build$three_module;case 35674:return setValueM2$$module$node_modules$three$build$three_module;case 35675:return setValueM3$$module$node_modules$three$build$three_module;
case 35676:return setValueM4$$module$node_modules$three$build$three_module;case 5124:case 35670:return setValueV1i$$module$node_modules$three$build$three_module;case 35667:case 35671:return setValueV2i$$module$node_modules$three$build$three_module;case 35668:case 35672:return setValueV3i$$module$node_modules$three$build$three_module;case 35669:case 35673:return setValueV4i$$module$node_modules$three$build$three_module;case 5125:return setValueV1ui$$module$node_modules$three$build$three_module;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1$$module$node_modules$three$build$three_module;
case 35679:case 36299:case 36307:return setValueT3D1$$module$node_modules$three$build$three_module;case 35680:case 36300:case 36308:case 36293:return setValueT6$$module$node_modules$three$build$three_module;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1$$module$node_modules$three$build$three_module}}function setValueV1fArray$$module$node_modules$three$build$three_module(a,b){a.uniform1fv(this.addr,b)}
function setValueV1iArray$$module$node_modules$three$build$three_module(a,b){a.uniform1iv(this.addr,b)}function setValueV2iArray$$module$node_modules$three$build$three_module(a,b){a.uniform2iv(this.addr,b)}function setValueV3iArray$$module$node_modules$three$build$three_module(a,b){a.uniform3iv(this.addr,b)}function setValueV4iArray$$module$node_modules$three$build$three_module(a,b){a.uniform4iv(this.addr,b)}
function setValueV2fArray$$module$node_modules$three$build$three_module(a,b){b=flatten$$module$node_modules$three$build$three_module(b,this.size,2);a.uniform2fv(this.addr,b)}function setValueV3fArray$$module$node_modules$three$build$three_module(a,b){b=flatten$$module$node_modules$three$build$three_module(b,this.size,3);a.uniform3fv(this.addr,b)}
function setValueV4fArray$$module$node_modules$three$build$three_module(a,b){b=flatten$$module$node_modules$three$build$three_module(b,this.size,4);a.uniform4fv(this.addr,b)}function setValueM2Array$$module$node_modules$three$build$three_module(a,b){b=flatten$$module$node_modules$three$build$three_module(b,this.size,4);a.uniformMatrix2fv(this.addr,!1,b)}
function setValueM3Array$$module$node_modules$three$build$three_module(a,b){b=flatten$$module$node_modules$three$build$three_module(b,this.size,9);a.uniformMatrix3fv(this.addr,!1,b)}function setValueM4Array$$module$node_modules$three$build$three_module(a,b){b=flatten$$module$node_modules$three$build$three_module(b,this.size,16);a.uniformMatrix4fv(this.addr,!1,b)}
function setValueT1Array$$module$node_modules$three$build$three_module(a,b,c){const d=b.length,e=allocTexUnits$$module$node_modules$three$build$three_module(c,d);a.uniform1iv(this.addr,e);for(a=0;a!==d;++a)c.safeSetTexture2D(b[a]||emptyTexture$$module$node_modules$three$build$three_module,e[a])}
function setValueT6Array$$module$node_modules$three$build$three_module(a,b,c){const d=b.length,e=allocTexUnits$$module$node_modules$three$build$three_module(c,d);a.uniform1iv(this.addr,e);for(a=0;a!==d;++a)c.safeSetTextureCube(b[a]||emptyCubeTexture$$module$node_modules$three$build$three_module,e[a])}
function getPureArraySetter$$module$node_modules$three$build$three_module(a){switch(a){case 5126:return setValueV1fArray$$module$node_modules$three$build$three_module;case 35664:return setValueV2fArray$$module$node_modules$three$build$three_module;case 35665:return setValueV3fArray$$module$node_modules$three$build$three_module;case 35666:return setValueV4fArray$$module$node_modules$three$build$three_module;case 35674:return setValueM2Array$$module$node_modules$three$build$three_module;case 35675:return setValueM3Array$$module$node_modules$three$build$three_module;
case 35676:return setValueM4Array$$module$node_modules$three$build$three_module;case 5124:case 35670:return setValueV1iArray$$module$node_modules$three$build$three_module;case 35667:case 35671:return setValueV2iArray$$module$node_modules$three$build$three_module;case 35668:case 35672:return setValueV3iArray$$module$node_modules$three$build$three_module;case 35669:case 35673:return setValueV4iArray$$module$node_modules$three$build$three_module;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array$$module$node_modules$three$build$three_module;
case 35680:case 36300:case 36308:case 36293:return setValueT6Array$$module$node_modules$three$build$three_module}}function SingleUniform$$module$node_modules$three$build$three_module(a,b,c){this.id=a;this.addr=c;this.cache=[];this.setValue=getSingularSetter$$module$node_modules$three$build$three_module(b.type)}
function PureArrayUniform$$module$node_modules$three$build$three_module(a,b,c){this.id=a;this.addr=c;this.cache=[];this.size=b.size;this.setValue=getPureArraySetter$$module$node_modules$three$build$three_module(b.type)}PureArrayUniform$$module$node_modules$three$build$three_module.prototype.updateCache=function(a){const b=this.cache;a instanceof Float32Array&&b.length!==a.length&&(this.cache=new Float32Array(a.length));copyArray$$module$node_modules$three$build$three_module(b,a)};
function StructuredUniform$$module$node_modules$three$build$three_module(a){this.id=a;this.seq=[];this.map={}}StructuredUniform$$module$node_modules$three$build$three_module.prototype.setValue=function(a,b,c){const d=this.seq;for(let e=0,g=d.length;e!==g;++e){const h=d[e];h.setValue(a,b[h.id],c)}};const RePathPart$$module$node_modules$three$build$three_module=/([\w\d_]+)(\])?(\[|\.)?/g;function addUniform$$module$node_modules$three$build$three_module(a,b){a.seq.push(b);a.map[b.id]=b}
function parseUniform$$module$node_modules$three$build$three_module(a,b,c){const d=a.name,e=d.length;for(RePathPart$$module$node_modules$three$build$three_module.lastIndex=0;;){var g=RePathPart$$module$node_modules$three$build$three_module.exec(d);const h=RePathPart$$module$node_modules$three$build$three_module.lastIndex;let k=g[1];const l=g[3];"]"===g[2]&&(k|=0);if(void 0===l||"["===l&&h+2===e){addUniform$$module$node_modules$three$build$three_module(c,void 0===l?new SingleUniform$$module$node_modules$three$build$three_module(k,
a,b):new PureArrayUniform$$module$node_modules$three$build$three_module(k,a,b));break}else g=c.map[k],void 0===g&&(g=new StructuredUniform$$module$node_modules$three$build$three_module(k),addUniform$$module$node_modules$three$build$three_module(c,g)),c=g}}
function WebGLUniforms$$module$node_modules$three$build$three_module(a,b){this.seq=[];this.map={};const c=a.getProgramParameter(b,35718);for(let d=0;d<c;++d){const e=a.getActiveUniform(b,d),g=a.getUniformLocation(b,e.name);parseUniform$$module$node_modules$three$build$three_module(e,g,this)}}WebGLUniforms$$module$node_modules$three$build$three_module.prototype.setValue=function(a,b,c,d){b=this.map[b];void 0!==b&&b.setValue(a,c,d)};
WebGLUniforms$$module$node_modules$three$build$three_module.prototype.setOptional=function(a,b,c){b=b[c];void 0!==b&&this.setValue(a,c,b)};WebGLUniforms$$module$node_modules$three$build$three_module.upload=function(a,b,c,d){for(let e=0,g=b.length;e!==g;++e){const h=b[e],k=c[h.id];!1!==k.needsUpdate&&h.setValue(a,k.value,d)}};WebGLUniforms$$module$node_modules$three$build$three_module.seqWithValue=function(a,b){const c=[];for(let d=0,e=a.length;d!==e;++d){const g=a[d];g.id in b&&c.push(g)}return c};
function WebGLShader$$module$node_modules$three$build$three_module(a,b,c){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return b}let programIdCount$$module$node_modules$three$build$three_module=0;function addLineNumbers$$module$node_modules$three$build$three_module(a){a=a.split("\n");for(let b=0;b<a.length;b++)a[b]=b+1+": "+a[b];return a.join("\n")}
function getEncodingComponents$$module$node_modules$three$build$three_module(a){switch(a){case LinearEncoding$$module$node_modules$three$build$three_module:return["Linear","( value )"];case sRGBEncoding$$module$node_modules$three$build$three_module:return["sRGB","( value )"];case RGBEEncoding$$module$node_modules$three$build$three_module:return["RGBE","( value )"];case RGBM7Encoding$$module$node_modules$three$build$three_module:return["RGBM","( value, 7.0 )"];case RGBM16Encoding$$module$node_modules$three$build$three_module:return["RGBM",
"( value, 16.0 )"];case RGBDEncoding$$module$node_modules$three$build$three_module:return["RGBD","( value, 256.0 )"];case GammaEncoding$$module$node_modules$three$build$three_module:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case LogLuvEncoding$$module$node_modules$three$build$three_module:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",a),["Linear","( value )"]}}
function getShaderErrors$$module$node_modules$three$build$three_module(a,b,c){const d=a.getShaderParameter(b,35713),e=a.getShaderInfoLog(b).trim();if(d&&""===e)return"";a=a.getShaderSource(b);return"THREE.WebGLShader: gl.getShaderInfoLog() "+c+"\n"+e+addLineNumbers$$module$node_modules$three$build$three_module(a)}
function getTexelDecodingFunction$$module$node_modules$three$build$three_module(a,b){b=getEncodingComponents$$module$node_modules$three$build$three_module(b);return"vec4 "+a+"( vec4 value ) { return "+b[0]+"ToLinear"+b[1]+"; }"}function getTexelEncodingFunction$$module$node_modules$three$build$three_module(a,b){b=getEncodingComponents$$module$node_modules$three$build$three_module(b);return"vec4 "+a+"( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"}
function getToneMappingFunction$$module$node_modules$three$build$three_module(a,b){switch(b){case LinearToneMapping$$module$node_modules$three$build$three_module:b="Linear";break;case ReinhardToneMapping$$module$node_modules$three$build$three_module:b="Reinhard";break;case CineonToneMapping$$module$node_modules$three$build$three_module:b="OptimizedCineon";break;case ACESFilmicToneMapping$$module$node_modules$three$build$three_module:b="ACESFilmic";break;case CustomToneMapping$$module$node_modules$three$build$three_module:b=
"Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",b),b="Linear"}return"vec3 "+a+"( vec3 color ) { return "+b+"ToneMapping( color ); }"}
function generateExtensions$$module$node_modules$three$build$three_module(a){return[a.extensionDerivatives||a.envMapCubeUV||a.bumpMap||a.tangentSpaceNormalMap||a.clearcoatNormalMap||a.flatShading||"physical"===a.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(a.extensionFragDepth||a.logarithmicDepthBuffer)&&a.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",a.extensionDrawBuffers&&a.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(a.extensionShaderTextureLOD||
a.envMap)&&a.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine$$module$node_modules$three$build$three_module).join("\n")}function generateDefines$$module$node_modules$three$build$three_module(a){const b=[];for(const c in a){const d=a[c];!1!==d&&b.push("#define "+c+" "+d)}return b.join("\n")}
function fetchAttributeLocations$$module$node_modules$three$build$three_module(a,b){const c={},d=a.getProgramParameter(b,35721);for(let e=0;e<d;e++){const g=a.getActiveAttrib(b,e).name;c[g]=a.getAttribLocation(b,g)}return c}function filterEmptyLine$$module$node_modules$three$build$three_module(a){return""!==a}
function replaceLightNums$$module$node_modules$three$build$three_module(a,b){return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,b.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,b.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,b.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,b.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,b.numPointLightShadows)}
function replaceClippingPlaneNums$$module$node_modules$three$build$three_module(a,b){return a.replace(/NUM_CLIPPING_PLANES/g,b.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,b.numClippingPlanes-b.numClipIntersection)}const includePattern$$module$node_modules$three$build$three_module=/^[ \t]*#include +<([\w\d./]+)>/gm;
function resolveIncludes$$module$node_modules$three$build$three_module(a){return a.replace(includePattern$$module$node_modules$three$build$three_module,includeReplacer$$module$node_modules$three$build$three_module)}function includeReplacer$$module$node_modules$three$build$three_module(a,b){a=ShaderChunk$$module$node_modules$three$build$three_module[b];if(void 0===a)throw Error("Can not resolve #include <"+b+">");return resolveIncludes$$module$node_modules$three$build$three_module(a)}
const deprecatedUnrollLoopPattern$$module$node_modules$three$build$three_module=/#pragma unroll_loop[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,unrollLoopPattern$$module$node_modules$three$build$three_module=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;
function unrollLoops$$module$node_modules$three$build$three_module(a){return a.replace(unrollLoopPattern$$module$node_modules$three$build$three_module,loopReplacer$$module$node_modules$three$build$three_module).replace(deprecatedUnrollLoopPattern$$module$node_modules$three$build$three_module,deprecatedLoopReplacer$$module$node_modules$three$build$three_module)}
function deprecatedLoopReplacer$$module$node_modules$three$build$three_module(a,b,c,d){console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.");return loopReplacer$$module$node_modules$three$build$three_module(a,b,c,d)}function loopReplacer$$module$node_modules$three$build$three_module(a,b,c,d){a="";for(b=parseInt(b);b<parseInt(c);b++)a+=d.replace(/\[\s*i\s*\]/g,"[ "+b+" ]").replace(/UNROLLED_LOOP_INDEX/g,b);return a}
function generatePrecision$$module$node_modules$three$build$three_module(a){let b="precision "+a.precision+" float;\nprecision "+a.precision+" int;";"highp"===a.precision?b+="\n#define HIGH_PRECISION":"mediump"===a.precision?b+="\n#define MEDIUM_PRECISION":"lowp"===a.precision&&(b+="\n#define LOW_PRECISION");return b}
function generateShadowMapTypeDefine$$module$node_modules$three$build$three_module(a){let b="SHADOWMAP_TYPE_BASIC";a.shadowMapType===PCFShadowMap$$module$node_modules$three$build$three_module?b="SHADOWMAP_TYPE_PCF":a.shadowMapType===PCFSoftShadowMap$$module$node_modules$three$build$three_module?b="SHADOWMAP_TYPE_PCF_SOFT":a.shadowMapType===VSMShadowMap$$module$node_modules$three$build$three_module&&(b="SHADOWMAP_TYPE_VSM");return b}
function generateEnvMapTypeDefine$$module$node_modules$three$build$three_module(a){let b="ENVMAP_TYPE_CUBE";if(a.envMap)switch(a.envMapMode){case CubeReflectionMapping$$module$node_modules$three$build$three_module:case CubeRefractionMapping$$module$node_modules$three$build$three_module:b="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping$$module$node_modules$three$build$three_module:case CubeUVRefractionMapping$$module$node_modules$three$build$three_module:b="ENVMAP_TYPE_CUBE_UV"}return b}
function generateEnvMapModeDefine$$module$node_modules$three$build$three_module(a){let b="ENVMAP_MODE_REFLECTION";if(a.envMap)switch(a.envMapMode){case CubeRefractionMapping$$module$node_modules$three$build$three_module:case CubeUVRefractionMapping$$module$node_modules$three$build$three_module:b="ENVMAP_MODE_REFRACTION"}return b}
function generateEnvMapBlendingDefine$$module$node_modules$three$build$three_module(a){let b="ENVMAP_BLENDING_NONE";if(a.envMap)switch(a.combine){case MultiplyOperation$$module$node_modules$three$build$three_module:b="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation$$module$node_modules$three$build$three_module:b="ENVMAP_BLENDING_MIX";break;case AddOperation$$module$node_modules$three$build$three_module:b="ENVMAP_BLENDING_ADD"}return b}
function WebGLProgram$$module$node_modules$three$build$three_module(a,b,c,d){const e=a.getContext();var g=c.defines,h=c.vertexShader,k=c.fragmentShader,l=generateShadowMapTypeDefine$$module$node_modules$three$build$three_module(c),m=generateEnvMapTypeDefine$$module$node_modules$three$build$three_module(c),n=generateEnvMapModeDefine$$module$node_modules$three$build$three_module(c),p=generateEnvMapBlendingDefine$$module$node_modules$three$build$three_module(c),t=0<a.gammaFactor?a.gammaFactor:1,w=c.isWebGL2?
"":generateExtensions$$module$node_modules$three$build$three_module(c);const x=generateDefines$$module$node_modules$three$build$three_module(g),A=e.createProgram();var r=c.glslVersion?"#version "+c.glslVersion+"\n":"";c.isRawShaderMaterial?(g=[x].filter(filterEmptyLine$$module$node_modules$three$build$three_module).join("\n"),0<g.length&&(g+="\n"),l=[w,x].filter(filterEmptyLine$$module$node_modules$three$build$three_module).join("\n"),0<l.length&&(l+="\n")):(g=[generatePrecision$$module$node_modules$three$build$three_module(c),
"#define SHADER_NAME "+c.shaderName,x,c.instancing?"#define USE_INSTANCING":"",c.instancingColor?"#define USE_INSTANCING_COLOR":"",c.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+t,"#define MAX_BONES "+c.maxBones,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+n:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":
"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMap&&c.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",c.normalMap&&c.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.displacementMap&&c.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",c.specularMap?"#define USE_SPECULARMAP":
"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.vertexTangents?"#define USE_TANGENT":"",c.vertexColors?"#define USE_COLOR":"",c.vertexUvs?"#define USE_UV":"",c.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",c.flatShading?"#define FLAT_SHADED":"",c.skinning?"#define USE_SKINNING":"",c.useVertexTexture?"#define BONE_TEXTURE":"",c.morphTargets?"#define USE_MORPHTARGETS":
"",c.morphNormals&&!1===c.flatShading?"#define USE_MORPHNORMALS":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+l:"",c.sizeAttenuation?"#define USE_SIZEATTENUATION":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&c.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;",
"uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;",
"\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;",
"#endif","\n"].filter(filterEmptyLine$$module$node_modules$three$build$three_module).join("\n"),l=[w,generatePrecision$$module$node_modules$three$build$three_module(c),"#define SHADER_NAME "+c.shaderName,x,c.alphaTest?"#define ALPHATEST "+c.alphaTest+(c.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+t,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.matcap?"#define USE_MATCAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+m:"",
c.envMap?"#define "+n:"",c.envMap?"#define "+p:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMap&&c.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",c.normalMap&&c.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?
"#define USE_CLEARCOAT_NORMALMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.sheen?"#define USE_SHEEN":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.vertexTangents?"#define USE_TANGENT":"",c.vertexColors||c.instancingColor?"#define USE_COLOR":"",c.vertexUvs?"#define USE_UV":"",c.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",c.gradientMap?"#define USE_GRADIENTMAP":
"",c.flatShading?"#define FLAT_SHADED":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+l:"",c.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",c.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&c.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(c.extensionShaderTextureLOD||c.envMap)&&
c.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",c.toneMapping!==NoToneMapping$$module$node_modules$three$build$three_module?"#define TONE_MAPPING":"",c.toneMapping!==NoToneMapping$$module$node_modules$three$build$three_module?ShaderChunk$$module$node_modules$three$build$three_module.tonemapping_pars_fragment:"",c.toneMapping!==NoToneMapping$$module$node_modules$three$build$three_module?getToneMappingFunction$$module$node_modules$three$build$three_module("toneMapping",
c.toneMapping):"",c.dithering?"#define DITHERING":"",ShaderChunk$$module$node_modules$three$build$three_module.encodings_pars_fragment,c.map?getTexelDecodingFunction$$module$node_modules$three$build$three_module("mapTexelToLinear",c.mapEncoding):"",c.matcap?getTexelDecodingFunction$$module$node_modules$three$build$three_module("matcapTexelToLinear",c.matcapEncoding):"",c.envMap?getTexelDecodingFunction$$module$node_modules$three$build$three_module("envMapTexelToLinear",c.envMapEncoding):"",c.emissiveMap?
getTexelDecodingFunction$$module$node_modules$three$build$three_module("emissiveMapTexelToLinear",c.emissiveMapEncoding):"",c.lightMap?getTexelDecodingFunction$$module$node_modules$three$build$three_module("lightMapTexelToLinear",c.lightMapEncoding):"",getTexelEncodingFunction$$module$node_modules$three$build$three_module("linearToOutputTexel",c.outputEncoding),c.depthPacking?"#define DEPTH_PACKING "+c.depthPacking:"","\n"].filter(filterEmptyLine$$module$node_modules$three$build$three_module).join("\n"));
h=resolveIncludes$$module$node_modules$three$build$three_module(h);h=replaceLightNums$$module$node_modules$three$build$three_module(h,c);h=replaceClippingPlaneNums$$module$node_modules$three$build$three_module(h,c);k=resolveIncludes$$module$node_modules$three$build$three_module(k);k=replaceLightNums$$module$node_modules$three$build$three_module(k,c);k=replaceClippingPlaneNums$$module$node_modules$three$build$three_module(k,c);h=unrollLoops$$module$node_modules$three$build$three_module(h);k=unrollLoops$$module$node_modules$three$build$three_module(k);
c.isWebGL2&&!0!==c.isRawShaderMaterial&&(r="#version 300 es\n",g="#define attribute in\n#define varying out\n#define texture2D texture\n"+g,l=["#define varying in",c.glslVersion===GLSL3$$module$node_modules$three$build$three_module?"":"out highp vec4 pc_fragColor;",c.glslVersion===GLSL3$$module$node_modules$three$build$three_module?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+
"\n"+l);k=r+l+k;h=WebGLShader$$module$node_modules$three$build$three_module(e,35633,r+g+h);k=WebGLShader$$module$node_modules$three$build$three_module(e,35632,k);e.attachShader(A,h);e.attachShader(A,k);void 0!==c.index0AttributeName?e.bindAttribLocation(A,0,c.index0AttributeName):!0===c.morphTargets&&e.bindAttribLocation(A,0,"position");e.linkProgram(A);if(a.debug.checkShaderErrors){a=e.getProgramInfoLog(A).trim();r=e.getShaderInfoLog(h).trim();m=e.getShaderInfoLog(k).trim();p=n=!0;if(!1===e.getProgramParameter(A,
35714))n=!1,t=getShaderErrors$$module$node_modules$three$build$three_module(e,h,"vertex"),w=getShaderErrors$$module$node_modules$three$build$three_module(e,k,"fragment"),console.error("THREE.WebGLProgram: shader error: ",e.getError(),"35715",e.getProgramParameter(A,35715),"gl.getProgramInfoLog",a,t,w);else if(""!==a)console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",a);else if(""===r||""===m)p=!1;p&&(this.diagnostics={runnable:n,programLog:a,vertexShader:{log:r,prefix:g},fragmentShader:{log:m,
prefix:l}})}e.deleteShader(h);e.deleteShader(k);let E;this.getUniforms=function(){void 0===E&&(E=new WebGLUniforms$$module$node_modules$three$build$three_module(e,A));return E};let B;this.getAttributes=function(){void 0===B&&(B=fetchAttributeLocations$$module$node_modules$three$build$three_module(e,A));return B};this.destroy=function(){d.releaseStatesOfProgram(this);e.deleteProgram(A);this.program=void 0};this.name=c.shaderName;this.id=programIdCount$$module$node_modules$three$build$three_module++;
this.cacheKey=b;this.usedTimes=1;this.program=A;this.vertexShader=h;this.fragmentShader=k;return this}
function WebGLPrograms$$module$node_modules$three$build$three_module(a,b,c,d,e,g){function h(r){let E;r?r.isTexture?E=r.encoding:r.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),E=r.texture.encoding):E=LinearEncoding$$module$node_modules$three$build$three_module;return E}const k=[],l=d.isWebGL2,m=d.logarithmicDepthBuffer,n=d.floatVertexTextures,p=d.maxVertexUniforms,t=d.vertexTextures;
let w=d.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},A="precision isWebGL2 supportsVertexTextures outputEncoding instancing instancingColor map mapEncoding matcap matcapEncoding envMap envMapMode envMapEncoding envMapCubeUV lightMap lightMapEncoding aoMap emissiveMap emissiveMapEncoding bumpMap normalMap objectSpaceNormalMap tangentSpaceNormalMap clearcoatMap clearcoatRoughnessMap clearcoatNormalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors vertexTangents vertexUvs uvsVertexOnly fog useFog fogExp2 flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights numDirLightShadows numPointLightShadows numSpotLightShadows shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering sheen transmissionMap".split(" ");
return{getParameters:function(r,E,B,G,H){const O=G.fog;G=r.isMeshStandardMaterial?G.environment:null;G=b.get(r.envMap||G);const N=x[r.type];if(H.isSkinnedMesh){var U=H.skeleton.bones;if(n)U=1024;else{var W=Math.min(Math.floor((p-20)/4),U.length);W<U.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+U.length+" bones. This GPU supports "+W+"."),U=0):U=W}}else U=0;null!==r.precision&&(w=d.getMaxPrecision(r.precision),w!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,
"not supported, using",w,"instead."));if(N){var J=ShaderLib$$module$node_modules$three$build$three_module[N];W=J.vertexShader;J=J.fragmentShader}else W=r.vertexShader,J=r.fragmentShader;const aa=a.getRenderTarget();return{isWebGL2:l,shaderID:N,shaderName:r.type,vertexShader:W,fragmentShader:J,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:w,instancing:!0===H.isInstancedMesh,instancingColor:!0===H.isInstancedMesh&&null!==H.instanceColor,supportsVertexTextures:t,
outputEncoding:null!==aa?h(aa.texture):a.outputEncoding,map:!!r.map,mapEncoding:h(r.map),matcap:!!r.matcap,matcapEncoding:h(r.matcap),envMap:!!G,envMapMode:G&&G.mapping,envMapEncoding:h(G),envMapCubeUV:!!G&&(G.mapping===CubeUVReflectionMapping$$module$node_modules$three$build$three_module||G.mapping===CubeUVRefractionMapping$$module$node_modules$three$build$three_module),lightMap:!!r.lightMap,lightMapEncoding:h(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:h(r.emissiveMap),
bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:r.normalMapType===ObjectSpaceNormalMap$$module$node_modules$three$build$three_module,tangentSpaceNormalMap:r.normalMapType===TangentSpaceNormalMap$$module$node_modules$three$build$three_module,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,
alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!r.map||!!r.bumpMap||!!r.normalMap||!!r.specularMap||!!r.alphaMap||!!r.emissiveMap||!!r.roughnessMap||!!r.metalnessMap||!!r.clearcoatMap||!!r.clearcoatRoughnessMap||!!r.clearcoatNormalMap||!!r.displacementMap||!!r.transmissionMap,uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||
r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap)&&!!r.displacementMap,fog:!!O,useFog:r.fog,fogExp2:O&&O.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:m,skinning:r.skinning&&0<U,maxBones:U,useVertexTexture:n,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:a.maxMorphTargets,maxMorphNormals:a.maxMorphNormals,numDirLights:E.directional.length,numPointLights:E.point.length,numSpotLights:E.spot.length,
numRectAreaLights:E.rectArea.length,numHemiLights:E.hemi.length,numDirLightShadows:E.directionalShadowMap.length,numPointLightShadows:E.pointShadowMap.length,numSpotLightShadows:E.spotShadowMap.length,numClippingPlanes:g.numPlanes,numClipIntersection:g.numIntersection,dithering:r.dithering,shadowMapEnabled:a.shadowMap.enabled&&0<B.length,shadowMapType:a.shadowMap.type,toneMapping:r.toneMapped?a.toneMapping:NoToneMapping$$module$node_modules$three$build$three_module,physicallyCorrectLights:a.physicallyCorrectLights,
premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:r.side===DoubleSide$$module$node_modules$three$build$three_module,flipSided:r.side===BackSide$$module$node_modules$three$build$three_module,depthPacking:void 0!==r.depthPacking?r.depthPacking:!1,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&
r.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||c.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||c.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||c.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(r){const E=[];r.shaderID?E.push(r.shaderID):(E.push(r.fragmentShader),E.push(r.vertexShader));if(void 0!==r.defines)for(var B in r.defines)E.push(B),E.push(r.defines[B]);if(!1===r.isRawShaderMaterial){for(B=0;B<
A.length;B++)E.push(r[A[B]]);E.push(a.outputEncoding);E.push(a.gammaFactor)}E.push(r.customProgramCacheKey);return E.join()},getUniforms:function(r){const E=x[r.type];return E?UniformsUtils$$module$node_modules$three$build$three_module.clone(ShaderLib$$module$node_modules$three$build$three_module[E].uniforms):r.uniforms},acquireProgram:function(r,E){let B;for(let G=0,H=k.length;G<H;G++){const O=k[G];if(O.cacheKey===E){B=O;++B.usedTimes;break}}void 0===B&&(B=new WebGLProgram$$module$node_modules$three$build$three_module(a,
E,r,e),k.push(B));return B},releaseProgram:function(r){if(0===--r.usedTimes){const E=k.indexOf(r);k[E]=k[k.length-1];k.pop();r.destroy()}},programs:k}}function WebGLProperties$$module$node_modules$three$build$three_module(){let a=new WeakMap;return{get:function(b){let c=a.get(b);void 0===c&&(c={},a.set(b,c));return c},remove:function(b){a.delete(b)},update:function(b,c,d){a.get(b)[c]=d},dispose:function(){a=new WeakMap}}}
function painterSortStable$$module$node_modules$three$build$three_module(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.program!==b.program?a.program.id-b.program.id:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}
function reversePainterSortStable$$module$node_modules$three$build$three_module(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}
function WebGLRenderList$$module$node_modules$three$build$three_module(a){function b(k,l,m,n,p,t){let w=c[d];const x=a.get(m);void 0===w?(w={id:k.id,object:k,geometry:l,material:m,program:x.program||h,groupOrder:n,renderOrder:k.renderOrder,z:p,group:t},c[d]=w):(w.id=k.id,w.object=k,w.geometry=l,w.material=m,w.program=x.program||h,w.groupOrder=n,w.renderOrder=k.renderOrder,w.z=p,w.group=t);d++;return w}const c=[];let d=0;const e=[],g=[],h={id:-1};return{opaque:e,transparent:g,init:function(){d=0;e.length=
0;g.length=0},push:function(k,l,m,n,p,t){k=b(k,l,m,n,p,t);(!0===m.transparent?g:e).push(k)},unshift:function(k,l,m,n,p,t){k=b(k,l,m,n,p,t);(!0===m.transparent?g:e).unshift(k)},finish:function(){for(let k=d,l=c.length;k<l;k++){const m=c[k];if(null===m.id)break;m.id=null;m.object=null;m.geometry=null;m.material=null;m.program=null;m.group=null}},sort:function(k,l){1<e.length&&e.sort(k||painterSortStable$$module$node_modules$three$build$three_module);1<g.length&&g.sort(l||reversePainterSortStable$$module$node_modules$three$build$three_module)}}}
function WebGLRenderLists$$module$node_modules$three$build$three_module(a){let b=new WeakMap;return{get:function(c,d){const e=b.get(c);let g;void 0===e?(g=new WebGLRenderList$$module$node_modules$three$build$three_module(a),b.set(c,new WeakMap),b.get(c).set(d,g)):(g=e.get(d),void 0===g&&(g=new WebGLRenderList$$module$node_modules$three$build$three_module(a),e.set(d,g)));return g},dispose:function(){b=new WeakMap}}}
function UniformsCache$$module$node_modules$three$build$three_module(){const a={};return{get:function(b){if(void 0!==a[b.id])return a[b.id];let c;switch(b.type){case "DirectionalLight":c={direction:new Vector3$$module$node_modules$three$build$three_module,color:new Color$$module$node_modules$three$build$three_module};break;case "SpotLight":c={position:new Vector3$$module$node_modules$three$build$three_module,direction:new Vector3$$module$node_modules$three$build$three_module,color:new Color$$module$node_modules$three$build$three_module,
distance:0,coneCos:0,penumbraCos:0,decay:0};break;case "PointLight":c={position:new Vector3$$module$node_modules$three$build$three_module,color:new Color$$module$node_modules$three$build$three_module,distance:0,decay:0};break;case "HemisphereLight":c={direction:new Vector3$$module$node_modules$three$build$three_module,skyColor:new Color$$module$node_modules$three$build$three_module,groundColor:new Color$$module$node_modules$three$build$three_module};break;case "RectAreaLight":c={color:new Color$$module$node_modules$three$build$three_module,
position:new Vector3$$module$node_modules$three$build$three_module,halfWidth:new Vector3$$module$node_modules$three$build$three_module,halfHeight:new Vector3$$module$node_modules$three$build$three_module}}return a[b.id]=c}}}
function ShadowUniformsCache$$module$node_modules$three$build$three_module(){const a={};return{get:function(b){if(void 0!==a[b.id])return a[b.id];let c;switch(b.type){case "DirectionalLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2$$module$node_modules$three$build$three_module};break;case "SpotLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2$$module$node_modules$three$build$three_module};break;case "PointLight":c={shadowBias:0,shadowNormalBias:0,
shadowRadius:1,shadowMapSize:new Vector2$$module$node_modules$three$build$three_module,shadowCameraNear:1,shadowCameraFar:1E3}}return a[b.id]=c}}}let nextVersion$$module$node_modules$three$build$three_module=0;function shadowCastingLightsFirst$$module$node_modules$three$build$three_module(a,b){return(b.castShadow?1:0)-(a.castShadow?1:0)}
function WebGLLights$$module$node_modules$three$build$three_module(){const a=new UniformsCache$$module$node_modules$three$build$three_module,b=ShadowUniformsCache$$module$node_modules$three$build$three_module(),c={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],
spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let h=0;9>h;h++)c.probe.push(new Vector3$$module$node_modules$three$build$three_module);const d=new Vector3$$module$node_modules$three$build$three_module,e=new Matrix4$$module$node_modules$three$build$three_module,g=new Matrix4$$module$node_modules$three$build$three_module;return{setup:function(h,k,l){let m=k=0,n=0;for(var p=0;9>p;p++)c.probe[p].set(0,
0,0);let t=p=0,w=0,x=0,A=0,r=0,E=0,B=0;l=l.matrixWorldInverse;h.sort(shadowCastingLightsFirst$$module$node_modules$three$build$three_module);for(let U=0,W=h.length;U<W;U++){const J=h[U];var G=J.color,H=J.intensity;const aa=J.distance;var O=J.shadow&&J.shadow.map?J.shadow.map.texture:null;if(J.isAmbientLight)k+=G.r*H,m+=G.g*H,n+=G.b*H;else if(J.isLightProbe)for(O=0;9>O;O++)c.probe[O].addScaledVector(J.sh.coefficients[O],H);else if(J.isDirectionalLight){H=a.get(J);H.color.copy(J.color).multiplyScalar(J.intensity);
H.direction.setFromMatrixPosition(J.matrixWorld);d.setFromMatrixPosition(J.target.matrixWorld);H.direction.sub(d);H.direction.transformDirection(l);if(J.castShadow){var N=J.shadow;G=b.get(J);G.shadowBias=N.bias;G.shadowNormalBias=N.normalBias;G.shadowRadius=N.radius;G.shadowMapSize=N.mapSize;c.directionalShadow[p]=G;c.directionalShadowMap[p]=O;c.directionalShadowMatrix[p]=J.shadow.matrix;r++}c.directional[p]=H;p++}else J.isSpotLight?(N=a.get(J),N.position.setFromMatrixPosition(J.matrixWorld),N.position.applyMatrix4(l),
N.color.copy(G).multiplyScalar(H),N.distance=aa,N.direction.setFromMatrixPosition(J.matrixWorld),d.setFromMatrixPosition(J.target.matrixWorld),N.direction.sub(d),N.direction.transformDirection(l),N.coneCos=Math.cos(J.angle),N.penumbraCos=Math.cos(J.angle*(1-J.penumbra)),N.decay=J.decay,J.castShadow&&(H=J.shadow,G=b.get(J),G.shadowBias=H.bias,G.shadowNormalBias=H.normalBias,G.shadowRadius=H.radius,G.shadowMapSize=H.mapSize,c.spotShadow[w]=G,c.spotShadowMap[w]=O,c.spotShadowMatrix[w]=J.shadow.matrix,
B++),c.spot[w]=N,w++):J.isRectAreaLight?(O=a.get(J),O.color.copy(G).multiplyScalar(H),O.position.setFromMatrixPosition(J.matrixWorld),O.position.applyMatrix4(l),g.identity(),e.copy(J.matrixWorld),e.premultiply(l),g.extractRotation(e),O.halfWidth.set(.5*J.width,0,0),O.halfHeight.set(0,.5*J.height,0),O.halfWidth.applyMatrix4(g),O.halfHeight.applyMatrix4(g),c.rectArea[x]=O,x++):J.isPointLight?(H=a.get(J),H.position.setFromMatrixPosition(J.matrixWorld),H.position.applyMatrix4(l),H.color.copy(J.color).multiplyScalar(J.intensity),
H.distance=J.distance,H.decay=J.decay,J.castShadow&&(N=J.shadow,G=b.get(J),G.shadowBias=N.bias,G.shadowNormalBias=N.normalBias,G.shadowRadius=N.radius,G.shadowMapSize=N.mapSize,G.shadowCameraNear=N.camera.near,G.shadowCameraFar=N.camera.far,c.pointShadow[t]=G,c.pointShadowMap[t]=O,c.pointShadowMatrix[t]=J.shadow.matrix,E++),c.point[t]=H,t++):J.isHemisphereLight&&(O=a.get(J),O.direction.setFromMatrixPosition(J.matrixWorld),O.direction.transformDirection(l),O.direction.normalize(),O.skyColor.copy(J.color).multiplyScalar(H),
O.groundColor.copy(J.groundColor).multiplyScalar(H),c.hemi[A]=O,A++)}0<x&&(c.rectAreaLTC1=UniformsLib$$module$node_modules$three$build$three_module.LTC_1,c.rectAreaLTC2=UniformsLib$$module$node_modules$three$build$three_module.LTC_2);c.ambient[0]=k;c.ambient[1]=m;c.ambient[2]=n;h=c.hash;if(h.directionalLength!==p||h.pointLength!==t||h.spotLength!==w||h.rectAreaLength!==x||h.hemiLength!==A||h.numDirectionalShadows!==r||h.numPointShadows!==E||h.numSpotShadows!==B)c.directional.length=p,c.spot.length=
w,c.rectArea.length=x,c.point.length=t,c.hemi.length=A,c.directionalShadow.length=r,c.directionalShadowMap.length=r,c.pointShadow.length=E,c.pointShadowMap.length=E,c.spotShadow.length=B,c.spotShadowMap.length=B,c.directionalShadowMatrix.length=r,c.pointShadowMatrix.length=E,c.spotShadowMatrix.length=B,h.directionalLength=p,h.pointLength=t,h.spotLength=w,h.rectAreaLength=x,h.hemiLength=A,h.numDirectionalShadows=r,h.numPointShadows=E,h.numSpotShadows=B,c.version=nextVersion$$module$node_modules$three$build$three_module++},
state:c}}function WebGLRenderState$$module$node_modules$three$build$three_module(){const a=new WebGLLights$$module$node_modules$three$build$three_module,b=[],c=[];return{init:function(){b.length=0;c.length=0},state:{lightsArray:b,shadowsArray:c,lights:a},setupLights:function(d){a.setup(b,c,d)},pushLight:function(d){b.push(d)},pushShadow:function(d){c.push(d)}}}
function WebGLRenderStates$$module$node_modules$three$build$three_module(){let a=new WeakMap;return{get:function(b,c){let d;!1===a.has(b)?(d=new WebGLRenderState$$module$node_modules$three$build$three_module,a.set(b,new WeakMap),a.get(b).set(c,d)):!1===a.get(b).has(c)?(d=new WebGLRenderState$$module$node_modules$three$build$three_module,a.get(b).set(c,d)):d=a.get(b).get(c);return d},dispose:function(){a=new WeakMap}}}
function MeshDepthMaterial$$module$node_modules$three$build$three_module(a){Material$$module$node_modules$three$build$three_module.call(this);this.type="MeshDepthMaterial";this.depthPacking=BasicDepthPacking$$module$node_modules$three$build$three_module;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.fog=!1;this.setValues(a)}
MeshDepthMaterial$$module$node_modules$three$build$three_module.prototype=Object.create(Material$$module$node_modules$three$build$three_module.prototype);MeshDepthMaterial$$module$node_modules$three$build$three_module.prototype.constructor=MeshDepthMaterial$$module$node_modules$three$build$three_module;MeshDepthMaterial$$module$node_modules$three$build$three_module.prototype.isMeshDepthMaterial=!0;
MeshDepthMaterial$$module$node_modules$three$build$three_module.prototype.copy=function(a){Material$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.depthPacking=a.depthPacking;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};
function MeshDistanceMaterial$$module$node_modules$three$build$three_module(a){Material$$module$node_modules$three$build$three_module.call(this);this.type="MeshDistanceMaterial";this.referencePosition=new Vector3$$module$node_modules$three$build$three_module;this.nearDistance=1;this.farDistance=1E3;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.fog=!1;this.setValues(a)}
MeshDistanceMaterial$$module$node_modules$three$build$three_module.prototype=Object.create(Material$$module$node_modules$three$build$three_module.prototype);MeshDistanceMaterial$$module$node_modules$three$build$three_module.prototype.constructor=MeshDistanceMaterial$$module$node_modules$three$build$three_module;MeshDistanceMaterial$$module$node_modules$three$build$three_module.prototype.isMeshDistanceMaterial=!0;
MeshDistanceMaterial$$module$node_modules$three$build$three_module.prototype.copy=function(a){Material$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.referencePosition.copy(a.referencePosition);this.nearDistance=a.nearDistance;this.farDistance=a.farDistance;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;
return this};
var vsm_frag$$module$node_modules$three$build$three_module="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}",vsm_vert$$module$node_modules$three$build$three_module=
"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}";
function WebGLShadowMap$$module$node_modules$three$build$three_module(a,b,c){function d(H,O,N){N=H<<0|O<<1|N<<2;let U=p[N];void 0===U&&(U=new MeshDepthMaterial$$module$node_modules$three$build$three_module({depthPacking:RGBADepthPacking$$module$node_modules$three$build$three_module,morphTargets:H,skinning:O}),p[N]=U);return U}function e(H,O,N){N=H<<0|O<<1|N<<2;let U=t[N];void 0===U&&(U=new MeshDistanceMaterial$$module$node_modules$three$build$three_module({morphTargets:H,skinning:O}),t[N]=U);return U}
function g(H,O,N,U,W,J,aa){var ba=d,z=H.customDepthMaterial;!0===U.isPointLight&&(ba=e,z=H.customDistanceMaterial);void 0===z?(z=!1,!0===N.morphTargets&&(z=O.morphAttributes&&O.morphAttributes.position&&0<O.morphAttributes.position.length),O=!1,!0===H.isSkinnedMesh&&(!0===N.skinning?O=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",H)),H=ba(z,O,!0===H.isInstancedMesh)):H=z;a.localClippingEnabled&&!0===N.clipShadows&&0!==N.clippingPlanes.length&&(z=H.uuid,
ba=N.uuid,O=w[z],void 0===O&&(O={},w[z]=O),z=O[ba],void 0===z&&(z=H.clone(),O[ba]=z),H=z);H.visible=N.visible;H.wireframe=N.wireframe;H.side=aa===VSMShadowMap$$module$node_modules$three$build$three_module?null!==N.shadowSide?N.shadowSide:N.side:null!==N.shadowSide?N.shadowSide:x[N.side];H.clipShadows=N.clipShadows;H.clippingPlanes=N.clippingPlanes;H.clipIntersection=N.clipIntersection;H.wireframeLinewidth=N.wireframeLinewidth;H.linewidth=N.linewidth;!0===U.isPointLight&&!0===H.isMeshDistanceMaterial&&
(H.referencePosition.setFromMatrixPosition(U.matrixWorld),H.nearDistance=W,H.farDistance=J);return H}function h(H,O,N,U,W){if(!1!==H.visible){if(H.layers.test(O.layers)&&(H.isMesh||H.isLine||H.isPoints)&&(H.castShadow||H.receiveShadow&&W===VSMShadowMap$$module$node_modules$three$build$three_module)&&(!H.frustumCulled||k.intersectsObject(H))){H.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,H.matrixWorld);const ba=b.update(H);var J=H.material;if(Array.isArray(J)){const z=ba.groups;for(let K=
0,Q=z.length;K<Q;K++){const M=z[K];var aa=J[M.materialIndex];aa&&aa.visible&&(aa=g(H,ba,aa,U,N.near,N.far,W),a.renderBufferDirect(N,null,ba,aa,H,M))}}else J.visible&&(J=g(H,ba,J,U,N.near,N.far,W),a.renderBufferDirect(N,null,ba,J,H,null))}H=H.children;for(let ba=0,z=H.length;ba<z;ba++)h(H[ba],O,N,U,W)}}let k=new Frustum$$module$node_modules$three$build$three_module;const l=new Vector2$$module$node_modules$three$build$three_module,m=new Vector2$$module$node_modules$three$build$three_module,n=new Vector4$$module$node_modules$three$build$three_module,
p=[],t=[],w={},x={0:BackSide$$module$node_modules$three$build$three_module,1:FrontSide$$module$node_modules$three$build$three_module,2:DoubleSide$$module$node_modules$three$build$three_module},A=new ShaderMaterial$$module$node_modules$three$build$three_module({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:.125},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2$$module$node_modules$three$build$three_module},radius:{value:4}},vertexShader:vsm_vert$$module$node_modules$three$build$three_module,
fragmentShader:vsm_frag$$module$node_modules$three$build$three_module}),r=A.clone();r.defines.HORIZONAL_PASS=1;const E=new BufferGeometry$$module$node_modules$three$build$three_module;E.setAttribute("position",new BufferAttribute$$module$node_modules$three$build$three_module(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const B=new Mesh$$module$node_modules$three$build$three_module(E,A),G=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=PCFShadowMap$$module$node_modules$three$build$three_module;
this.render=function(H,O,N){if(!1!==G.enabled&&(!1!==G.autoUpdate||!1!==G.needsUpdate)&&0!==H.length){var U=a.getRenderTarget(),W=a.getActiveCubeFace(),J=a.getActiveMipmapLevel(),aa=a.state;aa.setBlending(NoBlending$$module$node_modules$three$build$three_module);aa.buffers.color.setClear(1,1,1,1);aa.buffers.depth.setTest(!0);aa.setScissorTest(!1);for(let Q=0,M=H.length;Q<M;Q++){var ba=H[Q];const L=ba.shadow;if(!1!==L.autoUpdate||!1!==L.needsUpdate)if(void 0===L)console.warn("THREE.WebGLShadowMap:",
ba,"has no shadow.");else{l.copy(L.mapSize);var z=L.getFrameExtents();l.multiply(z);m.copy(L.mapSize);if(l.x>c||l.y>c)l.x>c&&(m.x=Math.floor(c/z.x),l.x=m.x*z.x,L.mapSize.x=m.x),l.y>c&&(m.y=Math.floor(c/z.y),l.y=m.y*z.y,L.mapSize.y=m.y);null!==L.map||L.isPointLightShadow||this.type!==VSMShadowMap$$module$node_modules$three$build$three_module||(z={minFilter:LinearFilter$$module$node_modules$three$build$three_module,magFilter:LinearFilter$$module$node_modules$three$build$three_module,format:RGBAFormat$$module$node_modules$three$build$three_module},
L.map=new WebGLRenderTarget$$module$node_modules$three$build$three_module(l.x,l.y,z),L.map.texture.name=ba.name+".shadowMap",L.mapPass=new WebGLRenderTarget$$module$node_modules$three$build$three_module(l.x,l.y,z),L.camera.updateProjectionMatrix());null===L.map&&(L.map=new WebGLRenderTarget$$module$node_modules$three$build$three_module(l.x,l.y,{minFilter:NearestFilter$$module$node_modules$three$build$three_module,magFilter:NearestFilter$$module$node_modules$three$build$three_module,format:RGBAFormat$$module$node_modules$three$build$three_module}),
L.map.texture.name=ba.name+".shadowMap",L.camera.updateProjectionMatrix());a.setRenderTarget(L.map);a.clear();z=L.getViewportCount();for(var K=0;K<z;K++){const T=L.getViewport(K);n.set(m.x*T.x,m.y*T.y,m.x*T.z,m.y*T.w);aa.viewport(n);L.updateMatrices(ba,K);k=L.getFrustum();h(O,N,L.camera,ba,this.type)}L.isPointLightShadow||this.type!==VSMShadowMap$$module$node_modules$three$build$three_module||(ba=L,z=N,K=b.update(B),A.uniforms.shadow_pass.value=ba.map.texture,A.uniforms.resolution.value=ba.mapSize,
A.uniforms.radius.value=ba.radius,a.setRenderTarget(ba.mapPass),a.clear(),a.renderBufferDirect(z,null,K,A,B,null),r.uniforms.shadow_pass.value=ba.mapPass.texture,r.uniforms.resolution.value=ba.mapSize,r.uniforms.radius.value=ba.radius,a.setRenderTarget(ba.map),a.clear(),a.renderBufferDirect(z,null,K,r,B,null));L.needsUpdate=!1}}G.needsUpdate=!1;a.setRenderTarget(U,W,J)}}}
function WebGLState$$module$node_modules$three$build$three_module(a,b,c){function d(u,D,I){const S=new Uint8Array(4),P=a.createTexture();a.bindTexture(u,P);a.texParameteri(u,10241,9728);a.texParameteri(u,10240,9728);for(u=0;u<I;u++)a.texImage2D(D+u,0,6408,1,1,0,6408,5121,S);return P}function e(u){!0!==x[u]&&(a.enable(u),x[u]=!0)}function g(u){!1!==x[u]&&(a.disable(u),x[u]=!1)}function h(u,D,I,S,P,Y,Z,ea){if(u===NoBlending$$module$node_modules$three$build$three_module)r&&(g(3042),r=!1);else if(r||
(e(3042),r=!0),u!==CustomBlending$$module$node_modules$three$build$three_module){if(u!==E||ea!==W){if(B!==AddEquation$$module$node_modules$three$build$three_module||O!==AddEquation$$module$node_modules$three$build$three_module)a.blendEquation(32774),O=B=AddEquation$$module$node_modules$three$build$three_module;if(ea)switch(u){case NormalBlending$$module$node_modules$three$build$three_module:a.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending$$module$node_modules$three$build$three_module:a.blendFunc(1,
1);break;case SubtractiveBlending$$module$node_modules$three$build$three_module:a.blendFuncSeparate(0,0,769,771);break;case MultiplyBlending$$module$node_modules$three$build$three_module:a.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",u)}else switch(u){case NormalBlending$$module$node_modules$three$build$three_module:a.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending$$module$node_modules$three$build$three_module:a.blendFunc(770,1);break;
case SubtractiveBlending$$module$node_modules$three$build$three_module:a.blendFunc(0,769);break;case MultiplyBlending$$module$node_modules$three$build$three_module:a.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",u)}U=N=H=G=null;E=u;W=ea}}else{P=P||D;Y=Y||I;Z=Z||S;if(D!==B||P!==O)a.blendEquationSeparate(q[D],q[P]),B=D,O=P;if(I!==G||S!==H||Y!==N||Z!==U)a.blendFuncSeparate(v[I],v[S],v[Y],v[Z]),G=I,H=S,N=Y,U=Z;E=u;W=null}}function k(u){J!==u&&(u?a.frontFace(2304):
a.frontFace(2305),J=u)}function l(u){u!==CullFaceNone$$module$node_modules$three$build$three_module?(e(2884),u!==aa&&(u===CullFaceBack$$module$node_modules$three$build$three_module?a.cullFace(1029):u===CullFaceFront$$module$node_modules$three$build$three_module?a.cullFace(1028):a.cullFace(1032))):g(2884);aa=u}function m(u,D,I){if(u){if(e(32823),z!==D||K!==I)a.polygonOffset(D,I),z=D,K=I}else g(32823)}function n(u){void 0===u&&(u=33984+Q-1);T!==u&&(a.activeTexture(u),T=u)}c=c.isWebGL2;const p=new function(){let u=
!1;const D=new Vector4$$module$node_modules$three$build$three_module;let I=null;const S=new Vector4$$module$node_modules$three$build$three_module(0,0,0,0);return{setMask:function(P){I===P||u||(a.colorMask(P,P,P,P),I=P)},setLocked:function(P){u=P},setClear:function(P,Y,Z,ea,ja){!0===ja&&(P*=ea,Y*=ea,Z*=ea);D.set(P,Y,Z,ea);!1===S.equals(D)&&(a.clearColor(P,Y,Z,ea),S.copy(D))},reset:function(){u=!1;I=null;S.set(-1,0,0,0)}}},t=new function(){let u=!1,D=null,I=null,S=null;return{setTest:function(P){P?
e(2929):g(2929)},setMask:function(P){D===P||u||(a.depthMask(P),D=P)},setFunc:function(P){if(I!==P){if(P)switch(P){case NeverDepth$$module$node_modules$three$build$three_module:a.depthFunc(512);break;case AlwaysDepth$$module$node_modules$three$build$three_module:a.depthFunc(519);break;case LessDepth$$module$node_modules$three$build$three_module:a.depthFunc(513);break;case LessEqualDepth$$module$node_modules$three$build$three_module:a.depthFunc(515);break;case EqualDepth$$module$node_modules$three$build$three_module:a.depthFunc(514);
break;case GreaterEqualDepth$$module$node_modules$three$build$three_module:a.depthFunc(518);break;case GreaterDepth$$module$node_modules$three$build$three_module:a.depthFunc(516);break;case NotEqualDepth$$module$node_modules$three$build$three_module:a.depthFunc(517);break;default:a.depthFunc(515)}else a.depthFunc(515);I=P}},setLocked:function(P){u=P},setClear:function(P){S!==P&&(a.clearDepth(P),S=P)},reset:function(){u=!1;S=I=D=null}}},w=new function(){let u=!1,D=null,I=null,S=null,P=null,Y=null,
Z=null,ea=null,ja=null;return{setTest:function(ha){u||(ha?e(2960):g(2960))},setMask:function(ha){D===ha||u||(a.stencilMask(ha),D=ha)},setFunc:function(ha,ka,oa){if(I!==ha||S!==ka||P!==oa)a.stencilFunc(ha,ka,oa),I=ha,S=ka,P=oa},setOp:function(ha,ka,oa){if(Y!==ha||Z!==ka||ea!==oa)a.stencilOp(ha,ka,oa),Y=ha,Z=ka,ea=oa},setLocked:function(ha){u=ha},setClear:function(ha){ja!==ha&&(a.clearStencil(ha),ja=ha)},reset:function(){u=!1;ja=ea=Z=Y=P=S=I=D=null}}};let x={},A=null,r=null,E=null,B=null,G=null,H=null,
O=null,N=null,U=null,W=!1,J=null,aa=null,ba=null,z=null,K=null;const Q=a.getParameter(35661);let M=!1;var L=0;L=a.getParameter(7938);-1!==L.indexOf("WebGL")?(L=parseFloat(/^WebGL ([0-9])/.exec(L)[1]),M=1<=L):-1!==L.indexOf("OpenGL ES")&&(L=parseFloat(/^OpenGL ES ([0-9])/.exec(L)[1]),M=2<=L);let T=null,X={};const y=new Vector4$$module$node_modules$three$build$three_module,F=new Vector4$$module$node_modules$three$build$three_module,R={};R[3553]=d(3553,3553,1);R[34067]=d(34067,34069,6);p.setClear(0,
0,0,1);t.setClear(1);w.setClear(0);e(2929);t.setFunc(LessEqualDepth$$module$node_modules$three$build$three_module);k(!1);l(CullFaceBack$$module$node_modules$three$build$three_module);e(2884);h(NoBlending$$module$node_modules$three$build$three_module);const q={[AddEquation$$module$node_modules$three$build$three_module]:32774,[SubtractEquation$$module$node_modules$three$build$three_module]:32778,[ReverseSubtractEquation$$module$node_modules$three$build$three_module]:32779};c?(q[MinEquation$$module$node_modules$three$build$three_module]=
32775,q[MaxEquation$$module$node_modules$three$build$three_module]=32776):(b=b.get("EXT_blend_minmax"),null!==b&&(q[MinEquation$$module$node_modules$three$build$three_module]=b.MIN_EXT,q[MaxEquation$$module$node_modules$three$build$three_module]=b.MAX_EXT));const v={[ZeroFactor$$module$node_modules$three$build$three_module]:0,[OneFactor$$module$node_modules$three$build$three_module]:1,[SrcColorFactor$$module$node_modules$three$build$three_module]:768,[SrcAlphaFactor$$module$node_modules$three$build$three_module]:770,
[SrcAlphaSaturateFactor$$module$node_modules$three$build$three_module]:776,[DstColorFactor$$module$node_modules$three$build$three_module]:774,[DstAlphaFactor$$module$node_modules$three$build$three_module]:772,[OneMinusSrcColorFactor$$module$node_modules$three$build$three_module]:769,[OneMinusSrcAlphaFactor$$module$node_modules$three$build$three_module]:771,[OneMinusDstColorFactor$$module$node_modules$three$build$three_module]:775,[OneMinusDstAlphaFactor$$module$node_modules$three$build$three_module]:773};
return{buffers:{color:p,depth:t,stencil:w},enable:e,disable:g,useProgram:function(u){return A!==u?(a.useProgram(u),A=u,!0):!1},setBlending:h,setMaterial:function(u,D){u.side===DoubleSide$$module$node_modules$three$build$three_module?g(2884):e(2884);let I=u.side===BackSide$$module$node_modules$three$build$three_module;D&&(I=!I);k(I);u.blending===NormalBlending$$module$node_modules$three$build$three_module&&!1===u.transparent?h(NoBlending$$module$node_modules$three$build$three_module):h(u.blending,
u.blendEquation,u.blendSrc,u.blendDst,u.blendEquationAlpha,u.blendSrcAlpha,u.blendDstAlpha,u.premultipliedAlpha);t.setFunc(u.depthFunc);t.setTest(u.depthTest);t.setMask(u.depthWrite);p.setMask(u.colorWrite);D=u.stencilWrite;w.setTest(D);D&&(w.setMask(u.stencilWriteMask),w.setFunc(u.stencilFunc,u.stencilRef,u.stencilFuncMask),w.setOp(u.stencilFail,u.stencilZFail,u.stencilZPass));m(u.polygonOffset,u.polygonOffsetFactor,u.polygonOffsetUnits)},setFlipSided:k,setCullFace:l,setLineWidth:function(u){u!==
ba&&(M&&a.lineWidth(u),ba=u)},setPolygonOffset:m,setScissorTest:function(u){u?e(3089):g(3089)},activeTexture:n,bindTexture:function(u,D){null===T&&n();let I=X[T];void 0===I&&(I={type:void 0,texture:void 0},X[T]=I);if(I.type!==u||I.texture!==D)a.bindTexture(u,D||R[u]),I.type=u,I.texture=D},unbindTexture:function(){const u=X[T];void 0!==u&&void 0!==u.type&&(a.bindTexture(u.type,null),u.type=void 0,u.texture=void 0)},compressedTexImage2D:function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(u){console.error("THREE.WebGLState:",
u)}},texImage2D:function(){try{a.texImage2D.apply(a,arguments)}catch(u){console.error("THREE.WebGLState:",u)}},texImage3D:function(){try{a.texImage3D.apply(a,arguments)}catch(u){console.error("THREE.WebGLState:",u)}},scissor:function(u){!1===y.equals(u)&&(a.scissor(u.x,u.y,u.z,u.w),y.copy(u))},viewport:function(u){!1===F.equals(u)&&(a.viewport(u.x,u.y,u.z,u.w),F.copy(u))},reset:function(){x={};T=null;X={};aa=J=E=A=null;p.reset();t.reset();w.reset()}}}
function WebGLTextures$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h){function k(q,v){return L?new OffscreenCanvas(q,v):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function l(q,v,u,D){var I=1;if(q.width>D||q.height>D)I=D/Math.max(q.width,q.height);if(1>I||!0===v){if("undefined"!==typeof HTMLImageElement&&q instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&q instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&q instanceof ImageBitmap)return D=
v?MathUtils$$module$node_modules$three$build$three_module.floorPowerOfTwo:Math.floor,v=D(I*q.width),I=D(I*q.height),void 0===M&&(M=k(v,I)),u=u?k(v,I):M,u.width=v,u.height=I,u.getContext("2d").drawImage(q,0,0,v,I),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+q.width+"x"+q.height+") to ("+v+"x"+I+")."),u;"data"in q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+q.width+"x"+q.height+").")}return q}function m(q){return MathUtils$$module$node_modules$three$build$three_module.isPowerOfTwo(q.width)&&
MathUtils$$module$node_modules$three$build$three_module.isPowerOfTwo(q.height)}function n(q,v){return q.generateMipmaps&&v&&q.minFilter!==NearestFilter$$module$node_modules$three$build$three_module&&q.minFilter!==LinearFilter$$module$node_modules$three$build$three_module}function p(q,v,u,D){a.generateMipmap(q);d.get(v).__maxMipLevel=Math.log(Math.max(u,D))*Math.LOG2E}function t(q,v,u){if(!1===J)return v;if(null!==q){if(void 0!==a[q])return a[q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+
q+"'")}q=v;6403===v&&(5126===u&&(q=33326),5131===u&&(q=33325),5121===u&&(q=33321));6407===v&&(5126===u&&(q=34837),5131===u&&(q=34843),5121===u&&(q=32849));6408===v&&(5126===u&&(q=34836),5131===u&&(q=34842),5121===u&&(q=32856));33325!==q&&33326!==q&&34842!==q&&34836!==q||b.get("EXT_color_buffer_float");return q}function w(q){return q===NearestFilter$$module$node_modules$three$build$three_module||q===NearestMipmapNearestFilter$$module$node_modules$three$build$three_module||q===NearestMipmapLinearFilter$$module$node_modules$three$build$three_module?
9728:9729}function x(q){q=q.target;q.removeEventListener("dispose",x);{const v=d.get(q);void 0!==v.__webglInit&&(a.deleteTexture(v.__webglTexture),d.remove(q))}q.isVideoTexture&&Q.delete(q);h.memory.textures--}function A(q){q=q.target;q.removeEventListener("dispose",A);{const u=d.get(q);var v=d.get(q.texture);if(q){void 0!==v.__webglTexture&&a.deleteTexture(v.__webglTexture);q.depthTexture&&q.depthTexture.dispose();if(q.isWebGLCubeRenderTarget)for(v=0;6>v;v++)a.deleteFramebuffer(u.__webglFramebuffer[v]),
u.__webglDepthbuffer&&a.deleteRenderbuffer(u.__webglDepthbuffer[v]);else a.deleteFramebuffer(u.__webglFramebuffer),u.__webglDepthbuffer&&a.deleteRenderbuffer(u.__webglDepthbuffer),u.__webglMultisampledFramebuffer&&a.deleteFramebuffer(u.__webglMultisampledFramebuffer),u.__webglColorRenderbuffer&&a.deleteRenderbuffer(u.__webglColorRenderbuffer),u.__webglDepthRenderbuffer&&a.deleteRenderbuffer(u.__webglDepthRenderbuffer);d.remove(q.texture);d.remove(q)}}h.memory.textures--}function r(q,v){const u=d.get(q);
if(q.isVideoTexture){var D=h.render.frame;Q.get(q)!==D&&(Q.set(q,D),q.update())}if(0<q.version&&u.__version!==q.version)if(D=q.image,void 0===D)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(!1===D.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{O(u,q,v);return}c.activeTexture(33984+v);c.bindTexture(3553,u.__webglTexture)}function E(q,v){if(6===q.image.length){var u=d.get(q);if(0<q.version&&u.__version!==
q.version){H(u,q);c.activeTexture(33984+v);c.bindTexture(34067,u.__webglTexture);a.pixelStorei(37440,q.flipY);var D=q&&(q.isCompressedTexture||q.image[0].isCompressedTexture),I=q.image[0]&&q.image[0].isDataTexture;v=[];for(var S=0;6>S;S++)v[S]=D||I?I?q.image[S].image:q.image[S]:l(q.image[S],!1,!0,ba);S=v[0];const Y=m(S)||J,Z=g.convert(q.format),ea=g.convert(q.type),ja=t(q.internalFormat,Z,ea);G(34067,q,Y);let ha;if(D){for(I=0;6>I;I++)for(ha=v[I].mipmaps,D=0;D<ha.length;D++){var P=ha[D];q.format!==
RGBAFormat$$module$node_modules$three$build$three_module&&q.format!==RGBFormat$$module$node_modules$three$build$three_module?null!==Z?c.compressedTexImage2D(34069+I,D,ja,P.width,P.height,0,P.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):c.texImage2D(34069+I,D,ja,P.width,P.height,0,Z,ea,P.data)}u.__maxMipLevel=ha.length-1}else{ha=q.mipmaps;for(D=0;6>D;D++)if(I)for(c.texImage2D(34069+D,0,ja,v[D].width,v[D].height,0,Z,ea,v[D].data),
P=0;P<ha.length;P++){const ka=ha[P].image[D].image;c.texImage2D(34069+D,P+1,ja,ka.width,ka.height,0,Z,ea,ka.data)}else for(c.texImage2D(34069+D,0,ja,Z,ea,v[D]),P=0;P<ha.length;P++)c.texImage2D(34069+D,P+1,ja,Z,ea,ha[P].image[D]);u.__maxMipLevel=ha.length}n(q,Y)&&p(34067,q,S.width,S.height);u.__version=q.version;if(q.onUpdate)q.onUpdate(q)}else c.activeTexture(33984+v),c.bindTexture(34067,u.__webglTexture)}}function B(q,v){c.activeTexture(33984+v);c.bindTexture(34067,d.get(q).__webglTexture)}function G(q,
v,u){u?(a.texParameteri(q,10242,X[v.wrapS]),a.texParameteri(q,10243,X[v.wrapT]),32879!==q&&35866!==q||a.texParameteri(q,32882,X[v.wrapR]),a.texParameteri(q,10240,y[v.magFilter]),a.texParameteri(q,10241,y[v.minFilter])):(a.texParameteri(q,10242,33071),a.texParameteri(q,10243,33071),32879!==q&&35866!==q||a.texParameteri(q,32882,33071),v.wrapS===ClampToEdgeWrapping$$module$node_modules$three$build$three_module&&v.wrapT===ClampToEdgeWrapping$$module$node_modules$three$build$three_module||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),
a.texParameteri(q,10240,w(v.magFilter)),a.texParameteri(q,10241,w(v.minFilter)),v.minFilter!==NearestFilter$$module$node_modules$three$build$three_module&&v.minFilter!==LinearFilter$$module$node_modules$three$build$three_module&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));!(u=b.get("EXT_texture_filter_anisotropic"))||v.type===FloatType$$module$node_modules$three$build$three_module&&null===b.get("OES_texture_float_linear")||
v.type===HalfFloatType$$module$node_modules$three$build$three_module&&null===(J||b.get("OES_texture_half_float_linear"))||!(1<v.anisotropy||d.get(v).__currentAnisotropy)||(a.texParameterf(q,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(v.anisotropy,e.getMaxAnisotropy())),d.get(v).__currentAnisotropy=v.anisotropy)}function H(q,v){void 0===q.__webglInit&&(q.__webglInit=!0,v.addEventListener("dispose",x),q.__webglTexture=a.createTexture(),h.memory.textures++)}function O(q,v,u){let D=3553;v.isDataTexture2DArray&&
(D=35866);v.isDataTexture3D&&(D=32879);H(q,v);c.activeTexture(33984+u);c.bindTexture(D,q.__webglTexture);a.pixelStorei(37440,v.flipY);a.pixelStorei(37441,v.premultiplyAlpha);a.pixelStorei(3317,v.unpackAlignment);u=J?!1:v.wrapS!==ClampToEdgeWrapping$$module$node_modules$three$build$three_module||v.wrapT!==ClampToEdgeWrapping$$module$node_modules$three$build$three_module||v.minFilter!==NearestFilter$$module$node_modules$three$build$three_module&&v.minFilter!==LinearFilter$$module$node_modules$three$build$three_module;
u=u&&!1===m(v.image);u=l(v.image,u,!1,z);const I=m(u)||J,S=g.convert(v.format);let P=g.convert(v.type),Y=t(v.internalFormat,S,P);G(D,v,I);let Z;const ea=v.mipmaps;if(v.isDepthTexture)Y=6402,J?Y=v.type===FloatType$$module$node_modules$three$build$three_module?36012:v.type===UnsignedIntType$$module$node_modules$three$build$three_module?33190:v.type===UnsignedInt248Type$$module$node_modules$three$build$three_module?35056:33189:v.type===FloatType$$module$node_modules$three$build$three_module&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),
v.format===DepthFormat$$module$node_modules$three$build$three_module&&6402===Y&&v.type!==UnsignedShortType$$module$node_modules$three$build$three_module&&v.type!==UnsignedIntType$$module$node_modules$three$build$three_module&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),v.type=UnsignedShortType$$module$node_modules$three$build$three_module,P=g.convert(v.type)),v.format===DepthStencilFormat$$module$node_modules$three$build$three_module&&
6402===Y&&(Y=34041,v.type!==UnsignedInt248Type$$module$node_modules$three$build$three_module&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),v.type=UnsignedInt248Type$$module$node_modules$three$build$three_module,P=g.convert(v.type))),c.texImage2D(3553,0,Y,u.width,u.height,0,S,P,null);else if(v.isDataTexture)if(0<ea.length&&I){for(let ja=0,ha=ea.length;ja<ha;ja++)Z=ea[ja],c.texImage2D(3553,ja,Y,Z.width,Z.height,0,S,P,Z.data);v.generateMipmaps=!1;
q.__maxMipLevel=ea.length-1}else c.texImage2D(3553,0,Y,u.width,u.height,0,S,P,u.data),q.__maxMipLevel=0;else if(v.isCompressedTexture){for(let ja=0,ha=ea.length;ja<ha;ja++)Z=ea[ja],v.format!==RGBAFormat$$module$node_modules$three$build$three_module&&v.format!==RGBFormat$$module$node_modules$three$build$three_module?null!==S?c.compressedTexImage2D(3553,ja,Y,Z.width,Z.height,0,Z.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):c.texImage2D(3553,
ja,Y,Z.width,Z.height,0,S,P,Z.data);q.__maxMipLevel=ea.length-1}else if(v.isDataTexture2DArray)c.texImage3D(35866,0,Y,u.width,u.height,u.depth,0,S,P,u.data),q.__maxMipLevel=0;else if(v.isDataTexture3D)c.texImage3D(32879,0,Y,u.width,u.height,u.depth,0,S,P,u.data),q.__maxMipLevel=0;else if(0<ea.length&&I){for(let ja=0,ha=ea.length;ja<ha;ja++)Z=ea[ja],c.texImage2D(3553,ja,Y,S,P,Z);v.generateMipmaps=!1;q.__maxMipLevel=ea.length-1}else c.texImage2D(3553,0,Y,S,P,u),q.__maxMipLevel=0;n(v,I)&&p(D,v,u.width,
u.height);q.__version=v.version;if(v.onUpdate)v.onUpdate(v)}function N(q,v,u,D){const I=g.convert(v.texture.format),S=g.convert(v.texture.type),P=t(v.texture.internalFormat,I,S);c.texImage2D(D,0,P,v.width,v.height,0,I,S,null);a.bindFramebuffer(36160,q);a.framebufferTexture2D(36160,u,D,d.get(v.texture).__webglTexture,0);a.bindFramebuffer(36160,null)}function U(q,v,u){a.bindRenderbuffer(36161,q);if(v.depthBuffer&&!v.stencilBuffer){var D=33189;u?((u=v.depthTexture)&&u.isDepthTexture&&(u.type===FloatType$$module$node_modules$three$build$three_module?
D=36012:u.type===UnsignedIntType$$module$node_modules$three$build$three_module&&(D=33190)),u=W(v),a.renderbufferStorageMultisample(36161,u,D,v.width,v.height)):a.renderbufferStorage(36161,D,v.width,v.height);a.framebufferRenderbuffer(36160,36096,36161,q)}else v.depthBuffer&&v.stencilBuffer?(u?(u=W(v),a.renderbufferStorageMultisample(36161,u,35056,v.width,v.height)):a.renderbufferStorage(36161,34041,v.width,v.height),a.framebufferRenderbuffer(36160,33306,36161,q)):(q=g.convert(v.texture.format),D=
g.convert(v.texture.type),q=t(v.texture.internalFormat,q,D),u?(u=W(v),a.renderbufferStorageMultisample(36161,u,q,v.width,v.height)):a.renderbufferStorage(36161,q,v.width,v.height));a.bindRenderbuffer(36161,null)}function W(q){return J&&q.isWebGLMultisampleRenderTarget?Math.min(K,q.samples):0}const J=e.isWebGL2,aa=e.maxTextures,ba=e.maxCubemapSize,z=e.maxTextureSize,K=e.maxSamples,Q=new WeakMap;let M,L=!1;try{L="undefined"!==typeof OffscreenCanvas&&null!==(new OffscreenCanvas(1,1)).getContext("2d")}catch(q){}let T=
0;const X={[RepeatWrapping$$module$node_modules$three$build$three_module]:10497,[ClampToEdgeWrapping$$module$node_modules$three$build$three_module]:33071,[MirroredRepeatWrapping$$module$node_modules$three$build$three_module]:33648},y={[NearestFilter$$module$node_modules$three$build$three_module]:9728,[NearestMipmapNearestFilter$$module$node_modules$three$build$three_module]:9984,[NearestMipmapLinearFilter$$module$node_modules$three$build$three_module]:9986,[LinearFilter$$module$node_modules$three$build$three_module]:9729,
[LinearMipmapNearestFilter$$module$node_modules$three$build$three_module]:9985,[LinearMipmapLinearFilter$$module$node_modules$three$build$three_module]:9987};let F=!1,R=!1;this.allocateTextureUnit=function(){const q=T;q>=aa&&console.warn("THREE.WebGLTextures: Trying to use "+q+" texture units while this GPU supports only "+aa);T+=1;return q};this.resetTextureUnits=function(){T=0};this.setTexture2D=r;this.setTexture2DArray=function(q,v){const u=d.get(q);0<q.version&&u.__version!==q.version?O(u,q,v):
(c.activeTexture(33984+v),c.bindTexture(35866,u.__webglTexture))};this.setTexture3D=function(q,v){const u=d.get(q);0<q.version&&u.__version!==q.version?O(u,q,v):(c.activeTexture(33984+v),c.bindTexture(32879,u.__webglTexture))};this.setTextureCube=E;this.setTextureCubeDynamic=B;this.setupRenderTarget=function(q){var v=d.get(q),u=d.get(q.texture);q.addEventListener("dispose",A);u.__webglTexture=a.createTexture();h.memory.textures++;const D=!0===q.isWebGLCubeRenderTarget;var I=!0===q.isWebGLMultisampleRenderTarget,
S=m(q)||J;!J||q.texture.format!==RGBFormat$$module$node_modules$three$build$three_module||q.texture.type!==FloatType$$module$node_modules$three$build$three_module&&q.texture.type!==HalfFloatType$$module$node_modules$three$build$three_module||(q.texture.format=RGBAFormat$$module$node_modules$three$build$three_module,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead."));if(D)for(v.__webglFramebuffer=[],I=0;6>I;I++)v.__webglFramebuffer[I]=
a.createFramebuffer();else if(v.__webglFramebuffer=a.createFramebuffer(),I)if(J){v.__webglMultisampledFramebuffer=a.createFramebuffer();v.__webglColorRenderbuffer=a.createRenderbuffer();a.bindRenderbuffer(36161,v.__webglColorRenderbuffer);I=g.convert(q.texture.format);var P=g.convert(q.texture.type);I=t(q.texture.internalFormat,I,P);P=W(q);a.renderbufferStorageMultisample(36161,P,I,q.width,q.height);a.bindFramebuffer(36160,v.__webglMultisampledFramebuffer);a.framebufferRenderbuffer(36160,36064,36161,
v.__webglColorRenderbuffer);a.bindRenderbuffer(36161,null);q.depthBuffer&&(v.__webglDepthRenderbuffer=a.createRenderbuffer(),U(v.__webglDepthRenderbuffer,q,!0));a.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(D){c.bindTexture(34067,u.__webglTexture);G(34067,q.texture,S);for(u=0;6>u;u++)N(v.__webglFramebuffer[u],q,36064,34069+u);n(q.texture,S)&&p(34067,q.texture,q.width,q.height);c.bindTexture(34067,null)}else c.bindTexture(3553,
u.__webglTexture),G(3553,q.texture,S),N(v.__webglFramebuffer,q,36064,3553),n(q.texture,S)&&p(3553,q.texture,q.width,q.height),c.bindTexture(3553,null);if(q.depthBuffer){v=d.get(q);S=!0===q.isWebGLCubeRenderTarget;if(q.depthTexture){if(S)throw Error("target.depthTexture not supported in Cube render targets");if(q&&q.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");a.bindFramebuffer(36160,v.__webglFramebuffer);if(!q.depthTexture||!q.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
d.get(q.depthTexture).__webglTexture&&q.depthTexture.image.width===q.width&&q.depthTexture.image.height===q.height||(q.depthTexture.image.width=q.width,q.depthTexture.image.height=q.height,q.depthTexture.needsUpdate=!0);r(q.depthTexture,0);v=d.get(q.depthTexture).__webglTexture;if(q.depthTexture.format===DepthFormat$$module$node_modules$three$build$three_module)a.framebufferTexture2D(36160,36096,3553,v,0);else if(q.depthTexture.format===DepthStencilFormat$$module$node_modules$three$build$three_module)a.framebufferTexture2D(36160,
33306,3553,v,0);else throw Error("Unknown depthTexture format");}else if(S)for(v.__webglDepthbuffer=[],S=0;6>S;S++)a.bindFramebuffer(36160,v.__webglFramebuffer[S]),v.__webglDepthbuffer[S]=a.createRenderbuffer(),U(v.__webglDepthbuffer[S],q,!1);else a.bindFramebuffer(36160,v.__webglFramebuffer),v.__webglDepthbuffer=a.createRenderbuffer(),U(v.__webglDepthbuffer,q,!1);a.bindFramebuffer(36160,null)}};this.updateRenderTargetMipmap=function(q){const v=q.texture;var u=m(q)||J;if(n(v,u)){u=q.isWebGLCubeRenderTarget?
34067:3553;const D=d.get(v).__webglTexture;c.bindTexture(u,D);p(u,v,q.width,q.height);c.bindTexture(u,null)}};this.updateMultisampleRenderTarget=function(q){if(q.isWebGLMultisampleRenderTarget)if(J){const v=d.get(q);a.bindFramebuffer(36008,v.__webglMultisampledFramebuffer);a.bindFramebuffer(36009,v.__webglFramebuffer);const u=q.width,D=q.height;let I=16384;q.depthBuffer&&(I|=256);q.stencilBuffer&&(I|=1024);a.blitFramebuffer(0,0,u,D,0,0,u,D,I,9728);a.bindFramebuffer(36160,v.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")};
this.safeSetTexture2D=function(q,v){q&&q.isWebGLRenderTarget&&(!1===F&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),F=!0),q=q.texture);r(q,v)};this.safeSetTextureCube=function(q,v){q&&q.isWebGLCubeRenderTarget&&(!1===R&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),R=!0),q=q.texture);q&&q.isCubeTexture||Array.isArray(q.image)&&
6===q.image.length?E(q,v):B(q,v)}}
function WebGLUtils$$module$node_modules$three$build$three_module(a,b,c){const d=c.isWebGL2;return{convert:function(e){let g;if(e===UnsignedByteType$$module$node_modules$three$build$three_module)return 5121;if(e===UnsignedShort4444Type$$module$node_modules$three$build$three_module)return 32819;if(e===UnsignedShort5551Type$$module$node_modules$three$build$three_module)return 32820;if(e===UnsignedShort565Type$$module$node_modules$three$build$three_module)return 33635;if(e===ByteType$$module$node_modules$three$build$three_module)return 5120;
if(e===ShortType$$module$node_modules$three$build$three_module)return 5122;if(e===UnsignedShortType$$module$node_modules$three$build$three_module)return 5123;if(e===IntType$$module$node_modules$three$build$three_module)return 5124;if(e===UnsignedIntType$$module$node_modules$three$build$three_module)return 5125;if(e===FloatType$$module$node_modules$three$build$three_module)return 5126;if(e===HalfFloatType$$module$node_modules$three$build$three_module){if(d)return 5131;g=b.get("OES_texture_half_float");
return null!==g?g.HALF_FLOAT_OES:null}if(e===AlphaFormat$$module$node_modules$three$build$three_module)return 6406;if(e===RGBFormat$$module$node_modules$three$build$three_module)return 6407;if(e===RGBAFormat$$module$node_modules$three$build$three_module)return 6408;if(e===LuminanceFormat$$module$node_modules$three$build$three_module)return 6409;if(e===LuminanceAlphaFormat$$module$node_modules$three$build$three_module)return 6410;if(e===DepthFormat$$module$node_modules$three$build$three_module)return 6402;
if(e===DepthStencilFormat$$module$node_modules$three$build$three_module)return 34041;if(e===RedFormat$$module$node_modules$three$build$three_module)return 6403;if(e===RedIntegerFormat$$module$node_modules$three$build$three_module)return 36244;if(e===RGFormat$$module$node_modules$three$build$three_module)return 33319;if(e===RGIntegerFormat$$module$node_modules$three$build$three_module)return 33320;if(e===RGBIntegerFormat$$module$node_modules$three$build$three_module)return 36248;if(e===RGBAIntegerFormat$$module$node_modules$three$build$three_module)return 36249;
if(e===RGB_S3TC_DXT1_Format$$module$node_modules$three$build$three_module||e===RGBA_S3TC_DXT1_Format$$module$node_modules$three$build$three_module||e===RGBA_S3TC_DXT3_Format$$module$node_modules$three$build$three_module||e===RGBA_S3TC_DXT5_Format$$module$node_modules$three$build$three_module)if(g=b.get("WEBGL_compressed_texture_s3tc"),null!==g){if(e===RGB_S3TC_DXT1_Format$$module$node_modules$three$build$three_module)return g.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===RGBA_S3TC_DXT1_Format$$module$node_modules$three$build$three_module)return g.COMPRESSED_RGBA_S3TC_DXT1_EXT;
if(e===RGBA_S3TC_DXT3_Format$$module$node_modules$three$build$three_module)return g.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===RGBA_S3TC_DXT5_Format$$module$node_modules$three$build$three_module)return g.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(e===RGB_PVRTC_4BPPV1_Format$$module$node_modules$three$build$three_module||e===RGB_PVRTC_2BPPV1_Format$$module$node_modules$three$build$three_module||e===RGBA_PVRTC_4BPPV1_Format$$module$node_modules$three$build$three_module||e===RGBA_PVRTC_2BPPV1_Format$$module$node_modules$three$build$three_module)if(g=
b.get("WEBGL_compressed_texture_pvrtc"),null!==g){if(e===RGB_PVRTC_4BPPV1_Format$$module$node_modules$three$build$three_module)return g.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===RGB_PVRTC_2BPPV1_Format$$module$node_modules$three$build$three_module)return g.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===RGBA_PVRTC_4BPPV1_Format$$module$node_modules$three$build$three_module)return g.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===RGBA_PVRTC_2BPPV1_Format$$module$node_modules$three$build$three_module)return g.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;
if(e===RGB_ETC1_Format$$module$node_modules$three$build$three_module)return g=b.get("WEBGL_compressed_texture_etc1"),null!==g?g.COMPRESSED_RGB_ETC1_WEBGL:null;if(e===RGB_ETC2_Format$$module$node_modules$three$build$three_module||e===RGBA_ETC2_EAC_Format$$module$node_modules$three$build$three_module)if(g=b.get("WEBGL_compressed_texture_etc"),null!==g){if(e===RGB_ETC2_Format$$module$node_modules$three$build$three_module)return g.COMPRESSED_RGB8_ETC2;if(e===RGBA_ETC2_EAC_Format$$module$node_modules$three$build$three_module)return g.COMPRESSED_RGBA8_ETC2_EAC}if(e===
RGBA_ASTC_4x4_Format$$module$node_modules$three$build$three_module||e===RGBA_ASTC_5x4_Format$$module$node_modules$three$build$three_module||e===RGBA_ASTC_5x5_Format$$module$node_modules$three$build$three_module||e===RGBA_ASTC_6x5_Format$$module$node_modules$three$build$three_module||e===RGBA_ASTC_6x6_Format$$module$node_modules$three$build$three_module||e===RGBA_ASTC_8x5_Format$$module$node_modules$three$build$three_module||e===RGBA_ASTC_8x6_Format$$module$node_modules$three$build$three_module||e===
RGBA_ASTC_8x8_Format$$module$node_modules$three$build$three_module||e===RGBA_ASTC_10x5_Format$$module$node_modules$three$build$three_module||e===RGBA_ASTC_10x6_Format$$module$node_modules$three$build$three_module||e===RGBA_ASTC_10x8_Format$$module$node_modules$three$build$three_module||e===RGBA_ASTC_10x10_Format$$module$node_modules$three$build$three_module||e===RGBA_ASTC_12x10_Format$$module$node_modules$three$build$three_module||e===RGBA_ASTC_12x12_Format$$module$node_modules$three$build$three_module||
e===SRGB8_ALPHA8_ASTC_4x4_Format$$module$node_modules$three$build$three_module||e===SRGB8_ALPHA8_ASTC_5x4_Format$$module$node_modules$three$build$three_module||e===SRGB8_ALPHA8_ASTC_5x5_Format$$module$node_modules$three$build$three_module||e===SRGB8_ALPHA8_ASTC_6x5_Format$$module$node_modules$three$build$three_module||e===SRGB8_ALPHA8_ASTC_6x6_Format$$module$node_modules$three$build$three_module||e===SRGB8_ALPHA8_ASTC_8x5_Format$$module$node_modules$three$build$three_module||e===SRGB8_ALPHA8_ASTC_8x6_Format$$module$node_modules$three$build$three_module||
e===SRGB8_ALPHA8_ASTC_8x8_Format$$module$node_modules$three$build$three_module||e===SRGB8_ALPHA8_ASTC_10x5_Format$$module$node_modules$three$build$three_module||e===SRGB8_ALPHA8_ASTC_10x6_Format$$module$node_modules$three$build$three_module||e===SRGB8_ALPHA8_ASTC_10x8_Format$$module$node_modules$three$build$three_module||e===SRGB8_ALPHA8_ASTC_10x10_Format$$module$node_modules$three$build$three_module||e===SRGB8_ALPHA8_ASTC_12x10_Format$$module$node_modules$three$build$three_module||e===SRGB8_ALPHA8_ASTC_12x12_Format$$module$node_modules$three$build$three_module)return g=
b.get("WEBGL_compressed_texture_astc"),null!==g?e:null;if(e===RGBA_BPTC_Format$$module$node_modules$three$build$three_module)return g=b.get("EXT_texture_compression_bptc"),null!==g?e:null;if(e===UnsignedInt248Type$$module$node_modules$three$build$three_module){if(d)return 34042;g=b.get("WEBGL_depth_texture");return null!==g?g.UNSIGNED_INT_24_8_WEBGL:null}}}}
function ArrayCamera$$module$node_modules$three$build$three_module(a){PerspectiveCamera$$module$node_modules$three$build$three_module.call(this);this.cameras=a||[]}ArrayCamera$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(PerspectiveCamera$$module$node_modules$three$build$three_module.prototype),{constructor:ArrayCamera$$module$node_modules$three$build$three_module,isArrayCamera:!0});
function Group$$module$node_modules$three$build$three_module(){Object3D$$module$node_modules$three$build$three_module.call(this);this.type="Group"}Group$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Object3D$$module$node_modules$three$build$three_module.prototype),{constructor:Group$$module$node_modules$three$build$three_module,isGroup:!0});function WebXRController$$module$node_modules$three$build$three_module(){this._hand=this._grip=this._targetRay=null}
Object.assign(WebXRController$$module$node_modules$three$build$three_module.prototype,{constructor:WebXRController$$module$node_modules$three$build$three_module,getHandSpace:function(){if(null===this._hand&&(this._hand=new Group$$module$node_modules$three$build$three_module,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let a=0;a<=window.XRHand.LITTLE_PHALANX_TIP;a++){const b=new Group$$module$node_modules$three$build$three_module;
b.matrixAutoUpdate=!1;b.visible=!1;this._hand.joints.push(b);this._hand.add(b)}return this._hand},getTargetRaySpace:function(){null===this._targetRay&&(this._targetRay=new Group$$module$node_modules$three$build$three_module,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1);return this._targetRay},getGripSpace:function(){null===this._grip&&(this._grip=new Group$$module$node_modules$three$build$three_module,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1);return this._grip},dispatchEvent:function(a){null!==
this._targetRay&&this._targetRay.dispatchEvent(a);null!==this._grip&&this._grip.dispatchEvent(a);null!==this._hand&&this._hand.dispatchEvent(a);return this},disconnect:function(a){this.dispatchEvent({type:"disconnected",data:a});null!==this._targetRay&&(this._targetRay.visible=!1);null!==this._grip&&(this._grip.visible=!1);null!==this._hand&&(this._hand.visible=!1);return this},update:function(a,b,c){let d=null,e=null,g=null;const h=this._targetRay,k=this._grip,l=this._hand;if(a)if(l&&a.hand){g=!0;
for(let n=0;n<=window.XRHand.LITTLE_PHALANX_TIP;n++)if(a.hand[n]){var m=b.getJointPose(a.hand[n],c);const p=l.joints[n];null!==m&&(p.matrix.fromArray(m.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.jointRadius=m.radius);p.visible=null!==m;m=l.joints[window.XRHand.INDEX_PHALANX_TIP].position.distanceTo(l.joints[window.XRHand.THUMB_PHALANX_TIP].position);l.inputState.pinching&&.025<m?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:a.handedness,target:this})):
!l.inputState.pinching&&.015>=m&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:a.handedness,target:this}))}}else null!==h&&(d=b.getPose(a.targetRaySpace,c),null!==d&&(h.matrix.fromArray(d.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale))),null!==k&&a.gripSpace&&(e=b.getPose(a.gripSpace,c),null!==e&&(k.matrix.fromArray(e.transform.matrix),k.matrix.decompose(k.position,k.rotation,k.scale)));null!==h&&(h.visible=null!==d);null!==k&&(k.visible=null!==e);
null!==l&&(l.visible=null!==g);return this}});
function WebXRManager$$module$node_modules$three$build$three_module(a,b){function c(J){const aa=x.get(J.inputSource);aa&&aa.dispatchEvent({type:J.type})}function d(){x.forEach(function(J,aa){J.disconnect(aa)});x.clear();a.setFramebuffer(null);a.setRenderTarget(a.getRenderTarget());W.stop();k.isPresenting=!1;k.dispatchEvent({type:"sessionend"})}function e(J){n=J;W.setContext(l);W.start();k.isPresenting=!0;k.dispatchEvent({type:"sessionstart"})}function g(J){var aa=l.inputSources;for(var ba=0;ba<w.length;ba++)x.set(aa[ba],
w[ba]);for(aa=0;aa<J.removed.length;aa++){ba=J.removed[aa];var z=x.get(ba);z&&(z.dispatchEvent({type:"disconnected",data:ba}),x.delete(ba))}for(aa=0;aa<J.added.length;aa++)ba=J.added[aa],(z=x.get(ba))&&z.dispatchEvent({type:"connected",data:ba})}function h(J,aa){null===aa?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(aa.matrixWorld,J.matrix);J.matrixWorldInverse.getInverse(J.matrixWorld)}const k=this;let l=null,m=1,n=null,p="local-floor",t=null;const w=[],x=new Map,A=new PerspectiveCamera$$module$node_modules$three$build$three_module;
A.layers.enable(1);A.viewport=new Vector4$$module$node_modules$three$build$three_module;const r=new PerspectiveCamera$$module$node_modules$three$build$three_module;r.layers.enable(2);r.viewport=new Vector4$$module$node_modules$three$build$three_module;const E=[A,r],B=new ArrayCamera$$module$node_modules$three$build$three_module;B.layers.enable(1);B.layers.enable(2);let G=null,H=null;this.isPresenting=this.enabled=!1;this.getController=function(J){let aa=w[J];void 0===aa&&(aa=new WebXRController$$module$node_modules$three$build$three_module,
w[J]=aa);return aa.getTargetRaySpace()};this.getControllerGrip=function(J){let aa=w[J];void 0===aa&&(aa=new WebXRController$$module$node_modules$three$build$three_module,w[J]=aa);return aa.getGripSpace()};this.getHand=function(J){let aa=w[J];void 0===aa&&(aa=new WebXRController$$module$node_modules$three$build$three_module,w[J]=aa);return aa.getHandSpace()};this.setFramebufferScaleFactor=function(J){m=J;!0===k.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")};
this.setReferenceSpaceType=function(J){p=J;!0===k.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")};this.getReferenceSpace=function(){return n};this.getSession=function(){return l};this.setSession=function(J){l=J;null!==l&&(l.addEventListener("select",c),l.addEventListener("selectstart",c),l.addEventListener("selectend",c),l.addEventListener("squeeze",c),l.addEventListener("squeezestart",c),l.addEventListener("squeezeend",c),l.addEventListener("end",
d),J=b.getContextAttributes(),!0!==J.xrCompatible&&b.makeXRCompatible(),J=new XRWebGLLayer(l,b,{antialias:J.antialias,alpha:J.alpha,depth:J.depth,stencil:J.stencil,framebufferScaleFactor:m}),l.updateRenderState({baseLayer:J}),l.requestReferenceSpace(p).then(e),l.addEventListener("inputsourceschange",g))};const O=new Vector3$$module$node_modules$three$build$three_module,N=new Vector3$$module$node_modules$three$build$three_module;this.getCamera=function(J){B.near=r.near=A.near=J.near;B.far=r.far=A.far=
J.far;if(G!==B.near||H!==B.far)l.updateRenderState({depthNear:B.near,depthFar:B.far}),G=B.near,H=B.far;var aa=J.parent,ba=B.cameras;h(B,aa);for(var z=0;z<ba.length;z++)h(ba[z],aa);J.matrixWorld.copy(B.matrixWorld);J=J.children;for(let X=0,y=J.length;X<y;X++)J[X].updateMatrixWorld(!0);if(2===ba.length){O.setFromMatrixPosition(A.matrixWorld);N.setFromMatrixPosition(r.matrixWorld);ba=O.distanceTo(N);var K=A.projectionMatrix.elements,Q=r.projectionMatrix.elements,M=K[14]/(K[10]-1);J=K[14]/(K[10]+1);aa=
(K[9]+1)/K[5];z=(K[9]-1)/K[5];var L=(K[8]-1)/K[0],T=(Q[8]+1)/Q[0];Q=M*L;K=M*T;T=ba/(-L+T);L=T*-L;A.matrixWorld.decompose(B.position,B.quaternion,B.scale);B.translateX(L);B.translateZ(T);B.matrixWorld.compose(B.position,B.quaternion,B.scale);B.matrixWorldInverse.getInverse(B.matrixWorld);M+=T;T=J+T;B.projectionMatrix.makePerspective(Q-L,K+(ba-L),aa*J/T*M,z*J/T*M,M,T)}else B.projectionMatrix.copy(A.projectionMatrix);return B};let U=null;const W=new WebGLAnimation$$module$node_modules$three$build$three_module;
W.setAnimationLoop(function(J,aa){t=aa.getViewerPose(n);if(null!==t){var ba=t.views,z=l.renderState.baseLayer;a.setFramebuffer(z.framebuffer);let K=!1;ba.length!==B.cameras.length&&(B.cameras.length=0,K=!0);for(let Q=0;Q<ba.length;Q++){const M=ba[Q],L=z.getViewport(M),T=E[Q];T.matrix.fromArray(M.transform.matrix);T.projectionMatrix.fromArray(M.projectionMatrix);T.viewport.set(L.x,L.y,L.width,L.height);0===Q&&B.matrix.copy(T.matrix);!0===K&&B.cameras.push(T)}}ba=l.inputSources;for(z=0;z<w.length;z++)w[z].update(ba[z],
aa,n);U&&U(J,aa)});this.setAnimationLoop=function(J){U=J};this.dispose=function(){}}Object.assign(WebXRManager$$module$node_modules$three$build$three_module.prototype,EventDispatcher$$module$node_modules$three$build$three_module.prototype);
function WebGLMaterials$$module$node_modules$three$build$three_module(a){function b(d,e){d.opacity.value=e.opacity;e.color&&d.diffuse.value.copy(e.color);e.emissive&&d.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity);e.map&&(d.map.value=e.map);e.alphaMap&&(d.alphaMap.value=e.alphaMap);e.specularMap&&(d.specularMap.value=e.specularMap);var g=a.get(e).envMap;g&&(d.envMap.value=g,d.flipEnvMap.value=g.isCubeTexture?-1:1,d.reflectivity.value=e.reflectivity,d.refractionRatio.value=e.refractionRatio,
g=a.get(g).__maxMipLevel,void 0!==g&&(d.maxMipLevel.value=g));e.lightMap&&(d.lightMap.value=e.lightMap,d.lightMapIntensity.value=e.lightMapIntensity);e.aoMap&&(d.aoMap.value=e.aoMap,d.aoMapIntensity.value=e.aoMapIntensity);let h;e.map?h=e.map:e.specularMap?h=e.specularMap:e.displacementMap?h=e.displacementMap:e.normalMap?h=e.normalMap:e.bumpMap?h=e.bumpMap:e.roughnessMap?h=e.roughnessMap:e.metalnessMap?h=e.metalnessMap:e.alphaMap?h=e.alphaMap:e.emissiveMap?h=e.emissiveMap:e.clearcoatMap?h=e.clearcoatMap:
e.clearcoatNormalMap?h=e.clearcoatNormalMap:e.clearcoatRoughnessMap&&(h=e.clearcoatRoughnessMap);void 0!==h&&(h.isWebGLRenderTarget&&(h=h.texture),!0===h.matrixAutoUpdate&&h.updateMatrix(),d.uvTransform.value.copy(h.matrix));let k;e.aoMap?k=e.aoMap:e.lightMap&&(k=e.lightMap);void 0!==k&&(k.isWebGLRenderTarget&&(k=k.texture),!0===k.matrixAutoUpdate&&k.updateMatrix(),d.uv2Transform.value.copy(k.matrix))}function c(d,e){d.roughness.value=e.roughness;d.metalness.value=e.metalness;e.roughnessMap&&(d.roughnessMap.value=
e.roughnessMap);e.metalnessMap&&(d.metalnessMap.value=e.metalnessMap);e.emissiveMap&&(d.emissiveMap.value=e.emissiveMap);e.bumpMap&&(d.bumpMap.value=e.bumpMap,d.bumpScale.value=e.bumpScale,e.side===BackSide$$module$node_modules$three$build$three_module&&(d.bumpScale.value*=-1));e.normalMap&&(d.normalMap.value=e.normalMap,d.normalScale.value.copy(e.normalScale),e.side===BackSide$$module$node_modules$three$build$three_module&&d.normalScale.value.negate());e.displacementMap&&(d.displacementMap.value=
e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=e.displacementBias);a.get(e).envMap&&(d.envMapIntensity.value=e.envMapIntensity)}return{refreshFogUniforms:function(d,e){d.fogColor.value.copy(e.color);e.isFog?(d.fogNear.value=e.near,d.fogFar.value=e.far):e.isFogExp2&&(d.fogDensity.value=e.density)},refreshMaterialUniforms:function(d,e,g,h){if(e.isMeshBasicMaterial)b(d,e);else if(e.isMeshLambertMaterial)b(d,e),e.emissiveMap&&(d.emissiveMap.value=e.emissiveMap);
else if(e.isMeshToonMaterial)b(d,e),e.gradientMap&&(d.gradientMap.value=e.gradientMap),e.emissiveMap&&(d.emissiveMap.value=e.emissiveMap),e.bumpMap&&(d.bumpMap.value=e.bumpMap,d.bumpScale.value=e.bumpScale,e.side===BackSide$$module$node_modules$three$build$three_module&&(d.bumpScale.value*=-1)),e.normalMap&&(d.normalMap.value=e.normalMap,d.normalScale.value.copy(e.normalScale),e.side===BackSide$$module$node_modules$three$build$three_module&&d.normalScale.value.negate()),e.displacementMap&&(d.displacementMap.value=
e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=e.displacementBias);else if(e.isMeshPhongMaterial)b(d,e),d.specular.value.copy(e.specular),d.shininess.value=Math.max(e.shininess,1E-4),e.emissiveMap&&(d.emissiveMap.value=e.emissiveMap),e.bumpMap&&(d.bumpMap.value=e.bumpMap,d.bumpScale.value=e.bumpScale,e.side===BackSide$$module$node_modules$three$build$three_module&&(d.bumpScale.value*=-1)),e.normalMap&&(d.normalMap.value=e.normalMap,d.normalScale.value.copy(e.normalScale),
e.side===BackSide$$module$node_modules$three$build$three_module&&d.normalScale.value.negate()),e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=e.displacementBias);else if(e.isMeshStandardMaterial)b(d,e),e.isMeshPhysicalMaterial?(c(d,e),d.reflectivity.value=e.reflectivity,d.clearcoat.value=e.clearcoat,d.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&d.sheen.value.copy(e.sheen),e.clearcoatMap&&(d.clearcoatMap.value=
e.clearcoatMap),e.clearcoatRoughnessMap&&(d.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(d.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),d.clearcoatNormalMap.value=e.clearcoatNormalMap,e.side===BackSide$$module$node_modules$three$build$three_module&&d.clearcoatNormalScale.value.negate()),d.transmission.value=e.transmission,e.transmissionMap&&(d.transmissionMap.value=e.transmissionMap)):c(d,e);else if(e.isMeshMatcapMaterial)b(d,e),e.matcap&&(d.matcap.value=
e.matcap),e.bumpMap&&(d.bumpMap.value=e.bumpMap,d.bumpScale.value=e.bumpScale,e.side===BackSide$$module$node_modules$three$build$three_module&&(d.bumpScale.value*=-1)),e.normalMap&&(d.normalMap.value=e.normalMap,d.normalScale.value.copy(e.normalScale),e.side===BackSide$$module$node_modules$three$build$three_module&&d.normalScale.value.negate()),e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=e.displacementBias);else if(e.isMeshDepthMaterial)b(d,
e),e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=e.displacementBias);else if(e.isMeshDistanceMaterial)b(d,e),e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=e.displacementBias),d.referencePosition.value.copy(e.referencePosition),d.nearDistance.value=e.nearDistance,d.farDistance.value=e.farDistance;else if(e.isMeshNormalMaterial)b(d,
e),e.bumpMap&&(d.bumpMap.value=e.bumpMap,d.bumpScale.value=e.bumpScale,e.side===BackSide$$module$node_modules$three$build$three_module&&(d.bumpScale.value*=-1)),e.normalMap&&(d.normalMap.value=e.normalMap,d.normalScale.value.copy(e.normalScale),e.side===BackSide$$module$node_modules$three$build$three_module&&d.normalScale.value.negate()),e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=e.displacementBias);else if(e.isLineBasicMaterial)d.diffuse.value.copy(e.color),
d.opacity.value=e.opacity,e.isLineDashedMaterial&&(d.dashSize.value=e.dashSize,d.totalSize.value=e.dashSize+e.gapSize,d.scale.value=e.scale);else if(e.isPointsMaterial){{d.diffuse.value.copy(e.color);d.opacity.value=e.opacity;d.size.value=e.size*g;d.scale.value=.5*h;e.map&&(d.map.value=e.map);e.alphaMap&&(d.alphaMap.value=e.alphaMap);let k;e.map?k=e.map:e.alphaMap&&(k=e.alphaMap);void 0!==k&&(!0===k.matrixAutoUpdate&&k.updateMatrix(),d.uvTransform.value.copy(k.matrix))}}else if(e.isSpriteMaterial){{d.diffuse.value.copy(e.color);
d.opacity.value=e.opacity;d.rotation.value=e.rotation;e.map&&(d.map.value=e.map);e.alphaMap&&(d.alphaMap.value=e.alphaMap);let k;e.map?k=e.map:e.alphaMap&&(k=e.alphaMap);void 0!==k&&(!0===k.matrixAutoUpdate&&k.updateMatrix(),d.uvTransform.value.copy(k.matrix))}}else e.isShadowMaterial?(d.color.value.copy(e.color),d.opacity.value=e.opacity):e.isShaderMaterial&&(e.uniformsNeedUpdate=!1)}}}
function WebGLRenderer$$module$node_modules$three$build$three_module(a){function b(C,ca){for(let V=0;V<C.length;V++){const da=w.getContext(C[V],ca);if(null!==da)return da}return null}function c(){na=new WebGLExtensions$$module$node_modules$three$build$three_module(fa);ta=new WebGLCapabilities$$module$node_modules$three$build$three_module(fa,na,a);!1===ta.isWebGL2&&(na.get("WEBGL_depth_texture"),na.get("OES_texture_float"),na.get("OES_texture_half_float"),na.get("OES_texture_half_float_linear"),na.get("OES_standard_derivatives"),
na.get("OES_element_index_uint"),na.get("OES_vertex_array_object"),na.get("ANGLE_instanced_arrays"));na.get("OES_texture_float_linear");Aa=new WebGLUtils$$module$node_modules$three$build$three_module(fa,na,ta);sa=new WebGLState$$module$node_modules$three$build$three_module(fa,na,ta);sa.scissor(F.copy(P).multiplyScalar(u).floor());sa.viewport(y.copy(S).multiplyScalar(u).floor());wa=new WebGLInfo$$module$node_modules$three$build$three_module(fa);ua=new WebGLProperties$$module$node_modules$three$build$three_module;
xa=new WebGLTextures$$module$node_modules$three$build$three_module(fa,na,sa,ua,ta,Aa,wa);Ca=new WebGLCubeMaps$$module$node_modules$three$build$three_module(J);Ia=new WebGLAttributes$$module$node_modules$three$build$three_module(fa,ta);ya=new WebGLBindingStates$$module$node_modules$three$build$three_module(fa,na,Ia,ta);Na=new WebGLGeometries$$module$node_modules$three$build$three_module(fa,Ia,wa,ya);Ha=new WebGLObjects$$module$node_modules$three$build$three_module(fa,Na,Ia,wa);Qa=new WebGLMorphtargets$$module$node_modules$three$build$three_module(fa);
za=new WebGLClipping$$module$node_modules$three$build$three_module(ua);Ea=new WebGLPrograms$$module$node_modules$three$build$three_module(J,Ca,na,ta,ya,za);Oa=new WebGLMaterials$$module$node_modules$three$build$three_module(ua);La=new WebGLRenderLists$$module$node_modules$three$build$three_module(ua);Ga=new WebGLRenderStates$$module$node_modules$three$build$three_module;Ba=new WebGLBackground$$module$node_modules$three$build$three_module(J,Ca,sa,Ha,G);Ra=new WebGLBufferRenderer$$module$node_modules$three$build$three_module(fa,
na,wa,ta);Sa=new WebGLIndexedBufferRenderer$$module$node_modules$three$build$three_module(fa,na,wa,ta);wa.programs=Ea.programs;J.capabilities=ta;J.extensions=na;J.properties=ua;J.renderLists=La;J.state=sa;J.info=wa}function d(C){C.preventDefault();console.log("THREE.WebGLRenderer: Context Lost.");aa=!0}function e(){console.log("THREE.WebGLRenderer: Context Restored.");aa=!1;c()}function g(C){C=C.target;C.removeEventListener("dispose",g);h(C);ua.remove(C)}function h(C){C=ua.get(C).program;void 0!==
C&&Ea.releaseProgram(C)}function k(C,ca){C.render(function(V){J.renderBufferImmediate(V,ca)})}function l(C,ca,V,da){if(!1!==C.visible){if(C.layers.test(ca.layers))if(C.isGroup)V=C.renderOrder;else if(C.isLOD)!0===C.autoUpdate&&C.update(ca);else if(C.isLight)W.pushLight(C),C.castShadow&&W.pushShadow(C);else if(C.isSprite){if(!C.frustumCulled||Z.intersectsSprite(C)){da&&ka.setFromMatrixPosition(C.matrixWorld).applyMatrix4(ha);var ia=Ha.update(C),la=C.material;la.visible&&U.push(C,ia,la,V,ka.z,null)}}else if(C.isImmediateRenderObject)da&&
ka.setFromMatrixPosition(C.matrixWorld).applyMatrix4(ha),U.push(C,null,C.material,V,ka.z,null);else if(C.isMesh||C.isLine||C.isPoints)if(C.isSkinnedMesh&&C.skeleton.frame!==wa.render.frame&&(C.skeleton.update(),C.skeleton.frame=wa.render.frame),!C.frustumCulled||Z.intersectsObject(C))if(da&&ka.setFromMatrixPosition(C.matrixWorld).applyMatrix4(ha),ia=Ha.update(C),la=C.material,Array.isArray(la)){const ma=ia.groups;for(let pa=0,qa=ma.length;pa<qa;pa++){const va=ma[pa],ra=la[va.materialIndex];ra&&ra.visible&&
U.push(C,ia,ra,V,ka.z,va)}}else la.visible&&U.push(C,ia,la,V,ka.z,null);C=C.children;for(let ma=0,pa=C.length;ma<pa;ma++)l(C[ma],ca,V,da)}}function m(C,ca,V){const da=!0===ca.isScene?ca.overrideMaterial:null;for(let la=0,ma=C.length;la<ma;la++){var ia=C[la];const pa=ia.object,qa=ia.geometry,va=null===da?ia.material:da;ia=ia.group;if(V.isArrayCamera){X=V;const ra=V.cameras;for(let Fa=0,Ma=ra.length;Fa<Ma;Fa++){const Ka=ra[Fa];pa.layers.test(Ka.layers)&&(sa.viewport(y.copy(Ka.viewport)),W.setupLights(Ka),
n(pa,ca,Ka,qa,va,ia))}}else X=null,n(pa,ca,V,qa,va,ia)}}function n(C,ca,V,da,ia,la){C.onBeforeRender(J,ca,V,da,ia,la);W=Ga.get(ca,X||V);C.modelViewMatrix.multiplyMatrices(V.matrixWorldInverse,C.matrixWorld);C.normalMatrix.getNormalMatrix(C.modelViewMatrix);if(C.isImmediateRenderObject){const ma=t(V,ca,ia,C);sa.setMaterial(ia);ya.reset();k(C,ma)}else J.renderBufferDirect(V,ca,da,ia,C,la);C.onAfterRender(J,ca,V,da,ia,la);W=Ga.get(ca,X||V)}function p(C,ca,V){!0!==ca.isScene&&(ca=oa);const da=ua.get(C),
ia=W.state.lights,la=ia.state.version;V=Ea.getParameters(C,ia.state,W.state.shadowsArray,ca,V);const ma=Ea.getProgramCacheKey(V);let pa=da.program,qa=!0;if(void 0===pa)C.addEventListener("dispose",g);else if(pa.cacheKey!==ma)h(C);else{if(da.lightsStateVersion===la&&void 0!==V.shaderID){ca=C.isMeshStandardMaterial?ca.environment:null;da.envMap=Ca.get(C.envMap||ca);return}qa=!1}qa&&(V.uniforms=Ea.getUniforms(C),C.onBeforeCompile(V,J),pa=Ea.acquireProgram(V,ma),da.program=pa,da.uniforms=V.uniforms,da.outputEncoding=
V.outputEncoding);V=da.uniforms;if(!C.isShaderMaterial&&!C.isRawShaderMaterial||!0===C.clipping)da.numClippingPlanes=za.numPlanes,da.numIntersection=za.numIntersection,V.clippingPlanes=za.uniform;da.environment=C.isMeshStandardMaterial?ca.environment:null;da.fog=ca.fog;da.envMap=Ca.get(C.envMap||da.environment);da.needsLights=C.isMeshLambertMaterial||C.isMeshToonMaterial||C.isMeshPhongMaterial||C.isMeshStandardMaterial||C.isShadowMaterial||C.isShaderMaterial&&!0===C.lights;da.lightsStateVersion=la;
da.needsLights&&(V.ambientLightColor.value=ia.state.ambient,V.lightProbe.value=ia.state.probe,V.directionalLights.value=ia.state.directional,V.directionalLightShadows.value=ia.state.directionalShadow,V.spotLights.value=ia.state.spot,V.spotLightShadows.value=ia.state.spotShadow,V.rectAreaLights.value=ia.state.rectArea,V.ltc_1.value=ia.state.rectAreaLTC1,V.ltc_2.value=ia.state.rectAreaLTC2,V.pointLights.value=ia.state.point,V.pointLightShadows.value=ia.state.pointShadow,V.hemisphereLights.value=ia.state.hemi,
V.directionalShadowMap.value=ia.state.directionalShadowMap,V.directionalShadowMatrix.value=ia.state.directionalShadowMatrix,V.spotShadowMap.value=ia.state.spotShadowMap,V.spotShadowMatrix.value=ia.state.spotShadowMatrix,V.pointShadowMap.value=ia.state.pointShadowMap,V.pointShadowMatrix.value=ia.state.pointShadowMatrix);C=da.program.getUniforms();C=WebGLUniforms$$module$node_modules$three$build$three_module.seqWithValue(C.seq,V);da.uniformsList=C}function t(C,ca,V,da){!0!==ca.isScene&&(ca=oa);xa.resetTextureUnits();
const ia=ca.fog;var la=V.isMeshStandardMaterial?ca.environment:null,ma=null===Q?J.outputEncoding:Q.texture.encoding,pa=Ca.get(V.envMap||la);const qa=ua.get(V);var va=W.state.lights;!0!==ea||!0!==ja&&C===T||za.setState(V,C,C===T&&V.id===L);V.version===qa.__version?V.fog&&qa.fog!==ia?p(V,ca,da):qa.environment!==la?p(V,ca,da):qa.needsLights&&qa.lightsStateVersion!==va.state.version?p(V,ca,da):void 0===qa.numClippingPlanes||qa.numClippingPlanes===za.numPlanes&&qa.numIntersection===za.numIntersection?
qa.outputEncoding!==ma?p(V,ca,da):qa.envMap!==pa&&p(V,ca,da):p(V,ca,da):(p(V,ca,da),qa.__version=V.version);var ra=!1;va=pa=!1;ca=qa.program;la=ca.getUniforms();ma=qa.uniforms;sa.useProgram(ca.program)&&(va=pa=ra=!0);V.id!==L&&(L=V.id,pa=!0);if(ra||T!==C){la.setValue(fa,"projectionMatrix",C.projectionMatrix);ta.logarithmicDepthBuffer&&la.setValue(fa,"logDepthBufFC",2/(Math.log(C.far+1)/Math.LN2));T!==C&&(T=C,va=pa=!0);if(V.isShaderMaterial||V.isMeshPhongMaterial||V.isMeshToonMaterial||V.isMeshStandardMaterial||
V.envMap)ra=la.map.cameraPosition,void 0!==ra&&ra.setValue(fa,ka.setFromMatrixPosition(C.matrixWorld));(V.isMeshPhongMaterial||V.isMeshToonMaterial||V.isMeshLambertMaterial||V.isMeshBasicMaterial||V.isMeshStandardMaterial||V.isShaderMaterial)&&la.setValue(fa,"isOrthographic",!0===C.isOrthographicCamera);(V.isMeshPhongMaterial||V.isMeshToonMaterial||V.isMeshLambertMaterial||V.isMeshBasicMaterial||V.isMeshStandardMaterial||V.isShaderMaterial||V.isShadowMaterial||V.skinning)&&la.setValue(fa,"viewMatrix",
C.matrixWorldInverse)}if(V.skinning&&(la.setOptional(fa,da,"bindMatrix"),la.setOptional(fa,da,"bindMatrixInverse"),C=da.skeleton))if(ra=C.bones,ta.floatVertexTextures){if(void 0===C.boneTexture){ra=Math.sqrt(4*ra.length);ra=MathUtils$$module$node_modules$three$build$three_module.ceilPowerOfTwo(ra);ra=Math.max(ra,4);const Fa=new Float32Array(ra*ra*4);Fa.set(C.boneMatrices);const Ma=new DataTexture$$module$node_modules$three$build$three_module(Fa,ra,ra,RGBAFormat$$module$node_modules$three$build$three_module,
FloatType$$module$node_modules$three$build$three_module);C.boneMatrices=Fa;C.boneTexture=Ma;C.boneTextureSize=ra}la.setValue(fa,"boneTexture",C.boneTexture,xa);la.setValue(fa,"boneTextureSize",C.boneTextureSize)}else la.setOptional(fa,C,"boneMatrices");if(pa||qa.receiveShadow!==da.receiveShadow)qa.receiveShadow=da.receiveShadow,la.setValue(fa,"receiveShadow",da.receiveShadow);pa&&(la.setValue(fa,"toneMappingExposure",J.toneMappingExposure),qa.needsLights&&(C=va,ma.ambientLightColor.needsUpdate=C,
ma.lightProbe.needsUpdate=C,ma.directionalLights.needsUpdate=C,ma.directionalLightShadows.needsUpdate=C,ma.pointLights.needsUpdate=C,ma.pointLightShadows.needsUpdate=C,ma.spotLights.needsUpdate=C,ma.spotLightShadows.needsUpdate=C,ma.rectAreaLights.needsUpdate=C,ma.hemisphereLights.needsUpdate=C),ia&&V.fog&&Oa.refreshFogUniforms(ma,ia),Oa.refreshMaterialUniforms(ma,V,u,v),WebGLUniforms$$module$node_modules$three$build$three_module.upload(fa,qa.uniformsList,ma,xa));V.isShaderMaterial&&!0===V.uniformsNeedUpdate&&
(WebGLUniforms$$module$node_modules$three$build$three_module.upload(fa,qa.uniformsList,ma,xa),V.uniformsNeedUpdate=!1);V.isSpriteMaterial&&la.setValue(fa,"center",da.center);la.setValue(fa,"modelViewMatrix",da.modelViewMatrix);la.setValue(fa,"normalMatrix",da.normalMatrix);la.setValue(fa,"modelMatrix",da.matrixWorld);return ca}a=a||{};const w=void 0!==a.canvas?a.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas");var x=void 0!==a.context?a.context:null,A=void 0!==a.alpha?a.alpha:
!1;const r=void 0!==a.depth?a.depth:!0,E=void 0!==a.stencil?a.stencil:!0,B=void 0!==a.antialias?a.antialias:!1,G=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,H=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,O=void 0!==a.powerPreference?a.powerPreference:"default",N=void 0!==a.failIfMajorPerformanceCaveat?a.failIfMajorPerformanceCaveat:!1;let U=null,W=null;this.domElement=w;this.debug={checkShaderErrors:!0};this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=
this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.gammaFactor=2;this.outputEncoding=LinearEncoding$$module$node_modules$three$build$three_module;this.physicallyCorrectLights=!1;this.toneMapping=NoToneMapping$$module$node_modules$three$build$three_module;this.toneMappingExposure=1;this.maxMorphTargets=8;this.maxMorphNormals=4;const J=this;let aa=!1,ba=null,z=0,K=0,Q=null,M=null,L=-1,T=null,X=null;const y=new Vector4$$module$node_modules$three$build$three_module,F=new Vector4$$module$node_modules$three$build$three_module;
let R=null,q=w.width,v=w.height,u=1,D=null,I=null;const S=new Vector4$$module$node_modules$three$build$three_module(0,0,q,v),P=new Vector4$$module$node_modules$three$build$three_module(0,0,q,v);let Y=!1;const Z=new Frustum$$module$node_modules$three$build$three_module;let ea=!1,ja=!1;const ha=new Matrix4$$module$node_modules$three$build$three_module,ka=new Vector3$$module$node_modules$three$build$three_module,oa={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let fa=x;
try{x={alpha:A,depth:r,stencil:E,antialias:B,premultipliedAlpha:G,preserveDrawingBuffer:H,powerPreference:O,failIfMajorPerformanceCaveat:N};w.addEventListener("webglcontextlost",d,!1);w.addEventListener("webglcontextrestored",e,!1);if(null===fa&&(A=["webgl2","webgl","experimental-webgl"],!0===J.isWebGL1Renderer&&A.shift(),fa=b(A,x),null===fa)){if(b(A))throw Error("Error creating WebGL context with your selected attributes.");throw Error("Error creating WebGL context.");}void 0===fa.getShaderPrecisionFormat&&
(fa.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(C){throw console.error("THREE.WebGLRenderer: "+C.message),C;}let na,ta,sa,wa,ua,xa,Ca,Ia,Na,Ha,Ea,Oa,La,Ga,za,Ba,Qa,Ra,Sa,Aa,ya;c();const Da=new WebXRManager$$module$node_modules$three$build$three_module(J,fa);this.xr=Da;const Ta=new WebGLShadowMap$$module$node_modules$three$build$three_module(J,Ha,ta.maxTextureSize);this.shadowMap=Ta;this.getContext=function(){return fa};this.getContextAttributes=function(){return fa.getContextAttributes()};
this.forceContextLoss=function(){const C=na.get("WEBGL_lose_context");C&&C.loseContext()};this.forceContextRestore=function(){const C=na.get("WEBGL_lose_context");C&&C.restoreContext()};this.getPixelRatio=function(){return u};this.setPixelRatio=function(C){void 0!==C&&(u=C,this.setSize(q,v,!1))};this.getSize=function(C){void 0===C&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),C=new Vector2$$module$node_modules$three$build$three_module);return C.set(q,v)};this.setSize=
function(C,ca,V){Da.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(q=C,v=ca,w.width=Math.floor(C*u),w.height=Math.floor(ca*u),!1!==V&&(w.style.width=C+"px",w.style.height=ca+"px"),this.setViewport(0,0,C,ca))};this.getDrawingBufferSize=function(C){void 0===C&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),C=new Vector2$$module$node_modules$three$build$three_module);return C.set(q*u,v*u).floor()};this.setDrawingBufferSize=
function(C,ca,V){q=C;v=ca;u=V;w.width=Math.floor(C*V);w.height=Math.floor(ca*V);this.setViewport(0,0,C,ca)};this.getCurrentViewport=function(C){void 0===C&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),C=new Vector4$$module$node_modules$three$build$three_module);return C.copy(y)};this.getViewport=function(C){return C.copy(S)};this.setViewport=function(C,ca,V,da){C.isVector4?S.set(C.x,C.y,C.z,C.w):S.set(C,ca,V,da);sa.viewport(y.copy(S).multiplyScalar(u).floor())};
this.getScissor=function(C){return C.copy(P)};this.setScissor=function(C,ca,V,da){C.isVector4?P.set(C.x,C.y,C.z,C.w):P.set(C,ca,V,da);sa.scissor(F.copy(P).multiplyScalar(u).floor())};this.getScissorTest=function(){return Y};this.setScissorTest=function(C){sa.setScissorTest(Y=C)};this.setOpaqueSort=function(C){D=C};this.setTransparentSort=function(C){I=C};this.getClearColor=function(){return Ba.getClearColor()};this.setClearColor=function(){Ba.setClearColor.apply(Ba,arguments)};this.getClearAlpha=
function(){return Ba.getClearAlpha()};this.setClearAlpha=function(){Ba.setClearAlpha.apply(Ba,arguments)};this.clear=function(C,ca,V){let da=0;if(void 0===C||C)da|=16384;if(void 0===ca||ca)da|=256;if(void 0===V||V)da|=1024;fa.clear(da)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.dispose=function(){w.removeEventListener("webglcontextlost",d,!1);w.removeEventListener("webglcontextrestored",
e,!1);La.dispose();Ga.dispose();ua.dispose();Ca.dispose();Ha.dispose();ya.dispose();Da.dispose();Ja.stop()};this.renderBufferImmediate=function(C,ca){ya.initAttributes();const V=ua.get(C);C.hasPositions&&!V.position&&(V.position=fa.createBuffer());C.hasNormals&&!V.normal&&(V.normal=fa.createBuffer());C.hasUvs&&!V.uv&&(V.uv=fa.createBuffer());C.hasColors&&!V.color&&(V.color=fa.createBuffer());ca=ca.getAttributes();C.hasPositions&&(fa.bindBuffer(34962,V.position),fa.bufferData(34962,C.positionArray,
35048),ya.enableAttribute(ca.position),fa.vertexAttribPointer(ca.position,3,5126,!1,0,0));C.hasNormals&&(fa.bindBuffer(34962,V.normal),fa.bufferData(34962,C.normalArray,35048),ya.enableAttribute(ca.normal),fa.vertexAttribPointer(ca.normal,3,5126,!1,0,0));C.hasUvs&&(fa.bindBuffer(34962,V.uv),fa.bufferData(34962,C.uvArray,35048),ya.enableAttribute(ca.uv),fa.vertexAttribPointer(ca.uv,2,5126,!1,0,0));C.hasColors&&(fa.bindBuffer(34962,V.color),fa.bufferData(34962,C.colorArray,35048),ya.enableAttribute(ca.color),
fa.vertexAttribPointer(ca.color,3,5126,!1,0,0));ya.disableUnusedAttributes();fa.drawArrays(4,0,C.count);C.count=0};this.renderBufferDirect=function(C,ca,V,da,ia,la){null===ca&&(ca=oa);var ma=ia.isMesh&&0>ia.matrixWorld.determinant();C=t(C,ca,da,ia);sa.setMaterial(da,ma);ma=V.index;ca=V.attributes.position;if(null===ma){if(void 0===ca||0===ca.count)return}else if(0===ma.count)return;let pa=1;!0===da.wireframe&&(ma=Na.getWireframeAttribute(V),pa=2);(da.morphTargets||da.morphNormals)&&Qa.update(ia,V,
da,C);ya.setup(ia,da,C,V,ma);C=Ra;if(null!==ma){var qa=Ia.get(ma);C=Sa;C.setIndex(qa)}const va=V.drawRange.start*pa,ra=null!==la?la.start*pa:0;qa=Math.max(va,ra);la=Math.max(0,Math.min(null!==ma?ma.count:ca.count,va+V.drawRange.count*pa,ra+(null!==la?la.count*pa:Infinity))-1-qa+1);0!==la&&(ia.isMesh?!0===da.wireframe?(sa.setLineWidth(da.wireframeLinewidth*(null===Q?u:1)),C.setMode(1)):C.setMode(4):ia.isLine?(da=da.linewidth,void 0===da&&(da=1),sa.setLineWidth(da*(null===Q?u:1)),ia.isLineSegments?
C.setMode(1):ia.isLineLoop?C.setMode(2):C.setMode(3)):ia.isPoints?C.setMode(0):ia.isSprite&&C.setMode(4),ia.isInstancedMesh?C.renderInstances(qa,la,ia.count):V.isInstancedBufferGeometry?C.renderInstances(qa,la,Math.min(V.instanceCount,V._maxInstanceCount)):C.render(qa,la))};this.compile=function(C,ca){W=Ga.get(C,ca);W.init();C.traverse(function(da){da.isLight&&(W.pushLight(da),da.castShadow&&W.pushShadow(da))});W.setupLights(ca);const V=new WeakMap;C.traverse(function(da){const ia=da.material;if(ia)if(Array.isArray(ia))for(let la=
0;la<ia.length;la++){const ma=ia[la];!1===V.has(ma)&&(p(ma,C,da),V.set(ma))}else!1===V.has(ia)&&(p(ia,C,da),V.set(ia))})};let Pa=null;const Ja=new WebGLAnimation$$module$node_modules$three$build$three_module;Ja.setAnimationLoop(function(C){Da.isPresenting||Pa&&Pa(C)});"undefined"!==typeof window&&Ja.setContext(window);this.setAnimationLoop=function(C){Pa=C;Da.setAnimationLoop(C);null===C?Ja.stop():Ja.start()};this.render=function(C,ca,V,da){let ia,la;void 0!==V&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),
ia=V);void 0!==da&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),la=da);if(void 0!==ca&&!0!==ca.isCamera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else if(!0!==aa){ya.resetDefaultState();L=-1;T=null;!0===C.autoUpdate&&C.updateMatrixWorld();null===ca.parent&&ca.updateMatrixWorld();!0===Da.enabled&&!0===Da.isPresenting&&(ca=Da.getCamera(ca));if(!0===C.isScene)C.onBeforeRender(J,C,ca,ia||Q);
W=Ga.get(C,ca);W.init();ha.multiplyMatrices(ca.projectionMatrix,ca.matrixWorldInverse);Z.setFromProjectionMatrix(ha);ja=this.localClippingEnabled;ea=za.init(this.clippingPlanes,ja,ca);U=La.get(C,ca);U.init();l(C,ca,0,J.sortObjects);U.finish();!0===J.sortObjects&&U.sort(D,I);!0===ea&&za.beginShadows();Ta.render(W.state.shadowsArray,C,ca);W.setupLights(ca);!0===ea&&za.endShadows();!0===this.info.autoReset&&this.info.reset();void 0!==ia&&this.setRenderTarget(ia);Ba.render(U,C,ca,la);V=U.opaque;da=U.transparent;
0<V.length&&m(V,C,ca);0<da.length&&m(da,C,ca);if(!0===C.isScene)C.onAfterRender(J,C,ca);null!==Q&&(xa.updateRenderTargetMipmap(Q),xa.updateMultisampleRenderTarget(Q));sa.buffers.depth.setTest(!0);sa.buffers.depth.setMask(!0);sa.buffers.color.setMask(!0);sa.setPolygonOffset(!1);W=U=null}};this.setFramebuffer=function(C){ba!==C&&null===Q&&fa.bindFramebuffer(36160,C);ba=C};this.getActiveCubeFace=function(){return z};this.getActiveMipmapLevel=function(){return K};this.getRenderList=function(){return U};
this.setRenderList=function(C){U=C};this.getRenderState=function(){return W};this.setRenderState=function(C){W=C};this.getRenderTarget=function(){return Q};this.setRenderTarget=function(C,ca=0,V=0){Q=C;z=ca;K=V;C&&void 0===ua.get(C).__webglFramebuffer&&xa.setupRenderTarget(C);var da=ba;let ia=!1;C?(da=ua.get(C).__webglFramebuffer,C.isWebGLCubeRenderTarget?(da=da[ca],ia=!0):da=C.isWebGLMultisampleRenderTarget?ua.get(C).__webglMultisampledFramebuffer:da,y.copy(C.viewport),F.copy(C.scissor),R=C.scissorTest):
(y.copy(S).multiplyScalar(u).floor(),F.copy(P).multiplyScalar(u).floor(),R=Y);M!==da&&(fa.bindFramebuffer(36160,da),M=da);sa.viewport(y);sa.scissor(F);sa.setScissorTest(R);ia&&(C=ua.get(C.texture),fa.framebufferTexture2D(36160,36064,34069+ca,C.__webglTexture,V))};this.readRenderTargetPixels=function(C,ca,V,da,ia,la,ma){if(C&&C.isWebGLRenderTarget){var pa=ua.get(C).__webglFramebuffer;C.isWebGLCubeRenderTarget&&void 0!==ma&&(pa=pa[ma]);if(pa){ma=!1;pa!==M&&(fa.bindFramebuffer(36160,pa),ma=!0);try{const qa=
C.texture,va=qa.format,ra=qa.type;va!==RGBAFormat$$module$node_modules$three$build$three_module&&Aa.convert(va)!==fa.getParameter(35739)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):ra===UnsignedByteType$$module$node_modules$three$build$three_module||Aa.convert(ra)===fa.getParameter(35738)||ra===FloatType$$module$node_modules$three$build$three_module&&(ta.isWebGL2||na.get("OES_texture_float")||na.get("WEBGL_color_buffer_float"))||
ra===HalfFloatType$$module$node_modules$three$build$three_module&&(ta.isWebGL2?na.get("EXT_color_buffer_float"):na.get("EXT_color_buffer_half_float"))?36053===fa.checkFramebufferStatus(36160)?0<=ca&&ca<=C.width-da&&0<=V&&V<=C.height-ia&&fa.readPixels(ca,V,da,ia,Aa.convert(va),Aa.convert(ra),la):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{ma&&
fa.bindFramebuffer(36160,M)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")};this.copyFramebufferToTexture=function(C,ca,V){void 0===V&&(V=0);var da=Math.pow(2,-V);const ia=Math.floor(ca.image.width*da);da=Math.floor(ca.image.height*da);const la=Aa.convert(ca.format);xa.setTexture2D(ca,0);fa.copyTexImage2D(3553,V,la,C.x,C.y,ia,da,0);sa.unbindTexture()};this.copyTextureToTexture=function(C,ca,V,da){void 0===da&&(da=0);const ia=ca.image.width,
la=ca.image.height,ma=Aa.convert(V.format),pa=Aa.convert(V.type);xa.setTexture2D(V,0);fa.pixelStorei(37440,V.flipY);fa.pixelStorei(37441,V.premultiplyAlpha);fa.pixelStorei(3317,V.unpackAlignment);ca.isDataTexture?fa.texSubImage2D(3553,da,C.x,C.y,ia,la,ma,pa,ca.image.data):ca.isCompressedTexture?fa.compressedTexSubImage2D(3553,da,C.x,C.y,ca.mipmaps[0].width,ca.mipmaps[0].height,ma,ca.mipmaps[0].data):fa.texSubImage2D(3553,da,C.x,C.y,ma,pa,ca.image);0===da&&V.generateMipmaps&&fa.generateMipmap(3553);
sa.unbindTexture()};this.initTexture=function(C){xa.setTexture2D(C,0);sa.unbindTexture()};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function WebGL1Renderer$$module$node_modules$three$build$three_module(a){WebGLRenderer$$module$node_modules$three$build$three_module.call(this,a)}
WebGL1Renderer$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(WebGLRenderer$$module$node_modules$three$build$three_module.prototype),{constructor:WebGL1Renderer$$module$node_modules$three$build$three_module,isWebGL1Renderer:!0});
class FogExp2$$module$node_modules$three$build$three_module{constructor(a,b){Object.defineProperty(this,"isFogExp2",{value:!0});this.name="";this.color=new Color$$module$node_modules$three$build$three_module(a);this.density=void 0!==b?b:2.5E-4}clone(){return new FogExp2$$module$node_modules$three$build$three_module(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}
class Fog$$module$node_modules$three$build$three_module{constructor(a,b,c){Object.defineProperty(this,"isFog",{value:!0});this.name="";this.color=new Color$$module$node_modules$three$build$three_module(a);this.near=void 0!==b?b:1;this.far=void 0!==c?c:1E3}clone(){return new Fog$$module$node_modules$three$build$three_module(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}
class Scene$$module$node_modules$three$build$three_module extends Object3D$$module$node_modules$three$build$three_module{constructor(){super();Object.defineProperty(this,"isScene",{value:!0});this.type="Scene";this.overrideMaterial=this.fog=this.environment=this.background=null;this.autoUpdate=!0;"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(a,b){super.copy(a,b);null!==a.background&&(this.background=a.background.clone());null!==
a.environment&&(this.environment=a.environment.clone());null!==a.fog&&(this.fog=a.fog.clone());null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.autoUpdate=a.autoUpdate;this.matrixAutoUpdate=a.matrixAutoUpdate;return this}toJSON(a){const b=super.toJSON(a);null!==this.background&&(b.object.background=this.background.toJSON(a));null!==this.environment&&(b.object.environment=this.environment.toJSON(a));null!==this.fog&&(b.object.fog=this.fog.toJSON());return b}}
function InterleavedBuffer$$module$node_modules$three$build$three_module(a,b){this.array=a;this.stride=b;this.count=void 0!==a?a.length/b:0;this.usage=StaticDrawUsage$$module$node_modules$three$build$three_module;this.updateRange={offset:0,count:-1};this.version=0;this.uuid=MathUtils$$module$node_modules$three$build$three_module.generateUUID()}Object.defineProperty(InterleavedBuffer$$module$node_modules$three$build$three_module.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});
Object.assign(InterleavedBuffer$$module$node_modules$three$build$three_module.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(a){this.usage=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.count=a.count;this.stride=a.stride;this.usage=a.usage;return this},copyAt:function(a,b,c){a*=this.stride;c*=b.stride;for(let d=0,e=this.stride;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,
b);return this},clone:function(a){void 0===a.arrayBuffers&&(a.arrayBuffers={});void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=MathUtils$$module$node_modules$three$build$three_module.generateUUID());void 0===a.arrayBuffers[this.array.buffer._uuid]&&(a.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);a=new this.array.constructor(a.arrayBuffers[this.array.buffer._uuid]);a=new InterleavedBuffer$$module$node_modules$three$build$three_module(a,this.stride);a.setUsage(this.usage);
return a},onUpload:function(a){this.onUploadCallback=a;return this},toJSON:function(a){void 0===a.arrayBuffers&&(a.arrayBuffers={});void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=MathUtils$$module$node_modules$three$build$three_module.generateUUID());void 0===a.arrayBuffers[this.array.buffer._uuid]&&(a.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer)));return{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,
stride:this.stride}}});const _vector$6$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module;function InterleavedBufferAttribute$$module$node_modules$three$build$three_module(a,b,c,d){this.name="";this.data=a;this.itemSize=b;this.offset=c;this.normalized=!0===d}
Object.defineProperties(InterleavedBufferAttribute$$module$node_modules$three$build$three_module.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(a){this.data.needsUpdate=a}}});
Object.assign(InterleavedBufferAttribute$$module$node_modules$three$build$three_module.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(a){for(let b=0,c=this.data.count;b<c;b++)_vector$6$$module$node_modules$three$build$three_module.x=this.getX(b),_vector$6$$module$node_modules$three$build$three_module.y=this.getY(b),_vector$6$$module$node_modules$three$build$three_module.z=this.getZ(b),_vector$6$$module$node_modules$three$build$three_module.applyMatrix4(a),this.setXYZ(b,_vector$6$$module$node_modules$three$build$three_module.x,
_vector$6$$module$node_modules$three$build$three_module.y,_vector$6$$module$node_modules$three$build$three_module.z);return this},setX:function(a,b){this.data.array[a*this.data.stride+this.offset]=b;return this},setY:function(a,b){this.data.array[a*this.data.stride+this.offset+1]=b;return this},setZ:function(a,b){this.data.array[a*this.data.stride+this.offset+2]=b;return this},setW:function(a,b){this.data.array[a*this.data.stride+this.offset+3]=b;return this},getX:function(a){return this.data.array[a*
this.data.stride+this.offset]},getY:function(a){return this.data.array[a*this.data.stride+this.offset+1]},getZ:function(a){return this.data.array[a*this.data.stride+this.offset+2]},getW:function(a){return this.data.array[a*this.data.stride+this.offset+3]},setXY:function(a,b,c){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;return this},
setXYZW:function(a,b,c,d,e){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;this.data.array[a+3]=e;return this},clone:function(a){if(void 0===a){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");a=[];for(let b=0;b<this.count;b++){const c=b*this.data.stride+this.offset;for(let d=0;d<this.itemSize;d++)a.push(this.data.array[c+d])}return new BufferAttribute$$module$node_modules$three$build$three_module(new this.array.constructor(a),
this.itemSize,this.normalized)}void 0===a.interleavedBuffers&&(a.interleavedBuffers={});void 0===a.interleavedBuffers[this.data.uuid]&&(a.interleavedBuffers[this.data.uuid]=this.data.clone(a));return new InterleavedBufferAttribute$$module$node_modules$three$build$three_module(a.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(a){if(void 0===a){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");
a=[];for(let b=0;b<this.count;b++){const c=b*this.data.stride+this.offset;for(let d=0;d<this.itemSize;d++)a.push(this.data.array[c+d])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:a,normalized:this.normalized}}void 0===a.interleavedBuffers&&(a.interleavedBuffers={});void 0===a.interleavedBuffers[this.data.uuid]&&(a.interleavedBuffers[this.data.uuid]=this.data.toJSON(a));return{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});
function SpriteMaterial$$module$node_modules$three$build$three_module(a){Material$$module$node_modules$three$build$three_module.call(this);this.type="SpriteMaterial";this.color=new Color$$module$node_modules$three$build$three_module(16777215);this.alphaMap=this.map=null;this.rotation=0;this.transparent=this.sizeAttenuation=!0;this.setValues(a)}SpriteMaterial$$module$node_modules$three$build$three_module.prototype=Object.create(Material$$module$node_modules$three$build$three_module.prototype);
SpriteMaterial$$module$node_modules$three$build$three_module.prototype.constructor=SpriteMaterial$$module$node_modules$three$build$three_module;SpriteMaterial$$module$node_modules$three$build$three_module.prototype.isSpriteMaterial=!0;
SpriteMaterial$$module$node_modules$three$build$three_module.prototype.copy=function(a){Material$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.alphaMap=a.alphaMap;this.rotation=a.rotation;this.sizeAttenuation=a.sizeAttenuation;return this};let _geometry$$module$node_modules$three$build$three_module;
const _intersectPoint$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_worldScale$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_mvPosition$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_alignedPosition$$module$node_modules$three$build$three_module=new Vector2$$module$node_modules$three$build$three_module,_rotatedPosition$$module$node_modules$three$build$three_module=
new Vector2$$module$node_modules$three$build$three_module,_viewWorldMatrix$$module$node_modules$three$build$three_module=new Matrix4$$module$node_modules$three$build$three_module,_vA$1$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_vB$1$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_vC$1$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,
_uvA$1$$module$node_modules$three$build$three_module=new Vector2$$module$node_modules$three$build$three_module,_uvB$1$$module$node_modules$three$build$three_module=new Vector2$$module$node_modules$three$build$three_module,_uvC$1$$module$node_modules$three$build$three_module=new Vector2$$module$node_modules$three$build$three_module;
function Sprite$$module$node_modules$three$build$three_module(a){Object3D$$module$node_modules$three$build$three_module.call(this);this.type="Sprite";if(void 0===_geometry$$module$node_modules$three$build$three_module){_geometry$$module$node_modules$three$build$three_module=new BufferGeometry$$module$node_modules$three$build$three_module;var b=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);b=new InterleavedBuffer$$module$node_modules$three$build$three_module(b,5);_geometry$$module$node_modules$three$build$three_module.setIndex([0,
1,2,0,2,3]);_geometry$$module$node_modules$three$build$three_module.setAttribute("position",new InterleavedBufferAttribute$$module$node_modules$three$build$three_module(b,3,0,!1));_geometry$$module$node_modules$three$build$three_module.setAttribute("uv",new InterleavedBufferAttribute$$module$node_modules$three$build$three_module(b,2,3,!1))}this.geometry=_geometry$$module$node_modules$three$build$three_module;this.material=void 0!==a?a:new SpriteMaterial$$module$node_modules$three$build$three_module;
this.center=new Vector2$$module$node_modules$three$build$three_module(.5,.5)}
Sprite$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Object3D$$module$node_modules$three$build$three_module.prototype),{constructor:Sprite$$module$node_modules$three$build$three_module,isSprite:!0,raycast:function(a,b){null===a.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.');_worldScale$$module$node_modules$three$build$three_module.setFromMatrixScale(this.matrixWorld);_viewWorldMatrix$$module$node_modules$three$build$three_module.copy(a.camera.matrixWorld);
this.modelViewMatrix.multiplyMatrices(a.camera.matrixWorldInverse,this.matrixWorld);_mvPosition$$module$node_modules$three$build$three_module.setFromMatrixPosition(this.modelViewMatrix);a.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&_worldScale$$module$node_modules$three$build$three_module.multiplyScalar(-_mvPosition$$module$node_modules$three$build$three_module.z);var c=this.material.rotation;let d;if(0!==c){d=Math.cos(c);var e=Math.sin(c)}c=this.center;transformVertex$$module$node_modules$three$build$three_module(_vA$1$$module$node_modules$three$build$three_module.set(-.5,
-.5,0),_mvPosition$$module$node_modules$three$build$three_module,c,_worldScale$$module$node_modules$three$build$three_module,e,d);transformVertex$$module$node_modules$three$build$three_module(_vB$1$$module$node_modules$three$build$three_module.set(.5,-.5,0),_mvPosition$$module$node_modules$three$build$three_module,c,_worldScale$$module$node_modules$three$build$three_module,e,d);transformVertex$$module$node_modules$three$build$three_module(_vC$1$$module$node_modules$three$build$three_module.set(.5,
.5,0),_mvPosition$$module$node_modules$three$build$three_module,c,_worldScale$$module$node_modules$three$build$three_module,e,d);_uvA$1$$module$node_modules$three$build$three_module.set(0,0);_uvB$1$$module$node_modules$three$build$three_module.set(1,0);_uvC$1$$module$node_modules$three$build$three_module.set(1,1);let g=a.ray.intersectTriangle(_vA$1$$module$node_modules$three$build$three_module,_vB$1$$module$node_modules$three$build$three_module,_vC$1$$module$node_modules$three$build$three_module,
!1,_intersectPoint$$module$node_modules$three$build$three_module);if(null===g&&(transformVertex$$module$node_modules$three$build$three_module(_vB$1$$module$node_modules$three$build$three_module.set(-.5,.5,0),_mvPosition$$module$node_modules$three$build$three_module,c,_worldScale$$module$node_modules$three$build$three_module,e,d),_uvB$1$$module$node_modules$three$build$three_module.set(0,1),g=a.ray.intersectTriangle(_vA$1$$module$node_modules$three$build$three_module,_vC$1$$module$node_modules$three$build$three_module,
_vB$1$$module$node_modules$three$build$three_module,!1,_intersectPoint$$module$node_modules$three$build$three_module),null===g))return;e=a.ray.origin.distanceTo(_intersectPoint$$module$node_modules$three$build$three_module);e<a.near||e>a.far||b.push({distance:e,point:_intersectPoint$$module$node_modules$three$build$three_module.clone(),uv:Triangle$$module$node_modules$three$build$three_module.getUV(_intersectPoint$$module$node_modules$three$build$three_module,_vA$1$$module$node_modules$three$build$three_module,
_vB$1$$module$node_modules$three$build$three_module,_vC$1$$module$node_modules$three$build$three_module,_uvA$1$$module$node_modules$three$build$three_module,_uvB$1$$module$node_modules$three$build$three_module,_uvC$1$$module$node_modules$three$build$three_module,new Vector2$$module$node_modules$three$build$three_module),face:null,object:this})},copy:function(a){Object3D$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);void 0!==a.center&&this.center.copy(a.center);this.material=
a.material;return this}});
function transformVertex$$module$node_modules$three$build$three_module(a,b,c,d,e,g){_alignedPosition$$module$node_modules$three$build$three_module.subVectors(a,c).addScalar(.5).multiply(d);void 0!==e?(_rotatedPosition$$module$node_modules$three$build$three_module.x=g*_alignedPosition$$module$node_modules$three$build$three_module.x-e*_alignedPosition$$module$node_modules$three$build$three_module.y,_rotatedPosition$$module$node_modules$three$build$three_module.y=e*_alignedPosition$$module$node_modules$three$build$three_module.x+g*
_alignedPosition$$module$node_modules$three$build$three_module.y):_rotatedPosition$$module$node_modules$three$build$three_module.copy(_alignedPosition$$module$node_modules$three$build$three_module);a.copy(b);a.x+=_rotatedPosition$$module$node_modules$three$build$three_module.x;a.y+=_rotatedPosition$$module$node_modules$three$build$three_module.y;a.applyMatrix4(_viewWorldMatrix$$module$node_modules$three$build$three_module)}
const _v1$4$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_v2$2$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module;function LOD$$module$node_modules$three$build$three_module(){Object3D$$module$node_modules$three$build$three_module.call(this);this._currentLevel=0;this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]}});this.autoUpdate=!0}
LOD$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Object3D$$module$node_modules$three$build$three_module.prototype),{constructor:LOD$$module$node_modules$three$build$three_module,isLOD:!0,copy:function(a){Object3D$$module$node_modules$three$build$three_module.prototype.copy.call(this,a,!1);const b=a.levels;for(let c=0,d=b.length;c<d;c++){const e=b[c];this.addLevel(e.object.clone(),e.distance)}this.autoUpdate=a.autoUpdate;return this},addLevel:function(a,b){void 0===
b&&(b=0);b=Math.abs(b);const c=this.levels;let d;for(d=0;d<c.length&&!(b<c[d].distance);d++);c.splice(d,0,{distance:b,object:a});this.add(a);return this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(a){const b=this.levels;if(0<b.length){let c,d;c=1;for(d=b.length;c<d&&!(a<b[c].distance);c++);return b[c-1].object}return null},raycast:function(a,b){if(0<this.levels.length){_v1$4$$module$node_modules$three$build$three_module.setFromMatrixPosition(this.matrixWorld);
const c=a.ray.origin.distanceTo(_v1$4$$module$node_modules$three$build$three_module);this.getObjectForDistance(c).raycast(a,b)}},update:function(a){const b=this.levels;if(1<b.length){_v1$4$$module$node_modules$three$build$three_module.setFromMatrixPosition(a.matrixWorld);_v2$2$$module$node_modules$three$build$three_module.setFromMatrixPosition(this.matrixWorld);a=_v1$4$$module$node_modules$three$build$three_module.distanceTo(_v2$2$$module$node_modules$three$build$three_module)/a.zoom;b[0].object.visible=
!0;let c,d;c=1;for(d=b.length;c<d;c++)if(a>=b[c].distance)b[c-1].object.visible=!1,b[c].object.visible=!0;else break;for(this._currentLevel=c-1;c<d;c++)b[c].object.visible=!1}},toJSON:function(a){a=Object3D$$module$node_modules$three$build$three_module.prototype.toJSON.call(this,a);!1===this.autoUpdate&&(a.object.autoUpdate=!1);a.object.levels=[];const b=this.levels;for(let c=0,d=b.length;c<d;c++){const e=b[c];a.object.levels.push({object:e.object.uuid,distance:e.distance})}return a}});
function SkinnedMesh$$module$node_modules$three$build$three_module(a,b){a&&a.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");Mesh$$module$node_modules$three$build$three_module.call(this,a,b);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new Matrix4$$module$node_modules$three$build$three_module;this.bindMatrixInverse=new Matrix4$$module$node_modules$three$build$three_module}
SkinnedMesh$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Mesh$$module$node_modules$three$build$three_module.prototype),{constructor:SkinnedMesh$$module$node_modules$three$build$three_module,isSkinnedMesh:!0,copy:function(a){Mesh$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.bindMode=a.bindMode;this.bindMatrix.copy(a.bindMatrix);this.bindMatrixInverse.copy(a.bindMatrixInverse);this.skeleton=a.skeleton;return this},bind:function(a,
b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.getInverse(b)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const a=new Vector4$$module$node_modules$three$build$three_module,b=this.geometry.attributes.skinWeight;for(let c=0,d=b.count;c<d;c++){a.x=b.getX(c);a.y=b.getY(c);a.z=b.getZ(c);a.w=b.getW(c);const e=1/a.manhattanLength();Infinity!==e?a.multiplyScalar(e):a.set(1,
0,0,0);b.setXYZW(c,a.x,a.y,a.z,a.w)}},updateMatrixWorld:function(a){Mesh$$module$node_modules$three$build$three_module.prototype.updateMatrixWorld.call(this,a);"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){const a=new Vector3$$module$node_modules$three$build$three_module,b=new Vector4$$module$node_modules$three$build$three_module,
c=new Vector4$$module$node_modules$three$build$three_module,d=new Vector3$$module$node_modules$three$build$three_module,e=new Matrix4$$module$node_modules$three$build$three_module;return function(g,h){const k=this.skeleton;var l=this.geometry;b.fromBufferAttribute(l.attributes.skinIndex,g);c.fromBufferAttribute(l.attributes.skinWeight,g);a.fromBufferAttribute(l.attributes.position,g).applyMatrix4(this.bindMatrix);h.set(0,0,0);for(g=0;4>g;g++)if(l=c.getComponent(g),0!==l){const m=b.getComponent(g);
e.multiplyMatrices(k.bones[m].matrixWorld,k.boneInverses[m]);h.addScaledVector(d.copy(a).applyMatrix4(e),l)}return h.applyMatrix4(this.bindMatrixInverse)}}()});const _offsetMatrix$$module$node_modules$three$build$three_module=new Matrix4$$module$node_modules$three$build$three_module,_identityMatrix$$module$node_modules$three$build$three_module=new Matrix4$$module$node_modules$three$build$three_module;
function Skeleton$$module$node_modules$three$build$three_module(a,b){a=a||[];this.bones=a.slice(0);this.boneMatrices=new Float32Array(16*this.bones.length);this.frame=-1;if(void 0===b)this.calculateInverses();else if(this.bones.length===b.length)this.boneInverses=b.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length.");this.boneInverses=[];for(let c=0,d=this.bones.length;c<d;c++)this.boneInverses.push(new Matrix4$$module$node_modules$three$build$three_module)}}
Object.assign(Skeleton$$module$node_modules$three$build$three_module.prototype,{calculateInverses:function(){this.boneInverses=[];for(let a=0,b=this.bones.length;a<b;a++){const c=new Matrix4$$module$node_modules$three$build$three_module;this.bones[a]&&c.getInverse(this.bones[a].matrixWorld);this.boneInverses.push(c)}},pose:function(){for(let b=0,c=this.bones.length;b<c;b++){var a=this.bones[b];a&&a.matrixWorld.getInverse(this.boneInverses[b])}for(let b=0,c=this.bones.length;b<c;b++)if(a=this.bones[b])a.parent&&
a.parent.isBone?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)},update:function(){const a=this.bones,b=this.boneInverses,c=this.boneMatrices,d=this.boneTexture;for(let e=0,g=a.length;e<g;e++)_offsetMatrix$$module$node_modules$three$build$three_module.multiplyMatrices(a[e]?a[e].matrixWorld:_identityMatrix$$module$node_modules$three$build$three_module,b[e]),_offsetMatrix$$module$node_modules$three$build$three_module.toArray(c,
16*e);void 0!==d&&(d.needsUpdate=!0)},clone:function(){return new Skeleton$$module$node_modules$three$build$three_module(this.bones,this.boneInverses)},getBoneByName:function(a){for(let b=0,c=this.bones.length;b<c;b++){const d=this.bones[b];if(d.name===a)return d}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}});
function Bone$$module$node_modules$three$build$three_module(){Object3D$$module$node_modules$three$build$three_module.call(this);this.type="Bone"}Bone$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Object3D$$module$node_modules$three$build$three_module.prototype),{constructor:Bone$$module$node_modules$three$build$three_module,isBone:!0});
const _instanceLocalMatrix$$module$node_modules$three$build$three_module=new Matrix4$$module$node_modules$three$build$three_module,_instanceWorldMatrix$$module$node_modules$three$build$three_module=new Matrix4$$module$node_modules$three$build$three_module,_instanceIntersects$$module$node_modules$three$build$three_module=[],_mesh$$module$node_modules$three$build$three_module=new Mesh$$module$node_modules$three$build$three_module;
function InstancedMesh$$module$node_modules$three$build$three_module(a,b,c){Mesh$$module$node_modules$three$build$three_module.call(this,a,b);this.instanceMatrix=new BufferAttribute$$module$node_modules$three$build$three_module(new Float32Array(16*c),16);this.instanceColor=null;this.count=c;this.frustumCulled=!1}
InstancedMesh$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Mesh$$module$node_modules$three$build$three_module.prototype),{constructor:InstancedMesh$$module$node_modules$three$build$three_module,isInstancedMesh:!0,copy:function(a){Mesh$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.instanceMatrix.copy(a.instanceMatrix);this.count=a.count;return this},setColorAt:function(a,b){null===this.instanceColor&&(this.instanceColor=new BufferAttribute$$module$node_modules$three$build$three_module(new Float32Array(3*
this.count),3));b.toArray(this.instanceColor.array,3*a)},getMatrixAt:function(a,b){b.fromArray(this.instanceMatrix.array,16*a)},raycast:function(a,b){const c=this.matrixWorld,d=this.count;_mesh$$module$node_modules$three$build$three_module.geometry=this.geometry;_mesh$$module$node_modules$three$build$three_module.material=this.material;if(void 0!==_mesh$$module$node_modules$three$build$three_module.material)for(let e=0;e<d;e++){this.getMatrixAt(e,_instanceLocalMatrix$$module$node_modules$three$build$three_module);
_instanceWorldMatrix$$module$node_modules$three$build$three_module.multiplyMatrices(c,_instanceLocalMatrix$$module$node_modules$three$build$three_module);_mesh$$module$node_modules$three$build$three_module.matrixWorld=_instanceWorldMatrix$$module$node_modules$three$build$three_module;_mesh$$module$node_modules$three$build$three_module.raycast(a,_instanceIntersects$$module$node_modules$three$build$three_module);for(let g=0,h=_instanceIntersects$$module$node_modules$three$build$three_module.length;g<
h;g++){const k=_instanceIntersects$$module$node_modules$three$build$three_module[g];k.instanceId=e;k.object=this;b.push(k)}_instanceIntersects$$module$node_modules$three$build$three_module.length=0}},setMatrixAt:function(a,b){b.toArray(this.instanceMatrix.array,16*a)},updateMorphTargets:function(){}});
function LineBasicMaterial$$module$node_modules$three$build$three_module(a){Material$$module$node_modules$three$build$three_module.call(this);this.type="LineBasicMaterial";this.color=new Color$$module$node_modules$three$build$three_module(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.morphTargets=!1;this.setValues(a)}LineBasicMaterial$$module$node_modules$three$build$three_module.prototype=Object.create(Material$$module$node_modules$three$build$three_module.prototype);
LineBasicMaterial$$module$node_modules$three$build$three_module.prototype.constructor=LineBasicMaterial$$module$node_modules$three$build$three_module;LineBasicMaterial$$module$node_modules$three$build$three_module.prototype.isLineBasicMaterial=!0;
LineBasicMaterial$$module$node_modules$three$build$three_module.prototype.copy=function(a){Material$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;this.morphTargets=a.morphTargets;return this};
const _start$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_end$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_inverseMatrix$1$$module$node_modules$three$build$three_module=new Matrix4$$module$node_modules$three$build$three_module,_ray$1$$module$node_modules$three$build$three_module=new Ray$$module$node_modules$three$build$three_module,_sphere$2$$module$node_modules$three$build$three_module=
new Sphere$$module$node_modules$three$build$three_module;
function Line$$module$node_modules$three$build$three_module(a,b,c){1===c&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.");Object3D$$module$node_modules$three$build$three_module.call(this);this.type="Line";this.geometry=void 0!==a?a:new BufferGeometry$$module$node_modules$three$build$three_module;this.material=void 0!==b?b:new LineBasicMaterial$$module$node_modules$three$build$three_module;this.updateMorphTargets()}
Line$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Object3D$$module$node_modules$three$build$three_module.prototype),{constructor:Line$$module$node_modules$three$build$three_module,isLine:!0,copy:function(a){Object3D$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.material=a.material;this.geometry=a.geometry;return this},computeLineDistances:function(){var a=this.geometry;if(a.isBufferGeometry)if(null===a.index){var b=a.attributes.position;
const c=[0];for(let d=1,e=b.count;d<e;d++)_start$$module$node_modules$three$build$three_module.fromBufferAttribute(b,d-1),_end$$module$node_modules$three$build$three_module.fromBufferAttribute(b,d),c[d]=c[d-1],c[d]+=_start$$module$node_modules$three$build$three_module.distanceTo(_end$$module$node_modules$three$build$three_module);a.setAttribute("lineDistance",new Float32BufferAttribute$$module$node_modules$three$build$three_module(c,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
else if(a.isGeometry){b=a.vertices;a=a.lineDistances;a[0]=0;for(let c=1,d=b.length;c<d;c++)a[c]=a[c-1],a[c]+=b[c-1].distanceTo(b[c])}return this},raycast:function(a,b){var c=this.geometry,d=this.matrixWorld,e=a.params.Line.threshold;null===c.boundingSphere&&c.computeBoundingSphere();_sphere$2$$module$node_modules$three$build$three_module.copy(c.boundingSphere);_sphere$2$$module$node_modules$three$build$three_module.applyMatrix4(d);_sphere$2$$module$node_modules$three$build$three_module.radius+=e;
if(!1!==a.ray.intersectsSphere(_sphere$2$$module$node_modules$three$build$three_module)){_inverseMatrix$1$$module$node_modules$three$build$three_module.getInverse(d);_ray$1$$module$node_modules$three$build$three_module.copy(a.ray).applyMatrix4(_inverseMatrix$1$$module$node_modules$three$build$three_module);d=e/((this.scale.x+this.scale.y+this.scale.z)/3);d*=d;var g=new Vector3$$module$node_modules$three$build$three_module,h=new Vector3$$module$node_modules$three$build$three_module;e=new Vector3$$module$node_modules$three$build$three_module;
var k=new Vector3$$module$node_modules$three$build$three_module,l=this&&this.isLineSegments?2:1;if(c.isBufferGeometry){var m=c.index;c=c.attributes.position.array;if(null!==m){m=m.array;for(let p=0,t=m.length-1;p<t;p+=l){var n=m[p+1];g.fromArray(c,3*m[p]);h.fromArray(c,3*n);_ray$1$$module$node_modules$three$build$three_module.distanceSqToSegment(g,h,k,e)>d||(k.applyMatrix4(this.matrixWorld),n=a.ray.origin.distanceTo(k),n<a.near||n>a.far||b.push({distance:n,point:e.clone().applyMatrix4(this.matrixWorld),
index:p,face:null,faceIndex:null,object:this}))}}else for(let p=0,t=c.length/3-1;p<t;p+=l)g.fromArray(c,3*p),h.fromArray(c,3*p+3),_ray$1$$module$node_modules$three$build$three_module.distanceSqToSegment(g,h,k,e)>d||(k.applyMatrix4(this.matrixWorld),m=a.ray.origin.distanceTo(k),m<a.near||m>a.far||b.push({distance:m,point:e.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this}))}else if(c.isGeometry)for(g=c.vertices,h=g.length,c=0;c<h-1;c+=l)_ray$1$$module$node_modules$three$build$three_module.distanceSqToSegment(g[c],
g[c+1],k,e)>d||(k.applyMatrix4(this.matrixWorld),m=a.ray.origin.distanceTo(k),m<a.near||m>a.far||b.push({distance:m,point:e.clone().applyMatrix4(this.matrixWorld),index:c,face:null,faceIndex:null,object:this}))}},updateMorphTargets:function(){var a=this.geometry;if(a.isBufferGeometry){a=a.morphAttributes;var b=Object.keys(a);if(0<b.length&&(a=a[b[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let c=0,d=a.length;c<d;c++)b=a[c].name||String(c),this.morphTargetInfluences.push(0),
this.morphTargetDictionary[b]=c}}else a=a.morphTargets,void 0!==a&&0<a.length&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}});const _start$1$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_end$1$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module;
function LineSegments$$module$node_modules$three$build$three_module(a,b){Line$$module$node_modules$three$build$three_module.call(this,a,b);this.type="LineSegments"}
LineSegments$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Line$$module$node_modules$three$build$three_module.prototype),{constructor:LineSegments$$module$node_modules$three$build$three_module,isLineSegments:!0,computeLineDistances:function(){var a=this.geometry;if(a.isBufferGeometry)if(null===a.index){var b=a.attributes.position;const c=[];for(let d=0,e=b.count;d<e;d+=2)_start$1$$module$node_modules$three$build$three_module.fromBufferAttribute(b,d),_end$1$$module$node_modules$three$build$three_module.fromBufferAttribute(b,
d+1),c[d]=0===d?0:c[d-1],c[d+1]=c[d]+_start$1$$module$node_modules$three$build$three_module.distanceTo(_end$1$$module$node_modules$three$build$three_module);a.setAttribute("lineDistance",new Float32BufferAttribute$$module$node_modules$three$build$three_module(c,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(a.isGeometry){b=a.vertices;a=a.lineDistances;for(let c=0,d=b.length;c<d;c+=2)_start$1$$module$node_modules$three$build$three_module.copy(b[c]),
_end$1$$module$node_modules$three$build$three_module.copy(b[c+1]),a[c]=0===c?0:a[c-1],a[c+1]=a[c]+_start$1$$module$node_modules$three$build$three_module.distanceTo(_end$1$$module$node_modules$three$build$three_module)}return this}});function LineLoop$$module$node_modules$three$build$three_module(a,b){Line$$module$node_modules$three$build$three_module.call(this,a,b);this.type="LineLoop"}
LineLoop$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Line$$module$node_modules$three$build$three_module.prototype),{constructor:LineLoop$$module$node_modules$three$build$three_module,isLineLoop:!0});
function PointsMaterial$$module$node_modules$three$build$three_module(a){Material$$module$node_modules$three$build$three_module.call(this);this.type="PointsMaterial";this.color=new Color$$module$node_modules$three$build$three_module(16777215);this.alphaMap=this.map=null;this.size=1;this.sizeAttenuation=!0;this.morphTargets=!1;this.setValues(a)}PointsMaterial$$module$node_modules$three$build$three_module.prototype=Object.create(Material$$module$node_modules$three$build$three_module.prototype);
PointsMaterial$$module$node_modules$three$build$three_module.prototype.constructor=PointsMaterial$$module$node_modules$three$build$three_module;PointsMaterial$$module$node_modules$three$build$three_module.prototype.isPointsMaterial=!0;
PointsMaterial$$module$node_modules$three$build$three_module.prototype.copy=function(a){Material$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.alphaMap=a.alphaMap;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;this.morphTargets=a.morphTargets;return this};
const _inverseMatrix$2$$module$node_modules$three$build$three_module=new Matrix4$$module$node_modules$three$build$three_module,_ray$2$$module$node_modules$three$build$three_module=new Ray$$module$node_modules$three$build$three_module,_sphere$3$$module$node_modules$three$build$three_module=new Sphere$$module$node_modules$three$build$three_module,_position$1$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module;
function Points$$module$node_modules$three$build$three_module(a,b){Object3D$$module$node_modules$three$build$three_module.call(this);this.type="Points";this.geometry=void 0!==a?a:new BufferGeometry$$module$node_modules$three$build$three_module;this.material=void 0!==b?b:new PointsMaterial$$module$node_modules$three$build$three_module;this.updateMorphTargets()}
Points$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Object3D$$module$node_modules$three$build$three_module.prototype),{constructor:Points$$module$node_modules$three$build$three_module,isPoints:!0,copy:function(a){Object3D$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.material=a.material;this.geometry=a.geometry;return this},raycast:function(a,b){var c=this.geometry;const d=this.matrixWorld;var e=a.params.Points.threshold;null===
c.boundingSphere&&c.computeBoundingSphere();_sphere$3$$module$node_modules$three$build$three_module.copy(c.boundingSphere);_sphere$3$$module$node_modules$three$build$three_module.applyMatrix4(d);_sphere$3$$module$node_modules$three$build$three_module.radius+=e;if(!1!==a.ray.intersectsSphere(_sphere$3$$module$node_modules$three$build$three_module))if(_inverseMatrix$2$$module$node_modules$three$build$three_module.getInverse(d),_ray$2$$module$node_modules$three$build$three_module.copy(a.ray).applyMatrix4(_inverseMatrix$2$$module$node_modules$three$build$three_module),
e/=(this.scale.x+this.scale.y+this.scale.z)/3,e*=e,c.isBufferGeometry){var g=c.index;c=c.attributes.position.array;if(null!==g){g=g.array;for(let h=0,k=g.length;h<k;h++){const l=g[h];_position$1$$module$node_modules$three$build$three_module.fromArray(c,3*l);testPoint$$module$node_modules$three$build$three_module(_position$1$$module$node_modules$three$build$three_module,l,e,d,a,b,this)}}else for(let h=0,k=c.length/3;h<k;h++)_position$1$$module$node_modules$three$build$three_module.fromArray(c,3*h),
testPoint$$module$node_modules$three$build$three_module(_position$1$$module$node_modules$three$build$three_module,h,e,d,a,b,this)}else{c=c.vertices;for(let h=0,k=c.length;h<k;h++)testPoint$$module$node_modules$three$build$three_module(c[h],h,e,d,a,b,this)}},updateMorphTargets:function(){var a=this.geometry;if(a.isBufferGeometry){a=a.morphAttributes;var b=Object.keys(a);if(0<b.length&&(a=a[b[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let c=0,d=a.length;c<d;c++)b=
a[c].name||String(c),this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=c}}else a=a.morphTargets,void 0!==a&&0<a.length&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}});
function testPoint$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h){const k=_ray$2$$module$node_modules$three$build$three_module.distanceSqToPoint(a);k<c&&(c=new Vector3$$module$node_modules$three$build$three_module,_ray$2$$module$node_modules$three$build$three_module.closestPointToPoint(a,c),c.applyMatrix4(d),a=e.ray.origin.distanceTo(c),a<e.near||a>e.far||g.push({distance:a,distanceToRay:Math.sqrt(k),point:c,index:b,face:null,object:h}))}
function VideoTexture$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h,k,l){function m(){n.needsUpdate=!0;a.requestVideoFrameCallback(m)}Texture$$module$node_modules$three$build$three_module.call(this,a,b,c,d,e,g,h,k,l);this.format=void 0!==h?h:RGBFormat$$module$node_modules$three$build$three_module;this.minFilter=void 0!==g?g:LinearFilter$$module$node_modules$three$build$three_module;this.magFilter=void 0!==e?e:LinearFilter$$module$node_modules$three$build$three_module;this.generateMipmaps=
!1;const n=this;"requestVideoFrameCallback"in a&&a.requestVideoFrameCallback(m)}VideoTexture$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Texture$$module$node_modules$three$build$three_module.prototype),{constructor:VideoTexture$$module$node_modules$three$build$three_module,isVideoTexture:!0,update:function(){const a=this.image;!1==="requestVideoFrameCallback"in a&&a.readyState>=a.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});
function CompressedTexture$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h,k,l,m,n,p){Texture$$module$node_modules$three$build$three_module.call(this,null,g,h,k,l,m,d,e,n,p);this.image={width:b,height:c};this.mipmaps=a;this.generateMipmaps=this.flipY=!1}CompressedTexture$$module$node_modules$three$build$three_module.prototype=Object.create(Texture$$module$node_modules$three$build$three_module.prototype);
CompressedTexture$$module$node_modules$three$build$three_module.prototype.constructor=CompressedTexture$$module$node_modules$three$build$three_module;CompressedTexture$$module$node_modules$three$build$three_module.prototype.isCompressedTexture=!0;function CanvasTexture$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h,k,l){Texture$$module$node_modules$three$build$three_module.call(this,a,b,c,d,e,g,h,k,l);this.needsUpdate=!0}
CanvasTexture$$module$node_modules$three$build$three_module.prototype=Object.create(Texture$$module$node_modules$three$build$three_module.prototype);CanvasTexture$$module$node_modules$three$build$three_module.prototype.constructor=CanvasTexture$$module$node_modules$three$build$three_module;CanvasTexture$$module$node_modules$three$build$three_module.prototype.isCanvasTexture=!0;
function DepthTexture$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h,k,l,m){m=void 0!==m?m:DepthFormat$$module$node_modules$three$build$three_module;if(m!==DepthFormat$$module$node_modules$three$build$three_module&&m!==DepthStencilFormat$$module$node_modules$three$build$three_module)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===c&&m===DepthFormat$$module$node_modules$three$build$three_module&&(c=UnsignedShortType$$module$node_modules$three$build$three_module);
void 0===c&&m===DepthStencilFormat$$module$node_modules$three$build$three_module&&(c=UnsignedInt248Type$$module$node_modules$three$build$three_module);Texture$$module$node_modules$three$build$three_module.call(this,null,d,e,g,h,k,m,c,l);this.image={width:a,height:b};this.magFilter=void 0!==h?h:NearestFilter$$module$node_modules$three$build$three_module;this.minFilter=void 0!==k?k:NearestFilter$$module$node_modules$three$build$three_module;this.generateMipmaps=this.flipY=!1}
DepthTexture$$module$node_modules$three$build$three_module.prototype=Object.create(Texture$$module$node_modules$three$build$three_module.prototype);DepthTexture$$module$node_modules$three$build$three_module.prototype.constructor=DepthTexture$$module$node_modules$three$build$three_module;DepthTexture$$module$node_modules$three$build$three_module.prototype.isDepthTexture=!0;
class WireframeGeometry$$module$node_modules$three$build$three_module extends BufferGeometry$$module$node_modules$three$build$three_module{constructor(a){super();this.type="WireframeGeometry";const b=[];var c=[0,0],d={},e=["a","b","c"];if(a&&a.isGeometry){var g=a.faces;for(let p=0,t=g.length;p<t;p++){var h=g[p];for(var k=0;3>k;k++){var l=h[e[k]],m=h[e[(k+1)%3]];c[0]=Math.min(l,m);c[1]=Math.max(l,m);l=c[0]+","+c[1];void 0===d[l]&&(d[l]={index1:c[0],index2:c[1]})}}for(var n in d)c=d[n],g=a.vertices[c.index1],
b.push(g.x,g.y,g.z),g=a.vertices[c.index2],b.push(g.x,g.y,g.z)}else if(a&&a.isBufferGeometry)if(n=new Vector3$$module$node_modules$three$build$three_module,null!==a.index){e=a.attributes.position;h=a.index;a=a.groups;0===a.length&&(a=[{start:0,count:h.count,materialIndex:0}]);for(let p=0,t=a.length;p<t;++p){l=a[p];k=l.start;l=l.count;for(let w=k,x=k+l;w<x;w+=3)for(k=0;3>k;k++)l=h.getX(w+k),m=h.getX(w+(k+1)%3),c[0]=Math.min(l,m),c[1]=Math.max(l,m),l=c[0]+","+c[1],void 0===d[l]&&(d[l]={index1:c[0],
index2:c[1]})}for(g in d)c=d[g],n.fromBufferAttribute(e,c.index1),b.push(n.x,n.y,n.z),n.fromBufferAttribute(e,c.index2),b.push(n.x,n.y,n.z)}else{d=a.attributes.position;for(let p=0,t=d.count/3;p<t;p++)for(c=0;3>c;c++)n.fromBufferAttribute(d,3*p+c),b.push(n.x,n.y,n.z),n.fromBufferAttribute(d,3*p+(c+1)%3),b.push(n.x,n.y,n.z)}this.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(b,3))}}
function ParametricGeometry$$module$node_modules$three$build$three_module(a,b,c){Geometry$$module$node_modules$three$build$three_module.call(this);this.type="ParametricGeometry";this.parameters={func:a,slices:b,stacks:c};this.fromBufferGeometry(new ParametricBufferGeometry$$module$node_modules$three$build$three_module(a,b,c));this.mergeVertices()}ParametricGeometry$$module$node_modules$three$build$three_module.prototype=Object.create(Geometry$$module$node_modules$three$build$three_module.prototype);
ParametricGeometry$$module$node_modules$three$build$three_module.prototype.constructor=ParametricGeometry$$module$node_modules$three$build$three_module;
function ParametricBufferGeometry$$module$node_modules$three$build$three_module(a,b,c){BufferGeometry$$module$node_modules$three$build$three_module.call(this);this.type="ParametricBufferGeometry";this.parameters={func:a,slices:b,stacks:c};const d=[],e=[],g=[],h=[];var k=new Vector3$$module$node_modules$three$build$three_module,l=new Vector3$$module$node_modules$three$build$three_module,m=new Vector3$$module$node_modules$three$build$three_module,n=new Vector3$$module$node_modules$three$build$three_module;
const p=new Vector3$$module$node_modules$three$build$three_module;3>a.length&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const t=b+1;for(let w=0;w<=c;w++){const x=w/c;for(let A=0;A<=b;A++){const r=A/b;a(r,x,l);e.push(l.x,l.y,l.z);0<=r-1E-5?(a(r-1E-5,x,m),n.subVectors(l,m)):(a(r+1E-5,x,m),n.subVectors(m,l));0<=x-1E-5?(a(r,x-1E-5,m),p.subVectors(l,m)):(a(r,x+1E-5,m),p.subVectors(m,l));k.crossVectors(n,p).normalize();g.push(k.x,k.y,k.z);h.push(r,
x)}}for(a=0;a<c;a++)for(k=0;k<b;k++)l=a*t+k+1,m=(a+1)*t+k+1,n=(a+1)*t+k,d.push(a*t+k,l,n),d.push(l,m,n);this.setIndex(d);this.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(e,3));this.setAttribute("normal",new Float32BufferAttribute$$module$node_modules$three$build$three_module(g,3));this.setAttribute("uv",new Float32BufferAttribute$$module$node_modules$three$build$three_module(h,2))}
ParametricBufferGeometry$$module$node_modules$three$build$three_module.prototype=Object.create(BufferGeometry$$module$node_modules$three$build$three_module.prototype);ParametricBufferGeometry$$module$node_modules$three$build$three_module.prototype.constructor=ParametricBufferGeometry$$module$node_modules$three$build$three_module;
class PolyhedronGeometry$$module$node_modules$three$build$three_module extends Geometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d){super();this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};this.fromBufferGeometry(new PolyhedronBufferGeometry$$module$node_modules$three$build$three_module(a,b,c,d));this.mergeVertices()}}
class PolyhedronBufferGeometry$$module$node_modules$three$build$three_module extends BufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d){function e(m){k.push(m.x,m.y,m.z)}function g(m,n){m*=3;n.x=a[m+0];n.y=a[m+1];n.z=a[m+2]}function h(m,n,p,t){0>t&&1===m.x&&(l[n]=m.x-1);0===p.x&&0===p.z&&(l[n]=t/2/Math.PI+.5)}super();this.type="PolyhedronBufferGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};c=c||1;d=d||0;const k=[],l=[];(function(m){const n=new Vector3$$module$node_modules$three$build$three_module,
p=new Vector3$$module$node_modules$three$build$three_module,t=new Vector3$$module$node_modules$three$build$three_module;for(let r=0;r<b.length;r+=3){g(b[r+0],n);g(b[r+1],p);g(b[r+2],t);{var w=n,x=p,A=t;const E=Math.pow(2,m),B=[];for(let G=0;G<=E;G++){B[G]=[];const H=w.clone().lerp(A,G/E),O=x.clone().lerp(A,G/E),N=E-G;for(let U=0;U<=N;U++)B[G][U]=0===U&&G===E?H:H.clone().lerp(O,U/N)}for(w=0;w<E;w++)for(x=0;x<2*(E-w)-1;x++)A=Math.floor(x/2),0===x%2?(e(B[w][A+1]),e(B[w+1][A]),e(B[w][A])):(e(B[w][A+1]),
e(B[w+1][A+1]),e(B[w+1][A]))}}})(d);(function(m){const n=new Vector3$$module$node_modules$three$build$three_module;for(let p=0;p<k.length;p+=3)n.x=k[p+0],n.y=k[p+1],n.z=k[p+2],n.normalize().multiplyScalar(m),k[p+0]=n.x,k[p+1]=n.y,k[p+2]=n.z})(c);(function(){var m=new Vector3$$module$node_modules$three$build$three_module;for(var n=0;n<k.length;n+=3)m.x=k[n+0],m.y=k[n+1],m.z=k[n+2],l.push(Math.atan2(m.z,-m.x)/2/Math.PI+.5,1-(Math.atan2(-m.y,Math.sqrt(m.x*m.x+m.z*m.z))/Math.PI+.5));{m=new Vector3$$module$node_modules$three$build$three_module;
n=new Vector3$$module$node_modules$three$build$three_module;var p=new Vector3$$module$node_modules$three$build$three_module,t=new Vector3$$module$node_modules$three$build$three_module,w=new Vector2$$module$node_modules$three$build$three_module;const x=new Vector2$$module$node_modules$three$build$three_module,A=new Vector2$$module$node_modules$three$build$three_module;for(let r=0,E=0;r<k.length;r+=9,E+=6){m.set(k[r+0],k[r+1],k[r+2]);n.set(k[r+3],k[r+4],k[r+5]);p.set(k[r+6],k[r+7],k[r+8]);w.set(l[E+
0],l[E+1]);x.set(l[E+2],l[E+3]);A.set(l[E+4],l[E+5]);t.copy(m).add(n).add(p).divideScalar(3);const B=Math.atan2(t.z,-t.x);h(w,E+0,m,B);h(x,E+2,n,B);h(A,E+4,p,B)}}for(m=0;m<l.length;m+=6)n=l[m+0],p=l[m+2],t=l[m+4],w=Math.min(n,p,t),.9<Math.max(n,p,t)&&.1>w&&(.2>n&&(l[m+0]+=1),.2>p&&(l[m+2]+=1),.2>t&&(l[m+4]+=1))})();this.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(k,3));this.setAttribute("normal",new Float32BufferAttribute$$module$node_modules$three$build$three_module(k.slice(),
3));this.setAttribute("uv",new Float32BufferAttribute$$module$node_modules$three$build$three_module(l,2));0===d?this.computeVertexNormals():this.normalizeNormals()}}
class TetrahedronGeometry$$module$node_modules$three$build$three_module extends Geometry$$module$node_modules$three$build$three_module{constructor(a,b){super();this.type="TetrahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new TetrahedronBufferGeometry$$module$node_modules$three$build$three_module(a,b));this.mergeVertices()}}
class TetrahedronBufferGeometry$$module$node_modules$three$build$three_module extends PolyhedronBufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronBufferGeometry";this.parameters={radius:a,detail:b}}}
class OctahedronGeometry$$module$node_modules$three$build$three_module extends Geometry$$module$node_modules$three$build$three_module{constructor(a,b){super();this.type="OctahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new OctahedronBufferGeometry$$module$node_modules$three$build$three_module(a,b));this.mergeVertices()}}
class OctahedronBufferGeometry$$module$node_modules$three$build$three_module extends PolyhedronBufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronBufferGeometry";this.parameters={radius:a,detail:b}}}
class IcosahedronGeometry$$module$node_modules$three$build$three_module extends Geometry$$module$node_modules$three$build$three_module{constructor(a,b){super();this.type="IcosahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new IcosahedronBufferGeometry$$module$node_modules$three$build$three_module(a,b));this.mergeVertices()}}
class IcosahedronBufferGeometry$$module$node_modules$three$build$three_module extends PolyhedronBufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b){const c=(1+Math.sqrt(5))/2;super([-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronBufferGeometry";this.parameters={radius:a,detail:b}}}
class DodecahedronGeometry$$module$node_modules$three$build$three_module extends Geometry$$module$node_modules$three$build$three_module{constructor(a,b){super();this.type="DodecahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new DodecahedronBufferGeometry$$module$node_modules$three$build$three_module(a,b));this.mergeVertices()}}
class DodecahedronBufferGeometry$$module$node_modules$three$build$three_module extends PolyhedronBufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b){const c=(1+Math.sqrt(5))/2,d=1/c;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,
2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,b);this.type="DodecahedronBufferGeometry";this.parameters={radius:a,detail:b}}}
class TubeGeometry$$module$node_modules$three$build$three_module extends Geometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e,g){super();this.type="TubeGeometry";this.parameters={path:a,tubularSegments:b,radius:c,radialSegments:d,closed:e};void 0!==g&&console.warn("THREE.TubeGeometry: taper has been removed.");a=new TubeBufferGeometry$$module$node_modules$three$build$three_module(a,b,c,d,e);this.tangents=a.tangents;this.normals=a.normals;this.binormals=a.binormals;this.fromBufferGeometry(a);
this.mergeVertices()}}
class TubeBufferGeometry$$module$node_modules$three$build$three_module extends BufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e){function g(A){n=a.getPointAt(A/b,n);const r=h.normals[A];A=h.binormals[A];for(let B=0;B<=d;B++){var E=B/d*Math.PI*2;const G=Math.sin(E);E=-Math.cos(E);l.x=E*r.x+G*A.x;l.y=E*r.y+G*A.y;l.z=E*r.z+G*A.z;l.normalize();t.push(l.x,l.y,l.z);k.x=n.x+c*l.x;k.y=n.y+c*l.y;k.z=n.z+c*l.z;p.push(k.x,k.y,k.z)}}super();this.type="TubeBufferGeometry";this.parameters=
{path:a,tubularSegments:b,radius:c,radialSegments:d,closed:e};b=b||64;c=c||1;d=d||8;e=e||!1;const h=a.computeFrenetFrames(b,e);this.tangents=h.tangents;this.normals=h.normals;this.binormals=h.binormals;const k=new Vector3$$module$node_modules$three$build$three_module,l=new Vector3$$module$node_modules$three$build$three_module,m=new Vector2$$module$node_modules$three$build$three_module;let n=new Vector3$$module$node_modules$three$build$three_module;const p=[],t=[],w=[],x=[];(function(){for(var A=0;A<
b;A++)g(A);g(!1===e?b:0);for(A=0;A<=b;A++)for(var r=0;r<=d;r++)m.x=A/b,m.y=r/d,w.push(m.x,m.y);for(A=1;A<=b;A++)for(r=1;r<=d;r++){const E=(d+1)*A+(r-1),B=(d+1)*A+r,G=(d+1)*(A-1)+r;x.push((d+1)*(A-1)+(r-1),E,G);x.push(E,B,G)}})();this.setIndex(x);this.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(p,3));this.setAttribute("normal",new Float32BufferAttribute$$module$node_modules$three$build$three_module(t,3));this.setAttribute("uv",new Float32BufferAttribute$$module$node_modules$three$build$three_module(w,
2))}toJSON(){const a=BufferGeometry$$module$node_modules$three$build$three_module.prototype.toJSON.call(this);a.path=this.parameters.path.toJSON();return a}}
class TorusKnotGeometry$$module$node_modules$three$build$three_module extends Geometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e,g,h){super();this.type="TorusKnotGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:g};void 0!==h&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");this.fromBufferGeometry(new TorusKnotBufferGeometry$$module$node_modules$three$build$three_module(a,b,c,d,e,g));
this.mergeVertices()}}
class TorusKnotBufferGeometry$$module$node_modules$three$build$three_module extends BufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e,g){function h(H,O,N,U,W){const J=Math.sin(H);O=N/O*H;N=Math.cos(O);W.x=U*(2+N)*.5*Math.cos(H);W.y=U*(2+N)*J*.5;W.z=U*Math.sin(O)*.5}super();this.type="TorusKnotBufferGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:g};a=a||1;b=b||.4;c=Math.floor(c)||64;d=Math.floor(d)||8;e=e||2;g=g||3;const k=[],l=
[],m=[],n=[];var p=new Vector3$$module$node_modules$three$build$three_module;const t=new Vector3$$module$node_modules$three$build$three_module,w=new Vector3$$module$node_modules$three$build$three_module,x=new Vector3$$module$node_modules$three$build$three_module,A=new Vector3$$module$node_modules$three$build$three_module,r=new Vector3$$module$node_modules$three$build$three_module,E=new Vector3$$module$node_modules$three$build$three_module;for(let H=0;H<=c;++H){var B=H/c*e*Math.PI*2;h(B,e,g,a,w);h(B+
.01,e,g,a,x);r.subVectors(x,w);E.addVectors(x,w);A.crossVectors(r,E);E.crossVectors(A,r);A.normalize();E.normalize();for(B=0;B<=d;++B){var G=B/d*Math.PI*2;const O=-b*Math.cos(G);G=b*Math.sin(G);p.x=w.x+(O*E.x+G*A.x);p.y=w.y+(O*E.y+G*A.y);p.z=w.z+(O*E.z+G*A.z);l.push(p.x,p.y,p.z);t.subVectors(p,w).normalize();m.push(t.x,t.y,t.z);n.push(H/c);n.push(B/d)}}for(a=1;a<=c;a++)for(b=1;b<=d;b++)e=(d+1)*a+(b-1),g=(d+1)*a+b,p=(d+1)*(a-1)+b,k.push((d+1)*(a-1)+(b-1),e,p),k.push(e,g,p);this.setIndex(k);this.setAttribute("position",
new Float32BufferAttribute$$module$node_modules$three$build$three_module(l,3));this.setAttribute("normal",new Float32BufferAttribute$$module$node_modules$three$build$three_module(m,3));this.setAttribute("uv",new Float32BufferAttribute$$module$node_modules$three$build$three_module(n,2))}}
class TorusGeometry$$module$node_modules$three$build$three_module extends Geometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e){super();this.type="TorusGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};this.fromBufferGeometry(new TorusBufferGeometry$$module$node_modules$three$build$three_module(a,b,c,d,e));this.mergeVertices()}}
class TorusBufferGeometry$$module$node_modules$three$build$three_module extends BufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e){super();this.type="TorusBufferGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};a=a||1;b=b||.4;c=Math.floor(c)||8;d=Math.floor(d)||6;e=e||2*Math.PI;const g=[],h=[],k=[],l=[];var m=new Vector3$$module$node_modules$three$build$three_module,n=new Vector3$$module$node_modules$three$build$three_module;const p=
new Vector3$$module$node_modules$three$build$three_module;for(let t=0;t<=c;t++)for(let w=0;w<=d;w++){const x=w/d*e,A=t/c*Math.PI*2;n.x=(a+b*Math.cos(A))*Math.cos(x);n.y=(a+b*Math.cos(A))*Math.sin(x);n.z=b*Math.sin(A);h.push(n.x,n.y,n.z);m.x=a*Math.cos(x);m.y=a*Math.sin(x);p.subVectors(n,m).normalize();k.push(p.x,p.y,p.z);l.push(w/d);l.push(t/c)}for(a=1;a<=c;a++)for(b=1;b<=d;b++)e=(d+1)*(a-1)+b-1,m=(d+1)*(a-1)+b,n=(d+1)*a+b,g.push((d+1)*a+b-1,e,n),g.push(e,m,n);this.setIndex(g);this.setAttribute("position",
new Float32BufferAttribute$$module$node_modules$three$build$three_module(h,3));this.setAttribute("normal",new Float32BufferAttribute$$module$node_modules$three$build$three_module(k,3));this.setAttribute("uv",new Float32BufferAttribute$$module$node_modules$three$build$three_module(l,2))}}
const Earcut$$module$node_modules$three$build$three_module={triangulate:function(a,b,c){c=c||2;var d=b&&b.length;const e=d?b[0]*c:a.length;let g=linkedList$$module$node_modules$three$build$three_module(a,0,e,c,!0);const h=[];if(!g||g.next===g.prev)return h;let k,l;let m;d&&(g=eliminateHoles$$module$node_modules$three$build$three_module(a,b,g,c));if(a.length>80*c){k=b=a[0];l=d=a[1];for(let p=c;p<e;p+=c){var n=a[p];m=a[p+1];n<k&&(k=n);m<l&&(l=m);n>b&&(b=n);m>d&&(d=m)}n=Math.max(b-k,d-l);n=0!==n?1/n:
0}earcutLinked$$module$node_modules$three$build$three_module(g,h,c,k,l,n);return h}};
function linkedList$$module$node_modules$three$build$three_module(a,b,c,d,e){let g;if(e===0<signedArea$$module$node_modules$three$build$three_module(a,b,c,d))for(e=b;e<c;e+=d)g=insertNode$$module$node_modules$three$build$three_module(e,a[e],a[e+1],g);else for(e=c-d;e>=b;e-=d)g=insertNode$$module$node_modules$three$build$three_module(e,a[e],a[e+1],g);g&&equals$$module$node_modules$three$build$three_module(g,g.next)&&(removeNode$$module$node_modules$three$build$three_module(g),g=g.next);return g}
function filterPoints$$module$node_modules$three$build$three_module(a,b){if(!a)return a;b||(b=a);let c;do if(c=!1,a.steiner||!equals$$module$node_modules$three$build$three_module(a,a.next)&&0!==area$$module$node_modules$three$build$three_module(a.prev,a,a.next))a=a.next;else{removeNode$$module$node_modules$three$build$three_module(a);a=b=a.prev;if(a===a.next)break;c=!0}while(c||a!==b);return b}
function earcutLinked$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h){if(a){!h&&g&&indexCurve$$module$node_modules$three$build$three_module(a,d,e,g);for(var k=a,l,m;a.prev!==a.next;)if(l=a.prev,m=a.next,g?isEarHashed$$module$node_modules$three$build$three_module(a,d,e,g):isEar$$module$node_modules$three$build$three_module(a))b.push(l.i/c),b.push(a.i/c),b.push(m.i/c),removeNode$$module$node_modules$three$build$three_module(a),k=a=m.next;else if(a=m,a===k){h?1===h?(a=cureLocalIntersections$$module$node_modules$three$build$three_module(filterPoints$$module$node_modules$three$build$three_module(a),
b,c),earcutLinked$$module$node_modules$three$build$three_module(a,b,c,d,e,g,2)):2===h&&splitEarcut$$module$node_modules$three$build$three_module(a,b,c,d,e,g):earcutLinked$$module$node_modules$three$build$three_module(filterPoints$$module$node_modules$three$build$three_module(a),b,c,d,e,g,1);break}}}
function isEar$$module$node_modules$three$build$three_module(a){const b=a.prev,c=a.next;if(0<=area$$module$node_modules$three$build$three_module(b,a,c))return!1;let d=a.next.next;for(;d!==a.prev;){if(pointInTriangle$$module$node_modules$three$build$three_module(b.x,b.y,a.x,a.y,c.x,c.y,d.x,d.y)&&0<=area$$module$node_modules$three$build$three_module(d.prev,d,d.next))return!1;d=d.next}return!0}
function isEarHashed$$module$node_modules$three$build$three_module(a,b,c,d){const e=a.prev,g=a.next;if(0<=area$$module$node_modules$three$build$three_module(e,a,g))return!1;const h=e.x>a.x?e.x>g.x?e.x:g.x:a.x>g.x?a.x:g.x,k=e.y>a.y?e.y>g.y?e.y:g.y:a.y>g.y?a.y:g.y,l=zOrder$$module$node_modules$three$build$three_module(e.x<a.x?e.x<g.x?e.x:g.x:a.x<g.x?a.x:g.x,e.y<a.y?e.y<g.y?e.y:g.y:a.y<g.y?a.y:g.y,b,c,d);b=zOrder$$module$node_modules$three$build$three_module(h,k,b,c,d);c=a.prevZ;for(d=a.nextZ;c&&c.z>=
l&&d&&d.z<=b;){if(c!==a.prev&&c!==a.next&&pointInTriangle$$module$node_modules$three$build$three_module(e.x,e.y,a.x,a.y,g.x,g.y,c.x,c.y)&&0<=area$$module$node_modules$three$build$three_module(c.prev,c,c.next))return!1;c=c.prevZ;if(d!==a.prev&&d!==a.next&&pointInTriangle$$module$node_modules$three$build$three_module(e.x,e.y,a.x,a.y,g.x,g.y,d.x,d.y)&&0<=area$$module$node_modules$three$build$three_module(d.prev,d,d.next))return!1;d=d.nextZ}for(;c&&c.z>=l;){if(c!==a.prev&&c!==a.next&&pointInTriangle$$module$node_modules$three$build$three_module(e.x,
e.y,a.x,a.y,g.x,g.y,c.x,c.y)&&0<=area$$module$node_modules$three$build$three_module(c.prev,c,c.next))return!1;c=c.prevZ}for(;d&&d.z<=b;){if(d!==a.prev&&d!==a.next&&pointInTriangle$$module$node_modules$three$build$three_module(e.x,e.y,a.x,a.y,g.x,g.y,d.x,d.y)&&0<=area$$module$node_modules$three$build$three_module(d.prev,d,d.next))return!1;d=d.nextZ}return!0}
function cureLocalIntersections$$module$node_modules$three$build$three_module(a,b,c){let d=a;do{const e=d.prev,g=d.next.next;!equals$$module$node_modules$three$build$three_module(e,g)&&intersects$$module$node_modules$three$build$three_module(e,d,d.next,g)&&locallyInside$$module$node_modules$three$build$three_module(e,g)&&locallyInside$$module$node_modules$three$build$three_module(g,e)&&(b.push(e.i/c),b.push(d.i/c),b.push(g.i/c),removeNode$$module$node_modules$three$build$three_module(d),removeNode$$module$node_modules$three$build$three_module(d.next),
d=a=g);d=d.next}while(d!==a);return filterPoints$$module$node_modules$three$build$three_module(d)}
function splitEarcut$$module$node_modules$three$build$three_module(a,b,c,d,e,g){let h=a;do{let k=h.next.next;for(;k!==h.prev;){if(h.i!==k.i&&isValidDiagonal$$module$node_modules$three$build$three_module(h,k)){a=splitPolygon$$module$node_modules$three$build$three_module(h,k);h=filterPoints$$module$node_modules$three$build$three_module(h,h.next);a=filterPoints$$module$node_modules$three$build$three_module(a,a.next);earcutLinked$$module$node_modules$three$build$three_module(h,b,c,d,e,g);earcutLinked$$module$node_modules$three$build$three_module(a,
b,c,d,e,g);return}k=k.next}h=h.next}while(h!==a)}
function eliminateHoles$$module$node_modules$three$build$three_module(a,b,c,d){const e=[];let g,h;let k;g=0;for(h=b.length;g<h;g++){var l=b[g]*d;k=g<h-1?b[g+1]*d:a.length;l=linkedList$$module$node_modules$three$build$three_module(a,l,k,d,!1);l===l.next&&(l.steiner=!0);e.push(getLeftmost$$module$node_modules$three$build$three_module(l))}e.sort(compareX$$module$node_modules$three$build$three_module);for(g=0;g<e.length;g++)eliminateHole$$module$node_modules$three$build$three_module(e[g],c),c=filterPoints$$module$node_modules$three$build$three_module(c,
c.next);return c}function compareX$$module$node_modules$three$build$three_module(a,b){return a.x-b.x}function eliminateHole$$module$node_modules$three$build$three_module(a,b){if(b=findHoleBridge$$module$node_modules$three$build$three_module(a,b))a=splitPolygon$$module$node_modules$three$build$three_module(b,a),filterPoints$$module$node_modules$three$build$three_module(b,b.next),filterPoints$$module$node_modules$three$build$three_module(a,a.next)}
function findHoleBridge$$module$node_modules$three$build$three_module(a,b){let c=b;const d=a.x,e=a.y;let g=-Infinity,h;do{if(e<=c.y&&e>=c.next.y&&c.next.y!==c.y){var k=c.x+(e-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(k<=d&&k>g){g=k;if(k===d){if(e===c.y)return c;if(e===c.next.y)return c.next}h=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!h)return null;if(d===g)return h;b=h;k=h.x;const l=h.y;let m=Infinity,n;c=h;do d>=c.x&&c.x>=k&&d!==c.x&&pointInTriangle$$module$node_modules$three$build$three_module(e<
l?d:g,e,k,l,e<l?g:d,e,c.x,c.y)&&(n=Math.abs(e-c.y)/(d-c.x),locallyInside$$module$node_modules$three$build$three_module(c,a)&&(n<m||n===m&&(c.x>h.x||c.x===h.x&&sectorContainsSector$$module$node_modules$three$build$three_module(h,c)))&&(h=c,m=n)),c=c.next;while(c!==b);return h}
function sectorContainsSector$$module$node_modules$three$build$three_module(a,b){return 0>area$$module$node_modules$three$build$three_module(a.prev,a,b.prev)&&0>area$$module$node_modules$three$build$three_module(b.next,a,a.next)}
function indexCurve$$module$node_modules$three$build$three_module(a,b,c,d){let e=a;do null===e.z&&(e.z=zOrder$$module$node_modules$three$build$three_module(e.x,e.y,b,c,d)),e.prevZ=e.prev,e=e.nextZ=e.next;while(e!==a);e.prevZ.nextZ=null;e.prevZ=null;sortLinked$$module$node_modules$three$build$three_module(e)}
function sortLinked$$module$node_modules$three$build$three_module(a){var b;let c,d,e,g,h,k,l=1;do{c=a;e=a=null;for(g=0;c;){g++;d=c;for(b=h=0;b<l&&(h++,d=d.nextZ,d);b++);for(k=l;0<h||0<k&&d;)0!==h&&(0===k||!d||c.z<=d.z)?(b=c,c=c.nextZ,h--):(b=d,d=d.nextZ,k--),e?e.nextZ=b:a=b,b.prevZ=e,e=b;c=d}e.nextZ=null;l*=2}while(1<g);return a}
function zOrder$$module$node_modules$three$build$three_module(a,b,c,d,e){a=32767*(a-c)*e;b=32767*(b-d)*e;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function getLeftmost$$module$node_modules$three$build$three_module(a){let b=a,c=a;do{if(b.x<c.x||b.x===c.x&&b.y<c.y)c=b;b=b.next}while(b!==a);return c}
function pointInTriangle$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h,k){return 0<=(e-h)*(b-k)-(a-h)*(g-k)&&0<=(a-h)*(d-k)-(c-h)*(b-k)&&0<=(c-h)*(g-k)-(e-h)*(d-k)}
function isValidDiagonal$$module$node_modules$three$build$three_module(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!intersectsPolygon$$module$node_modules$three$build$three_module(a,b)&&(locallyInside$$module$node_modules$three$build$three_module(a,b)&&locallyInside$$module$node_modules$three$build$three_module(b,a)&&middleInside$$module$node_modules$three$build$three_module(a,b)&&(area$$module$node_modules$three$build$three_module(a.prev,a,b.prev)||area$$module$node_modules$three$build$three_module(a,
b.prev,b))||equals$$module$node_modules$three$build$three_module(a,b)&&0<area$$module$node_modules$three$build$three_module(a.prev,a,a.next)&&0<area$$module$node_modules$three$build$three_module(b.prev,b,b.next))}function area$$module$node_modules$three$build$three_module(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function equals$$module$node_modules$three$build$three_module(a,b){return a.x===b.x&&a.y===b.y}
function intersects$$module$node_modules$three$build$three_module(a,b,c,d){const e=sign$$module$node_modules$three$build$three_module(area$$module$node_modules$three$build$three_module(a,b,c)),g=sign$$module$node_modules$three$build$three_module(area$$module$node_modules$three$build$three_module(a,b,d)),h=sign$$module$node_modules$three$build$three_module(area$$module$node_modules$three$build$three_module(c,d,a)),k=sign$$module$node_modules$three$build$three_module(area$$module$node_modules$three$build$three_module(c,
d,b));return e!==g&&h!==k||0===e&&onSegment$$module$node_modules$three$build$three_module(a,c,b)||0===g&&onSegment$$module$node_modules$three$build$three_module(a,d,b)||0===h&&onSegment$$module$node_modules$three$build$three_module(c,a,d)||0===k&&onSegment$$module$node_modules$three$build$three_module(c,b,d)?!0:!1}function onSegment$$module$node_modules$three$build$three_module(a,b,c){return b.x<=Math.max(a.x,c.x)&&b.x>=Math.min(a.x,c.x)&&b.y<=Math.max(a.y,c.y)&&b.y>=Math.min(a.y,c.y)}
function sign$$module$node_modules$three$build$three_module(a){return 0<a?1:0>a?-1:0}function intersectsPolygon$$module$node_modules$three$build$three_module(a,b){let c=a;do{if(c.i!==a.i&&c.next.i!==a.i&&c.i!==b.i&&c.next.i!==b.i&&intersects$$module$node_modules$three$build$three_module(c,c.next,a,b))return!0;c=c.next}while(c!==a);return!1}
function locallyInside$$module$node_modules$three$build$three_module(a,b){return 0>area$$module$node_modules$three$build$three_module(a.prev,a,a.next)?0<=area$$module$node_modules$three$build$three_module(a,b,a.next)&&0<=area$$module$node_modules$three$build$three_module(a,a.prev,b):0>area$$module$node_modules$three$build$three_module(a,b,a.prev)||0>area$$module$node_modules$three$build$three_module(a,a.next,b)}
function middleInside$$module$node_modules$three$build$three_module(a,b){let c=a,d=!1;const e=(a.x+b.x)/2;b=(a.y+b.y)/2;do c.y>b!==c.next.y>b&&c.next.y!==c.y&&e<(c.next.x-c.x)*(b-c.y)/(c.next.y-c.y)+c.x&&(d=!d),c=c.next;while(c!==a);return d}
function splitPolygon$$module$node_modules$three$build$three_module(a,b){const c=new Node$$module$node_modules$three$build$three_module(a.i,a.x,a.y),d=new Node$$module$node_modules$three$build$three_module(b.i,b.x,b.y),e=a.next,g=b.prev;a.next=b;b.prev=a;c.next=e;e.prev=c;d.next=c;c.prev=d;g.next=d;d.prev=g;return d}
function insertNode$$module$node_modules$three$build$three_module(a,b,c,d){a=new Node$$module$node_modules$three$build$three_module(a,b,c);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a);return a}function removeNode$$module$node_modules$three$build$three_module(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}
function Node$$module$node_modules$three$build$three_module(a,b,c){this.i=a;this.x=b;this.y=c;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function signedArea$$module$node_modules$three$build$three_module(a,b,c,d){let e=0;for(let g=b,h=c-d;g<c;g+=d)e+=(a[h]-a[g])*(a[g+1]+a[h+1]),h=g;return e}
const ShapeUtils$$module$node_modules$three$build$three_module={area:function(a){const b=a.length;let c=0;for(let d=b-1,e=0;e<b;d=e++)c+=a[d].x*a[e].y-a[e].x*a[d].y;return.5*c},isClockWise:function(a){return 0>ShapeUtils$$module$node_modules$three$build$three_module.area(a)},triangulateShape:function(a,b){var c=[];const d=[],e=[];removeDupEndPts$$module$node_modules$three$build$three_module(a);addContour$$module$node_modules$three$build$three_module(c,a);a=a.length;b.forEach(removeDupEndPts$$module$node_modules$three$build$three_module);
for(let g=0;g<b.length;g++)d.push(a),a+=b[g].length,addContour$$module$node_modules$three$build$three_module(c,b[g]);b=Earcut$$module$node_modules$three$build$three_module.triangulate(c,d);for(c=0;c<b.length;c+=3)e.push(b.slice(c,c+3));return e}};function removeDupEndPts$$module$node_modules$three$build$three_module(a){const b=a.length;2<b&&a[b-1].equals(a[0])&&a.pop()}function addContour$$module$node_modules$three$build$three_module(a,b){for(let c=0;c<b.length;c++)a.push(b[c].x),a.push(b[c].y)}
class ExtrudeGeometry$$module$node_modules$three$build$three_module extends Geometry$$module$node_modules$three$build$three_module{constructor(a,b){super();this.type="ExtrudeGeometry";this.parameters={shapes:a,options:b};this.fromBufferGeometry(new ExtrudeBufferGeometry$$module$node_modules$three$build$three_module(a,b));this.mergeVertices()}toJSON(){const a=super.toJSON();return toJSON$$module$node_modules$three$build$three_module(this.parameters.shapes,this.parameters.options,a)}}
class ExtrudeBufferGeometry$$module$node_modules$three$build$three_module extends BufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b){function c(h){function k(D,I,S){I||console.error("THREE.ExtrudeGeometry: vec does not exist");return I.clone().multiplyScalar(S).add(D)}function l(D,I,S){var P=D.x-I.x;var Y=D.y-I.y;var Z=S.x-D.x;var ea=S.y-D.y,ja=P*P+Y*Y;if(Math.abs(P*ea-Y*Z)>Number.EPSILON){const ha=Math.sqrt(ja),ka=Math.sqrt(Z*Z+ea*ea);ja=I.x-Y/ha;I=I.y+P/ha;ea=((S.x-ea/
ka-ja)*ea-(S.y+Z/ka-I)*Z)/(P*ea-Y*Z);Z=ja+P*ea-D.x;P=I+Y*ea-D.y;Y=Z*Z+P*P;if(2>=Y)return new Vector2$$module$node_modules$three$build$three_module(Z,P);Y=Math.sqrt(Y/2)}else D=!1,P>Number.EPSILON?Z>Number.EPSILON&&(D=!0):P<-Number.EPSILON?Z<-Number.EPSILON&&(D=!0):Math.sign(Y)===Math.sign(ea)&&(D=!0),D?(Z=-Y,Y=Math.sqrt(ja)):(Z=P,P=Y,Y=Math.sqrt(ja/2));return new Vector2$$module$node_modules$three$build$three_module(Z/Y,P/Y)}function m(D,I){let S=D.length;for(;0<=--S;){const ea=S;let ja=S-1;0>ja&&
(ja=D.length-1);for(let ha=0,ka=r+2*N;ha<ka;ha++){const oa=X*ha;var P=X*(ha+1),Y=I+ja+oa,Z=I+ja+P;P=I+ea+P;t(I+ea+oa);t(Y);t(P);t(Y);t(Z);t(P);Y=e.length/3;Y=W.generateSideWallUV(d,e,Y-6,Y-3,Y-2,Y-1);w(Y[0]);w(Y[1]);w(Y[3]);w(Y[1]);w(Y[2]);w(Y[3])}}}function n(D,I,S){x.push(D);x.push(I);x.push(S)}function p(D,I,S){t(D);t(I);t(S);D=e.length/3;D=W.generateTopUV(d,e,D-3,D-2,D-1);w(D[0]);w(D[1]);w(D[2])}function t(D){e.push(x[3*D]);e.push(x[3*D+1]);e.push(x[3*D+2])}function w(D){g.push(D.x);g.push(D.y)}
const x=[];var A=void 0!==b.curveSegments?b.curveSegments:12;const r=void 0!==b.steps?b.steps:1;let E=void 0!==b.depth?b.depth:100,B=void 0!==b.bevelEnabled?b.bevelEnabled:!0,G=void 0!==b.bevelThickness?b.bevelThickness:6,H=void 0!==b.bevelSize?b.bevelSize:G-2,O=void 0!==b.bevelOffset?b.bevelOffset:0,N=void 0!==b.bevelSegments?b.bevelSegments:3;var U=b.extrudePath;const W=void 0!==b.UVGenerator?b.UVGenerator:WorldUVGenerator$$module$node_modules$three$build$three_module;void 0!==b.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),
E=b.amount);let J,aa=!1;if(U){J=U.getSpacedPoints(r);aa=!0;B=!1;var ba=U.computeFrenetFrames(r,!1);var z=new Vector3$$module$node_modules$three$build$three_module;var K=new Vector3$$module$node_modules$three$build$three_module;var Q=new Vector3$$module$node_modules$three$build$three_module}B||(O=H=G=N=0);h=h.extractPoints(A);U=h.shape;const M=h.holes;if(!ShapeUtils$$module$node_modules$three$build$three_module.isClockWise(U)){U=U.reverse();for(let D=0,I=M.length;D<I;D++)h=M[D],ShapeUtils$$module$node_modules$three$build$three_module.isClockWise(h)&&
(M[D]=h.reverse())}const L=ShapeUtils$$module$node_modules$three$build$three_module.triangulateShape(U,M),T=U;for(let D=0,I=M.length;D<I;D++)U=U.concat(M[D]);const X=U.length,y=L.length;h=[];for(let D=0,I=T.length,S=I-1,P=D+1;D<I;D++,S++,P++)S===I&&(S=0),P===I&&(P=0),h[D]=l(T[D],T[S],T[P]);A=[];let F=h.concat();for(let D=0,I=M.length;D<I;D++){var R=M[D];var q=[];for(let S=0,P=R.length,Y=P-1,Z=S+1;S<P;S++,Y++,Z++)Y===P&&(Y=0),Z===P&&(Z=0),q[S]=l(R[S],R[Y],R[Z]);A.push(q);F=F.concat(q)}for(R=0;R<N;R++){q=
R/N;var v=G*Math.cos(q*Math.PI/2),u=H*Math.sin(q*Math.PI/2)+O;for(let D=0,I=T.length;D<I;D++)q=k(T[D],h[D],u),n(q.x,q.y,-v);for(let D=0,I=M.length;D<I;D++){const S=M[D];q=A[D];for(let P=0,Y=S.length;P<Y;P++){const Z=k(S[P],q[P],u);n(Z.x,Z.y,-v)}}}q=H+O;for(R=0;R<X;R++)v=B?k(U[R],F[R],q):U[R],aa?(K.copy(ba.normals[0]).multiplyScalar(v.x),z.copy(ba.binormals[0]).multiplyScalar(v.y),Q.copy(J[0]).add(K).add(z),n(Q.x,Q.y,Q.z)):n(v.x,v.y,0);for(R=1;R<=r;R++)for(v=0;v<X;v++)u=B?k(U[v],F[v],q):U[v],aa?(K.copy(ba.normals[R]).multiplyScalar(u.x),
z.copy(ba.binormals[R]).multiplyScalar(u.y),Q.copy(J[R]).add(K).add(z),n(Q.x,Q.y,Q.z)):n(u.x,u.y,E/r*R);for(ba=N-1;0<=ba;ba--){K=ba/N;z=G*Math.cos(K*Math.PI/2);K=H*Math.sin(K*Math.PI/2)+O;for(let D=0,I=T.length;D<I;D++)Q=k(T[D],h[D],K),n(Q.x,Q.y,E+z);for(let D=0,I=M.length;D<I;D++){Q=M[D];q=A[D];for(let S=0,P=Q.length;S<P;S++)U=k(Q[S],q[S],K),aa?n(U.x,U.y+J[r-1].y,J[r-1].x+z):n(U.x,U.y,E+z)}}(function(){const D=e.length/3;if(B){var I=0*X;for(var S=0;S<y;S++){var P=L[S];p(P[2]+I,P[1]+I,P[0]+I)}I=X*
(r+2*N);for(S=0;S<y;S++)P=L[S],p(P[0]+I,P[1]+I,P[2]+I)}else{for(I=0;I<y;I++)S=L[I],p(S[2],S[1],S[0]);for(I=0;I<y;I++)S=L[I],p(S[0]+X*r,S[1]+X*r,S[2]+X*r)}d.addGroup(D,e.length/3-D,0)})();(function(){const D=e.length/3;let I=0;m(T,I);I+=T.length;for(let S=0,P=M.length;S<P;S++){const Y=M[S];m(Y,I);I+=Y.length}d.addGroup(D,e.length/3-D,1)})()}super();this.type="ExtrudeBufferGeometry";this.parameters={shapes:a,options:b};a=Array.isArray(a)?a:[a];const d=this,e=[],g=[];for(let h=0,k=a.length;h<k;h++)c(a[h]);
this.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(e,3));this.setAttribute("uv",new Float32BufferAttribute$$module$node_modules$three$build$three_module(g,2));this.computeVertexNormals()}toJSON(){const a=BufferGeometry$$module$node_modules$three$build$three_module.prototype.toJSON.call(this);return toJSON$$module$node_modules$three$build$three_module(this.parameters.shapes,this.parameters.options,a)}}
const WorldUVGenerator$$module$node_modules$three$build$three_module={generateTopUV:function(a,b,c,d,e){a=b[3*d];d=b[3*d+1];const g=b[3*e];e=b[3*e+1];return[new Vector2$$module$node_modules$three$build$three_module(b[3*c],b[3*c+1]),new Vector2$$module$node_modules$three$build$three_module(a,d),new Vector2$$module$node_modules$three$build$three_module(g,e)]},generateSideWallUV:function(a,b,c,d,e,g){a=b[3*c];const h=b[3*c+1];c=b[3*c+2];const k=b[3*d],l=b[3*d+1];d=b[3*d+2];const m=b[3*e],n=b[3*e+1];
e=b[3*e+2];const p=b[3*g],t=b[3*g+1];b=b[3*g+2];return.01>Math.abs(h-l)?[new Vector2$$module$node_modules$three$build$three_module(a,1-c),new Vector2$$module$node_modules$three$build$three_module(k,1-d),new Vector2$$module$node_modules$three$build$three_module(m,1-e),new Vector2$$module$node_modules$three$build$three_module(p,1-b)]:[new Vector2$$module$node_modules$three$build$three_module(h,1-c),new Vector2$$module$node_modules$three$build$three_module(l,1-d),new Vector2$$module$node_modules$three$build$three_module(n,
1-e),new Vector2$$module$node_modules$three$build$three_module(t,1-b)]}};function toJSON$$module$node_modules$three$build$three_module(a,b,c){c.shapes=[];if(Array.isArray(a))for(let d=0,e=a.length;d<e;d++)c.shapes.push(a[d].uuid);else c.shapes.push(a.uuid);void 0!==b.extrudePath&&(c.options.extrudePath=b.extrudePath.toJSON());return c}
class TextGeometry$$module$node_modules$three$build$three_module extends Geometry$$module$node_modules$three$build$three_module{constructor(a,b){super();this.type="TextGeometry";this.parameters={text:a,parameters:b};this.fromBufferGeometry(new TextBufferGeometry$$module$node_modules$three$build$three_module(a,b));this.mergeVertices()}}
class TextBufferGeometry$$module$node_modules$three$build$three_module extends ExtrudeBufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b){b=b||{};const c=b.font;if(!c||!c.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Geometry$$module$node_modules$three$build$three_module;a=c.generateShapes(a,b.size);b.depth=void 0!==b.height?b.height:50;void 0===b.bevelThickness&&(b.bevelThickness=10);void 0===b.bevelSize&&(b.bevelSize=
8);void 0===b.bevelEnabled&&(b.bevelEnabled=!1);super(a,b);this.type="TextBufferGeometry"}}
class SphereGeometry$$module$node_modules$three$build$three_module extends Geometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e,g,h){super();this.type="SphereGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:g,thetaLength:h};this.fromBufferGeometry(new SphereBufferGeometry$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h));this.mergeVertices()}}
class SphereBufferGeometry$$module$node_modules$three$build$three_module extends BufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e,g,h){super();this.type="SphereBufferGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:g,thetaLength:h};a=a||1;b=Math.max(3,Math.floor(b)||8);c=Math.max(2,Math.floor(c)||6);d=void 0!==d?d:0;e=void 0!==e?e:2*Math.PI;g=void 0!==g?g:0;h=void 0!==h?h:Math.PI;const k=Math.min(g+h,Math.PI);
var l=0;const m=[];var n=new Vector3$$module$node_modules$three$build$three_module;const p=new Vector3$$module$node_modules$three$build$three_module,t=[],w=[],x=[],A=[];for(let r=0;r<=c;r++){const E=[],B=r/c;let G=0;0==r&&0==g?G=.5/b:r==c&&k==Math.PI&&(G=-.5/b);for(let H=0;H<=b;H++){const O=H/b;n.x=-a*Math.cos(d+O*e)*Math.sin(g+B*h);n.y=a*Math.cos(g+B*h);n.z=a*Math.sin(d+O*e)*Math.sin(g+B*h);w.push(n.x,n.y,n.z);p.copy(n).normalize();x.push(p.x,p.y,p.z);A.push(O+G,1-B);E.push(l++)}m.push(E)}for(a=
0;a<c;a++)for(d=0;d<b;d++)e=m[a][d+1],h=m[a][d],l=m[a+1][d],n=m[a+1][d+1],(0!==a||0<g)&&t.push(e,h,n),(a!==c-1||k<Math.PI)&&t.push(h,l,n);this.setIndex(t);this.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(w,3));this.setAttribute("normal",new Float32BufferAttribute$$module$node_modules$three$build$three_module(x,3));this.setAttribute("uv",new Float32BufferAttribute$$module$node_modules$three$build$three_module(A,2))}}
class RingGeometry$$module$node_modules$three$build$three_module extends Geometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e,g){super();this.type="RingGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:g};this.fromBufferGeometry(new RingBufferGeometry$$module$node_modules$three$build$three_module(a,b,c,d,e,g));this.mergeVertices()}}
class RingBufferGeometry$$module$node_modules$three$build$three_module extends BufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e,g){super();this.type="RingBufferGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:g};a=a||.5;b=b||1;e=void 0!==e?e:0;g=void 0!==g?g:2*Math.PI;c=void 0!==c?Math.max(3,c):8;d=void 0!==d?Math.max(1,d):1;const h=[],k=[],l=[],m=[];var n=a;a=(b-a)/d;var p=new Vector3$$module$node_modules$three$build$three_module,
t=new Vector2$$module$node_modules$three$build$three_module;for(let w=0;w<=d;w++){for(let x=0;x<=c;x++){const A=e+x/c*g;p.x=n*Math.cos(A);p.y=n*Math.sin(A);k.push(p.x,p.y,p.z);l.push(0,0,1);t.x=(p.x/b+1)/2;t.y=(p.y/b+1)/2;m.push(t.x,t.y)}n+=a}for(b=0;b<d;b++)for(e=b*(c+1),g=0;g<c;g++)n=g+e,a=n+c+1,p=n+c+2,t=n+1,h.push(n,a,t),h.push(a,p,t);this.setIndex(h);this.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(k,3));this.setAttribute("normal",new Float32BufferAttribute$$module$node_modules$three$build$three_module(l,
3));this.setAttribute("uv",new Float32BufferAttribute$$module$node_modules$three$build$three_module(m,2))}}class LatheGeometry$$module$node_modules$three$build$three_module extends Geometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d){super();this.type="LatheGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};this.fromBufferGeometry(new LatheBufferGeometry$$module$node_modules$three$build$three_module(a,b,c,d));this.mergeVertices()}}
class LatheBufferGeometry$$module$node_modules$three$build$three_module extends BufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d){super();this.type="LatheBufferGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};b=Math.floor(b)||12;c=c||0;d=d||2*Math.PI;d=MathUtils$$module$node_modules$three$build$three_module.clamp(d,0,2*Math.PI);var e=[],g=[],h=[],k=1/b,l=new Vector3$$module$node_modules$three$build$three_module,m=new Vector2$$module$node_modules$three$build$three_module;
for(var n=0;n<=b;n++){var p=c+n*k*d,t=Math.sin(p);p=Math.cos(p);for(let w=0;w<=a.length-1;w++)l.x=a[w].x*t,l.y=a[w].y,l.z=a[w].x*p,g.push(l.x,l.y,l.z),m.x=n/b,m.y=w/(a.length-1),h.push(m.x,m.y)}for(c=0;c<b;c++)for(k=0;k<a.length-1;k++)l=k+c*a.length,m=l+a.length,n=l+a.length+1,t=l+1,e.push(l,m,t),e.push(m,n,t);this.setIndex(e);this.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(g,3));this.setAttribute("uv",new Float32BufferAttribute$$module$node_modules$three$build$three_module(h,
2));this.computeVertexNormals();if(d===2*Math.PI){d=this.attributes.normal.array;e=new Vector3$$module$node_modules$three$build$three_module;g=new Vector3$$module$node_modules$three$build$three_module;h=new Vector3$$module$node_modules$three$build$three_module;b=b*a.length*3;for(let w=0,x=0;w<a.length;w++,x+=3)e.x=d[x+0],e.y=d[x+1],e.z=d[x+2],g.x=d[b+x+0],g.y=d[b+x+1],g.z=d[b+x+2],h.addVectors(e,g).normalize(),d[x+0]=d[b+x+0]=h.x,d[x+1]=d[b+x+1]=h.y,d[x+2]=d[b+x+2]=h.z}}}
class ShapeGeometry$$module$node_modules$three$build$three_module extends Geometry$$module$node_modules$three$build$three_module{constructor(a,b){super();this.type="ShapeGeometry";"object"===typeof b&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),b=b.curveSegments);this.parameters={shapes:a,curveSegments:b};this.fromBufferGeometry(new ShapeBufferGeometry$$module$node_modules$three$build$three_module(a,b));this.mergeVertices()}toJSON(){const a=Geometry$$module$node_modules$three$build$three_module.prototype.toJSON.call(this);
return toJSON$1$$module$node_modules$three$build$three_module(this.parameters.shapes,a)}}
class ShapeBufferGeometry$$module$node_modules$three$build$three_module extends BufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b){function c(m){const n=e.length/3;var p=m.extractPoints(b);m=p.shape;var t=p.holes;!1===ShapeUtils$$module$node_modules$three$build$three_module.isClockWise(m)&&(m=m.reverse());for(let w=0,x=t.length;w<x;w++)p=t[w],!0===ShapeUtils$$module$node_modules$three$build$three_module.isClockWise(p)&&(t[w]=p.reverse());p=ShapeUtils$$module$node_modules$three$build$three_module.triangulateShape(m,
t);for(let w=0,x=t.length;w<x;w++)m=m.concat(t[w]);for(let w=0,x=m.length;w<x;w++)t=m[w],e.push(t.x,t.y,0),g.push(0,0,1),h.push(t.x,t.y);for(let w=0,x=p.length;w<x;w++)m=p[w],d.push(m[0]+n,m[1]+n,m[2]+n),l+=3}super();this.type="ShapeBufferGeometry";this.parameters={shapes:a,curveSegments:b};b=b||12;const d=[],e=[],g=[],h=[];let k=0,l=0;if(!1===Array.isArray(a))c(a);else for(let m=0;m<a.length;m++)c(a[m]),this.addGroup(k,l,m),k+=l,l=0;this.setIndex(d);this.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(e,
3));this.setAttribute("normal",new Float32BufferAttribute$$module$node_modules$three$build$three_module(g,3));this.setAttribute("uv",new Float32BufferAttribute$$module$node_modules$three$build$three_module(h,2))}toJSON(){const a=BufferGeometry$$module$node_modules$three$build$three_module.prototype.toJSON.call(this);return toJSON$1$$module$node_modules$three$build$three_module(this.parameters.shapes,a)}}
function toJSON$1$$module$node_modules$three$build$three_module(a,b){b.shapes=[];if(Array.isArray(a))for(let c=0,d=a.length;c<d;c++)b.shapes.push(a[c].uuid);else b.shapes.push(a.uuid);return b}
class EdgesGeometry$$module$node_modules$three$build$three_module extends BufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b){super();this.type="EdgesGeometry";this.parameters={thresholdAngle:b};const c=[];b=Math.cos(MathUtils$$module$node_modules$three$build$three_module.DEG2RAD*(void 0!==b?b:1));var d=[0,0];const e={};let g;var h=["a","b","c"];if(a.isBufferGeometry){var k=new Geometry$$module$node_modules$three$build$three_module;k.fromBufferGeometry(a)}else k=a.clone();
k.mergeVertices();k.computeFaceNormals();a=k.vertices;k=k.faces;for(let m=0,n=k.length;m<n;m++){const p=k[m];for(let t=0;3>t;t++){var l=p[h[t]];g=p[h[(t+1)%3]];d[0]=Math.min(l,g);d[1]=Math.max(l,g);l=d[0]+","+d[1];void 0===e[l]?e[l]={index1:d[0],index2:d[1],face1:m,face2:void 0}:e[l].face2=m}}for(l in e)if(d=e[l],void 0===d.face2||k[d.face1].normal.dot(k[d.face2].normal)<=b)h=a[d.index1],c.push(h.x,h.y,h.z),h=a[d.index2],c.push(h.x,h.y,h.z);this.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(c,
3))}}class CylinderGeometry$$module$node_modules$three$build$three_module extends Geometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e,g,h,k){super();this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:g,thetaStart:h,thetaLength:k};this.fromBufferGeometry(new CylinderBufferGeometry$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h,k));this.mergeVertices()}}
class CylinderBufferGeometry$$module$node_modules$three$build$three_module extends BufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e,g,h,k){function l(B){const G=x;var H=new Vector2$$module$node_modules$three$build$three_module,O=new Vector3$$module$node_modules$three$build$three_module;let N=0;var U=!0===B?a:b;const W=!0===B?1:-1;for(var J=1;J<=d;J++)p.push(0,r*W,0),t.push(0,W,0),w.push(.5,.5),x++;J=x;for(let ba=0;ba<=d;ba++){var aa=ba/d*k+h;const z=Math.cos(aa);
aa=Math.sin(aa);O.x=U*aa;O.y=r*W;O.z=U*z;p.push(O.x,O.y,O.z);t.push(0,W,0);H.x=.5*z+.5;H.y=.5*aa*W+.5;w.push(H.x,H.y);x++}for(H=0;H<d;H++)O=G+H,U=J+H,!0===B?n.push(U,U+1,O):n.push(U+1,U,O),N+=3;m.addGroup(E,N,!0===B?1:2);E+=N}super();this.type="CylinderBufferGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:g,thetaStart:h,thetaLength:k};const m=this;a=void 0!==a?a:1;b=void 0!==b?b:1;c=c||1;d=Math.floor(d)||8;e=Math.floor(e)||1;g=void 0!==g?
g:!1;h=void 0!==h?h:0;k=void 0!==k?k:2*Math.PI;const n=[],p=[],t=[],w=[];let x=0;const A=[],r=c/2;let E=0;(function(){var B=new Vector3$$module$node_modules$three$build$three_module,G=new Vector3$$module$node_modules$three$build$three_module;let H=0;var O=(b-a)/c;for(var N=0;N<=e;N++){var U=[];const J=N/e,aa=J*(b-a)+a;for(let ba=0;ba<=d;ba++){const z=ba/d;var W=z*k+h;const K=Math.sin(W);W=Math.cos(W);G.x=aa*K;G.y=-J*c+r;G.z=aa*W;p.push(G.x,G.y,G.z);B.set(K,O,W).normalize();t.push(B.x,B.y,B.z);w.push(z,
1-J);U.push(x++)}A.push(U)}for(B=0;B<d;B++)for(G=0;G<e;G++)O=A[G+1][B],N=A[G+1][B+1],U=A[G][B+1],n.push(A[G][B],O,U),n.push(O,N,U),H+=6;m.addGroup(E,H,0);E+=H})();!1===g&&(0<a&&l(!0),0<b&&l(!1));this.setIndex(n);this.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(p,3));this.setAttribute("normal",new Float32BufferAttribute$$module$node_modules$three$build$three_module(t,3));this.setAttribute("uv",new Float32BufferAttribute$$module$node_modules$three$build$three_module(w,
2))}}class ConeGeometry$$module$node_modules$three$build$three_module extends CylinderGeometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e,g,h){super(0,a,b,c,d,e,g,h);this.type="ConeGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:g,thetaLength:h}}}
class ConeBufferGeometry$$module$node_modules$three$build$three_module extends CylinderBufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e,g,h){super(0,a,b,c,d,e,g,h);this.type="ConeBufferGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:g,thetaLength:h}}}
class CircleGeometry$$module$node_modules$three$build$three_module extends Geometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d){super();this.type="CircleGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};this.fromBufferGeometry(new CircleBufferGeometry$$module$node_modules$three$build$three_module(a,b,c,d));this.mergeVertices()}}
class CircleBufferGeometry$$module$node_modules$three$build$three_module extends BufferGeometry$$module$node_modules$three$build$three_module{constructor(a,b,c,d){super();this.type="CircleBufferGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};a=a||1;b=void 0!==b?Math.max(3,b):8;c=void 0!==c?c:0;d=void 0!==d?d:2*Math.PI;const e=[],g=[],h=[],k=[],l=new Vector3$$module$node_modules$three$build$three_module,m=new Vector2$$module$node_modules$three$build$three_module;g.push(0,
0,0);h.push(0,0,1);k.push(.5,.5);for(let n=0,p=3;n<=b;n++,p+=3){const t=c+n/b*d;l.x=a*Math.cos(t);l.y=a*Math.sin(t);g.push(l.x,l.y,l.z);h.push(0,0,1);m.x=(g[p]/a+1)/2;m.y=(g[p+1]/a+1)/2;k.push(m.x,m.y)}for(a=1;a<=b;a++)e.push(a,a+1,0);this.setIndex(e);this.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(g,3));this.setAttribute("normal",new Float32BufferAttribute$$module$node_modules$three$build$three_module(h,3));this.setAttribute("uv",new Float32BufferAttribute$$module$node_modules$three$build$three_module(k,
2))}}
var Geometries$$module$node_modules$three$build$three_module=Object.freeze({__proto__:null,WireframeGeometry:WireframeGeometry$$module$node_modules$three$build$three_module,ParametricGeometry:ParametricGeometry$$module$node_modules$three$build$three_module,ParametricBufferGeometry:ParametricBufferGeometry$$module$node_modules$three$build$three_module,TetrahedronGeometry:TetrahedronGeometry$$module$node_modules$three$build$three_module,TetrahedronBufferGeometry:TetrahedronBufferGeometry$$module$node_modules$three$build$three_module,OctahedronGeometry:OctahedronGeometry$$module$node_modules$three$build$three_module,
OctahedronBufferGeometry:OctahedronBufferGeometry$$module$node_modules$three$build$three_module,IcosahedronGeometry:IcosahedronGeometry$$module$node_modules$three$build$three_module,IcosahedronBufferGeometry:IcosahedronBufferGeometry$$module$node_modules$three$build$three_module,DodecahedronGeometry:DodecahedronGeometry$$module$node_modules$three$build$three_module,DodecahedronBufferGeometry:DodecahedronBufferGeometry$$module$node_modules$three$build$three_module,PolyhedronGeometry:PolyhedronGeometry$$module$node_modules$three$build$three_module,
PolyhedronBufferGeometry:PolyhedronBufferGeometry$$module$node_modules$three$build$three_module,TubeGeometry:TubeGeometry$$module$node_modules$three$build$three_module,TubeBufferGeometry:TubeBufferGeometry$$module$node_modules$three$build$three_module,TorusKnotGeometry:TorusKnotGeometry$$module$node_modules$three$build$three_module,TorusKnotBufferGeometry:TorusKnotBufferGeometry$$module$node_modules$three$build$three_module,TorusGeometry:TorusGeometry$$module$node_modules$three$build$three_module,
TorusBufferGeometry:TorusBufferGeometry$$module$node_modules$three$build$three_module,TextGeometry:TextGeometry$$module$node_modules$three$build$three_module,TextBufferGeometry:TextBufferGeometry$$module$node_modules$three$build$three_module,SphereGeometry:SphereGeometry$$module$node_modules$three$build$three_module,SphereBufferGeometry:SphereBufferGeometry$$module$node_modules$three$build$three_module,RingGeometry:RingGeometry$$module$node_modules$three$build$three_module,RingBufferGeometry:RingBufferGeometry$$module$node_modules$three$build$three_module,
PlaneGeometry:PlaneGeometry$$module$node_modules$three$build$three_module,PlaneBufferGeometry:PlaneBufferGeometry$$module$node_modules$three$build$three_module,LatheGeometry:LatheGeometry$$module$node_modules$three$build$three_module,LatheBufferGeometry:LatheBufferGeometry$$module$node_modules$three$build$three_module,ShapeGeometry:ShapeGeometry$$module$node_modules$three$build$three_module,ShapeBufferGeometry:ShapeBufferGeometry$$module$node_modules$three$build$three_module,ExtrudeGeometry:ExtrudeGeometry$$module$node_modules$three$build$three_module,
ExtrudeBufferGeometry:ExtrudeBufferGeometry$$module$node_modules$three$build$three_module,EdgesGeometry:EdgesGeometry$$module$node_modules$three$build$three_module,ConeGeometry:ConeGeometry$$module$node_modules$three$build$three_module,ConeBufferGeometry:ConeBufferGeometry$$module$node_modules$three$build$three_module,CylinderGeometry:CylinderGeometry$$module$node_modules$three$build$three_module,CylinderBufferGeometry:CylinderBufferGeometry$$module$node_modules$three$build$three_module,CircleGeometry:CircleGeometry$$module$node_modules$three$build$three_module,
CircleBufferGeometry:CircleBufferGeometry$$module$node_modules$three$build$three_module,BoxGeometry:BoxGeometry$$module$node_modules$three$build$three_module,BoxBufferGeometry:BoxBufferGeometry$$module$node_modules$three$build$three_module});
function ShadowMaterial$$module$node_modules$three$build$three_module(a){Material$$module$node_modules$three$build$three_module.call(this);this.type="ShadowMaterial";this.color=new Color$$module$node_modules$three$build$three_module(0);this.transparent=!0;this.setValues(a)}ShadowMaterial$$module$node_modules$three$build$three_module.prototype=Object.create(Material$$module$node_modules$three$build$three_module.prototype);
ShadowMaterial$$module$node_modules$three$build$three_module.prototype.constructor=ShadowMaterial$$module$node_modules$three$build$three_module;ShadowMaterial$$module$node_modules$three$build$three_module.prototype.isShadowMaterial=!0;ShadowMaterial$$module$node_modules$three$build$three_module.prototype.copy=function(a){Material$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.color.copy(a.color);return this};
function RawShaderMaterial$$module$node_modules$three$build$three_module(a){ShaderMaterial$$module$node_modules$three$build$three_module.call(this,a);this.type="RawShaderMaterial"}RawShaderMaterial$$module$node_modules$three$build$three_module.prototype=Object.create(ShaderMaterial$$module$node_modules$three$build$three_module.prototype);RawShaderMaterial$$module$node_modules$three$build$three_module.prototype.constructor=RawShaderMaterial$$module$node_modules$three$build$three_module;
RawShaderMaterial$$module$node_modules$three$build$three_module.prototype.isRawShaderMaterial=!0;
function MeshStandardMaterial$$module$node_modules$three$build$three_module(a){Material$$module$node_modules$three$build$three_module.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new Color$$module$node_modules$three$build$three_module(16777215);this.roughness=1;this.metalness=0;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Color$$module$node_modules$three$build$three_module(0);this.emissiveIntensity=
1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=TangentSpaceNormalMap$$module$node_modules$three$build$three_module;this.normalScale=new Vector2$$module$node_modules$three$build$three_module(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap=
"round";this.vertexTangents=this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}MeshStandardMaterial$$module$node_modules$three$build$three_module.prototype=Object.create(Material$$module$node_modules$three$build$three_module.prototype);MeshStandardMaterial$$module$node_modules$three$build$three_module.prototype.constructor=MeshStandardMaterial$$module$node_modules$three$build$three_module;
MeshStandardMaterial$$module$node_modules$three$build$three_module.prototype.isMeshStandardMaterial=!0;
MeshStandardMaterial$$module$node_modules$three$build$three_module.prototype.copy=function(a){Material$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=
a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;
this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;this.vertexTangents=a.vertexTangents;return this};
function MeshPhysicalMaterial$$module$node_modules$three$build$three_module(a){MeshStandardMaterial$$module$node_modules$three$build$three_module.call(this);this.defines={STANDARD:"",PHYSICAL:""};this.type="MeshPhysicalMaterial";this.clearcoat=0;this.clearcoatMap=null;this.clearcoatRoughness=0;this.clearcoatRoughnessMap=null;this.clearcoatNormalScale=new Vector2$$module$node_modules$three$build$three_module(1,1);this.clearcoatNormalMap=null;this.reflectivity=.5;this.sheen=null;this.transmission=0;
this.transmissionMap=null;this.setValues(a)}MeshPhysicalMaterial$$module$node_modules$three$build$three_module.prototype=Object.create(MeshStandardMaterial$$module$node_modules$three$build$three_module.prototype);MeshPhysicalMaterial$$module$node_modules$three$build$three_module.prototype.constructor=MeshPhysicalMaterial$$module$node_modules$three$build$three_module;MeshPhysicalMaterial$$module$node_modules$three$build$three_module.prototype.isMeshPhysicalMaterial=!0;
MeshPhysicalMaterial$$module$node_modules$three$build$three_module.prototype.copy=function(a){MeshStandardMaterial$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.defines={STANDARD:"",PHYSICAL:""};this.clearcoat=a.clearcoat;this.clearcoatMap=a.clearcoatMap;this.clearcoatRoughness=a.clearcoatRoughness;this.clearcoatRoughnessMap=a.clearcoatRoughnessMap;this.clearcoatNormalMap=a.clearcoatNormalMap;this.clearcoatNormalScale.copy(a.clearcoatNormalScale);this.reflectivity=
a.reflectivity;this.sheen=a.sheen?(this.sheen||new Color$$module$node_modules$three$build$three_module).copy(a.sheen):null;this.transmission=a.transmission;this.transmissionMap=a.transmissionMap;return this};
function MeshPhongMaterial$$module$node_modules$three$build$three_module(a){Material$$module$node_modules$three$build$three_module.call(this);this.type="MeshPhongMaterial";this.color=new Color$$module$node_modules$three$build$three_module(16777215);this.specular=new Color$$module$node_modules$three$build$three_module(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Color$$module$node_modules$three$build$three_module(0);
this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=TangentSpaceNormalMap$$module$node_modules$three$build$three_module;this.normalScale=new Vector2$$module$node_modules$three$build$three_module(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=MultiplyOperation$$module$node_modules$three$build$three_module;this.reflectivity=1;this.refractionRatio=
.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}MeshPhongMaterial$$module$node_modules$three$build$three_module.prototype=Object.create(Material$$module$node_modules$three$build$three_module.prototype);MeshPhongMaterial$$module$node_modules$three$build$three_module.prototype.constructor=MeshPhongMaterial$$module$node_modules$three$build$three_module;
MeshPhongMaterial$$module$node_modules$three$build$three_module.prototype.isMeshPhongMaterial=!0;
MeshPhongMaterial$$module$node_modules$three$build$three_module.prototype.copy=function(a){Material$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;
this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;
this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};
function MeshToonMaterial$$module$node_modules$three$build$three_module(a){Material$$module$node_modules$three$build$three_module.call(this);this.defines={TOON:""};this.type="MeshToonMaterial";this.color=new Color$$module$node_modules$three$build$three_module(16777215);this.lightMap=this.gradientMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Color$$module$node_modules$three$build$three_module(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=
null;this.bumpScale=1;this.normalMap=null;this.normalMapType=TangentSpaceNormalMap$$module$node_modules$three$build$three_module;this.normalScale=new Vector2$$module$node_modules$three$build$three_module(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.alphaMap=null;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}
MeshToonMaterial$$module$node_modules$three$build$three_module.prototype=Object.create(Material$$module$node_modules$three$build$three_module.prototype);MeshToonMaterial$$module$node_modules$three$build$three_module.prototype.constructor=MeshToonMaterial$$module$node_modules$three$build$three_module;MeshToonMaterial$$module$node_modules$three$build$three_module.prototype.isMeshToonMaterial=!0;
MeshToonMaterial$$module$node_modules$three$build$three_module.prototype.copy=function(a){Material$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.gradientMap=a.gradientMap;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=
a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.alphaMap=a.alphaMap;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;
return this};
function MeshNormalMaterial$$module$node_modules$three$build$three_module(a){Material$$module$node_modules$three$build$three_module.call(this);this.type="MeshNormalMaterial";this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=TangentSpaceNormalMap$$module$node_modules$three$build$three_module;this.normalScale=new Vector2$$module$node_modules$three$build$three_module(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=
1;this.morphNormals=this.morphTargets=this.skinning=this.fog=!1;this.setValues(a)}MeshNormalMaterial$$module$node_modules$three$build$three_module.prototype=Object.create(Material$$module$node_modules$three$build$three_module.prototype);MeshNormalMaterial$$module$node_modules$three$build$three_module.prototype.constructor=MeshNormalMaterial$$module$node_modules$three$build$three_module;MeshNormalMaterial$$module$node_modules$three$build$three_module.prototype.isMeshNormalMaterial=!0;
MeshNormalMaterial$$module$node_modules$three$build$three_module.prototype.copy=function(a){Material$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;
this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};
function MeshLambertMaterial$$module$node_modules$three$build$three_module(a){Material$$module$node_modules$three$build$three_module.call(this);this.type="MeshLambertMaterial";this.color=new Color$$module$node_modules$three$build$three_module(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Color$$module$node_modules$three$build$three_module(0);this.emissiveIntensity=1;this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=
null;this.combine=MultiplyOperation$$module$node_modules$three$build$three_module;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}MeshLambertMaterial$$module$node_modules$three$build$three_module.prototype=Object.create(Material$$module$node_modules$three$build$three_module.prototype);
MeshLambertMaterial$$module$node_modules$three$build$three_module.prototype.constructor=MeshLambertMaterial$$module$node_modules$three$build$three_module;MeshLambertMaterial$$module$node_modules$three$build$three_module.prototype.isMeshLambertMaterial=!0;
MeshLambertMaterial$$module$node_modules$three$build$three_module.prototype.copy=function(a){Material$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;
this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};
function MeshMatcapMaterial$$module$node_modules$three$build$three_module(a){Material$$module$node_modules$three$build$three_module.call(this);this.defines={MATCAP:""};this.type="MeshMatcapMaterial";this.color=new Color$$module$node_modules$three$build$three_module(16777215);this.bumpMap=this.map=this.matcap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=TangentSpaceNormalMap$$module$node_modules$three$build$three_module;this.normalScale=new Vector2$$module$node_modules$three$build$three_module(1,
1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.alphaMap=null;this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}MeshMatcapMaterial$$module$node_modules$three$build$three_module.prototype=Object.create(Material$$module$node_modules$three$build$three_module.prototype);MeshMatcapMaterial$$module$node_modules$three$build$three_module.prototype.constructor=MeshMatcapMaterial$$module$node_modules$three$build$three_module;
MeshMatcapMaterial$$module$node_modules$three$build$three_module.prototype.isMeshMatcapMaterial=!0;
MeshMatcapMaterial$$module$node_modules$three$build$three_module.prototype.copy=function(a){Material$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.defines={MATCAP:""};this.color.copy(a.color);this.matcap=a.matcap;this.map=a.map;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=
a.displacementBias;this.alphaMap=a.alphaMap;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};function LineDashedMaterial$$module$node_modules$three$build$three_module(a){LineBasicMaterial$$module$node_modules$three$build$three_module.call(this);this.type="LineDashedMaterial";this.scale=1;this.dashSize=3;this.gapSize=1;this.setValues(a)}LineDashedMaterial$$module$node_modules$three$build$three_module.prototype=Object.create(LineBasicMaterial$$module$node_modules$three$build$three_module.prototype);
LineDashedMaterial$$module$node_modules$three$build$three_module.prototype.constructor=LineDashedMaterial$$module$node_modules$three$build$three_module;LineDashedMaterial$$module$node_modules$three$build$three_module.prototype.isLineDashedMaterial=!0;
LineDashedMaterial$$module$node_modules$three$build$three_module.prototype.copy=function(a){LineBasicMaterial$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this};
var Materials$$module$node_modules$three$build$three_module=Object.freeze({__proto__:null,ShadowMaterial:ShadowMaterial$$module$node_modules$three$build$three_module,SpriteMaterial:SpriteMaterial$$module$node_modules$three$build$three_module,RawShaderMaterial:RawShaderMaterial$$module$node_modules$three$build$three_module,ShaderMaterial:ShaderMaterial$$module$node_modules$three$build$three_module,PointsMaterial:PointsMaterial$$module$node_modules$three$build$three_module,MeshPhysicalMaterial:MeshPhysicalMaterial$$module$node_modules$three$build$three_module,
MeshStandardMaterial:MeshStandardMaterial$$module$node_modules$three$build$three_module,MeshPhongMaterial:MeshPhongMaterial$$module$node_modules$three$build$three_module,MeshToonMaterial:MeshToonMaterial$$module$node_modules$three$build$three_module,MeshNormalMaterial:MeshNormalMaterial$$module$node_modules$three$build$three_module,MeshLambertMaterial:MeshLambertMaterial$$module$node_modules$three$build$three_module,MeshDepthMaterial:MeshDepthMaterial$$module$node_modules$three$build$three_module,
MeshDistanceMaterial:MeshDistanceMaterial$$module$node_modules$three$build$three_module,MeshBasicMaterial:MeshBasicMaterial$$module$node_modules$three$build$three_module,MeshMatcapMaterial:MeshMatcapMaterial$$module$node_modules$three$build$three_module,LineDashedMaterial:LineDashedMaterial$$module$node_modules$three$build$three_module,LineBasicMaterial:LineBasicMaterial$$module$node_modules$three$build$three_module,Material:Material$$module$node_modules$three$build$three_module});
const AnimationUtils$$module$node_modules$three$build$three_module={arraySlice:function(a,b,c){return AnimationUtils$$module$node_modules$three$build$three_module.isTypedArray(a)?new a.constructor(a.subarray(b,void 0!==c?c:a.length)):a.slice(b,c)},convertArray:function(a,b,c){return!a||!c&&a.constructor===b?a:"number"===typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a)},isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){const b=
a.length,c=Array(b);for(let d=0;d!==b;++d)c[d]=d;c.sort(function(d,e){return a[d]-a[e]});return c},sortedArray:function(a,b,c){const d=a.length,e=new a.constructor(d);for(let g=0,h=0;h!==d;++g){const k=c[g]*b;for(let l=0;l!==b;++l)e[h++]=a[k+l]}return e},flattenJSON:function(a,b,c,d){let e=1,g=a[0];for(;void 0!==g&&void 0===g[d];)g=a[e++];if(void 0!==g){var h=g[d];if(void 0!==h)if(Array.isArray(h)){do h=g[d],void 0!==h&&(b.push(g.time),c.push.apply(c,h)),g=a[e++];while(void 0!==g)}else if(void 0!==
h.toArray){do h=g[d],void 0!==h&&(b.push(g.time),h.toArray(c,c.length)),g=a[e++];while(void 0!==g)}else{do h=g[d],void 0!==h&&(b.push(g.time),c.push(h)),g=a[e++];while(void 0!==g)}}},subclip:function(a,b,c,d,e){e=e||30;a=a.clone();a.name=b;b=[];for(let h=0;h<a.tracks.length;++h){const k=a.tracks[h],l=k.getValueSize(),m=[],n=[];for(let p=0;p<k.times.length;++p){var g=k.times[p]*e;if(!(g<c||g>=d))for(m.push(k.times[p]),g=0;g<l;++g)n.push(k.values[p*l+g])}0!==m.length&&(k.times=AnimationUtils$$module$node_modules$three$build$three_module.convertArray(m,
k.times.constructor),k.values=AnimationUtils$$module$node_modules$three$build$three_module.convertArray(n,k.values.constructor),b.push(k))}a.tracks=b;c=Infinity;for(d=0;d<a.tracks.length;++d)c>a.tracks[d].times[0]&&(c=a.tracks[d].times[0]);for(d=0;d<a.tracks.length;++d)a.tracks[d].shift(-1*c);a.resetDuration();return a},makeClipAdditive:function(a,b,c,d){void 0===b&&(b=0);void 0===c&&(c=a);if(void 0===d||0>=d)d=30;const e=a.tracks.length;b/=d;for(d=0;d<e;++d){const m=c.tracks[d],n=m.ValueTypeName;
if("bool"===n||"string"===n)continue;const p=a.tracks.find(function(x){return x.name===m.name&&x.ValueTypeName===n});if(void 0===p)continue;var g=0,h=m.getValueSize();m.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=h/3);let t=0;const w=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(t=w/3);var k=m.times.length-1;if(b<=m.times[0])g=AnimationUtils$$module$node_modules$three$build$three_module.arraySlice(m.values,g,h-g);else if(b>=m.times[k])k=k*h+g,
g=AnimationUtils$$module$node_modules$three$build$three_module.arraySlice(m.values,k,k+h-g);else{k=m.createInterpolant();var l=g;g=h-g;k.evaluate(b);g=AnimationUtils$$module$node_modules$three$build$three_module.arraySlice(k.resultBuffer,l,g)}"quaternion"===n&&(new Quaternion$$module$node_modules$three$build$three_module).fromArray(g).normalize().conjugate().toArray(g);h=p.times.length;for(k=0;k<h;++k)if(l=k*w+t,"quaternion"===n)Quaternion$$module$node_modules$three$build$three_module.multiplyQuaternionsFlat(p.values,
l,g,0,p.values,l);else{const x=w-2*t;for(let A=0;A<x;++A)p.values[l+A]-=g[A]}}a.blendMode=AdditiveAnimationBlendMode$$module$node_modules$three$build$three_module;return a}};function Interpolant$$module$node_modules$three$build$three_module(a,b,c,d){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==d?d:new b.constructor(c);this.sampleValues=b;this.valueSize=c}
Object.assign(Interpolant$$module$node_modules$three$build$three_module.prototype,{evaluate:function(a){const b=this.parameterPositions;let c=this._cachedIndex;var d=b[c],e=b[c-1];a:{b:{c:{d:if(!(a<d)){for(var g=c+2;;){if(void 0===d){if(a<e)break d;this._cachedIndex=c=b.length;return this.afterEnd_(c-1,a,e)}if(c===g)break;e=d;d=b[++c];if(a<d)break b}d=b.length;break c}if(a>=e)break a;else{g=b[1];a<g&&(c=2,e=g);for(g=c-2;;){if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(c===g)break;
d=e;e=b[--c-1];if(a>=e)break b}d=c;c=0}}for(;c<d;)e=c+d>>>1,a<b[e]?d=e:c=e+1;d=b[c];e=b[c-1];if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(void 0===d)return this._cachedIndex=c=b.length,this.afterEnd_(c-1,e,a)}this._cachedIndex=c;this.intervalChanged_(c,e,d)}return this.interpolate_(c,e,a,d)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(a){const b=this.resultBuffer,c=this.sampleValues,d=this.valueSize;
a*=d;for(let e=0;e!==d;++e)b[e]=c[a+e];return b},interpolate_:function(){throw Error("call to abstract method");},intervalChanged_:function(){}});Object.assign(Interpolant$$module$node_modules$three$build$three_module.prototype,{beforeStart_:Interpolant$$module$node_modules$three$build$three_module.prototype.copySampleValue_,afterEnd_:Interpolant$$module$node_modules$three$build$three_module.prototype.copySampleValue_});
function CubicInterpolant$$module$node_modules$three$build$three_module(a,b,c,d){Interpolant$$module$node_modules$three$build$three_module.call(this,a,b,c,d);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}
CubicInterpolant$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Interpolant$$module$node_modules$three$build$three_module.prototype),{constructor:CubicInterpolant$$module$node_modules$three$build$three_module,DefaultSettings_:{endingStart:ZeroCurvatureEnding$$module$node_modules$three$build$three_module,endingEnd:ZeroCurvatureEnding$$module$node_modules$three$build$three_module},intervalChanged_:function(a,b,c){var d=this.parameterPositions;let e=a-2,g=a+1,h=d[e],
k=d[g];if(void 0===h)switch(this.getSettings_().endingStart){case ZeroSlopeEnding$$module$node_modules$three$build$three_module:e=a;h=2*b-c;break;case WrapAroundEnding$$module$node_modules$three$build$three_module:e=d.length-2;h=b+d[e]-d[e+1];break;default:e=a,h=c}if(void 0===k)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding$$module$node_modules$three$build$three_module:g=a;k=2*c-b;break;case WrapAroundEnding$$module$node_modules$three$build$three_module:g=1;k=c+d[1]-d[0];break;default:g=
a-1,k=b}a=.5*(c-b);d=this.valueSize;this._weightPrev=a/(b-h);this._weightNext=a/(k-c);this._offsetPrev=e*d;this._offsetNext=g*d},interpolate_:function(a,b,c,d){const e=this.resultBuffer,g=this.sampleValues,h=this.valueSize;a*=h;const k=a-h,l=this._offsetPrev,m=this._offsetNext;var n=this._weightPrev,p=this._weightNext,t=(c-b)/(d-b);c=t*t;d=c*t;b=-n*d+2*n*c-n*t;n=(1+n)*d+(-1.5-2*n)*c+(-.5+n)*t+1;t=(-1-p)*d+(1.5+p)*c+.5*t;p=p*d-p*c;for(c=0;c!==h;++c)e[c]=b*g[l+c]+n*g[k+c]+t*g[a+c]+p*g[m+c];return e}});
function LinearInterpolant$$module$node_modules$three$build$three_module(a,b,c,d){Interpolant$$module$node_modules$three$build$three_module.call(this,a,b,c,d)}
LinearInterpolant$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Interpolant$$module$node_modules$three$build$three_module.prototype),{constructor:LinearInterpolant$$module$node_modules$three$build$three_module,interpolate_:function(a,b,c,d){const e=this.resultBuffer,g=this.sampleValues,h=this.valueSize;a*=h;const k=a-h;b=(c-b)/(d-b);c=1-b;for(d=0;d!==h;++d)e[d]=g[k+d]*c+g[a+d]*b;return e}});
function DiscreteInterpolant$$module$node_modules$three$build$three_module(a,b,c,d){Interpolant$$module$node_modules$three$build$three_module.call(this,a,b,c,d)}DiscreteInterpolant$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Interpolant$$module$node_modules$three$build$three_module.prototype),{constructor:DiscreteInterpolant$$module$node_modules$three$build$three_module,interpolate_:function(a){return this.copySampleValue_(a-1)}});
function KeyframeTrack$$module$node_modules$three$build$three_module(a,b,c,d){if(void 0===a)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===b||0===b.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+a);this.name=a;this.times=AnimationUtils$$module$node_modules$three$build$three_module.convertArray(b,this.TimeBufferType);this.values=AnimationUtils$$module$node_modules$three$build$three_module.convertArray(c,this.ValueBufferType);this.setInterpolation(d||
this.DefaultInterpolation)}Object.assign(KeyframeTrack$$module$node_modules$three$build$three_module,{toJSON:function(a){var b=a.constructor;if(void 0!==b.toJSON)b=b.toJSON(a);else{b={name:a.name,times:AnimationUtils$$module$node_modules$three$build$three_module.convertArray(a.times,Array),values:AnimationUtils$$module$node_modules$three$build$three_module.convertArray(a.values,Array)};const c=a.getInterpolation();c!==a.DefaultInterpolation&&(b.interpolation=c)}b.type=a.ValueTypeName;return b}});
Object.assign(KeyframeTrack$$module$node_modules$three$build$three_module.prototype,{constructor:KeyframeTrack$$module$node_modules$three$build$three_module,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:InterpolateLinear$$module$node_modules$three$build$three_module,InterpolantFactoryMethodDiscrete:function(a){return new DiscreteInterpolant$$module$node_modules$three$build$three_module(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodLinear:function(a){return new LinearInterpolant$$module$node_modules$three$build$three_module(this.times,
this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:function(a){return new CubicInterpolant$$module$node_modules$three$build$three_module(this.times,this.values,this.getValueSize(),a)},setInterpolation:function(a){switch(a){case InterpolateDiscrete$$module$node_modules$three$build$three_module:var b=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear$$module$node_modules$three$build$three_module:b=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth$$module$node_modules$three$build$three_module:b=
this.InterpolantFactoryMethodSmooth}if(void 0===b){b="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(a!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(b);console.warn("THREE.KeyframeTrack:",b);return this}this.createInterpolant=b;return this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete$$module$node_modules$three$build$three_module;
case this.InterpolantFactoryMethodLinear:return InterpolateLinear$$module$node_modules$three$build$three_module;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth$$module$node_modules$three$build$three_module}},getValueSize:function(){return this.values.length/this.times.length},shift:function(a){if(0!==a){const b=this.times;for(let c=0,d=b.length;c!==d;++c)b[c]+=a}return this},scale:function(a){if(1!==a){const b=this.times;for(let c=0,d=b.length;c!==d;++c)b[c]*=a}return this},trim:function(a,
b){const c=this.times,d=c.length;let e=0,g=d-1;for(;e!==d&&c[e]<a;)++e;for(;-1!==g&&c[g]>b;)--g;++g;if(0!==e||g!==d)e>=g&&(g=Math.max(g,1),e=g-1),a=this.getValueSize(),this.times=AnimationUtils$$module$node_modules$three$build$three_module.arraySlice(c,e,g),this.values=AnimationUtils$$module$node_modules$three$build$three_module.arraySlice(this.values,e*a,g*a);return this},validate:function(){let a=!0;var b=this.getValueSize();0!==b-Math.floor(b)&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",
this),a=!1);var c=this.times;b=this.values;const d=c.length;0===d&&(console.error("THREE.KeyframeTrack: Track is empty.",this),a=!1);let e=null;for(let g=0;g!==d;g++){const h=c[g];if("number"===typeof h&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,g,h);a=!1;break}if(null!==e&&e>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,g,h,e);a=!1;break}e=h}if(void 0!==b&&AnimationUtils$$module$node_modules$three$build$three_module.isTypedArray(b))for(let g=
0,h=b.length;g!==h;++g)if(c=b[g],isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,g,c);a=!1;break}return a},optimize:function(){const a=AnimationUtils$$module$node_modules$three$build$three_module.arraySlice(this.times),b=AnimationUtils$$module$node_modules$three$build$three_module.arraySlice(this.values),c=this.getValueSize(),d=this.getInterpolation()===InterpolateSmooth$$module$node_modules$three$build$three_module,e=a.length-1;let g=1;for(let m=1;m<e;++m){var h=
!1,k=a[m];if(k!==a[m+1]&&(1!==m||k!==k[0]))if(d)h=!0;else{k=m*c;var l=k-c;const n=k+c;for(let p=0;p!==c;++p){const t=b[k+p];if(t!==b[l+p]||t!==b[n+p]){h=!0;break}}}if(h){if(m!==g)for(a[g]=a[m],h=m*c,k=g*c,l=0;l!==c;++l)b[k+l]=b[h+l];++g}}if(0<e){a[g]=a[e];for(let m=e*c,n=g*c,p=0;p!==c;++p)b[n+p]=b[m+p];++g}g!==a.length?(this.times=AnimationUtils$$module$node_modules$three$build$three_module.arraySlice(a,0,g),this.values=AnimationUtils$$module$node_modules$three$build$three_module.arraySlice(b,0,g*
c)):(this.times=a,this.values=b);return this},clone:function(){var a=AnimationUtils$$module$node_modules$three$build$three_module.arraySlice(this.times,0);const b=AnimationUtils$$module$node_modules$three$build$three_module.arraySlice(this.values,0);a=new this.constructor(this.name,a,b);a.createInterpolant=this.createInterpolant;return a}});
function BooleanKeyframeTrack$$module$node_modules$three$build$three_module(a,b,c){KeyframeTrack$$module$node_modules$three$build$three_module.call(this,a,b,c)}
BooleanKeyframeTrack$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(KeyframeTrack$$module$node_modules$three$build$three_module.prototype),{constructor:BooleanKeyframeTrack$$module$node_modules$three$build$three_module,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:InterpolateDiscrete$$module$node_modules$three$build$three_module,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});
function ColorKeyframeTrack$$module$node_modules$three$build$three_module(a,b,c,d){KeyframeTrack$$module$node_modules$three$build$three_module.call(this,a,b,c,d)}ColorKeyframeTrack$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(KeyframeTrack$$module$node_modules$three$build$three_module.prototype),{constructor:ColorKeyframeTrack$$module$node_modules$three$build$three_module,ValueTypeName:"color"});
function NumberKeyframeTrack$$module$node_modules$three$build$three_module(a,b,c,d){KeyframeTrack$$module$node_modules$three$build$three_module.call(this,a,b,c,d)}NumberKeyframeTrack$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(KeyframeTrack$$module$node_modules$three$build$three_module.prototype),{constructor:NumberKeyframeTrack$$module$node_modules$three$build$three_module,ValueTypeName:"number"});
function QuaternionLinearInterpolant$$module$node_modules$three$build$three_module(a,b,c,d){Interpolant$$module$node_modules$three$build$three_module.call(this,a,b,c,d)}
QuaternionLinearInterpolant$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Interpolant$$module$node_modules$three$build$three_module.prototype),{constructor:QuaternionLinearInterpolant$$module$node_modules$three$build$three_module,interpolate_:function(a,b,c,d){const e=this.resultBuffer,g=this.sampleValues,h=this.valueSize;b=(c-b)/(d-b);a*=h;for(c=a+h;a!==c;a+=4)Quaternion$$module$node_modules$three$build$three_module.slerpFlat(e,0,g,a-h,g,a,b);return e}});
function QuaternionKeyframeTrack$$module$node_modules$three$build$three_module(a,b,c,d){KeyframeTrack$$module$node_modules$three$build$three_module.call(this,a,b,c,d)}
QuaternionKeyframeTrack$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(KeyframeTrack$$module$node_modules$three$build$three_module.prototype),{constructor:QuaternionKeyframeTrack$$module$node_modules$three$build$three_module,ValueTypeName:"quaternion",DefaultInterpolation:InterpolateLinear$$module$node_modules$three$build$three_module,InterpolantFactoryMethodLinear:function(a){return new QuaternionLinearInterpolant$$module$node_modules$three$build$three_module(this.times,
this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:void 0});function StringKeyframeTrack$$module$node_modules$three$build$three_module(a,b,c,d){KeyframeTrack$$module$node_modules$three$build$three_module.call(this,a,b,c,d)}
StringKeyframeTrack$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(KeyframeTrack$$module$node_modules$three$build$three_module.prototype),{constructor:StringKeyframeTrack$$module$node_modules$three$build$three_module,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:InterpolateDiscrete$$module$node_modules$three$build$three_module,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});
function VectorKeyframeTrack$$module$node_modules$three$build$three_module(a,b,c,d){KeyframeTrack$$module$node_modules$three$build$three_module.call(this,a,b,c,d)}VectorKeyframeTrack$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(KeyframeTrack$$module$node_modules$three$build$three_module.prototype),{constructor:VectorKeyframeTrack$$module$node_modules$three$build$three_module,ValueTypeName:"vector"});
function AnimationClip$$module$node_modules$three$build$three_module(a,b,c,d){this.name=a;this.tracks=c;this.duration=void 0!==b?b:-1;this.blendMode=void 0!==d?d:NormalAnimationBlendMode$$module$node_modules$three$build$three_module;this.uuid=MathUtils$$module$node_modules$three$build$three_module.generateUUID();0>this.duration&&this.resetDuration()}
function getTrackTypeForValueTypeName$$module$node_modules$three$build$three_module(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return NumberKeyframeTrack$$module$node_modules$three$build$three_module;case "vector":case "vector2":case "vector3":case "vector4":return VectorKeyframeTrack$$module$node_modules$three$build$three_module;case "color":return ColorKeyframeTrack$$module$node_modules$three$build$three_module;case "quaternion":return QuaternionKeyframeTrack$$module$node_modules$three$build$three_module;
case "bool":case "boolean":return BooleanKeyframeTrack$$module$node_modules$three$build$three_module;case "string":return StringKeyframeTrack$$module$node_modules$three$build$three_module}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+a);}
function parseKeyframeTrack$$module$node_modules$three$build$three_module(a){if(void 0===a.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");const b=getTrackTypeForValueTypeName$$module$node_modules$three$build$three_module(a.type);if(void 0===a.times){const c=[],d=[];AnimationUtils$$module$node_modules$three$build$three_module.flattenJSON(a.keys,c,d,"value");a.times=c;a.values=d}return void 0!==b.parse?b.parse(a):new b(a.name,a.times,a.values,a.interpolation)}
Object.assign(AnimationClip$$module$node_modules$three$build$three_module,{parse:function(a){const b=[],c=a.tracks,d=1/(a.fps||1);for(let e=0,g=c.length;e!==g;++e)b.push(parseKeyframeTrack$$module$node_modules$three$build$three_module(c[e]).scale(d));return new AnimationClip$$module$node_modules$three$build$three_module(a.name,a.duration,b,a.blendMode)},toJSON:function(a){const b=[],c=a.tracks;a={name:a.name,duration:a.duration,tracks:b,uuid:a.uuid,blendMode:a.blendMode};for(let d=0,e=c.length;d!==
e;++d)b.push(KeyframeTrack$$module$node_modules$three$build$three_module.toJSON(c[d]));return a},CreateFromMorphTargetSequence:function(a,b,c,d){const e=b.length,g=[];for(let h=0;h<e;h++){let k=[],l=[];k.push((h+e-1)%e,h,(h+1)%e);l.push(0,1,0);const m=AnimationUtils$$module$node_modules$three$build$three_module.getKeyframeOrder(k);k=AnimationUtils$$module$node_modules$three$build$three_module.sortedArray(k,1,m);l=AnimationUtils$$module$node_modules$three$build$three_module.sortedArray(l,1,m);d||0!==
k[0]||(k.push(e),l.push(l[0]));g.push((new NumberKeyframeTrack$$module$node_modules$three$build$three_module(".morphTargetInfluences["+b[h].name+"]",k,l)).scale(1/c))}return new AnimationClip$$module$node_modules$three$build$three_module(a,-1,g)},findByName:function(a,b){let c=a;Array.isArray(a)||(c=a.geometry&&a.geometry.animations||a.animations);for(a=0;a<c.length;a++)if(c[a].name===b)return c[a];return null},CreateClipsFromMorphTargetSequences:function(a,b,c){const d={},e=/^([\w-]*?)([\d]+)$/;
for(let h=0,k=a.length;h<k;h++){const l=a[h];var g=l.name.match(e);if(g&&1<g.length){g=g[1];let m=d[g];m||(d[g]=m=[]);m.push(l)}}a=[];for(const h in d)a.push(AnimationClip$$module$node_modules$three$build$three_module.CreateFromMorphTargetSequence(h,d[h],b,c));return a},parseAnimation:function(a,b){if(!a)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const c=function(n,p,t,w,x){if(0!==t.length){const A=[],r=[];AnimationUtils$$module$node_modules$three$build$three_module.flattenJSON(t,
A,r,w);0!==A.length&&x.push(new n(p,A,r))}},d=[],e=a.name||"default",g=a.fps||30,h=a.blendMode;var k=a.length||-1;a=a.hierarchy||[];for(let n=0;n<a.length;n++){const p=a[n].keys;if(p&&0!==p.length)if(p[0].morphTargets){k={};var l=void 0;for(l=0;l<p.length;l++)if(p[l].morphTargets)for(var m=0;m<p[l].morphTargets.length;m++)k[p[l].morphTargets[m]]=-1;for(const t in k){m=[];const w=[];for(let x=0;x!==p[l].morphTargets.length;++x){const A=p[l];m.push(A.time);w.push(A.morphTarget===t?1:0)}d.push(new NumberKeyframeTrack$$module$node_modules$three$build$three_module(".morphTargetInfluence["+
t+"]",m,w))}k=k.length*(g||1)}else l=".bones["+b[n].name+"]",c(VectorKeyframeTrack$$module$node_modules$three$build$three_module,l+".position",p,"pos",d),c(QuaternionKeyframeTrack$$module$node_modules$three$build$three_module,l+".quaternion",p,"rot",d),c(VectorKeyframeTrack$$module$node_modules$three$build$three_module,l+".scale",p,"scl",d)}return 0===d.length?null:new AnimationClip$$module$node_modules$three$build$three_module(e,k,d,h)}});
Object.assign(AnimationClip$$module$node_modules$three$build$three_module.prototype,{resetDuration:function(){var a=this.tracks;let b=0;for(let c=0,d=a.length;c!==d;++c)a=this.tracks[c],b=Math.max(b,a.times[a.times.length-1]);this.duration=b;return this},trim:function(){for(let a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this},validate:function(){let a=!0;for(let b=0;b<this.tracks.length;b++)a=a&&this.tracks[b].validate();return a},optimize:function(){for(let a=0;a<this.tracks.length;a++)this.tracks[a].optimize();
return this},clone:function(){const a=[];for(let b=0;b<this.tracks.length;b++)a.push(this.tracks[b].clone());return new AnimationClip$$module$node_modules$three$build$three_module(this.name,this.duration,a,this.blendMode)}});const Cache$$module$node_modules$three$build$three_module={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};
function LoadingManager$$module$node_modules$three$build$three_module(a,b,c){const d=this;let e=!1,g=0,h=0,k=void 0;const l=[];this.onStart=void 0;this.onLoad=a;this.onProgress=b;this.onError=c;this.itemStart=function(m){h++;if(!1===e&&void 0!==d.onStart)d.onStart(m,g,h);e=!0};this.itemEnd=function(m){g++;if(void 0!==d.onProgress)d.onProgress(m,g,h);if(g===h&&(e=!1,void 0!==d.onLoad))d.onLoad()};this.itemError=function(m){if(void 0!==d.onError)d.onError(m)};this.resolveURL=function(m){return k?k(m):
m};this.setURLModifier=function(m){k=m;return this};this.addHandler=function(m,n){l.push(m,n);return this};this.removeHandler=function(m){m=l.indexOf(m);-1!==m&&l.splice(m,2);return this};this.getHandler=function(m){for(let n=0,p=l.length;n<p;n+=2){const t=l[n],w=l[n+1];t.global&&(t.lastIndex=0);if(t.test(m))return w}return null}}const DefaultLoadingManager$$module$node_modules$three$build$three_module=new LoadingManager$$module$node_modules$three$build$three_module;
function Loader$$module$node_modules$three$build$three_module(a){this.manager=void 0!==a?a:DefaultLoadingManager$$module$node_modules$three$build$three_module;this.crossOrigin="anonymous";this.resourcePath=this.path="";this.requestHeader={}}
Object.assign(Loader$$module$node_modules$three$build$three_module.prototype,{load:function(){},loadAsync:function(a,b){const c=this;return new Promise(function(d,e){c.load(a,d,b,e)})},parse:function(){},setCrossOrigin:function(a){this.crossOrigin=a;return this},setPath:function(a){this.path=a;return this},setResourcePath:function(a){this.resourcePath=a;return this},setRequestHeader:function(a){this.requestHeader=a;return this}});const loading$$module$node_modules$three$build$three_module={};
function FileLoader$$module$node_modules$three$build$three_module(a){Loader$$module$node_modules$three$build$three_module.call(this,a)}
FileLoader$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Loader$$module$node_modules$three$build$three_module.prototype),{constructor:FileLoader$$module$node_modules$three$build$three_module,load:function(a,b,c,d){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);const e=this,g=Cache$$module$node_modules$three$build$three_module.get(a);if(void 0!==g)return e.manager.itemStart(a),setTimeout(function(){b&&b(g);e.manager.itemEnd(a)},
0),g;if(void 0!==loading$$module$node_modules$three$build$three_module[a])loading$$module$node_modules$three$build$three_module[a].push({onLoad:b,onProgress:c,onError:d});else{var h=a.match(/^data:(.*?)(;base64)?,(.*)$/);if(h){c=h[1];var k=!!h[2];h=h[3];h=decodeURIComponent(h);k&&(h=atob(h));try{let m;const n=(this.responseType||"").toLowerCase();switch(n){case "arraybuffer":case "blob":const p=new Uint8Array(h.length);for(k=0;k<h.length;k++)p[k]=h.charCodeAt(k);m="blob"===n?new Blob([p.buffer],{type:c}):
p.buffer;break;case "document":m=(new DOMParser).parseFromString(h,c);break;case "json":m=JSON.parse(h);break;default:m=h}setTimeout(function(){b&&b(m);e.manager.itemEnd(a)},0)}catch(m){setTimeout(function(){d&&d(m);e.manager.itemError(a);e.manager.itemEnd(a)},0)}}else{loading$$module$node_modules$three$build$three_module[a]=[];loading$$module$node_modules$three$build$three_module[a].push({onLoad:b,onProgress:c,onError:d});var l=new XMLHttpRequest;l.open("GET",a,!0);l.addEventListener("load",function(m){var n=
this.response;const p=loading$$module$node_modules$three$build$three_module[a];delete loading$$module$node_modules$three$build$three_module[a];if(200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");Cache$$module$node_modules$three$build$three_module.add(a,n);for(let t=0,w=p.length;t<w;t++)if(m=p[t],m.onLoad)m.onLoad(n)}else{for(let t=0,w=p.length;t<w;t++)if(n=p[t],n.onError)n.onError(m);e.manager.itemError(a)}e.manager.itemEnd(a)},!1);l.addEventListener("progress",
function(m){const n=loading$$module$node_modules$three$build$three_module[a];for(let p=0,t=n.length;p<t;p++){const w=n[p];if(w.onProgress)w.onProgress(m)}},!1);l.addEventListener("error",function(m){const n=loading$$module$node_modules$three$build$three_module[a];delete loading$$module$node_modules$three$build$three_module[a];for(let p=0,t=n.length;p<t;p++){const w=n[p];if(w.onError)w.onError(m)}e.manager.itemError(a);e.manager.itemEnd(a)},!1);l.addEventListener("abort",function(m){const n=loading$$module$node_modules$three$build$three_module[a];
delete loading$$module$node_modules$three$build$three_module[a];for(let p=0,t=n.length;p<t;p++){const w=n[p];if(w.onError)w.onError(m)}e.manager.itemError(a);e.manager.itemEnd(a)},!1);void 0!==this.responseType&&(l.responseType=this.responseType);void 0!==this.withCredentials&&(l.withCredentials=this.withCredentials);l.overrideMimeType&&l.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(k in this.requestHeader)l.setRequestHeader(k,this.requestHeader[k]);l.send(null)}e.manager.itemStart(a);
return l}},setResponseType:function(a){this.responseType=a;return this},setWithCredentials:function(a){this.withCredentials=a;return this},setMimeType:function(a){this.mimeType=a;return this}});function AnimationLoader$$module$node_modules$three$build$three_module(a){Loader$$module$node_modules$three$build$three_module.call(this,a)}
AnimationLoader$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Loader$$module$node_modules$three$build$three_module.prototype),{constructor:AnimationLoader$$module$node_modules$three$build$three_module,load:function(a,b,c,d){const e=this,g=new FileLoader$$module$node_modules$three$build$three_module(e.manager);g.setPath(e.path);g.setRequestHeader(e.requestHeader);g.load(a,function(h){try{b(e.parse(JSON.parse(h)))}catch(k){d?d(k):console.error(k),e.manager.itemError(a)}},
c,d)},parse:function(a){const b=[];for(let c=0;c<a.length;c++){const d=AnimationClip$$module$node_modules$three$build$three_module.parse(a[c]);b.push(d)}return b}});function CompressedTextureLoader$$module$node_modules$three$build$three_module(a){Loader$$module$node_modules$three$build$three_module.call(this,a)}
CompressedTextureLoader$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Loader$$module$node_modules$three$build$three_module.prototype),{constructor:CompressedTextureLoader$$module$node_modules$three$build$three_module,load:function(a,b,c,d){function e(n){l.load(a[n],function(p){p=g.parse(p,!0);h[n]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps};m+=1;6===m&&(1===p.mipmapCount&&(k.minFilter=LinearFilter$$module$node_modules$three$build$three_module),
k.format=p.format,k.needsUpdate=!0,b&&b(k))},c,d)}const g=this,h=[],k=new CompressedTexture$$module$node_modules$three$build$three_module;k.image=h;const l=new FileLoader$$module$node_modules$three$build$three_module(this.manager);l.setPath(this.path);l.setResponseType("arraybuffer");l.setRequestHeader(this.requestHeader);let m=0;if(Array.isArray(a))for(let n=0,p=a.length;n<p;++n)e(n);else l.load(a,function(n){n=g.parse(n,!0);if(n.isCubemap){const p=n.mipmaps.length/n.mipmapCount;for(let t=0;t<p;t++){h[t]=
{mipmaps:[]};for(let w=0;w<n.mipmapCount;w++)h[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+w]),h[t].format=n.format,h[t].width=n.width,h[t].height=n.height}}else k.image.width=n.width,k.image.height=n.height,k.mipmaps=n.mipmaps;1===n.mipmapCount&&(k.minFilter=LinearFilter$$module$node_modules$three$build$three_module);k.format=n.format;k.needsUpdate=!0;b&&b(k)},c,d);return k}});
function ImageLoader$$module$node_modules$three$build$three_module(a){Loader$$module$node_modules$three$build$three_module.call(this,a)}
ImageLoader$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Loader$$module$node_modules$three$build$three_module.prototype),{constructor:ImageLoader$$module$node_modules$three$build$three_module,load:function(a,b,c,d){function e(){l.removeEventListener("load",e,!1);l.removeEventListener("error",g,!1);Cache$$module$node_modules$three$build$three_module.add(a,this);b&&b(this);h.manager.itemEnd(a)}function g(m){l.removeEventListener("load",e,!1);l.removeEventListener("error",
g,!1);d&&d(m);h.manager.itemError(a);h.manager.itemEnd(a)}void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);const h=this,k=Cache$$module$node_modules$three$build$three_module.get(a);if(void 0!==k)return h.manager.itemStart(a),setTimeout(function(){b&&b(k);h.manager.itemEnd(a)},0),k;const l=document.createElementNS("http://www.w3.org/1999/xhtml","img");l.addEventListener("load",e,!1);l.addEventListener("error",g,!1);"data:"!==a.substr(0,5)&&void 0!==this.crossOrigin&&(l.crossOrigin=
this.crossOrigin);h.manager.itemStart(a);l.src=a;return l}});function CubeTextureLoader$$module$node_modules$three$build$three_module(a){Loader$$module$node_modules$three$build$three_module.call(this,a)}
CubeTextureLoader$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Loader$$module$node_modules$three$build$three_module.prototype),{constructor:CubeTextureLoader$$module$node_modules$three$build$three_module,load:function(a,b,c,d){function e(l){h.load(a[l],function(m){g.images[l]=m;k++;6===k&&(g.needsUpdate=!0,b&&b(g))},void 0,d)}const g=new CubeTexture$$module$node_modules$three$build$three_module,h=new ImageLoader$$module$node_modules$three$build$three_module(this.manager);
h.setCrossOrigin(this.crossOrigin);h.setPath(this.path);let k=0;for(c=0;c<a.length;++c)e(c);return g}});function DataTextureLoader$$module$node_modules$three$build$three_module(a){Loader$$module$node_modules$three$build$three_module.call(this,a)}
DataTextureLoader$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Loader$$module$node_modules$three$build$three_module.prototype),{constructor:DataTextureLoader$$module$node_modules$three$build$three_module,load:function(a,b,c,d){const e=this,g=new DataTexture$$module$node_modules$three$build$three_module,h=new FileLoader$$module$node_modules$three$build$three_module(this.manager);h.setResponseType("arraybuffer");h.setRequestHeader(this.requestHeader);h.setPath(this.path);
h.load(a,function(k){if(k=e.parse(k))void 0!==k.image?g.image=k.image:void 0!==k.data&&(g.image.width=k.width,g.image.height=k.height,g.image.data=k.data),g.wrapS=void 0!==k.wrapS?k.wrapS:ClampToEdgeWrapping$$module$node_modules$three$build$three_module,g.wrapT=void 0!==k.wrapT?k.wrapT:ClampToEdgeWrapping$$module$node_modules$three$build$three_module,g.magFilter=void 0!==k.magFilter?k.magFilter:LinearFilter$$module$node_modules$three$build$three_module,g.minFilter=void 0!==k.minFilter?k.minFilter:
LinearFilter$$module$node_modules$three$build$three_module,g.anisotropy=void 0!==k.anisotropy?k.anisotropy:1,void 0!==k.format&&(g.format=k.format),void 0!==k.type&&(g.type=k.type),void 0!==k.mipmaps&&(g.mipmaps=k.mipmaps,g.minFilter=LinearMipmapLinearFilter$$module$node_modules$three$build$three_module),1===k.mipmapCount&&(g.minFilter=LinearFilter$$module$node_modules$three$build$three_module),g.needsUpdate=!0,b&&b(g,k)},c,d);return g}});
function TextureLoader$$module$node_modules$three$build$three_module(a){Loader$$module$node_modules$three$build$three_module.call(this,a)}
TextureLoader$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Loader$$module$node_modules$three$build$three_module.prototype),{constructor:TextureLoader$$module$node_modules$three$build$three_module,load:function(a,b,c,d){const e=new Texture$$module$node_modules$three$build$three_module,g=new ImageLoader$$module$node_modules$three$build$three_module(this.manager);g.setCrossOrigin(this.crossOrigin);g.setPath(this.path);g.load(a,function(h){e.image=h;h=0<a.search(/\.jpe?g($|\?)/i)||
0===a.search(/^data:image\/jpeg/);e.format=h?RGBFormat$$module$node_modules$three$build$three_module:RGBAFormat$$module$node_modules$three$build$three_module;e.needsUpdate=!0;void 0!==b&&b(e)},c,d);return e}});function Curve$$module$node_modules$three$build$three_module(){this.type="Curve";this.arcLengthDivisions=200}
Object.assign(Curve$$module$node_modules$three$build$three_module.prototype,{getPoint:function(){console.warn("THREE.Curve: .getPoint() not implemented.");return null},getPointAt:function(a,b){a=this.getUtoTmapping(a);return this.getPoint(a,b)},getPoints:function(a){void 0===a&&(a=5);const b=[];for(let c=0;c<=a;c++)b.push(this.getPoint(c/a));return b},getSpacedPoints:function(a){void 0===a&&(a=5);const b=[];for(let c=0;c<=a;c++)b.push(this.getPointAt(c/a));return b},getLength:function(){const a=this.getLengths();
return a[a.length-1]},getLengths:function(a){void 0===a&&(a=this.arcLengthDivisions);if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const b=[];let c,d=this.getPoint(0),e=0;b.push(0);for(let g=1;g<=a;g++)c=this.getPoint(g/a),e+=c.distanceTo(d),b.push(e),d=c;return this.cacheArcLengths=b},updateArcLengths:function(){this.needsUpdate=!0;this.getLengths()},getUtoTmapping:function(a,b){const c=this.getLengths(),d=c.length;b=
b?b:a*c[d-1];var e=0;let g=d-1,h;for(;e<=g;)if(a=Math.floor(e+(g-e)/2),h=c[a]-b,0>h)e=a+1;else if(0<h)g=a-1;else{g=a;break}a=g;if(c[a]===b)return a/(d-1);e=c[a];return(a+(b-e)/(c[a+1]-e))/(d-1)},getTangent:function(a,b){var c=a-1E-4;a+=1E-4;0>c&&(c=0);1<a&&(a=1);c=this.getPoint(c);a=this.getPoint(a);b=b||(c.isVector2?new Vector2$$module$node_modules$three$build$three_module:new Vector3$$module$node_modules$three$build$three_module);b.copy(a).sub(c).normalize();return b},getTangentAt:function(a,b){a=
this.getUtoTmapping(a);return this.getTangent(a,b)},computeFrenetFrames:function(a,b){var c=new Vector3$$module$node_modules$three$build$three_module;const d=[],e=[],g=[];var h=new Vector3$$module$node_modules$three$build$three_module;const k=new Matrix4$$module$node_modules$three$build$three_module;for(var l=0;l<=a;l++)d[l]=this.getTangentAt(l/a,new Vector3$$module$node_modules$three$build$three_module),d[l].normalize();e[0]=new Vector3$$module$node_modules$three$build$three_module;g[0]=new Vector3$$module$node_modules$three$build$three_module;
l=Number.MAX_VALUE;const m=Math.abs(d[0].x),n=Math.abs(d[0].y),p=Math.abs(d[0].z);m<=l&&(l=m,c.set(1,0,0));n<=l&&(l=n,c.set(0,1,0));p<=l&&c.set(0,0,1);h.crossVectors(d[0],c).normalize();e[0].crossVectors(d[0],h);g[0].crossVectors(d[0],e[0]);for(c=1;c<=a;c++)e[c]=e[c-1].clone(),g[c]=g[c-1].clone(),h.crossVectors(d[c-1],d[c]),h.length()>Number.EPSILON&&(h.normalize(),l=Math.acos(MathUtils$$module$node_modules$three$build$three_module.clamp(d[c-1].dot(d[c]),-1,1)),e[c].applyMatrix4(k.makeRotationAxis(h,
l))),g[c].crossVectors(d[c],e[c]);if(!0===b)for(b=Math.acos(MathUtils$$module$node_modules$three$build$three_module.clamp(e[0].dot(e[a]),-1,1)),b/=a,0<d[0].dot(h.crossVectors(e[0],e[a]))&&(b=-b),h=1;h<=a;h++)e[h].applyMatrix4(k.makeRotationAxis(d[h],b*h)),g[h].crossVectors(d[h],e[h]);return{tangents:d,normals:e,binormals:g}},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.arcLengthDivisions=a.arcLengthDivisions;return this},toJSON:function(){const a={metadata:{version:4.5,
type:"Curve",generator:"Curve.toJSON"}};a.arcLengthDivisions=this.arcLengthDivisions;a.type=this.type;return a},fromJSON:function(a){this.arcLengthDivisions=a.arcLengthDivisions;return this}});
function EllipseCurve$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h,k){Curve$$module$node_modules$three$build$three_module.call(this);this.type="EllipseCurve";this.aX=a||0;this.aY=b||0;this.xRadius=c||1;this.yRadius=d||1;this.aStartAngle=e||0;this.aEndAngle=g||2*Math.PI;this.aClockwise=h||!1;this.aRotation=k||0}EllipseCurve$$module$node_modules$three$build$three_module.prototype=Object.create(Curve$$module$node_modules$three$build$three_module.prototype);
EllipseCurve$$module$node_modules$three$build$three_module.prototype.constructor=EllipseCurve$$module$node_modules$three$build$three_module;EllipseCurve$$module$node_modules$three$build$three_module.prototype.isEllipseCurve=!0;
EllipseCurve$$module$node_modules$three$build$three_module.prototype.getPoint=function(a,b){b=b||new Vector2$$module$node_modules$three$build$three_module;for(var c=2*Math.PI,d=this.aEndAngle-this.aStartAngle,e=Math.abs(d)<Number.EPSILON;0>d;)d+=c;for(;d>c;)d-=c;d<Number.EPSILON&&(d=e?0:c);!0!==this.aClockwise||e||(d=d===c?-c:d-c);c=this.aStartAngle+a*d;a=this.aX+this.xRadius*Math.cos(c);var g=this.aY+this.yRadius*Math.sin(c);0!==this.aRotation&&(c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),
e=a-this.aX,g-=this.aY,a=e*c-g*d+this.aX,g=e*d+g*c+this.aY);return b.set(a,g)};EllipseCurve$$module$node_modules$three$build$three_module.prototype.copy=function(a){Curve$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this};
EllipseCurve$$module$node_modules$three$build$three_module.prototype.toJSON=function(){const a=Curve$$module$node_modules$three$build$three_module.prototype.toJSON.call(this);a.aX=this.aX;a.aY=this.aY;a.xRadius=this.xRadius;a.yRadius=this.yRadius;a.aStartAngle=this.aStartAngle;a.aEndAngle=this.aEndAngle;a.aClockwise=this.aClockwise;a.aRotation=this.aRotation;return a};
EllipseCurve$$module$node_modules$three$build$three_module.prototype.fromJSON=function(a){Curve$$module$node_modules$three$build$three_module.prototype.fromJSON.call(this,a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this};
function ArcCurve$$module$node_modules$three$build$three_module(a,b,c,d,e,g){EllipseCurve$$module$node_modules$three$build$three_module.call(this,a,b,c,c,d,e,g);this.type="ArcCurve"}ArcCurve$$module$node_modules$three$build$three_module.prototype=Object.create(EllipseCurve$$module$node_modules$three$build$three_module.prototype);ArcCurve$$module$node_modules$three$build$three_module.prototype.constructor=ArcCurve$$module$node_modules$three$build$three_module;
ArcCurve$$module$node_modules$three$build$three_module.prototype.isArcCurve=!0;function CubicPoly$$module$node_modules$three$build$three_module(){let a=0,b=0,c=0,d=0;return{initCatmullRom:function(e,g,h,k,l){e=l*(h-e);k=l*(k-g);a=g;b=e;c=-3*g+3*h-2*e-k;d=2*g-2*h+e+k},initNonuniformCatmullRom:function(e,g,h,k,l,m,n){e=((g-e)/l-(h-e)/(l+m)+(h-g)/m)*m;k=((h-g)/m-(k-g)/(m+n)+(k-h)/n)*m;a=g;b=e;c=-3*g+3*h-2*e-k;d=2*g-2*h+e+k},calc:function(e){const g=e*e;return a+b*e+c*g+d*g*e}}}
const tmp$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,px$$module$node_modules$three$build$three_module=new CubicPoly$$module$node_modules$three$build$three_module,py$$module$node_modules$three$build$three_module=new CubicPoly$$module$node_modules$three$build$three_module,pz$$module$node_modules$three$build$three_module=new CubicPoly$$module$node_modules$three$build$three_module;
function CatmullRomCurve3$$module$node_modules$three$build$three_module(a,b,c,d){Curve$$module$node_modules$three$build$three_module.call(this);this.type="CatmullRomCurve3";this.points=a||[];this.closed=b||!1;this.curveType=c||"centripetal";this.tension=void 0!==d?d:.5}CatmullRomCurve3$$module$node_modules$three$build$three_module.prototype=Object.create(Curve$$module$node_modules$three$build$three_module.prototype);
CatmullRomCurve3$$module$node_modules$three$build$three_module.prototype.constructor=CatmullRomCurve3$$module$node_modules$three$build$three_module;CatmullRomCurve3$$module$node_modules$three$build$three_module.prototype.isCatmullRomCurve3=!0;
CatmullRomCurve3$$module$node_modules$three$build$three_module.prototype.getPoint=function(a,b){b=b||new Vector3$$module$node_modules$three$build$three_module;var c=this.points,d=c.length;a*=d-(this.closed?0:1);var e=Math.floor(a);a-=e;this.closed?e+=0<e?0:(Math.floor(Math.abs(e)/d)+1)*d:0===a&&e===d-1&&(e=d-2,a=1);let g;this.closed||0<e?g=c[(e-1)%d]:(tmp$$module$node_modules$three$build$three_module.subVectors(c[0],c[1]).add(c[0]),g=tmp$$module$node_modules$three$build$three_module);const h=c[e%
d],k=c[(e+1)%d];this.closed||e+2<d?c=c[(e+2)%d]:(tmp$$module$node_modules$three$build$three_module.subVectors(c[d-1],c[d-2]).add(c[d-1]),c=tmp$$module$node_modules$three$build$three_module);if("centripetal"===this.curveType||"chordal"===this.curveType){var l="chordal"===this.curveType?.5:.25;d=Math.pow(g.distanceToSquared(h),l);e=Math.pow(h.distanceToSquared(k),l);l=Math.pow(k.distanceToSquared(c),l);1E-4>e&&(e=1);1E-4>d&&(d=e);1E-4>l&&(l=e);px$$module$node_modules$three$build$three_module.initNonuniformCatmullRom(g.x,
h.x,k.x,c.x,d,e,l);py$$module$node_modules$three$build$three_module.initNonuniformCatmullRom(g.y,h.y,k.y,c.y,d,e,l);pz$$module$node_modules$three$build$three_module.initNonuniformCatmullRom(g.z,h.z,k.z,c.z,d,e,l)}else"catmullrom"===this.curveType&&(px$$module$node_modules$three$build$three_module.initCatmullRom(g.x,h.x,k.x,c.x,this.tension),py$$module$node_modules$three$build$three_module.initCatmullRom(g.y,h.y,k.y,c.y,this.tension),pz$$module$node_modules$three$build$three_module.initCatmullRom(g.z,
h.z,k.z,c.z,this.tension));b.set(px$$module$node_modules$three$build$three_module.calc(a),py$$module$node_modules$three$build$three_module.calc(a),pz$$module$node_modules$three$build$three_module.calc(a));return b};
CatmullRomCurve3$$module$node_modules$three$build$three_module.prototype.copy=function(a){Curve$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.points=[];for(let b=0,c=a.points.length;b<c;b++)this.points.push(a.points[b].clone());this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this};
CatmullRomCurve3$$module$node_modules$three$build$three_module.prototype.toJSON=function(){const a=Curve$$module$node_modules$three$build$three_module.prototype.toJSON.call(this);a.points=[];for(let b=0,c=this.points.length;b<c;b++)a.points.push(this.points[b].toArray());a.closed=this.closed;a.curveType=this.curveType;a.tension=this.tension;return a};
CatmullRomCurve3$$module$node_modules$three$build$three_module.prototype.fromJSON=function(a){Curve$$module$node_modules$three$build$three_module.prototype.fromJSON.call(this,a);this.points=[];for(let b=0,c=a.points.length;b<c;b++){const d=a.points[b];this.points.push((new Vector3$$module$node_modules$three$build$three_module).fromArray(d))}this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this};
function CatmullRom$$module$node_modules$three$build$three_module(a,b,c,d,e){b=.5*(d-b);e=.5*(e-c);const g=a*a;return(2*c-2*d+b+e)*a*g+(-3*c+3*d-2*b-e)*g+b*a+c}function QuadraticBezierP0$$module$node_modules$three$build$three_module(a,b){a=1-a;return a*a*b}function QuadraticBezierP1$$module$node_modules$three$build$three_module(a,b){return 2*(1-a)*a*b}function QuadraticBezierP2$$module$node_modules$three$build$three_module(a,b){return a*a*b}
function QuadraticBezier$$module$node_modules$three$build$three_module(a,b,c,d){return QuadraticBezierP0$$module$node_modules$three$build$three_module(a,b)+QuadraticBezierP1$$module$node_modules$three$build$three_module(a,c)+QuadraticBezierP2$$module$node_modules$three$build$three_module(a,d)}function CubicBezierP0$$module$node_modules$three$build$three_module(a,b){a=1-a;return a*a*a*b}function CubicBezierP1$$module$node_modules$three$build$three_module(a,b){const c=1-a;return 3*c*c*a*b}
function CubicBezierP2$$module$node_modules$three$build$three_module(a,b){return 3*(1-a)*a*a*b}function CubicBezierP3$$module$node_modules$three$build$three_module(a,b){return a*a*a*b}
function CubicBezier$$module$node_modules$three$build$three_module(a,b,c,d,e){return CubicBezierP0$$module$node_modules$three$build$three_module(a,b)+CubicBezierP1$$module$node_modules$three$build$three_module(a,c)+CubicBezierP2$$module$node_modules$three$build$three_module(a,d)+CubicBezierP3$$module$node_modules$three$build$three_module(a,e)}
function CubicBezierCurve$$module$node_modules$three$build$three_module(a,b,c,d){Curve$$module$node_modules$three$build$three_module.call(this);this.type="CubicBezierCurve";this.v0=a||new Vector2$$module$node_modules$three$build$three_module;this.v1=b||new Vector2$$module$node_modules$three$build$three_module;this.v2=c||new Vector2$$module$node_modules$three$build$three_module;this.v3=d||new Vector2$$module$node_modules$three$build$three_module}
CubicBezierCurve$$module$node_modules$three$build$three_module.prototype=Object.create(Curve$$module$node_modules$three$build$three_module.prototype);CubicBezierCurve$$module$node_modules$three$build$three_module.prototype.constructor=CubicBezierCurve$$module$node_modules$three$build$three_module;CubicBezierCurve$$module$node_modules$three$build$three_module.prototype.isCubicBezierCurve=!0;
CubicBezierCurve$$module$node_modules$three$build$three_module.prototype.getPoint=function(a,b){b=b||new Vector2$$module$node_modules$three$build$three_module;const c=this.v0,d=this.v1,e=this.v2,g=this.v3;b.set(CubicBezier$$module$node_modules$three$build$three_module(a,c.x,d.x,e.x,g.x),CubicBezier$$module$node_modules$three$build$three_module(a,c.y,d.y,e.y,g.y));return b};
CubicBezierCurve$$module$node_modules$three$build$three_module.prototype.copy=function(a){Curve$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this};
CubicBezierCurve$$module$node_modules$three$build$three_module.prototype.toJSON=function(){const a=Curve$$module$node_modules$three$build$three_module.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a};
CubicBezierCurve$$module$node_modules$three$build$three_module.prototype.fromJSON=function(a){Curve$$module$node_modules$three$build$three_module.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this};
function CubicBezierCurve3$$module$node_modules$three$build$three_module(a,b,c,d){Curve$$module$node_modules$three$build$three_module.call(this);this.type="CubicBezierCurve3";this.v0=a||new Vector3$$module$node_modules$three$build$three_module;this.v1=b||new Vector3$$module$node_modules$three$build$three_module;this.v2=c||new Vector3$$module$node_modules$three$build$three_module;this.v3=d||new Vector3$$module$node_modules$three$build$three_module}
CubicBezierCurve3$$module$node_modules$three$build$three_module.prototype=Object.create(Curve$$module$node_modules$three$build$three_module.prototype);CubicBezierCurve3$$module$node_modules$three$build$three_module.prototype.constructor=CubicBezierCurve3$$module$node_modules$three$build$three_module;CubicBezierCurve3$$module$node_modules$three$build$three_module.prototype.isCubicBezierCurve3=!0;
CubicBezierCurve3$$module$node_modules$three$build$three_module.prototype.getPoint=function(a,b){b=b||new Vector3$$module$node_modules$three$build$three_module;const c=this.v0,d=this.v1,e=this.v2,g=this.v3;b.set(CubicBezier$$module$node_modules$three$build$three_module(a,c.x,d.x,e.x,g.x),CubicBezier$$module$node_modules$three$build$three_module(a,c.y,d.y,e.y,g.y),CubicBezier$$module$node_modules$three$build$three_module(a,c.z,d.z,e.z,g.z));return b};
CubicBezierCurve3$$module$node_modules$three$build$three_module.prototype.copy=function(a){Curve$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this};
CubicBezierCurve3$$module$node_modules$three$build$three_module.prototype.toJSON=function(){const a=Curve$$module$node_modules$three$build$three_module.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a};
CubicBezierCurve3$$module$node_modules$three$build$three_module.prototype.fromJSON=function(a){Curve$$module$node_modules$three$build$three_module.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this};
function LineCurve$$module$node_modules$three$build$three_module(a,b){Curve$$module$node_modules$three$build$three_module.call(this);this.type="LineCurve";this.v1=a||new Vector2$$module$node_modules$three$build$three_module;this.v2=b||new Vector2$$module$node_modules$three$build$three_module}LineCurve$$module$node_modules$three$build$three_module.prototype=Object.create(Curve$$module$node_modules$three$build$three_module.prototype);
LineCurve$$module$node_modules$three$build$three_module.prototype.constructor=LineCurve$$module$node_modules$three$build$three_module;LineCurve$$module$node_modules$three$build$three_module.prototype.isLineCurve=!0;LineCurve$$module$node_modules$three$build$three_module.prototype.getPoint=function(a,b){b=b||new Vector2$$module$node_modules$three$build$three_module;1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b};
LineCurve$$module$node_modules$three$build$three_module.prototype.getPointAt=function(a,b){return this.getPoint(a,b)};LineCurve$$module$node_modules$three$build$three_module.prototype.getTangent=function(a,b){a=b||new Vector2$$module$node_modules$three$build$three_module;a.copy(this.v2).sub(this.v1).normalize();return a};
LineCurve$$module$node_modules$three$build$three_module.prototype.copy=function(a){Curve$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};LineCurve$$module$node_modules$three$build$three_module.prototype.toJSON=function(){const a=Curve$$module$node_modules$three$build$three_module.prototype.toJSON.call(this);a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};
LineCurve$$module$node_modules$three$build$three_module.prototype.fromJSON=function(a){Curve$$module$node_modules$three$build$three_module.prototype.fromJSON.call(this,a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};
function LineCurve3$$module$node_modules$three$build$three_module(a,b){Curve$$module$node_modules$three$build$three_module.call(this);this.type="LineCurve3";this.v1=a||new Vector3$$module$node_modules$three$build$three_module;this.v2=b||new Vector3$$module$node_modules$three$build$three_module}LineCurve3$$module$node_modules$three$build$three_module.prototype=Object.create(Curve$$module$node_modules$three$build$three_module.prototype);
LineCurve3$$module$node_modules$three$build$three_module.prototype.constructor=LineCurve3$$module$node_modules$three$build$three_module;LineCurve3$$module$node_modules$three$build$three_module.prototype.isLineCurve3=!0;LineCurve3$$module$node_modules$three$build$three_module.prototype.getPoint=function(a,b){b=b||new Vector3$$module$node_modules$three$build$three_module;1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b};
LineCurve3$$module$node_modules$three$build$three_module.prototype.getPointAt=function(a,b){return this.getPoint(a,b)};LineCurve3$$module$node_modules$three$build$three_module.prototype.copy=function(a){Curve$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};
LineCurve3$$module$node_modules$three$build$three_module.prototype.toJSON=function(){const a=Curve$$module$node_modules$three$build$three_module.prototype.toJSON.call(this);a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};LineCurve3$$module$node_modules$three$build$three_module.prototype.fromJSON=function(a){Curve$$module$node_modules$three$build$three_module.prototype.fromJSON.call(this,a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};
function QuadraticBezierCurve$$module$node_modules$three$build$three_module(a,b,c){Curve$$module$node_modules$three$build$three_module.call(this);this.type="QuadraticBezierCurve";this.v0=a||new Vector2$$module$node_modules$three$build$three_module;this.v1=b||new Vector2$$module$node_modules$three$build$three_module;this.v2=c||new Vector2$$module$node_modules$three$build$three_module}QuadraticBezierCurve$$module$node_modules$three$build$three_module.prototype=Object.create(Curve$$module$node_modules$three$build$three_module.prototype);
QuadraticBezierCurve$$module$node_modules$three$build$three_module.prototype.constructor=QuadraticBezierCurve$$module$node_modules$three$build$three_module;QuadraticBezierCurve$$module$node_modules$three$build$three_module.prototype.isQuadraticBezierCurve=!0;
QuadraticBezierCurve$$module$node_modules$three$build$three_module.prototype.getPoint=function(a,b){b=b||new Vector2$$module$node_modules$three$build$three_module;const c=this.v0,d=this.v1,e=this.v2;b.set(QuadraticBezier$$module$node_modules$three$build$three_module(a,c.x,d.x,e.x),QuadraticBezier$$module$node_modules$three$build$three_module(a,c.y,d.y,e.y));return b};
QuadraticBezierCurve$$module$node_modules$three$build$three_module.prototype.copy=function(a){Curve$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};QuadraticBezierCurve$$module$node_modules$three$build$three_module.prototype.toJSON=function(){const a=Curve$$module$node_modules$three$build$three_module.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};
QuadraticBezierCurve$$module$node_modules$three$build$three_module.prototype.fromJSON=function(a){Curve$$module$node_modules$three$build$three_module.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};
function QuadraticBezierCurve3$$module$node_modules$three$build$three_module(a,b,c){Curve$$module$node_modules$three$build$three_module.call(this);this.type="QuadraticBezierCurve3";this.v0=a||new Vector3$$module$node_modules$three$build$three_module;this.v1=b||new Vector3$$module$node_modules$three$build$three_module;this.v2=c||new Vector3$$module$node_modules$three$build$three_module}QuadraticBezierCurve3$$module$node_modules$three$build$three_module.prototype=Object.create(Curve$$module$node_modules$three$build$three_module.prototype);
QuadraticBezierCurve3$$module$node_modules$three$build$three_module.prototype.constructor=QuadraticBezierCurve3$$module$node_modules$three$build$three_module;QuadraticBezierCurve3$$module$node_modules$three$build$three_module.prototype.isQuadraticBezierCurve3=!0;
QuadraticBezierCurve3$$module$node_modules$three$build$three_module.prototype.getPoint=function(a,b){b=b||new Vector3$$module$node_modules$three$build$three_module;const c=this.v0,d=this.v1,e=this.v2;b.set(QuadraticBezier$$module$node_modules$three$build$three_module(a,c.x,d.x,e.x),QuadraticBezier$$module$node_modules$three$build$three_module(a,c.y,d.y,e.y),QuadraticBezier$$module$node_modules$three$build$three_module(a,c.z,d.z,e.z));return b};
QuadraticBezierCurve3$$module$node_modules$three$build$three_module.prototype.copy=function(a){Curve$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};QuadraticBezierCurve3$$module$node_modules$three$build$three_module.prototype.toJSON=function(){const a=Curve$$module$node_modules$three$build$three_module.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};
QuadraticBezierCurve3$$module$node_modules$three$build$three_module.prototype.fromJSON=function(a){Curve$$module$node_modules$three$build$three_module.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};function SplineCurve$$module$node_modules$three$build$three_module(a){Curve$$module$node_modules$three$build$three_module.call(this);this.type="SplineCurve";this.points=a||[]}
SplineCurve$$module$node_modules$three$build$three_module.prototype=Object.create(Curve$$module$node_modules$three$build$three_module.prototype);SplineCurve$$module$node_modules$three$build$three_module.prototype.constructor=SplineCurve$$module$node_modules$three$build$three_module;SplineCurve$$module$node_modules$three$build$three_module.prototype.isSplineCurve=!0;
SplineCurve$$module$node_modules$three$build$three_module.prototype.getPoint=function(a,b){b=b||new Vector2$$module$node_modules$three$build$three_module;var c=this.points,d=(c.length-1)*a;a=Math.floor(d);d-=a;const e=c[0===a?a:a-1],g=c[a],h=c[a>c.length-2?c.length-1:a+1];c=c[a>c.length-3?c.length-1:a+2];b.set(CatmullRom$$module$node_modules$three$build$three_module(d,e.x,g.x,h.x,c.x),CatmullRom$$module$node_modules$three$build$three_module(d,e.y,g.y,h.y,c.y));return b};
SplineCurve$$module$node_modules$three$build$three_module.prototype.copy=function(a){Curve$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.points=[];for(let b=0,c=a.points.length;b<c;b++)this.points.push(a.points[b].clone());return this};
SplineCurve$$module$node_modules$three$build$three_module.prototype.toJSON=function(){const a=Curve$$module$node_modules$three$build$three_module.prototype.toJSON.call(this);a.points=[];for(let b=0,c=this.points.length;b<c;b++)a.points.push(this.points[b].toArray());return a};
SplineCurve$$module$node_modules$three$build$three_module.prototype.fromJSON=function(a){Curve$$module$node_modules$three$build$three_module.prototype.fromJSON.call(this,a);this.points=[];for(let b=0,c=a.points.length;b<c;b++){const d=a.points[b];this.points.push((new Vector2$$module$node_modules$three$build$three_module).fromArray(d))}return this};
var Curves$$module$node_modules$three$build$three_module=Object.freeze({__proto__:null,ArcCurve:ArcCurve$$module$node_modules$three$build$three_module,CatmullRomCurve3:CatmullRomCurve3$$module$node_modules$three$build$three_module,CubicBezierCurve:CubicBezierCurve$$module$node_modules$three$build$three_module,CubicBezierCurve3:CubicBezierCurve3$$module$node_modules$three$build$three_module,EllipseCurve:EllipseCurve$$module$node_modules$three$build$three_module,LineCurve:LineCurve$$module$node_modules$three$build$three_module,
LineCurve3:LineCurve3$$module$node_modules$three$build$three_module,QuadraticBezierCurve:QuadraticBezierCurve$$module$node_modules$three$build$three_module,QuadraticBezierCurve3:QuadraticBezierCurve3$$module$node_modules$three$build$three_module,SplineCurve:SplineCurve$$module$node_modules$three$build$three_module});
function CurvePath$$module$node_modules$three$build$three_module(){Curve$$module$node_modules$three$build$three_module.call(this);this.type="CurvePath";this.curves=[];this.autoClose=!1}
CurvePath$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Curve$$module$node_modules$three$build$three_module.prototype),{constructor:CurvePath$$module$node_modules$three$build$three_module,add:function(a){this.curves.push(a)},closePath:function(){const a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new LineCurve$$module$node_modules$three$build$three_module(b,a))},getPoint:function(a){var b=a*this.getLength(),
c=this.getCurveLengths();for(a=0;a<c.length;){if(c[a]>=b)return b=c[a]-b,a=this.curves[a],c=a.getLength(),a.getPointAt(0===c?0:1-b/c);a++}return null},getLength:function(){const a=this.getCurveLengths();return a[a.length-1]},updateArcLengths:function(){this.needsUpdate=!0;this.cacheLengths=null;this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const a=[];let b=0;for(let c=0,d=this.curves.length;c<d;c++)b+=
this.curves[c].getLength(),a.push(b);return this.cacheLengths=a},getSpacedPoints:function(a){void 0===a&&(a=40);const b=[];for(let c=0;c<=a;c++)b.push(this.getPoint(c/a));this.autoClose&&b.push(b[0]);return b},getPoints:function(a){a=a||12;const b=[];let c;for(let e=0,g=this.curves;e<g.length;e++){var d=g[e];d=d.getPoints(d&&d.isEllipseCurve?2*a:d&&(d.isLineCurve||d.isLineCurve3)?1:d&&d.isSplineCurve?a*d.points.length:a);for(let h=0;h<d.length;h++){const k=d[h];c&&c.equals(k)||(b.push(k),c=k)}}this.autoClose&&
1<b.length&&!b[b.length-1].equals(b[0])&&b.push(b[0]);return b},copy:function(a){Curve$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.curves=[];for(let b=0,c=a.curves.length;b<c;b++)this.curves.push(a.curves[b].clone());this.autoClose=a.autoClose;return this},toJSON:function(){const a=Curve$$module$node_modules$three$build$three_module.prototype.toJSON.call(this);a.autoClose=this.autoClose;a.curves=[];for(let b=0,c=this.curves.length;b<c;b++)a.curves.push(this.curves[b].toJSON());
return a},fromJSON:function(a){Curve$$module$node_modules$three$build$three_module.prototype.fromJSON.call(this,a);this.autoClose=a.autoClose;this.curves=[];for(let b=0,c=a.curves.length;b<c;b++){const d=a.curves[b];this.curves.push((new Curves$$module$node_modules$three$build$three_module[d.type]).fromJSON(d))}return this}});
function Path$$module$node_modules$three$build$three_module(a){CurvePath$$module$node_modules$three$build$three_module.call(this);this.type="Path";this.currentPoint=new Vector2$$module$node_modules$three$build$three_module;a&&this.setFromPoints(a)}
Path$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(CurvePath$$module$node_modules$three$build$three_module.prototype),{constructor:Path$$module$node_modules$three$build$three_module,setFromPoints:function(a){this.moveTo(a[0].x,a[0].y);for(let b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y);return this},moveTo:function(a,b){this.currentPoint.set(a,b);return this},lineTo:function(a,b){const c=new LineCurve$$module$node_modules$three$build$three_module(this.currentPoint.clone(),
new Vector2$$module$node_modules$three$build$three_module(a,b));this.curves.push(c);this.currentPoint.set(a,b);return this},quadraticCurveTo:function(a,b,c,d){a=new QuadraticBezierCurve$$module$node_modules$three$build$three_module(this.currentPoint.clone(),new Vector2$$module$node_modules$three$build$three_module(a,b),new Vector2$$module$node_modules$three$build$three_module(c,d));this.curves.push(a);this.currentPoint.set(c,d);return this},bezierCurveTo:function(a,b,c,d,e,g){a=new CubicBezierCurve$$module$node_modules$three$build$three_module(this.currentPoint.clone(),
new Vector2$$module$node_modules$three$build$three_module(a,b),new Vector2$$module$node_modules$three$build$three_module(c,d),new Vector2$$module$node_modules$three$build$three_module(e,g));this.curves.push(a);this.currentPoint.set(e,g);return this},splineThru:function(a){var b=[this.currentPoint.clone()].concat(a);b=new SplineCurve$$module$node_modules$three$build$three_module(b);this.curves.push(b);this.currentPoint.copy(a[a.length-1]);return this},arc:function(a,b,c,d,e,g){this.absarc(a+this.currentPoint.x,
b+this.currentPoint.y,c,d,e,g);return this},absarc:function(a,b,c,d,e,g){this.absellipse(a,b,c,c,d,e,g);return this},ellipse:function(a,b,c,d,e,g,h,k){this.absellipse(a+this.currentPoint.x,b+this.currentPoint.y,c,d,e,g,h,k);return this},absellipse:function(a,b,c,d,e,g,h,k){a=new EllipseCurve$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h,k);0<this.curves.length&&(b=a.getPoint(0),b.equals(this.currentPoint)||this.lineTo(b.x,b.y));this.curves.push(a);a=a.getPoint(1);this.currentPoint.copy(a);
return this},copy:function(a){CurvePath$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.currentPoint.copy(a.currentPoint);return this},toJSON:function(){const a=CurvePath$$module$node_modules$three$build$three_module.prototype.toJSON.call(this);a.currentPoint=this.currentPoint.toArray();return a},fromJSON:function(a){CurvePath$$module$node_modules$three$build$three_module.prototype.fromJSON.call(this,a);this.currentPoint.fromArray(a.currentPoint);return this}});
function Shape$$module$node_modules$three$build$three_module(a){Path$$module$node_modules$three$build$three_module.call(this,a);this.uuid=MathUtils$$module$node_modules$three$build$three_module.generateUUID();this.type="Shape";this.holes=[]}
Shape$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Path$$module$node_modules$three$build$three_module.prototype),{constructor:Shape$$module$node_modules$three$build$three_module,getPointsHoles:function(a){const b=[];for(let c=0,d=this.holes.length;c<d;c++)b[c]=this.holes[c].getPoints(a);return b},extractPoints:function(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}},copy:function(a){Path$$module$node_modules$three$build$three_module.prototype.copy.call(this,
a);this.holes=[];for(let b=0,c=a.holes.length;b<c;b++)this.holes.push(a.holes[b].clone());return this},toJSON:function(){const a=Path$$module$node_modules$three$build$three_module.prototype.toJSON.call(this);a.uuid=this.uuid;a.holes=[];for(let b=0,c=this.holes.length;b<c;b++)a.holes.push(this.holes[b].toJSON());return a},fromJSON:function(a){Path$$module$node_modules$three$build$three_module.prototype.fromJSON.call(this,a);this.uuid=a.uuid;this.holes=[];for(let b=0,c=a.holes.length;b<c;b++){const d=
a.holes[b];this.holes.push((new Path$$module$node_modules$three$build$three_module).fromJSON(d))}return this}});function Light$$module$node_modules$three$build$three_module(a,b){Object3D$$module$node_modules$three$build$three_module.call(this);this.type="Light";this.color=new Color$$module$node_modules$three$build$three_module(a);this.intensity=void 0!==b?b:1;this.receiveShadow=void 0}
Light$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Object3D$$module$node_modules$three$build$three_module.prototype),{constructor:Light$$module$node_modules$three$build$three_module,isLight:!0,copy:function(a){Object3D$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.color.copy(a.color);this.intensity=a.intensity;return this},toJSON:function(a){a=Object3D$$module$node_modules$three$build$three_module.prototype.toJSON.call(this,a);
a.object.color=this.color.getHex();a.object.intensity=this.intensity;void 0!==this.groundColor&&(a.object.groundColor=this.groundColor.getHex());void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&(a.object.penumbra=this.penumbra);void 0!==this.shadow&&(a.object.shadow=this.shadow.toJSON());return a}});
function HemisphereLight$$module$node_modules$three$build$three_module(a,b,c){Light$$module$node_modules$three$build$three_module.call(this,a,c);this.type="HemisphereLight";this.castShadow=void 0;this.position.copy(Object3D$$module$node_modules$three$build$three_module.DefaultUp);this.updateMatrix();this.groundColor=new Color$$module$node_modules$three$build$three_module(b)}
HemisphereLight$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Light$$module$node_modules$three$build$three_module.prototype),{constructor:HemisphereLight$$module$node_modules$three$build$three_module,isHemisphereLight:!0,copy:function(a){Light$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.groundColor.copy(a.groundColor);return this}});
function LightShadow$$module$node_modules$three$build$three_module(a){this.camera=a;this.normalBias=this.bias=0;this.radius=1;this.mapSize=new Vector2$$module$node_modules$three$build$three_module(512,512);this.mapPass=this.map=null;this.matrix=new Matrix4$$module$node_modules$three$build$three_module;this.autoUpdate=!0;this.needsUpdate=!1;this._frustum=new Frustum$$module$node_modules$three$build$three_module;this._frameExtents=new Vector2$$module$node_modules$three$build$three_module(1,1);this._viewportCount=
1;this._viewports=[new Vector4$$module$node_modules$three$build$three_module(0,0,1,1)]}
Object.assign(LightShadow$$module$node_modules$three$build$three_module.prototype,{_projScreenMatrix:new Matrix4$$module$node_modules$three$build$three_module,_lightPositionWorld:new Vector3$$module$node_modules$three$build$three_module,_lookTarget:new Vector3$$module$node_modules$three$build$three_module,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(a){const b=this.camera,c=this.matrix,d=this._projScreenMatrix,e=this._lookTarget,
g=this._lightPositionWorld;g.setFromMatrixPosition(a.matrixWorld);b.position.copy(g);e.setFromMatrixPosition(a.target.matrixWorld);b.lookAt(e);b.updateMatrixWorld();d.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse);this._frustum.setFromProjectionMatrix(d);c.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);c.multiply(b.projectionMatrix);c.multiply(b.matrixWorldInverse)},getViewport:function(a){return this._viewports[a]},getFrameExtents:function(){return this._frameExtents},copy:function(a){this.camera=
a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const a={};0!==this.bias&&(a.bias=this.bias);0!==this.normalBias&&(a.normalBias=this.normalBias);1!==this.radius&&(a.radius=this.radius);if(512!==this.mapSize.x||512!==this.mapSize.y)a.mapSize=this.mapSize.toArray();a.camera=this.camera.toJSON(!1).object;delete a.camera.matrix;return a}});
function SpotLightShadow$$module$node_modules$three$build$three_module(){LightShadow$$module$node_modules$three$build$three_module.call(this,new PerspectiveCamera$$module$node_modules$three$build$three_module(50,1,.5,500))}
SpotLightShadow$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(LightShadow$$module$node_modules$three$build$three_module.prototype),{constructor:SpotLightShadow$$module$node_modules$three$build$three_module,isSpotLightShadow:!0,updateMatrices:function(a){const b=this.camera,c=2*MathUtils$$module$node_modules$three$build$three_module.RAD2DEG*a.angle,d=this.mapSize.width/this.mapSize.height,e=a.distance||b.far;if(c!==b.fov||d!==b.aspect||e!==b.far)b.fov=c,b.aspect=
d,b.far=e,b.updateProjectionMatrix();LightShadow$$module$node_modules$three$build$three_module.prototype.updateMatrices.call(this,a)}});
function SpotLight$$module$node_modules$three$build$three_module(a,b,c,d,e,g){Light$$module$node_modules$three$build$three_module.call(this,a,b);this.type="SpotLight";this.position.copy(Object3D$$module$node_modules$three$build$three_module.DefaultUp);this.updateMatrix();this.target=new Object3D$$module$node_modules$three$build$three_module;Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(h){this.intensity=h/Math.PI}});this.distance=void 0!==c?c:0;this.angle=
void 0!==d?d:Math.PI/3;this.penumbra=void 0!==e?e:0;this.decay=void 0!==g?g:1;this.shadow=new SpotLightShadow$$module$node_modules$three$build$three_module}
SpotLight$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Light$$module$node_modules$three$build$three_module.prototype),{constructor:SpotLight$$module$node_modules$three$build$three_module,isSpotLight:!0,copy:function(a){Light$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.distance=a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});
function PointLightShadow$$module$node_modules$three$build$three_module(){LightShadow$$module$node_modules$three$build$three_module.call(this,new PerspectiveCamera$$module$node_modules$three$build$three_module(90,1,.5,500));this._frameExtents=new Vector2$$module$node_modules$three$build$three_module(4,2);this._viewportCount=6;this._viewports=[new Vector4$$module$node_modules$three$build$three_module(2,1,1,1),new Vector4$$module$node_modules$three$build$three_module(0,1,1,1),new Vector4$$module$node_modules$three$build$three_module(3,
1,1,1),new Vector4$$module$node_modules$three$build$three_module(1,1,1,1),new Vector4$$module$node_modules$three$build$three_module(3,0,1,1),new Vector4$$module$node_modules$three$build$three_module(1,0,1,1)];this._cubeDirections=[new Vector3$$module$node_modules$three$build$three_module(1,0,0),new Vector3$$module$node_modules$three$build$three_module(-1,0,0),new Vector3$$module$node_modules$three$build$three_module(0,0,1),new Vector3$$module$node_modules$three$build$three_module(0,0,-1),new Vector3$$module$node_modules$three$build$three_module(0,
1,0),new Vector3$$module$node_modules$three$build$three_module(0,-1,0)];this._cubeUps=[new Vector3$$module$node_modules$three$build$three_module(0,1,0),new Vector3$$module$node_modules$three$build$three_module(0,1,0),new Vector3$$module$node_modules$three$build$three_module(0,1,0),new Vector3$$module$node_modules$three$build$three_module(0,1,0),new Vector3$$module$node_modules$three$build$three_module(0,0,1),new Vector3$$module$node_modules$three$build$three_module(0,0,-1)]}
PointLightShadow$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(LightShadow$$module$node_modules$three$build$three_module.prototype),{constructor:PointLightShadow$$module$node_modules$three$build$three_module,isPointLightShadow:!0,updateMatrices:function(a,b){void 0===b&&(b=0);const c=this.camera,d=this.matrix,e=this._lightPositionWorld,g=this._lookTarget,h=this._projScreenMatrix;e.setFromMatrixPosition(a.matrixWorld);c.position.copy(e);g.copy(c.position);g.add(this._cubeDirections[b]);
c.up.copy(this._cubeUps[b]);c.lookAt(g);c.updateMatrixWorld();d.makeTranslation(-e.x,-e.y,-e.z);h.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse);this._frustum.setFromProjectionMatrix(h)}});
function PointLight$$module$node_modules$three$build$three_module(a,b,c,d){Light$$module$node_modules$three$build$three_module.call(this,a,b);this.type="PointLight";Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}});this.distance=void 0!==c?c:0;this.decay=void 0!==d?d:1;this.shadow=new PointLightShadow$$module$node_modules$three$build$three_module}
PointLight$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Light$$module$node_modules$three$build$three_module.prototype),{constructor:PointLight$$module$node_modules$three$build$three_module,isPointLight:!0,copy:function(a){Light$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.distance=a.distance;this.decay=a.decay;this.shadow=a.shadow.clone();return this}});
function OrthographicCamera$$module$node_modules$three$build$three_module(a,b,c,d,e,g){Camera$$module$node_modules$three$build$three_module.call(this);this.type="OrthographicCamera";this.zoom=1;this.view=null;this.left=void 0!==a?a:-1;this.right=void 0!==b?b:1;this.top=void 0!==c?c:1;this.bottom=void 0!==d?d:-1;this.near=void 0!==e?e:.1;this.far=void 0!==g?g:2E3;this.updateProjectionMatrix()}
OrthographicCamera$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Camera$$module$node_modules$three$build$three_module.prototype),{constructor:OrthographicCamera$$module$node_modules$three$build$three_module,isOrthographicCamera:!0,copy:function(a,b){Camera$$module$node_modules$three$build$three_module.prototype.copy.call(this,a,b);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;this.view=
null===a.view?null:Object.assign({},a.view);return this},setViewOffset:function(a,b,c,d,e,g){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=c;this.view.offsetY=d;this.view.width=e;this.view.height=g;this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=
(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,d=(this.top+this.bottom)/2;let e=c-a;c+=a;a=d+b;b=d-b;null!==this.view&&this.view.enabled&&(d=(this.right-this.left)/this.view.fullWidth/this.zoom,b=(this.top-this.bottom)/this.view.fullHeight/this.zoom,e+=d*this.view.offsetX,c=e+d*this.view.width,a-=b*this.view.offsetY,b=a-b*this.view.height);this.projectionMatrix.makeOrthographic(e,c,a,b,this.near,this.far);this.projectionMatrixInverse.getInverse(this.projectionMatrix)},
toJSON:function(a){a=Object3D$$module$node_modules$three$build$three_module.prototype.toJSON.call(this,a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;null!==this.view&&(a.object.view=Object.assign({},this.view));return a}});
function DirectionalLightShadow$$module$node_modules$three$build$three_module(){LightShadow$$module$node_modules$three$build$three_module.call(this,new OrthographicCamera$$module$node_modules$three$build$three_module(-5,5,5,-5,.5,500))}
DirectionalLightShadow$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(LightShadow$$module$node_modules$three$build$three_module.prototype),{constructor:DirectionalLightShadow$$module$node_modules$three$build$three_module,isDirectionalLightShadow:!0,updateMatrices:function(a){LightShadow$$module$node_modules$three$build$three_module.prototype.updateMatrices.call(this,a)}});
function DirectionalLight$$module$node_modules$three$build$three_module(a,b){Light$$module$node_modules$three$build$three_module.call(this,a,b);this.type="DirectionalLight";this.position.copy(Object3D$$module$node_modules$three$build$three_module.DefaultUp);this.updateMatrix();this.target=new Object3D$$module$node_modules$three$build$three_module;this.shadow=new DirectionalLightShadow$$module$node_modules$three$build$three_module}
DirectionalLight$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Light$$module$node_modules$three$build$three_module.prototype),{constructor:DirectionalLight$$module$node_modules$three$build$three_module,isDirectionalLight:!0,copy:function(a){Light$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});
function AmbientLight$$module$node_modules$three$build$three_module(a,b){Light$$module$node_modules$three$build$three_module.call(this,a,b);this.type="AmbientLight";this.castShadow=void 0}AmbientLight$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Light$$module$node_modules$three$build$three_module.prototype),{constructor:AmbientLight$$module$node_modules$three$build$three_module,isAmbientLight:!0});
function RectAreaLight$$module$node_modules$three$build$three_module(a,b,c,d){Light$$module$node_modules$three$build$three_module.call(this,a,b);this.type="RectAreaLight";this.width=void 0!==c?c:10;this.height=void 0!==d?d:10}
RectAreaLight$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Light$$module$node_modules$three$build$three_module.prototype),{constructor:RectAreaLight$$module$node_modules$three$build$three_module,isRectAreaLight:!0,copy:function(a){Light$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.width=a.width;this.height=a.height;return this},toJSON:function(a){a=Light$$module$node_modules$three$build$three_module.prototype.toJSON.call(this,
a);a.object.width=this.width;a.object.height=this.height;return a}});
class SphericalHarmonics3$$module$node_modules$three$build$three_module{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0});this.coefficients=[];for(let a=0;9>a;a++)this.coefficients.push(new Vector3$$module$node_modules$three$build$three_module)}set(a){for(let b=0;9>b;b++)this.coefficients[b].copy(a[b]);return this}zero(){for(let a=0;9>a;a++)this.coefficients[a].set(0,0,0);return this}getAt(a,b){const c=a.x,d=a.y;a=a.z;const e=this.coefficients;b.copy(e[0]).multiplyScalar(.282095);
b.addScaledVector(e[1],.488603*d);b.addScaledVector(e[2],.488603*a);b.addScaledVector(e[3],.488603*c);b.addScaledVector(e[4],1.092548*c*d);b.addScaledVector(e[5],1.092548*d*a);b.addScaledVector(e[6],.315392*(3*a*a-1));b.addScaledVector(e[7],1.092548*c*a);b.addScaledVector(e[8],.546274*(c*c-d*d));return b}getIrradianceAt(a,b){const c=a.x,d=a.y;a=a.z;const e=this.coefficients;b.copy(e[0]).multiplyScalar(.886227);b.addScaledVector(e[1],1.023328*d);b.addScaledVector(e[2],1.023328*a);b.addScaledVector(e[3],
1.023328*c);b.addScaledVector(e[4],.858086*c*d);b.addScaledVector(e[5],.858086*d*a);b.addScaledVector(e[6],.743125*a*a-.247708);b.addScaledVector(e[7],.858086*c*a);b.addScaledVector(e[8],.429043*(c*c-d*d));return b}add(a){for(let b=0;9>b;b++)this.coefficients[b].add(a.coefficients[b]);return this}addScaledSH(a,b){for(let c=0;9>c;c++)this.coefficients[c].addScaledVector(a.coefficients[c],b);return this}scale(a){for(let b=0;9>b;b++)this.coefficients[b].multiplyScalar(a);return this}lerp(a,b){for(let c=
0;9>c;c++)this.coefficients[c].lerp(a.coefficients[c],b);return this}equals(a){for(let b=0;9>b;b++)if(!this.coefficients[b].equals(a.coefficients[b]))return!1;return!0}copy(a){return this.set(a.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(a,b){void 0===b&&(b=0);const c=this.coefficients;for(let d=0;9>d;d++)c[d].fromArray(a,b+3*d);return this}toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);const c=this.coefficients;for(let d=0;9>d;d++)c[d].toArray(a,b+3*d);return a}static getBasisAt(a,
b){const c=a.x,d=a.y;a=a.z;b[0]=.282095;b[1]=.488603*d;b[2]=.488603*a;b[3]=.488603*c;b[4]=1.092548*c*d;b[5]=1.092548*d*a;b[6]=.315392*(3*a*a-1);b[7]=1.092548*c*a;b[8]=.546274*(c*c-d*d)}}function LightProbe$$module$node_modules$three$build$three_module(a,b){Light$$module$node_modules$three$build$three_module.call(this,void 0,b);this.type="LightProbe";this.sh=void 0!==a?a:new SphericalHarmonics3$$module$node_modules$three$build$three_module}
LightProbe$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Light$$module$node_modules$three$build$three_module.prototype),{constructor:LightProbe$$module$node_modules$three$build$three_module,isLightProbe:!0,copy:function(a){Light$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.sh.copy(a.sh);return this},fromJSON:function(a){this.intensity=a.intensity;this.sh.fromArray(a.sh);return this},toJSON:function(a){a=Light$$module$node_modules$three$build$three_module.prototype.toJSON.call(this,
a);a.object.sh=this.sh.toArray();return a}});function MaterialLoader$$module$node_modules$three$build$three_module(a){Loader$$module$node_modules$three$build$three_module.call(this,a);this.textures={}}
MaterialLoader$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Loader$$module$node_modules$three$build$three_module.prototype),{constructor:MaterialLoader$$module$node_modules$three$build$three_module,load:function(a,b,c,d){const e=this,g=new FileLoader$$module$node_modules$three$build$three_module(e.manager);g.setPath(e.path);g.setRequestHeader(e.requestHeader);g.load(a,function(h){try{b(e.parse(JSON.parse(h)))}catch(k){d?d(k):console.error(k),e.manager.itemError(a)}},
c,d)},parse:function(a){function b(g){void 0===c[g]&&console.warn("THREE.MaterialLoader: Undefined texture",g);return c[g]}const c=this.textures,d=new Materials$$module$node_modules$three$build$three_module[a.type];void 0!==a.uuid&&(d.uuid=a.uuid);void 0!==a.name&&(d.name=a.name);void 0!==a.color&&d.color.setHex(a.color);void 0!==a.roughness&&(d.roughness=a.roughness);void 0!==a.metalness&&(d.metalness=a.metalness);void 0!==a.sheen&&(d.sheen=(new Color$$module$node_modules$three$build$three_module).setHex(a.sheen));
void 0!==a.emissive&&d.emissive.setHex(a.emissive);void 0!==a.specular&&d.specular.setHex(a.specular);void 0!==a.shininess&&(d.shininess=a.shininess);void 0!==a.clearcoat&&(d.clearcoat=a.clearcoat);void 0!==a.clearcoatRoughness&&(d.clearcoatRoughness=a.clearcoatRoughness);void 0!==a.fog&&(d.fog=a.fog);void 0!==a.flatShading&&(d.flatShading=a.flatShading);void 0!==a.blending&&(d.blending=a.blending);void 0!==a.combine&&(d.combine=a.combine);void 0!==a.side&&(d.side=a.side);void 0!==a.opacity&&(d.opacity=
a.opacity);void 0!==a.transparent&&(d.transparent=a.transparent);void 0!==a.alphaTest&&(d.alphaTest=a.alphaTest);void 0!==a.depthTest&&(d.depthTest=a.depthTest);void 0!==a.depthWrite&&(d.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(d.colorWrite=a.colorWrite);void 0!==a.stencilWrite&&(d.stencilWrite=a.stencilWrite);void 0!==a.stencilWriteMask&&(d.stencilWriteMask=a.stencilWriteMask);void 0!==a.stencilFunc&&(d.stencilFunc=a.stencilFunc);void 0!==a.stencilRef&&(d.stencilRef=a.stencilRef);void 0!==
a.stencilFuncMask&&(d.stencilFuncMask=a.stencilFuncMask);void 0!==a.stencilFail&&(d.stencilFail=a.stencilFail);void 0!==a.stencilZFail&&(d.stencilZFail=a.stencilZFail);void 0!==a.stencilZPass&&(d.stencilZPass=a.stencilZPass);void 0!==a.wireframe&&(d.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&(d.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.wireframeLinecap&&(d.wireframeLinecap=a.wireframeLinecap);void 0!==a.wireframeLinejoin&&(d.wireframeLinejoin=a.wireframeLinejoin);void 0!==a.rotation&&
(d.rotation=a.rotation);1!==a.linewidth&&(d.linewidth=a.linewidth);void 0!==a.dashSize&&(d.dashSize=a.dashSize);void 0!==a.gapSize&&(d.gapSize=a.gapSize);void 0!==a.scale&&(d.scale=a.scale);void 0!==a.polygonOffset&&(d.polygonOffset=a.polygonOffset);void 0!==a.polygonOffsetFactor&&(d.polygonOffsetFactor=a.polygonOffsetFactor);void 0!==a.polygonOffsetUnits&&(d.polygonOffsetUnits=a.polygonOffsetUnits);void 0!==a.skinning&&(d.skinning=a.skinning);void 0!==a.morphTargets&&(d.morphTargets=a.morphTargets);
void 0!==a.morphNormals&&(d.morphNormals=a.morphNormals);void 0!==a.dithering&&(d.dithering=a.dithering);void 0!==a.vertexTangents&&(d.vertexTangents=a.vertexTangents);void 0!==a.visible&&(d.visible=a.visible);void 0!==a.toneMapped&&(d.toneMapped=a.toneMapped);void 0!==a.userData&&(d.userData=a.userData);void 0!==a.vertexColors&&(d.vertexColors="number"===typeof a.vertexColors?0<a.vertexColors?!0:!1:a.vertexColors);if(void 0!==a.uniforms)for(var e in a.uniforms){const g=a.uniforms[e];d.uniforms[e]=
{};switch(g.type){case "t":d.uniforms[e].value=b(g.value);break;case "c":d.uniforms[e].value=(new Color$$module$node_modules$three$build$three_module).setHex(g.value);break;case "v2":d.uniforms[e].value=(new Vector2$$module$node_modules$three$build$three_module).fromArray(g.value);break;case "v3":d.uniforms[e].value=(new Vector3$$module$node_modules$three$build$three_module).fromArray(g.value);break;case "v4":d.uniforms[e].value=(new Vector4$$module$node_modules$three$build$three_module).fromArray(g.value);
break;case "m3":d.uniforms[e].value=(new Matrix3$$module$node_modules$three$build$three_module).fromArray(g.value);break;case "m4":d.uniforms[e].value=(new Matrix4$$module$node_modules$three$build$three_module).fromArray(g.value);break;default:d.uniforms[e].value=g.value}}void 0!==a.defines&&(d.defines=a.defines);void 0!==a.vertexShader&&(d.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(d.fragmentShader=a.fragmentShader);if(void 0!==a.extensions)for(const g in a.extensions)d.extensions[g]=
a.extensions[g];void 0!==a.shading&&(d.flatShading=1===a.shading);void 0!==a.size&&(d.size=a.size);void 0!==a.sizeAttenuation&&(d.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(d.map=b(a.map));void 0!==a.matcap&&(d.matcap=b(a.matcap));void 0!==a.alphaMap&&(d.alphaMap=b(a.alphaMap));void 0!==a.bumpMap&&(d.bumpMap=b(a.bumpMap));void 0!==a.bumpScale&&(d.bumpScale=a.bumpScale);void 0!==a.normalMap&&(d.normalMap=b(a.normalMap));void 0!==a.normalMapType&&(d.normalMapType=a.normalMapType);void 0!==
a.normalScale&&(e=a.normalScale,!1===Array.isArray(e)&&(e=[e,e]),d.normalScale=(new Vector2$$module$node_modules$three$build$three_module).fromArray(e));void 0!==a.displacementMap&&(d.displacementMap=b(a.displacementMap));void 0!==a.displacementScale&&(d.displacementScale=a.displacementScale);void 0!==a.displacementBias&&(d.displacementBias=a.displacementBias);void 0!==a.roughnessMap&&(d.roughnessMap=b(a.roughnessMap));void 0!==a.metalnessMap&&(d.metalnessMap=b(a.metalnessMap));void 0!==a.emissiveMap&&
(d.emissiveMap=b(a.emissiveMap));void 0!==a.emissiveIntensity&&(d.emissiveIntensity=a.emissiveIntensity);void 0!==a.specularMap&&(d.specularMap=b(a.specularMap));void 0!==a.envMap&&(d.envMap=b(a.envMap));void 0!==a.envMapIntensity&&(d.envMapIntensity=a.envMapIntensity);void 0!==a.reflectivity&&(d.reflectivity=a.reflectivity);void 0!==a.refractionRatio&&(d.refractionRatio=a.refractionRatio);void 0!==a.lightMap&&(d.lightMap=b(a.lightMap));void 0!==a.lightMapIntensity&&(d.lightMapIntensity=a.lightMapIntensity);
void 0!==a.aoMap&&(d.aoMap=b(a.aoMap));void 0!==a.aoMapIntensity&&(d.aoMapIntensity=a.aoMapIntensity);void 0!==a.gradientMap&&(d.gradientMap=b(a.gradientMap));void 0!==a.clearcoatMap&&(d.clearcoatMap=b(a.clearcoatMap));void 0!==a.clearcoatRoughnessMap&&(d.clearcoatRoughnessMap=b(a.clearcoatRoughnessMap));void 0!==a.clearcoatNormalMap&&(d.clearcoatNormalMap=b(a.clearcoatNormalMap));void 0!==a.clearcoatNormalScale&&(d.clearcoatNormalScale=(new Vector2$$module$node_modules$three$build$three_module).fromArray(a.clearcoatNormalScale));
void 0!==a.transmission&&(d.transmission=a.transmission);void 0!==a.transmissionMap&&(d.transmissionMap=b(a.transmissionMap));return d},setTextures:function(a){this.textures=a;return this}});
const LoaderUtils$$module$node_modules$three$build$three_module={decodeText:function(a){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(a);let b="";for(let c=0,d=a.length;c<d;c++)b+=String.fromCharCode(a[c]);try{return decodeURIComponent(escape(b))}catch(c){return b}},extractUrlBase:function(a){const b=a.lastIndexOf("/");return-1===b?"./":a.substr(0,b+1)}};
function InstancedBufferGeometry$$module$node_modules$three$build$three_module(){BufferGeometry$$module$node_modules$three$build$three_module.call(this);this.type="InstancedBufferGeometry";this.instanceCount=Infinity}
InstancedBufferGeometry$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(BufferGeometry$$module$node_modules$three$build$three_module.prototype),{constructor:InstancedBufferGeometry$$module$node_modules$three$build$three_module,isInstancedBufferGeometry:!0,copy:function(a){BufferGeometry$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.instanceCount=a.instanceCount;return this},clone:function(){return(new this.constructor).copy(this)},
toJSON:function(){const a=BufferGeometry$$module$node_modules$three$build$three_module.prototype.toJSON.call(this);a.instanceCount=this.instanceCount;a.isInstancedBufferGeometry=!0;return a}});
function InstancedBufferAttribute$$module$node_modules$three$build$three_module(a,b,c,d){"number"===typeof c&&(d=c,c=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));BufferAttribute$$module$node_modules$three$build$three_module.call(this,a,b,c);this.meshPerAttribute=d||1}
InstancedBufferAttribute$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(BufferAttribute$$module$node_modules$three$build$three_module.prototype),{constructor:InstancedBufferAttribute$$module$node_modules$three$build$three_module,isInstancedBufferAttribute:!0,copy:function(a){BufferAttribute$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this},toJSON:function(){const a=BufferAttribute$$module$node_modules$three$build$three_module.prototype.toJSON.call(this);
a.meshPerAttribute=this.meshPerAttribute;a.isInstancedBufferAttribute=!0;return a}});function BufferGeometryLoader$$module$node_modules$three$build$three_module(a){Loader$$module$node_modules$three$build$three_module.call(this,a)}
BufferGeometryLoader$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Loader$$module$node_modules$three$build$three_module.prototype),{constructor:BufferGeometryLoader$$module$node_modules$three$build$three_module,load:function(a,b,c,d){const e=this,g=new FileLoader$$module$node_modules$three$build$three_module(e.manager);g.setPath(e.path);g.setRequestHeader(e.requestHeader);g.load(a,function(h){try{b(e.parse(JSON.parse(h)))}catch(k){d?d(k):console.error(k),e.manager.itemError(a)}},
c,d)},parse:function(a){function b(p,t){if(void 0!==c[t])return c[t];const w=p.interleavedBuffers[t];var x=w.buffer;void 0!==d[x]?x=d[x]:(p=(new Uint32Array(p.arrayBuffers[x])).buffer,x=d[x]=p);x=new TYPED_ARRAYS$$module$node_modules$three$build$three_module[w.type](x);x=new InterleavedBuffer$$module$node_modules$three$build$three_module(x,w.stride);x.uuid=w.uuid;return c[t]=x}const c={},d={},e=a.isInstancedBufferGeometry?new InstancedBufferGeometry$$module$node_modules$three$build$three_module:new BufferGeometry$$module$node_modules$three$build$three_module;
var g=a.data.index;void 0!==g&&(g=new TYPED_ARRAYS$$module$node_modules$three$build$three_module[g.type](g.array),e.setIndex(new BufferAttribute$$module$node_modules$three$build$three_module(g,1)));g=a.data.attributes;for(var h in g){var k=g[h],l=void 0;k.isInterleavedBufferAttribute?(l=b(a.data,k.data),l=new InterleavedBufferAttribute$$module$node_modules$three$build$three_module(l,k.itemSize,k.offset,k.normalized)):(l=new TYPED_ARRAYS$$module$node_modules$three$build$three_module[k.type](k.array),
l=new (k.isInstancedBufferAttribute?InstancedBufferAttribute$$module$node_modules$three$build$three_module:BufferAttribute$$module$node_modules$three$build$three_module)(l,k.itemSize,k.normalized));void 0!==k.name&&(l.name=k.name);e.setAttribute(h,l)}if(h=a.data.morphAttributes)for(var m in h){g=h[m];k=[];for(let p=0,t=g.length;p<t;p++){l=g[p];var n=void 0;l.isInterleavedBufferAttribute?(n=b(a.data,l.data),n=new InterleavedBufferAttribute$$module$node_modules$three$build$three_module(n,l.itemSize,
l.offset,l.normalized)):(n=new TYPED_ARRAYS$$module$node_modules$three$build$three_module[l.type](l.array),n=new BufferAttribute$$module$node_modules$three$build$three_module(n,l.itemSize,l.normalized));void 0!==l.name&&(n.name=l.name);k.push(n)}e.morphAttributes[m]=k}a.data.morphTargetsRelative&&(e.morphTargetsRelative=!0);m=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==m)for(let p=0,t=m.length;p!==t;++p)h=m[p],e.addGroup(h.start,h.count,h.materialIndex);m=a.data.boundingSphere;void 0!==
m&&(h=new Vector3$$module$node_modules$three$build$three_module,void 0!==m.center&&h.fromArray(m.center),e.boundingSphere=new Sphere$$module$node_modules$three$build$three_module(h,m.radius));a.name&&(e.name=a.name);a.userData&&(e.userData=a.userData);return e}});const TYPED_ARRAYS$$module$node_modules$three$build$three_module={Int8Array,Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};
function ObjectLoader$$module$node_modules$three$build$three_module(a){Loader$$module$node_modules$three$build$three_module.call(this,a)}
ObjectLoader$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Loader$$module$node_modules$three$build$three_module.prototype),{constructor:ObjectLoader$$module$node_modules$three$build$three_module,load:function(a,b,c,d){const e=this;var g=""===this.path?LoaderUtils$$module$node_modules$three$build$three_module.extractUrlBase(a):this.path;this.resourcePath=this.resourcePath||g;g=new FileLoader$$module$node_modules$three$build$three_module(e.manager);g.setPath(this.path);
g.setRequestHeader(this.requestHeader);g.load(a,function(h){let k=null;try{k=JSON.parse(h)}catch(l){void 0!==d&&d(l);console.error("THREE:ObjectLoader: Can't parse "+a+".",l.message);return}h=k.metadata;void 0===h||void 0===h.type||"geometry"===h.type.toLowerCase()?console.error("THREE.ObjectLoader: Can't load "+a):e.parse(k,b)},c,d)},parse:function(a,b){var c=this.parseShape(a.shapes);c=this.parseGeometries(a.geometries,c);var d=this.parseImages(a.images,function(){void 0!==b&&b(e)});d=this.parseTextures(a.textures,
d);d=this.parseMaterials(a.materials,d);const e=this.parseObject(a.object,c,d);a.animations&&(e.animations=this.parseAnimations(a.animations));void 0!==a.images&&0!==a.images.length||void 0===b||b(e);return e},parseShape:function(a){const b={};if(void 0!==a)for(let c=0,d=a.length;c<d;c++){const e=(new Shape$$module$node_modules$three$build$three_module).fromJSON(a[c]);b[e.uuid]=e}return b},parseGeometries:function(a,b){const c={};if(void 0!==a){const e=new BufferGeometryLoader$$module$node_modules$three$build$three_module;
for(let g=0,h=a.length;g<h;g++){const k=a[g];switch(k.type){case "PlaneGeometry":case "PlaneBufferGeometry":var d=new Geometries$$module$node_modules$three$build$three_module[k.type](k.width,k.height,k.widthSegments,k.heightSegments);break;case "BoxGeometry":case "BoxBufferGeometry":case "CubeGeometry":d=new Geometries$$module$node_modules$three$build$three_module[k.type](k.width,k.height,k.depth,k.widthSegments,k.heightSegments,k.depthSegments);break;case "CircleGeometry":case "CircleBufferGeometry":d=
new Geometries$$module$node_modules$three$build$three_module[k.type](k.radius,k.segments,k.thetaStart,k.thetaLength);break;case "CylinderGeometry":case "CylinderBufferGeometry":d=new Geometries$$module$node_modules$three$build$three_module[k.type](k.radiusTop,k.radiusBottom,k.height,k.radialSegments,k.heightSegments,k.openEnded,k.thetaStart,k.thetaLength);break;case "ConeGeometry":case "ConeBufferGeometry":d=new Geometries$$module$node_modules$three$build$three_module[k.type](k.radius,k.height,k.radialSegments,
k.heightSegments,k.openEnded,k.thetaStart,k.thetaLength);break;case "SphereGeometry":case "SphereBufferGeometry":d=new Geometries$$module$node_modules$three$build$three_module[k.type](k.radius,k.widthSegments,k.heightSegments,k.phiStart,k.phiLength,k.thetaStart,k.thetaLength);break;case "DodecahedronGeometry":case "DodecahedronBufferGeometry":case "IcosahedronGeometry":case "IcosahedronBufferGeometry":case "OctahedronGeometry":case "OctahedronBufferGeometry":case "TetrahedronGeometry":case "TetrahedronBufferGeometry":d=
new Geometries$$module$node_modules$three$build$three_module[k.type](k.radius,k.detail);break;case "RingGeometry":case "RingBufferGeometry":d=new Geometries$$module$node_modules$three$build$three_module[k.type](k.innerRadius,k.outerRadius,k.thetaSegments,k.phiSegments,k.thetaStart,k.thetaLength);break;case "TorusGeometry":case "TorusBufferGeometry":d=new Geometries$$module$node_modules$three$build$three_module[k.type](k.radius,k.tube,k.radialSegments,k.tubularSegments,k.arc);break;case "TorusKnotGeometry":case "TorusKnotBufferGeometry":d=
new Geometries$$module$node_modules$three$build$three_module[k.type](k.radius,k.tube,k.tubularSegments,k.radialSegments,k.p,k.q);break;case "TubeGeometry":case "TubeBufferGeometry":d=new Geometries$$module$node_modules$three$build$three_module[k.type]((new Curves$$module$node_modules$three$build$three_module[k.path.type]).fromJSON(k.path),k.tubularSegments,k.radius,k.radialSegments,k.closed);break;case "LatheGeometry":case "LatheBufferGeometry":d=new Geometries$$module$node_modules$three$build$three_module[k.type](k.points,
k.segments,k.phiStart,k.phiLength);break;case "PolyhedronGeometry":case "PolyhedronBufferGeometry":d=new Geometries$$module$node_modules$three$build$three_module[k.type](k.vertices,k.indices,k.radius,k.details);break;case "ShapeGeometry":case "ShapeBufferGeometry":d=[];for(let m=0,n=k.shapes.length;m<n;m++)d.push(b[k.shapes[m]]);d=new Geometries$$module$node_modules$three$build$three_module[k.type](d,k.curveSegments);break;case "ExtrudeGeometry":case "ExtrudeBufferGeometry":d=[];for(let m=0,n=k.shapes.length;m<
n;m++)d.push(b[k.shapes[m]]);const l=k.options.extrudePath;void 0!==l&&(k.options.extrudePath=(new Curves$$module$node_modules$three$build$three_module[l.type]).fromJSON(l));d=new Geometries$$module$node_modules$three$build$three_module[k.type](d,k.options);break;case "BufferGeometry":case "InstancedBufferGeometry":d=e.parse(k);break;case "Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+
k.type+'"');continue}d.uuid=k.uuid;void 0!==k.name&&(d.name=k.name);!0===d.isBufferGeometry&&void 0!==k.userData&&(d.userData=k.userData);c[k.uuid]=d}}return c},parseMaterials:function(a,b){const c={},d={};if(void 0!==a){const e=new MaterialLoader$$module$node_modules$three$build$three_module;e.setTextures(b);for(let g=0,h=a.length;g<h;g++)if(b=a[g],"MultiMaterial"===b.type){const k=[];for(let l=0;l<b.materials.length;l++){const m=b.materials[l];void 0===c[m.uuid]&&(c[m.uuid]=e.parse(m));k.push(c[m.uuid])}d[b.uuid]=
k}else void 0===c[b.uuid]&&(c[b.uuid]=e.parse(b)),d[b.uuid]=c[b.uuid]}return d},parseAnimations:function(a){const b=[];for(let c=0;c<a.length;c++){const d=a[c],e=AnimationClip$$module$node_modules$three$build$three_module.parse(d);void 0!==d.uuid&&(e.uuid=d.uuid);b.push(e)}return b},parseImages:function(a,b){function c(l){d.manager.itemStart(l);return g.load(l,function(){d.manager.itemEnd(l)},void 0,function(){d.manager.itemError(l);d.manager.itemEnd(l)})}const d=this,e={};let g;if(void 0!==a&&0<
a.length){b=new LoadingManager$$module$node_modules$three$build$three_module(b);g=new ImageLoader$$module$node_modules$three$build$three_module(b);g.setCrossOrigin(this.crossOrigin);for(let l=0,m=a.length;l<m;l++){b=a[l];var h=b.url;if(Array.isArray(h)){e[b.uuid]=[];for(let n=0,p=h.length;n<p;n++){var k=h[n];k=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(k)?k:d.resourcePath+k;e[b.uuid].push(c(k))}}else h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(b.url)?b.url:d.resourcePath+b.url,e[b.uuid]=c(h)}}return e},parseTextures:function(a,
b){function c(e,g){if("number"===typeof e)return e;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e);return g[e]}const d={};if(void 0!==a)for(let e=0,g=a.length;e<g;e++){const h=a[e];void 0===h.image&&console.warn('THREE.ObjectLoader: No "image" specified for',h.uuid);void 0===b[h.image]&&console.warn("THREE.ObjectLoader: Undefined image",h.image);let k;k=Array.isArray(b[h.image])?new CubeTexture$$module$node_modules$three$build$three_module(b[h.image]):new Texture$$module$node_modules$three$build$three_module(b[h.image]);
k.needsUpdate=!0;k.uuid=h.uuid;void 0!==h.name&&(k.name=h.name);void 0!==h.mapping&&(k.mapping=c(h.mapping,TEXTURE_MAPPING$$module$node_modules$three$build$three_module));void 0!==h.offset&&k.offset.fromArray(h.offset);void 0!==h.repeat&&k.repeat.fromArray(h.repeat);void 0!==h.center&&k.center.fromArray(h.center);void 0!==h.rotation&&(k.rotation=h.rotation);void 0!==h.wrap&&(k.wrapS=c(h.wrap[0],TEXTURE_WRAPPING$$module$node_modules$three$build$three_module),k.wrapT=c(h.wrap[1],TEXTURE_WRAPPING$$module$node_modules$three$build$three_module));
void 0!==h.format&&(k.format=h.format);void 0!==h.type&&(k.type=h.type);void 0!==h.encoding&&(k.encoding=h.encoding);void 0!==h.minFilter&&(k.minFilter=c(h.minFilter,TEXTURE_FILTER$$module$node_modules$three$build$three_module));void 0!==h.magFilter&&(k.magFilter=c(h.magFilter,TEXTURE_FILTER$$module$node_modules$three$build$three_module));void 0!==h.anisotropy&&(k.anisotropy=h.anisotropy);void 0!==h.flipY&&(k.flipY=h.flipY);void 0!==h.premultiplyAlpha&&(k.premultiplyAlpha=h.premultiplyAlpha);void 0!==
h.unpackAlignment&&(k.unpackAlignment=h.unpackAlignment);d[h.uuid]=k}return d},parseObject:function(a,b,c){function d(l){void 0===b[l]&&console.warn("THREE.ObjectLoader: Undefined geometry",l);return b[l]}function e(l){if(void 0!==l){if(Array.isArray(l)){const m=[];for(let n=0,p=l.length;n<p;n++){const t=l[n];void 0===c[t]&&console.warn("THREE.ObjectLoader: Undefined material",t);m.push(c[t])}return m}void 0===c[l]&&console.warn("THREE.ObjectLoader: Undefined material",l);return c[l]}}switch(a.type){case "Scene":var g=
new Scene$$module$node_modules$three$build$three_module;void 0!==a.background&&Number.isInteger(a.background)&&(g.background=new Color$$module$node_modules$three$build$three_module(a.background));void 0!==a.fog&&("Fog"===a.fog.type?g.fog=new Fog$$module$node_modules$three$build$three_module(a.fog.color,a.fog.near,a.fog.far):"FogExp2"===a.fog.type&&(g.fog=new FogExp2$$module$node_modules$three$build$three_module(a.fog.color,a.fog.density)));break;case "PerspectiveCamera":g=new PerspectiveCamera$$module$node_modules$three$build$three_module(a.fov,
a.aspect,a.near,a.far);void 0!==a.focus&&(g.focus=a.focus);void 0!==a.zoom&&(g.zoom=a.zoom);void 0!==a.filmGauge&&(g.filmGauge=a.filmGauge);void 0!==a.filmOffset&&(g.filmOffset=a.filmOffset);void 0!==a.view&&(g.view=Object.assign({},a.view));break;case "OrthographicCamera":g=new OrthographicCamera$$module$node_modules$three$build$three_module(a.left,a.right,a.top,a.bottom,a.near,a.far);void 0!==a.zoom&&(g.zoom=a.zoom);void 0!==a.view&&(g.view=Object.assign({},a.view));break;case "AmbientLight":g=
new AmbientLight$$module$node_modules$three$build$three_module(a.color,a.intensity);break;case "DirectionalLight":g=new DirectionalLight$$module$node_modules$three$build$three_module(a.color,a.intensity);break;case "PointLight":g=new PointLight$$module$node_modules$three$build$three_module(a.color,a.intensity,a.distance,a.decay);break;case "RectAreaLight":g=new RectAreaLight$$module$node_modules$three$build$three_module(a.color,a.intensity,a.width,a.height);break;case "SpotLight":g=new SpotLight$$module$node_modules$three$build$three_module(a.color,
a.intensity,a.distance,a.angle,a.penumbra,a.decay);break;case "HemisphereLight":g=new HemisphereLight$$module$node_modules$three$build$three_module(a.color,a.groundColor,a.intensity);break;case "LightProbe":g=(new LightProbe$$module$node_modules$three$build$three_module).fromJSON(a);break;case "SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case "Mesh":g=d(a.geometry);var h=e(a.material);g=new Mesh$$module$node_modules$three$build$three_module(g,h);
break;case "InstancedMesh":g=d(a.geometry);h=e(a.material);var k=a.instanceMatrix;g=new InstancedMesh$$module$node_modules$three$build$three_module(g,h,a.count);g.instanceMatrix=new BufferAttribute$$module$node_modules$three$build$three_module(new Float32Array(k.array),16);break;case "LOD":g=new LOD$$module$node_modules$three$build$three_module;break;case "Line":g=new Line$$module$node_modules$three$build$three_module(d(a.geometry),e(a.material),a.mode);break;case "LineLoop":g=new LineLoop$$module$node_modules$three$build$three_module(d(a.geometry),
e(a.material));break;case "LineSegments":g=new LineSegments$$module$node_modules$three$build$three_module(d(a.geometry),e(a.material));break;case "PointCloud":case "Points":g=new Points$$module$node_modules$three$build$three_module(d(a.geometry),e(a.material));break;case "Sprite":g=new Sprite$$module$node_modules$three$build$three_module(e(a.material));break;case "Group":g=new Group$$module$node_modules$three$build$three_module;break;default:g=new Object3D$$module$node_modules$three$build$three_module}g.uuid=
a.uuid;void 0!==a.name&&(g.name=a.name);void 0!==a.matrix?(g.matrix.fromArray(a.matrix),void 0!==a.matrixAutoUpdate&&(g.matrixAutoUpdate=a.matrixAutoUpdate),g.matrixAutoUpdate&&g.matrix.decompose(g.position,g.quaternion,g.scale)):(void 0!==a.position&&g.position.fromArray(a.position),void 0!==a.rotation&&g.rotation.fromArray(a.rotation),void 0!==a.quaternion&&g.quaternion.fromArray(a.quaternion),void 0!==a.scale&&g.scale.fromArray(a.scale));void 0!==a.castShadow&&(g.castShadow=a.castShadow);void 0!==
a.receiveShadow&&(g.receiveShadow=a.receiveShadow);a.shadow&&(void 0!==a.shadow.bias&&(g.shadow.bias=a.shadow.bias),void 0!==a.shadow.normalBias&&(g.shadow.normalBias=a.shadow.normalBias),void 0!==a.shadow.radius&&(g.shadow.radius=a.shadow.radius),void 0!==a.shadow.mapSize&&g.shadow.mapSize.fromArray(a.shadow.mapSize),void 0!==a.shadow.camera&&(g.shadow.camera=this.parseObject(a.shadow.camera)));void 0!==a.visible&&(g.visible=a.visible);void 0!==a.frustumCulled&&(g.frustumCulled=a.frustumCulled);
void 0!==a.renderOrder&&(g.renderOrder=a.renderOrder);void 0!==a.userData&&(g.userData=a.userData);void 0!==a.layers&&(g.layers.mask=a.layers);if(void 0!==a.children)for(k=a.children,h=0;h<k.length;h++)g.add(this.parseObject(k[h],b,c));if("LOD"===a.type)for(void 0!==a.autoUpdate&&(g.autoUpdate=a.autoUpdate),a=a.levels,k=0;k<a.length;k++){h=a[k];const l=g.getObjectByProperty("uuid",h.object);void 0!==l&&g.addLevel(l,h.distance)}return g}});
const TEXTURE_MAPPING$$module$node_modules$three$build$three_module={UVMapping:UVMapping$$module$node_modules$three$build$three_module,CubeReflectionMapping:CubeReflectionMapping$$module$node_modules$three$build$three_module,CubeRefractionMapping:CubeRefractionMapping$$module$node_modules$three$build$three_module,EquirectangularReflectionMapping:EquirectangularReflectionMapping$$module$node_modules$three$build$three_module,EquirectangularRefractionMapping:EquirectangularRefractionMapping$$module$node_modules$three$build$three_module,
CubeUVReflectionMapping:CubeUVReflectionMapping$$module$node_modules$three$build$three_module,CubeUVRefractionMapping:CubeUVRefractionMapping$$module$node_modules$three$build$three_module},TEXTURE_WRAPPING$$module$node_modules$three$build$three_module={RepeatWrapping:RepeatWrapping$$module$node_modules$three$build$three_module,ClampToEdgeWrapping:ClampToEdgeWrapping$$module$node_modules$three$build$three_module,MirroredRepeatWrapping:MirroredRepeatWrapping$$module$node_modules$three$build$three_module},
TEXTURE_FILTER$$module$node_modules$three$build$three_module={NearestFilter:NearestFilter$$module$node_modules$three$build$three_module,NearestMipmapNearestFilter:NearestMipmapNearestFilter$$module$node_modules$three$build$three_module,NearestMipmapLinearFilter:NearestMipmapLinearFilter$$module$node_modules$three$build$three_module,LinearFilter:LinearFilter$$module$node_modules$three$build$three_module,LinearMipmapNearestFilter:LinearMipmapNearestFilter$$module$node_modules$three$build$three_module,
LinearMipmapLinearFilter:LinearMipmapLinearFilter$$module$node_modules$three$build$three_module};function ImageBitmapLoader$$module$node_modules$three$build$three_module(a){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported.");"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported.");Loader$$module$node_modules$three$build$three_module.call(this,a);this.options={premultiplyAlpha:"none"}}
ImageBitmapLoader$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Loader$$module$node_modules$three$build$three_module.prototype),{constructor:ImageBitmapLoader$$module$node_modules$three$build$three_module,isImageBitmapLoader:!0,setOptions:function(a){this.options=a;return this},load:function(a,b,c,d){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);const e=this,g=Cache$$module$node_modules$three$build$three_module.get(a);if(void 0!==
g)return e.manager.itemStart(a),setTimeout(function(){b&&b(g);e.manager.itemEnd(a)},0),g;fetch(a).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,e.options)}).then(function(h){Cache$$module$node_modules$three$build$three_module.add(a,h);b&&b(h);e.manager.itemEnd(a)}).catch(function(h){d&&d(h);e.manager.itemError(a);e.manager.itemEnd(a)});e.manager.itemStart(a)}});
function ShapePath$$module$node_modules$three$build$three_module(){this.type="ShapePath";this.color=new Color$$module$node_modules$three$build$three_module;this.subPaths=[];this.currentPath=null}
Object.assign(ShapePath$$module$node_modules$three$build$three_module.prototype,{moveTo:function(a,b){this.currentPath=new Path$$module$node_modules$three$build$three_module;this.subPaths.push(this.currentPath);this.currentPath.moveTo(a,b);return this},lineTo:function(a,b){this.currentPath.lineTo(a,b);return this},quadraticCurveTo:function(a,b,c,d){this.currentPath.quadraticCurveTo(a,b,c,d);return this},bezierCurveTo:function(a,b,c,d,e,g){this.currentPath.bezierCurveTo(a,b,c,d,e,g);return this},splineThru:function(a){this.currentPath.splineThru(a);
return this},toShapes:function(a,b){function c(x){const A=[];for(let r=0,E=x.length;r<E;r++){const B=x[r],G=new Shape$$module$node_modules$three$build$three_module;G.curves=B.curves;A.push(G)}return A}function d(x,A){const r=A.length;let E=!1;for(let G=r-1,H=0;H<r;G=H++){var B=A[G];let O=A[H],N=O.x-B.x,U=O.y-B.y;if(Math.abs(U)>Number.EPSILON){if(0>U&&(B=A[H],N=-N,O=A[G],U=-U),!(x.y<B.y||x.y>O.y))if(x.y===B.y){if(x.x===B.x)return!0}else{B=U*(x.x-B.x)-N*(x.y-B.y);if(0===B)return!0;0>B||(E=!E)}}else if(x.y===
B.y&&(O.x<=x.x&&x.x<=B.x||B.x<=x.x&&x.x<=O.x))return!0}return E}var e=ShapeUtils$$module$node_modules$three$build$three_module.isClockWise,g=this.subPaths;if(0===g.length)return[];if(!0===b)return c(g);b=[];if(1===g.length){var h=g[0];var k=new Shape$$module$node_modules$three$build$three_module;k.curves=h.curves;b.push(k);return b}var l=!e(g[0].getPoints());l=a?!l:l;k=[];const m=[];let n=[];var p=0;let t;m[p]=void 0;n[p]=[];for(let x=0,A=g.length;x<A;x++){h=g[x];t=h.getPoints();var w=e(t);(w=a?!w:
w)?(!l&&m[p]&&p++,m[p]={s:new Shape$$module$node_modules$three$build$three_module,p:t},m[p].s.curves=h.curves,l&&p++,n[p]=[]):n[p].push({h,p:t[0]})}if(!m[0])return c(g);if(1<m.length){a=!1;e=[];for(let x=0,A=m.length;x<A;x++)k[x]=[];for(let x=0,A=m.length;x<A;x++)for(g=n[x],h=0;h<g.length;h++){w=g[h];l=!0;for(p=0;p<m.length;p++)d(w.p,m[p].p)&&(x!==p&&e.push({froms:x,tos:p,hole:h}),l?(l=!1,k[p].push(w)):a=!0);l&&k[x].push(w)}0<e.length&&(a||(n=k))}for(let x=0,A=m.length;x<A;x++){k=m[x].s;b.push(k);
a=n[x];for(let r=0,E=a.length;r<E;r++)k.holes.push(a[r].h)}return b}});function Font$$module$node_modules$three$build$three_module(a){this.type="Font";this.data=a}Object.assign(Font$$module$node_modules$three$build$three_module.prototype,{isFont:!0,generateShapes:function(a,b){void 0===b&&(b=100);const c=[];a=createPaths$$module$node_modules$three$build$three_module(a,b,this.data);for(let d=0,e=a.length;d<e;d++)Array.prototype.push.apply(c,a[d].toShapes());return c}});
function createPaths$$module$node_modules$three$build$three_module(a,b,c){a=Array.from?Array.from(a):String(a).split("");b/=c.resolution;const d=(c.boundingBox.yMax-c.boundingBox.yMin+c.underlineThickness)*b,e=[];let g=0,h=0;for(let l=0;l<a.length;l++){var k=a[l];"\n"===k?(g=0,h-=d):(k=createPath$$module$node_modules$three$build$three_module(k,b,g,h,c),g+=k.offsetX,e.push(k.path))}return e}
function createPath$$module$node_modules$three$build$three_module(a,b,c,d,e){const g=e.glyphs[a]||e.glyphs["?"];if(g){a=new ShapePath$$module$node_modules$three$build$three_module;if(g.o){e=g._cachedOutline||(g._cachedOutline=g.o.split(" "));for(let t=0,w=e.length;t<w;)switch(e[t++]){case "m":var h=e[t++]*b+c;var k=e[t++]*b+d;a.moveTo(h,k);break;case "l":h=e[t++]*b+c;k=e[t++]*b+d;a.lineTo(h,k);break;case "q":h=e[t++]*b+c;k=e[t++]*b+d;var l=e[t++]*b+c;var m=e[t++]*b+d;a.quadraticCurveTo(l,m,h,k);break;
case "b":h=e[t++]*b+c;k=e[t++]*b+d;l=e[t++]*b+c;m=e[t++]*b+d;var n=e[t++]*b+c;var p=e[t++]*b+d;a.bezierCurveTo(l,m,n,p,h,k)}}return{offsetX:g.ha*b,path:a}}console.error('THREE.Font: character "'+a+'" does not exists in font family '+e.familyName+".")}function FontLoader$$module$node_modules$three$build$three_module(a){Loader$$module$node_modules$three$build$three_module.call(this,a)}
FontLoader$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Loader$$module$node_modules$three$build$three_module.prototype),{constructor:FontLoader$$module$node_modules$three$build$three_module,load:function(a,b,c,d){const e=this,g=new FileLoader$$module$node_modules$three$build$three_module(this.manager);g.setPath(this.path);g.setRequestHeader(this.requestHeader);g.load(a,function(h){let k;try{k=JSON.parse(h)}catch(l){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),
k=JSON.parse(h.substring(65,h.length-2))}h=e.parse(k);b&&b(h)},c,d)},parse:function(a){return new Font$$module$node_modules$three$build$three_module(a)}});let _context$$module$node_modules$three$build$three_module;
const AudioContext$$module$node_modules$three$build$three_module={getContext:function(){void 0===_context$$module$node_modules$three$build$three_module&&(_context$$module$node_modules$three$build$three_module=new (window.AudioContext||window.webkitAudioContext));return _context$$module$node_modules$three$build$three_module},setContext:function(a){_context$$module$node_modules$three$build$three_module=a}};
function AudioLoader$$module$node_modules$three$build$three_module(a){Loader$$module$node_modules$three$build$three_module.call(this,a)}
AudioLoader$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(Loader$$module$node_modules$three$build$three_module.prototype),{constructor:AudioLoader$$module$node_modules$three$build$three_module,load:function(a,b,c,d){const e=this,g=new FileLoader$$module$node_modules$three$build$three_module(e.manager);g.setResponseType("arraybuffer");g.setPath(e.path);g.setRequestHeader(e.requestHeader);g.load(a,function(h){try{const k=h.slice(0);AudioContext$$module$node_modules$three$build$three_module.getContext().decodeAudioData(k,
function(l){b(l)})}catch(k){d?d(k):console.error(k),e.manager.itemError(a)}},c,d)}});
function HemisphereLightProbe$$module$node_modules$three$build$three_module(a,b,c){LightProbe$$module$node_modules$three$build$three_module.call(this,void 0,c);a=(new Color$$module$node_modules$three$build$three_module).set(a);c=(new Color$$module$node_modules$three$build$three_module).set(b);b=new Vector3$$module$node_modules$three$build$three_module(a.r,a.g,a.b);a=new Vector3$$module$node_modules$three$build$three_module(c.r,c.g,c.b);c=Math.sqrt(Math.PI);const d=c*Math.sqrt(.75);this.sh.coefficients[0].copy(b).add(a).multiplyScalar(c);
this.sh.coefficients[1].copy(b).sub(a).multiplyScalar(d)}
HemisphereLightProbe$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(LightProbe$$module$node_modules$three$build$three_module.prototype),{constructor:HemisphereLightProbe$$module$node_modules$three$build$three_module,isHemisphereLightProbe:!0,copy:function(a){LightProbe$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);return this},toJSON:function(a){return LightProbe$$module$node_modules$three$build$three_module.prototype.toJSON.call(this,a)}});
function AmbientLightProbe$$module$node_modules$three$build$three_module(a,b){LightProbe$$module$node_modules$three$build$three_module.call(this,void 0,b);a=(new Color$$module$node_modules$three$build$three_module).set(a);this.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI))}
AmbientLightProbe$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(LightProbe$$module$node_modules$three$build$three_module.prototype),{constructor:AmbientLightProbe$$module$node_modules$three$build$three_module,isAmbientLightProbe:!0,copy:function(a){LightProbe$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);return this},toJSON:function(a){return LightProbe$$module$node_modules$three$build$three_module.prototype.toJSON.call(this,a)}});
const _eyeRight$$module$node_modules$three$build$three_module=new Matrix4$$module$node_modules$three$build$three_module,_eyeLeft$$module$node_modules$three$build$three_module=new Matrix4$$module$node_modules$three$build$three_module;
function StereoCamera$$module$node_modules$three$build$three_module(){this.type="StereoCamera";this.aspect=1;this.eyeSep=.064;this.cameraL=new PerspectiveCamera$$module$node_modules$three$build$three_module;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new PerspectiveCamera$$module$node_modules$three$build$three_module;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1;this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}
Object.assign(StereoCamera$$module$node_modules$three$build$three_module.prototype,{update:function(a){const b=this._cache;if(b.focus!==a.focus||b.fov!==a.fov||b.aspect!==a.aspect*this.aspect||b.near!==a.near||b.far!==a.far||b.zoom!==a.zoom||b.eyeSep!==this.eyeSep){b.focus=a.focus;b.fov=a.fov;b.aspect=a.aspect*this.aspect;b.near=a.near;b.far=a.far;b.zoom=a.zoom;b.eyeSep=this.eyeSep;const d=a.projectionMatrix.clone();var c=b.eyeSep/2;const e=c*b.near/b.focus,g=b.near*Math.tan(MathUtils$$module$node_modules$three$build$three_module.DEG2RAD*
b.fov*.5)/b.zoom;let h;_eyeLeft$$module$node_modules$three$build$three_module.elements[12]=-c;_eyeRight$$module$node_modules$three$build$three_module.elements[12]=c;c=-g*b.aspect+e;h=g*b.aspect+e;d.elements[0]=2*b.near/(h-c);d.elements[8]=(h+c)/(h-c);this.cameraL.projectionMatrix.copy(d);c=-g*b.aspect-e;h=g*b.aspect-e;d.elements[0]=2*b.near/(h-c);d.elements[8]=(h+c)/(h-c);this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(a.matrixWorld).multiply(_eyeLeft$$module$node_modules$three$build$three_module);
this.cameraR.matrixWorld.copy(a.matrixWorld).multiply(_eyeRight$$module$node_modules$three$build$three_module)}});
class Clock$$module$node_modules$three$build$three_module{constructor(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1}start(){this.oldTime=this.startTime=("undefined"===typeof performance?Date:performance).now();this.elapsedTime=0;this.running=!0}stop(){this.getElapsedTime();this.autoStart=this.running=!1}getElapsedTime(){this.getDelta();return this.elapsedTime}getDelta(){let a=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const b=
("undefined"===typeof performance?Date:performance).now();a=(b-this.oldTime)/1E3;this.oldTime=b;this.elapsedTime+=a}return a}}
const _position$2$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_quaternion$3$$module$node_modules$three$build$three_module=new Quaternion$$module$node_modules$three$build$three_module,_scale$1$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_orientation$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module;
class AudioListener$$module$node_modules$three$build$three_module extends Object3D$$module$node_modules$three$build$three_module{constructor(){super();this.type="AudioListener";this.context=AudioContext$$module$node_modules$three$build$three_module.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null;this.timeDelta=0;this._clock=new Clock$$module$node_modules$three$build$three_module}getInput(){return this.gain}removeFilter(){null!==this.filter&&
(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null);return this}getFilter(){return this.filter}setFilter(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination);return this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(a){this.gain.gain.setTargetAtTime(a,
this.context.currentTime,.01);return this}updateMatrixWorld(a){super.updateMatrixWorld(a);a=this.context.listener;const b=this.up;this.timeDelta=this._clock.getDelta();this.matrixWorld.decompose(_position$2$$module$node_modules$three$build$three_module,_quaternion$3$$module$node_modules$three$build$three_module,_scale$1$$module$node_modules$three$build$three_module);_orientation$$module$node_modules$three$build$three_module.set(0,0,-1).applyQuaternion(_quaternion$3$$module$node_modules$three$build$three_module);
if(a.positionX){const c=this.context.currentTime+this.timeDelta;a.positionX.linearRampToValueAtTime(_position$2$$module$node_modules$three$build$three_module.x,c);a.positionY.linearRampToValueAtTime(_position$2$$module$node_modules$three$build$three_module.y,c);a.positionZ.linearRampToValueAtTime(_position$2$$module$node_modules$three$build$three_module.z,c);a.forwardX.linearRampToValueAtTime(_orientation$$module$node_modules$three$build$three_module.x,c);a.forwardY.linearRampToValueAtTime(_orientation$$module$node_modules$three$build$three_module.y,
c);a.forwardZ.linearRampToValueAtTime(_orientation$$module$node_modules$three$build$three_module.z,c);a.upX.linearRampToValueAtTime(b.x,c);a.upY.linearRampToValueAtTime(b.y,c);a.upZ.linearRampToValueAtTime(b.z,c)}else a.setPosition(_position$2$$module$node_modules$three$build$three_module.x,_position$2$$module$node_modules$three$build$three_module.y,_position$2$$module$node_modules$three$build$three_module.z),a.setOrientation(_orientation$$module$node_modules$three$build$three_module.x,_orientation$$module$node_modules$three$build$three_module.y,
_orientation$$module$node_modules$three$build$three_module.z,b.x,b.y,b.z)}}
class Audio$$module$node_modules$three$build$three_module extends Object3D$$module$node_modules$three$build$three_module{constructor(a){super();this.type="Audio";this.listener=a;this.context=a.context;this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.buffer=null;this.detune=0;this.loop=!1;this.offset=this.loopEnd=this.loopStart=0;this.duration=void 0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.source=null;this.sourceType="empty";this._progress=
this._startedAt=0;this._connected=!1;this.filters=[]}getOutput(){return this.gain}setNodeSource(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();return this}setMediaElementSource(a){this.hasPlaybackControl=!1;this.sourceType="mediaNode";this.source=this.context.createMediaElementSource(a);this.connect();return this}setMediaStreamSource(a){this.hasPlaybackControl=!1;this.sourceType="mediaStreamNode";this.source=this.context.createMediaStreamSource(a);this.connect();
return this}setBuffer(a){this.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this}play(a){void 0===a&&(a=0);if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this._startedAt=this.context.currentTime+a,a=this.context.createBufferSource(),a.buffer=this.buffer,a.loop=this.loop,a.loopStart=this.loopStart,a.loopEnd=this.loopEnd,a.onended=this.onEnded.bind(this),
a.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=a,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress%=this.duration||this.buffer.duration),this.source.stop(),this.source.onended=
null,this.isPlaying=!1),this}stop(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(let a=1,b=this.filters.length;a<b;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());this._connected=
!0;return this}disconnect(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(let a=1,b=this.filters.length;a<b;a++)this.filters[a-1].disconnect(this.filters[a]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());this._connected=!1;return this}getFilters(){return this.filters}setFilters(a){a||(a=[]);!0===this._connected?(this.disconnect(),this.filters=a,this.connect()):this.filters=a;return this}setDetune(a){this.detune=
a;if(void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(a){return this.setFilters(a?[a]:[])}setPlaybackRate(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.playbackRate=a,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,
.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.loop=a,!0===this.isPlaying&&(this.source.loop=this.loop),this}setLoopStart(a){this.loopStart=a;return this}setLoopEnd(a){this.loopEnd=a;return this}getVolume(){return this.gain.gain.value}setVolume(a){this.gain.gain.setTargetAtTime(a,
this.context.currentTime,.01);return this}}const _position$3$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_quaternion$4$$module$node_modules$three$build$three_module=new Quaternion$$module$node_modules$three$build$three_module,_scale$2$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_orientation$1$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module;
class PositionalAudio$$module$node_modules$three$build$three_module extends Audio$$module$node_modules$three$build$three_module{constructor(a){super(a);this.panner=this.context.createPanner();this.panner.panningModel="HRTF";this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(a){this.panner.refDistance=a;return this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(a){this.panner.rolloffFactor=a;return this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(a){this.panner.distanceModel=
a;return this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(a){this.panner.maxDistance=a;return this}setDirectionalCone(a,b,c){this.panner.coneInnerAngle=a;this.panner.coneOuterAngle=b;this.panner.coneOuterGain=c;return this}updateMatrixWorld(a){super.updateMatrixWorld(a);if(!0!==this.hasPlaybackControl||!1!==this.isPlaying)if(this.matrixWorld.decompose(_position$3$$module$node_modules$three$build$three_module,_quaternion$4$$module$node_modules$three$build$three_module,_scale$2$$module$node_modules$three$build$three_module),
_orientation$1$$module$node_modules$three$build$three_module.set(0,0,1).applyQuaternion(_quaternion$4$$module$node_modules$three$build$three_module),a=this.panner,a.positionX){const b=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(_position$3$$module$node_modules$three$build$three_module.x,b);a.positionY.linearRampToValueAtTime(_position$3$$module$node_modules$three$build$three_module.y,b);a.positionZ.linearRampToValueAtTime(_position$3$$module$node_modules$three$build$three_module.z,
b);a.orientationX.linearRampToValueAtTime(_orientation$1$$module$node_modules$three$build$three_module.x,b);a.orientationY.linearRampToValueAtTime(_orientation$1$$module$node_modules$three$build$three_module.y,b);a.orientationZ.linearRampToValueAtTime(_orientation$1$$module$node_modules$three$build$three_module.z,b)}else a.setPosition(_position$3$$module$node_modules$three$build$three_module.x,_position$3$$module$node_modules$three$build$three_module.y,_position$3$$module$node_modules$three$build$three_module.z),
a.setOrientation(_orientation$1$$module$node_modules$three$build$three_module.x,_orientation$1$$module$node_modules$three$build$three_module.y,_orientation$1$$module$node_modules$three$build$three_module.z)}}
class AudioAnalyser$$module$node_modules$three$build$three_module{constructor(a,b){this.analyser=a.context.createAnalyser();this.analyser.fftSize=void 0!==b?b:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)}getFrequencyData(){this.analyser.getByteFrequencyData(this.data);return this.data}getAverageFrequency(){let a=0;const b=this.getFrequencyData();for(let c=0;c<b.length;c++)a+=b[c];return a/b.length}}
function PropertyMixer$$module$node_modules$three$build$three_module(a,b,c){this.binding=a;this.valueSize=c;let d;switch(b){case "quaternion":a=this._slerp;b=this._slerpAdditive;d=this._setAdditiveIdentityQuaternion;this.buffer=new Float64Array(6*c);this._workIndex=5;break;case "string":case "bool":b=a=this._select;d=this._setAdditiveIdentityOther;this.buffer=Array(5*c);break;default:a=this._lerp,b=this._lerpAdditive,d=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*c)}this._mixBufferRegion=
a;this._mixBufferRegionAdditive=b;this._setIdentity=d;this._origIndex=3;this._addIndex=4;this.referenceCount=this.useCount=this.cumulativeWeightAdditive=this.cumulativeWeight=0}
Object.assign(PropertyMixer$$module$node_modules$three$build$three_module.prototype,{accumulate:function(a,b){const c=this.buffer,d=this.valueSize;a=a*d+d;var e=this.cumulativeWeight;if(0===e){for(e=0;e!==d;++e)c[a+e]=c[e];e=b}else e+=b,this._mixBufferRegion(c,a,0,b/e,d);this.cumulativeWeight=e},accumulateAdditive:function(a){const b=this.buffer,c=this.valueSize,d=c*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity();this._mixBufferRegionAdditive(b,d,0,a,c);this.cumulativeWeightAdditive+=
a},apply:function(a){const b=this.valueSize,c=this.buffer;a=a*b+b;const d=this.cumulativeWeight,e=this.cumulativeWeightAdditive,g=this.binding;this.cumulativeWeightAdditive=this.cumulativeWeight=0;1>d&&this._mixBufferRegion(c,a,b*this._origIndex,1-d,b);0<e&&this._mixBufferRegionAdditive(c,a,this._addIndex*b,1,b);for(let h=b,k=b+b;h!==k;++h)if(c[h]!==c[h+b]){g.setValue(c,a);break}},saveOriginalState:function(){const a=this.buffer,b=this.valueSize,c=b*this._origIndex;this.binding.getValue(a,c);for(let d=
b,e=c;d!==e;++d)a[d]=a[c+d%b];this._setIdentity();this.cumulativeWeightAdditive=this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_setAdditiveIdentityNumeric:function(){var a=this._addIndex*this.valueSize;const b=a+this.valueSize;for(;a<b;a++)this.buffer[a]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric();this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const a=this._origIndex*
this.valueSize,b=this._addIndex*this.valueSize;for(let c=0;c<this.valueSize;c++)this.buffer[b+c]=this.buffer[a+c]},_select:function(a,b,c,d,e){if(.5<=d)for(d=0;d!==e;++d)a[b+d]=a[c+d]},_slerp:function(a,b,c,d){Quaternion$$module$node_modules$three$build$three_module.slerpFlat(a,b,a,b,a,c,d)},_slerpAdditive:function(a,b,c,d,e){e*=this._workIndex;Quaternion$$module$node_modules$three$build$three_module.multiplyQuaternionsFlat(a,e,a,b,a,c);Quaternion$$module$node_modules$three$build$three_module.slerpFlat(a,
b,a,b,a,e,d)},_lerp:function(a,b,c,d,e){const g=1-d;for(let h=0;h!==e;++h){const k=b+h;a[k]=a[k]*g+a[c+h]*d}},_lerpAdditive:function(a,b,c,d,e){for(let g=0;g!==e;++g){const h=b+g;a[h]+=a[c+g]*d}}});
const _RESERVED_CHARS_RE$$module$node_modules$three$build$three_module="\\[\\]\\.:\\/",_reservedRe$$module$node_modules$three$build$three_module=new RegExp("["+_RESERVED_CHARS_RE$$module$node_modules$three$build$three_module+"]","g"),_wordChar$$module$node_modules$three$build$three_module="[^"+_RESERVED_CHARS_RE$$module$node_modules$three$build$three_module+"]",_wordCharOrDot$$module$node_modules$three$build$three_module="[^"+_RESERVED_CHARS_RE$$module$node_modules$three$build$three_module.replace("\\.",
"")+"]",_directoryRe$$module$node_modules$three$build$three_module=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar$$module$node_modules$three$build$three_module),_nodeRe$$module$node_modules$three$build$three_module=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot$$module$node_modules$three$build$three_module),_objectRe$$module$node_modules$three$build$three_module=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar$$module$node_modules$three$build$three_module),_propertyRe$$module$node_modules$three$build$three_module=
/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar$$module$node_modules$three$build$three_module),_trackRe$$module$node_modules$three$build$three_module=new RegExp("^"+_directoryRe$$module$node_modules$three$build$three_module+_nodeRe$$module$node_modules$three$build$three_module+_objectRe$$module$node_modules$three$build$three_module+_propertyRe$$module$node_modules$three$build$three_module+"$"),_supportedObjectNames$$module$node_modules$three$build$three_module=["material","materials","bones"];
function Composite$$module$node_modules$three$build$three_module(a,b,c){c=c||PropertyBinding$$module$node_modules$three$build$three_module.parseTrackName(b);this._targetGroup=a;this._bindings=a.subscribe_(b,c)}
Object.assign(Composite$$module$node_modules$three$build$three_module.prototype,{getValue:function(a,b){this.bind();const c=this._bindings[this._targetGroup.nCachedObjects_];void 0!==c&&c.getValue(a,b)},setValue:function(a,b){const c=this._bindings;for(let d=this._targetGroup.nCachedObjects_,e=c.length;d!==e;++d)c[d].setValue(a,b)},bind:function(){const a=this._bindings;for(let b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].bind()},unbind:function(){const a=this._bindings;for(let b=
this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].unbind()}});function PropertyBinding$$module$node_modules$three$build$three_module(a,b,c){this.path=b;this.parsedPath=c||PropertyBinding$$module$node_modules$three$build$three_module.parseTrackName(b);this.node=PropertyBinding$$module$node_modules$three$build$three_module.findNode(a,this.parsedPath.nodeName)||a;this.rootNode=a}
Object.assign(PropertyBinding$$module$node_modules$three$build$three_module,{Composite:Composite$$module$node_modules$three$build$three_module,create:function(a,b,c){return a&&a.isAnimationObjectGroup?new PropertyBinding$$module$node_modules$three$build$three_module.Composite(a,b,c):new PropertyBinding$$module$node_modules$three$build$three_module(a,b,c)},sanitizeNodeName:function(a){return a.replace(/\s/g,"_").replace(_reservedRe$$module$node_modules$three$build$three_module,"")},parseTrackName:function(a){var b=
_trackRe$$module$node_modules$three$build$three_module.exec(a);if(!b)throw Error("PropertyBinding: Cannot parse trackName: "+a);b={nodeName:b[2],objectName:b[3],objectIndex:b[4],propertyName:b[5],propertyIndex:b[6]};const c=b.nodeName&&b.nodeName.lastIndexOf(".");if(void 0!==c&&-1!==c){const d=b.nodeName.substring(c+1);-1!==_supportedObjectNames$$module$node_modules$three$build$three_module.indexOf(d)&&(b.nodeName=b.nodeName.substring(0,c),b.objectName=d)}if(null===b.propertyName||0===b.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+
a);return b},findNode:function(a,b){if(!b||""===b||"."===b||-1===b||b===a.name||b===a.uuid)return a;if(a.skeleton){const c=a.skeleton.getBoneByName(b);if(void 0!==c)return c}if(a.children){const c=function(d){for(let g=0;g<d.length;g++){var e=d[g];if(e.name===b||e.uuid===b||(e=c(e.children)))return e}return null};if(a=c(a.children))return a}return null}});
Object.assign(PropertyBinding$$module$node_modules$three$build$three_module.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(a,b){a[b]=this.node[this.propertyName]},function(a,b){const c=this.resolvedProperty;for(let d=0,e=c.length;d!==e;++d)a[b++]=c[d]},function(a,b){a[b]=this.resolvedProperty[this.propertyIndex]},
function(a,b){this.resolvedProperty.toArray(a,b)}],SetterByBindingTypeAndVersioning:[[function(a,b){this.targetObject[this.propertyName]=a[b]},function(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){const c=this.resolvedProperty;for(let d=0,e=c.length;d!==e;++d)c[d]=a[b++]},function(a,b){const c=this.resolvedProperty;for(let d=0,e=c.length;d!==e;++d)c[d]=
a[b++];this.targetObject.needsUpdate=!0},function(a,b){const c=this.resolvedProperty;for(let d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty[this.propertyIndex]=a[b]},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty.fromArray(a,b)},function(a,
b){this.resolvedProperty.fromArray(a,b);this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(a,b){this.bind();this.getValue(a,b)},setValue:function(a,b){this.bind();this.setValue(a,b)},bind:function(){let a=this.node;var b=this.parsedPath,c=b.objectName;const d=b.propertyName;let e=b.propertyIndex;a||(this.node=a=PropertyBinding$$module$node_modules$three$build$three_module.findNode(this.rootNode,b.nodeName)||
this.rootNode);this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(c){var g=b.objectIndex;switch(c){case "materials":if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}a=a.material.materials;break;case "bones":if(!a.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",
this);return}a=a.skeleton.bones;for(c=0;c<a.length;c++)if(a[c].name===g){g=c;break}break;default:if(void 0===a[c]){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}a=a[c]}if(void 0!==g){if(void 0===a[g]){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,a);return}a=a[g]}}g=a[d];if(void 0===g)console.error("THREE.PropertyBinding: Trying to update property for track: "+b.nodeName+"."+d+" but it wasn't found.",
a);else{b=this.Versioning.None;this.targetObject=a;void 0!==a.needsUpdate?b=this.Versioning.NeedsUpdate:void 0!==a.matrixWorldNeedsUpdate&&(b=this.Versioning.MatrixWorldNeedsUpdate);c=this.BindingType.Direct;if(void 0!==e){if("morphTargetInfluences"===d){if(!a.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(a.geometry.isBufferGeometry){if(!a.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",
this);return}void 0!==a.morphTargetDictionary[e]&&(e=a.morphTargetDictionary[e])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}c=this.BindingType.ArrayElement;this.resolvedProperty=g;this.propertyIndex=e}else void 0!==g.fromArray&&void 0!==g.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=g):Array.isArray(g)?(c=this.BindingType.EntireArray,this.resolvedProperty=g):this.propertyName=
d;this.getValue=this.GetterByBindingType[c];this.setValue=this.SetterByBindingTypeAndVersioning[c][b]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}});
Object.assign(PropertyBinding$$module$node_modules$three$build$three_module.prototype,{_getValue_unbound:PropertyBinding$$module$node_modules$three$build$three_module.prototype.getValue,_setValue_unbound:PropertyBinding$$module$node_modules$three$build$three_module.prototype.setValue});
function AnimationObjectGroup$$module$node_modules$three$build$three_module(){this.uuid=MathUtils$$module$node_modules$three$build$three_module.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;const a={};this._indicesByUUID=a;for(let c=0,d=arguments.length;c!==d;++c)a[arguments[c].uuid]=c;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};const b=this;this.stats={objects:{get total(){return b._objects.length},get inUse(){return this.total-
b.nCachedObjects_}},get bindingsPerObject(){return b._bindings.length}}}
Object.assign(AnimationObjectGroup$$module$node_modules$three$build$three_module.prototype,{isAnimationObjectGroup:!0,add:function(){const a=this._objects,b=this._indicesByUUID,c=this._paths,d=this._parsedPaths,e=this._bindings,g=e.length;let h=void 0,k=a.length,l=this.nCachedObjects_;for(let p=0,t=arguments.length;p!==t;++p){const w=arguments[p];var m=w.uuid;let x=b[m];if(void 0===x){x=k++;b[m]=x;a.push(w);for(let A=0,r=g;A!==r;++A)e[A].push(new PropertyBinding$$module$node_modules$three$build$three_module(w,
c[A],d[A]))}else if(x<l){h=a[x];const A=--l;var n=a[A];b[n.uuid]=x;a[x]=n;b[m]=A;a[A]=w;for(let r=0,E=g;r!==E;++r)m=e[r],n=m[x],m[x]=m[A],void 0===n&&(n=new PropertyBinding$$module$node_modules$three$build$three_module(w,c[r],d[r])),m[A]=n}else a[x]!==h&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){const a=this._objects,b=this._indicesByUUID,
c=this._bindings,d=c.length;let e=this.nCachedObjects_;for(let k=0,l=arguments.length;k!==l;++k){var g=arguments[k],h=g.uuid;const m=b[h];if(void 0!==m&&m>=e){const n=e++,p=a[n];b[p.uuid]=m;a[m]=p;b[h]=n;a[n]=g;for(let t=0,w=d;t!==w;++t)g=c[t],h=g[m],g[m]=g[n],g[n]=h}}this.nCachedObjects_=e},uncache:function(){const a=this._objects,b=this._indicesByUUID,c=this._bindings,d=c.length;let e=this.nCachedObjects_,g=a.length;for(let n=0,p=arguments.length;n!==p;++n){var h=arguments[n].uuid;const t=b[h];
if(void 0!==t)if(delete b[h],t<e){h=--e;var k=a[h],l=--g,m=a[l];b[k.uuid]=t;a[t]=k;b[m.uuid]=h;a[h]=m;a.pop();for(let w=0,x=d;w!==x;++w)k=c[w],m=k[l],k[t]=k[h],k[h]=m,k.pop()}else{h=--g;l=a[h];b[l.uuid]=t;a[t]=l;a.pop();for(let w=0,x=d;w!==x;++w)l=c[w],l[t]=l[h],l.pop()}}this.nCachedObjects_=e},subscribe_:function(a,b){const c=this._bindingsIndicesByPath;let d=c[a];const e=this._bindings;if(void 0!==d)return e[d];const g=this._paths,h=this._parsedPaths,k=this._objects,l=this.nCachedObjects_,m=Array(k.length);
d=e.length;c[a]=d;g.push(a);h.push(b);e.push(m);for(let n=l,p=k.length;n!==p;++n)m[n]=new PropertyBinding$$module$node_modules$three$build$three_module(k[n],a,b);return m},unsubscribe_:function(a){const b=this._bindingsIndicesByPath,c=b[a];if(void 0!==c){const d=this._paths,e=this._parsedPaths,g=this._bindings,h=g.length-1,k=g[h];b[a[h]]=c;g[c]=k;g.pop();e[c]=e[h];e.pop();d[c]=d[h];d.pop()}}});
class AnimationAction$$module$node_modules$three$build$three_module{constructor(a,b,c,d){this._mixer=a;this._clip=b;this._localRoot=c||null;this.blendMode=d||b.blendMode;a=b.tracks;b=a.length;c=Array(b);d={endingStart:ZeroCurvatureEnding$$module$node_modules$three$build$three_module,endingEnd:ZeroCurvatureEnding$$module$node_modules$three$build$three_module};for(let e=0;e!==b;++e){const g=a[e].createInterpolant(null);c[e]=g;g.settings=d}this._interpolantSettings=d;this._interpolants=c;this._propertyBindings=
Array(b);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=LoopRepeat$$module$node_modules$three$build$three_module;this._loopCount=-1;this._startTime=null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}play(){this._mixer._activateAction(this);return this}stop(){this._mixer._deactivateAction(this);
return this.reset()}reset(){this.paused=!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(a){this._startTime=a;return this}setLoop(a,b){this.loop=a;this.repetitions=b;return this}setEffectiveWeight(a){this.weight=a;this._effectiveWeight=this.enabled?a:0;
return this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(a){return this._scheduleFading(a,0,1)}fadeOut(a){return this._scheduleFading(a,1,0)}crossFadeFrom(a,b,c){a.fadeOut(b);this.fadeIn(b);if(c){c=this._clip.duration;const d=a._clip.duration,e=c/d;a.warp(1,d/c,b);this.warp(e,1,b)}return this}crossFadeTo(a,b,c){return a.crossFadeFrom(this,b,c)}stopFading(){const a=this._weightInterpolant;null!==a&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this}setEffectiveTimeScale(a){this.timeScale=
a;this._effectiveTimeScale=this.paused?0:a;return this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(a){this.timeScale=this._clip.duration/a;return this.stopWarping()}syncWith(a){this.time=a.time;this.timeScale=a.timeScale;return this.stopWarping()}halt(a){return this.warp(this._effectiveTimeScale,0,a)}warp(a,b,c){var d=this._mixer;const e=d.time,g=this.timeScale;var h=this._timeScaleInterpolant;null===h&&(this._timeScaleInterpolant=h=d._lendControlInterpolant());
d=h.parameterPositions;h=h.sampleValues;d[0]=e;d[1]=e+c;h[0]=a/g;h[1]=b/g;return this}stopWarping(){const a=this._timeScaleInterpolant;null!==a&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(a,b,c,d){if(this.enabled){var e=this._startTime;if(null!==e){b=(a-e)*c;if(0>b||0===c)return;this._startTime=null;b*=c}b*=this._updateTimeScale(a);c=this._updateTime(b);
a=this._updateWeight(a);if(0<a)switch(b=this._interpolants,e=this._propertyBindings,this.blendMode){case AdditiveAnimationBlendMode$$module$node_modules$three$build$three_module:for(let g=0,h=b.length;g!==h;++g)b[g].evaluate(c),e[g].accumulateAdditive(a);break;default:for(let g=0,h=b.length;g!==h;++g)b[g].evaluate(c),e[g].accumulate(d,a)}}else this._updateWeight(a)}_updateWeight(a){let b=0;if(this.enabled){b=this.weight;const c=this._weightInterpolant;if(null!==c){const d=c.evaluate(a)[0];b*=d;a>
c.parameterPositions[1]&&(this.stopFading(),0===d&&(this.enabled=!1))}}return this._effectiveWeight=b}_updateTimeScale(a){let b=0;if(!this.paused){b=this.timeScale;const c=this._timeScaleInterpolant;if(null!==c){const d=c.evaluate(a)[0];b*=d;a>c.parameterPositions[1]&&(this.stopWarping(),0===b?this.paused=!0:this.timeScale=b)}}return this._effectiveTimeScale=b}_updateTime(a){const b=this._clip.duration;var c=this.loop;let d=this.time+a,e=this._loopCount;const g=c===LoopPingPong$$module$node_modules$three$build$three_module;
if(0===a)return-1===e?d:g&&1===(e&1)?b-d:d;if(c===LoopOnce$$module$node_modules$three$build$three_module)a:{if(-1===e&&(this._loopCount=0,this._setEndings(!0,!0,!1)),d>=b)d=b;else if(0>d)d=0;else{this.time=d;break a}this.clampWhenFinished?this.paused=!0:this.enabled=!1;this.time=d;this._mixer.dispatchEvent({type:"finished",action:this,direction:0>a?-1:1})}else{-1===e&&(0<=a?(e=0,this._setEndings(!0,0===this.repetitions,g)):this._setEndings(0===this.repetitions,!0,g));if(d>=b||0>d){c=Math.floor(d/
b);d-=b*c;e+=Math.abs(c);const h=this.repetitions-e;0>=h?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=d=0<a?b:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<a?1:-1})):(1===h?(a=0>a,this._setEndings(a,!a,g)):this._setEndings(!1,!1,g),this._loopCount=e,this.time=d,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c}))}else this.time=d;if(g&&1===(e&1))return b-d}return d}_setEndings(a,b,c){const d=this._interpolantSettings;c?(d.endingStart=ZeroSlopeEnding$$module$node_modules$three$build$three_module,
d.endingEnd=ZeroSlopeEnding$$module$node_modules$three$build$three_module):(d.endingStart=a?this.zeroSlopeAtStart?ZeroSlopeEnding$$module$node_modules$three$build$three_module:ZeroCurvatureEnding$$module$node_modules$three$build$three_module:WrapAroundEnding$$module$node_modules$three$build$three_module,d.endingEnd=b?this.zeroSlopeAtEnd?ZeroSlopeEnding$$module$node_modules$three$build$three_module:ZeroCurvatureEnding$$module$node_modules$three$build$three_module:WrapAroundEnding$$module$node_modules$three$build$three_module)}_scheduleFading(a,
b,c){var d=this._mixer;const e=d.time;var g=this._weightInterpolant;null===g&&(this._weightInterpolant=g=d._lendControlInterpolant());d=g.parameterPositions;g=g.sampleValues;d[0]=e;g[0]=b;d[1]=e+a;g[1]=c;return this}}function AnimationMixer$$module$node_modules$three$build$three_module(a){this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1}
AnimationMixer$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(EventDispatcher$$module$node_modules$three$build$three_module.prototype),{constructor:AnimationMixer$$module$node_modules$three$build$three_module,_bindAction:function(a,b){const c=a._localRoot||this._root,d=a._clip.tracks,e=d.length,g=a._propertyBindings;a=a._interpolants;const h=c.uuid;var k=this._bindingsByRootAndName;let l=k[h];void 0===l&&(l={},k[h]=l);for(k=0;k!==e;++k){const m=d[k],n=m.name;let p=
l[n];if(void 0===p){p=g[k];if(void 0!==p){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,h,n));continue}p=new PropertyMixer$$module$node_modules$three$build$three_module(PropertyBinding$$module$node_modules$three$build$three_module.create(c,n,b&&b._propertyBindings[k].binding.parsedPath),m.ValueTypeName,m.getValueSize());++p.referenceCount;this._addInactiveBinding(p,h,n)}g[k]=p;a[k].resultBuffer=p.buffer}},_activateAction:function(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=
(a._localRoot||this._root).uuid,c=a._clip.uuid;const d=this._actionsByClip[c];this._bindAction(a,d&&d.knownActions[0]);this._addInactiveAction(a,c,b)}b=a._propertyBindings;for(let d=0,e=b.length;d!==e;++d)c=b[d],0===c.useCount++&&(this._lendBinding(c),c.saveOriginalState());this._lendAction(a)}},_deactivateAction:function(a){if(this._isActiveAction(a)){const b=a._propertyBindings;for(let c=0,d=b.length;c!==d;++c){const e=b[c];0===--e.useCount&&(e.restoreOriginalState(),this._takeBackBinding(e))}this._takeBackAction(a)}},
_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=[];this._nActiveControlInterpolants=0;const a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},
get inUse(){return a._nActiveControlInterpolants}}}},_isActiveAction:function(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions},_addInactiveAction:function(a,b,c){const d=this._actions,e=this._actionsByClip;let g=e[b];void 0===g?(g={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,e[b]=g):(b=g.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=d.length;d.push(a);g.actionByRoot[c]=a},_removeInactiveAction:function(a){var b=this._actions,c=b[b.length-1],d=a._cacheIndex;
c._cacheIndex=d;b[d]=c;b.pop();a._cacheIndex=null;b=a._clip.uuid;c=this._actionsByClip;d=c[b];const e=d.knownActions,g=e[e.length-1],h=a._byClipCacheIndex;g._byClipCacheIndex=h;e[h]=g;e.pop();a._byClipCacheIndex=null;delete d.actionByRoot[(a._localRoot||this._root).uuid];0===e.length&&delete c[b];this._removeInactiveBindingsForAction(a)},_removeInactiveBindingsForAction:function(a){a=a._propertyBindings;for(let b=0,c=a.length;b!==c;++b){const d=a[b];0===--d.referenceCount&&this._removeInactiveBinding(d)}},
_lendAction:function(a){const b=this._actions,c=a._cacheIndex,d=this._nActiveActions++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackAction:function(a){const b=this._actions,c=a._cacheIndex,d=--this._nActiveActions,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_addInactiveBinding:function(a,b,c){const d=this._bindingsByRootAndName,e=this._bindings;let g=d[b];void 0===g&&(g={},d[b]=g);g[c]=a;a._cacheIndex=e.length;e.push(a)},_removeInactiveBinding:function(a){const b=this._bindings;
var c=a.binding;const d=c.rootNode.uuid;c=c.path;const e=this._bindingsByRootAndName,g=e[d],h=b[b.length-1];a=a._cacheIndex;h._cacheIndex=a;b[a]=h;b.pop();delete g[c];0===Object.keys(g).length&&delete e[d]},_lendBinding:function(a){const b=this._bindings,c=a._cacheIndex,d=this._nActiveBindings++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackBinding:function(a){const b=this._bindings,c=a._cacheIndex,d=--this._nActiveBindings,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_lendControlInterpolant:function(){const a=
this._controlInterpolants,b=this._nActiveControlInterpolants++;let c=a[b];void 0===c&&(c=new LinearInterpolant$$module$node_modules$three$build$three_module(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),c.__cacheIndex=b,a[b]=c);return c},_takeBackControlInterpolant:function(a){const b=this._controlInterpolants,c=a.__cacheIndex,d=--this._nActiveControlInterpolants,e=b[d];a.__cacheIndex=d;b[d]=a;e.__cacheIndex=c;b[c]=e},_controlInterpolantsResultBuffer:new Float32Array(1),
clipAction:function(a,b,c){var d=b||this._root;const e=d.uuid;d="string"===typeof a?AnimationClip$$module$node_modules$three$build$three_module.findByName(d,a):a;a=null!==d?d.uuid:a;const g=this._actionsByClip[a];var h=null;void 0===c&&(c=null!==d?d.blendMode:NormalAnimationBlendMode$$module$node_modules$three$build$three_module);if(void 0!==g){h=g.actionByRoot[e];if(void 0!==h&&h.blendMode===c)return h;h=g.knownActions[0];null===d&&(d=h._clip)}if(null===d)return null;b=new AnimationAction$$module$node_modules$three$build$three_module(this,
d,b,c);this._bindAction(b,h);this._addInactiveAction(b,a,e);return b},existingAction:function(a,b){var c=b||this._root;b=c.uuid;c="string"===typeof a?AnimationClip$$module$node_modules$three$build$three_module.findByName(c,a):a;a=this._actionsByClip[c?c.uuid:a];return void 0!==a?a.actionByRoot[b]||null:null},stopAllAction:function(){const a=this._actions;var b=this._nActiveActions;for(--b;0<=b;--b)a[b].stop();return this},update:function(a){a*=this.timeScale;var b=this._actions,c=this._nActiveActions;
const d=this.time+=a,e=Math.sign(a),g=this._accuIndex^=1;for(let h=0;h!==c;++h)b[h]._update(d,a,e,g);a=this._bindings;b=this._nActiveBindings;for(c=0;c!==b;++c)a[c].apply(g);return this},setTime:function(a){this.time=0;for(let b=0;b<this._actions.length;b++)this._actions[b].time=0;return this.update(a)},getRoot:function(){return this._root},uncacheClip:function(a){const b=this._actions;a=a.uuid;const c=this._actionsByClip;var d=c[a];if(void 0!==d){d=d.knownActions;for(let e=0,g=d.length;e!==g;++e){const h=
d[e];this._deactivateAction(h);const k=h._cacheIndex,l=b[b.length-1];h._cacheIndex=null;h._byClipCacheIndex=null;l._cacheIndex=k;b[k]=l;b.pop();this._removeInactiveBindingsForAction(h)}delete c[a]}},uncacheRoot:function(a){a=a.uuid;const b=this._actionsByClip;for(var c in b){const d=b[c].actionByRoot[a];void 0!==d&&(this._deactivateAction(d),this._removeInactiveAction(d))}c=this._bindingsByRootAndName[a];if(void 0!==c)for(const d in c)a=c[d],a.restoreOriginalState(),this._removeInactiveBinding(a)},
uncacheAction:function(a,b){a=this.existingAction(a,b);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}});class Uniform$$module$node_modules$three$build$three_module{constructor(a,b){"string"===typeof a&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),a=b);this.value=a}clone(){return new Uniform$$module$node_modules$three$build$three_module(void 0===this.value.clone?this.value:this.value.clone())}}
function InstancedInterleavedBuffer$$module$node_modules$three$build$three_module(a,b,c){InterleavedBuffer$$module$node_modules$three$build$three_module.call(this,a,b);this.meshPerAttribute=c||1}
InstancedInterleavedBuffer$$module$node_modules$three$build$three_module.prototype=Object.assign(Object.create(InterleavedBuffer$$module$node_modules$three$build$three_module.prototype),{constructor:InstancedInterleavedBuffer$$module$node_modules$three$build$three_module,isInstancedInterleavedBuffer:!0,copy:function(a){InterleavedBuffer$$module$node_modules$three$build$three_module.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this},clone:function(a){a=InterleavedBuffer$$module$node_modules$three$build$three_module.prototype.clone.call(this,
a);a.meshPerAttribute=this.meshPerAttribute;return a},toJSON:function(a){a=InterleavedBuffer$$module$node_modules$three$build$three_module.prototype.toJSON.call(this,a);a.isInstancedInterleavedBuffer=!0;a.meshPerAttribute=this.meshPerAttribute;return a}});function GLBufferAttribute$$module$node_modules$three$build$three_module(a,b,c,d,e){this.buffer=a;this.type=b;this.itemSize=c;this.elementSize=d;this.count=e;this.version=0}
Object.defineProperty(GLBufferAttribute$$module$node_modules$three$build$three_module.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});Object.assign(GLBufferAttribute$$module$node_modules$three$build$three_module.prototype,{isGLBufferAttribute:!0,setBuffer:function(a){this.buffer=a;return this},setType:function(a,b){this.type=a;this.elementSize=b;return this},setItemSize:function(a){this.itemSize=a;return this},setCount:function(a){this.count=a;return this}});
function Raycaster$$module$node_modules$three$build$three_module(a,b,c,d){this.ray=new Ray$$module$node_modules$three$build$three_module(a,b);this.near=c||0;this.far=d||Infinity;this.camera=null;this.layers=new Layers$$module$node_modules$three$build$three_module;this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})}
function ascSort$$module$node_modules$three$build$three_module(a,b){return a.distance-b.distance}function intersectObject$$module$node_modules$three$build$three_module(a,b,c,d){a.layers.test(b.layers)&&a.raycast(b,c);if(!0===d){a=a.children;for(let e=0,g=a.length;e<g;e++)intersectObject$$module$node_modules$three$build$three_module(a[e],b,c,!0)}}
Object.assign(Raycaster$$module$node_modules$three$build$three_module.prototype,{set:function(a,b){this.ray.set(a,b)},setFromCamera:function(a,b){b&&b.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(b.matrixWorld),this.ray.direction.set(a.x,a.y,.5).unproject(b).sub(this.ray.origin).normalize(),this.camera=b):b&&b.isOrthographicCamera?(this.ray.origin.set(a.x,a.y,(b.near+b.far)/(b.near-b.far)).unproject(b),this.ray.direction.set(0,0,-1).transformDirection(b.matrixWorld),this.camera=b):console.error("THREE.Raycaster: Unsupported camera type.")},
intersectObject:function(a,b,c){c=c||[];intersectObject$$module$node_modules$three$build$three_module(a,this,c,b);c.sort(ascSort$$module$node_modules$three$build$three_module);return c},intersectObjects:function(a,b,c){c=c||[];if(!1===Array.isArray(a))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),c;for(let d=0,e=a.length;d<e;d++)intersectObject$$module$node_modules$three$build$three_module(a[d],this,c,b);c.sort(ascSort$$module$node_modules$three$build$three_module);
return c}});
class Spherical$$module$node_modules$three$build$three_module{constructor(a=1,b=0,c=0){this.radius=a;this.phi=b;this.theta=c;return this}set(a,b,c){this.radius=a;this.phi=b;this.theta=c;return this}clone(){return(new this.constructor).copy(this)}copy(a){this.radius=a.radius;this.phi=a.phi;this.theta=a.theta;return this}makeSafe(){this.phi=Math.max(1E-6,Math.min(Math.PI-1E-6,this.phi));return this}setFromVector3(a){return this.setFromCartesianCoords(a.x,a.y,a.z)}setFromCartesianCoords(a,b,c){this.radius=
Math.sqrt(a*a+b*b+c*c);0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a,c),this.phi=Math.acos(MathUtils$$module$node_modules$three$build$three_module.clamp(b/this.radius,-1,1)));return this}}
class Cylindrical$$module$node_modules$three$build$three_module{constructor(a,b,c){this.radius=void 0!==a?a:1;this.theta=void 0!==b?b:0;this.y=void 0!==c?c:0;return this}set(a,b,c){this.radius=a;this.theta=b;this.y=c;return this}clone(){return(new this.constructor).copy(this)}copy(a){this.radius=a.radius;this.theta=a.theta;this.y=a.y;return this}setFromVector3(a){return this.setFromCartesianCoords(a.x,a.y,a.z)}setFromCartesianCoords(a,b,c){this.radius=Math.sqrt(a*a+c*c);this.theta=Math.atan2(a,c);
this.y=b;return this}}const _vector$7$$module$node_modules$three$build$three_module=new Vector2$$module$node_modules$three$build$three_module;
class Box2$$module$node_modules$three$build$three_module{constructor(a,b){Object.defineProperty(this,"isBox2",{value:!0});this.min=void 0!==a?a:new Vector2$$module$node_modules$three$build$three_module(Infinity,Infinity);this.max=void 0!==b?b:new Vector2$$module$node_modules$three$build$three_module(-Infinity,-Infinity)}set(a,b){this.min.copy(a);this.max.copy(b);return this}setFromPoints(a){this.makeEmpty();for(let b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this}setFromCenterAndSize(a,
b){b=_vector$7$$module$node_modules$three$build$three_module.copy(b).multiplyScalar(.5);this.min.copy(a).sub(b);this.max.copy(a).add(b);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.min.copy(a.min);this.max.copy(a.max);return this}makeEmpty(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(a){void 0===a&&(console.warn("THREE.Box2: .getCenter() target is now required"),a=new Vector2$$module$node_modules$three$build$three_module);
return this.isEmpty()?a.set(0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(a){void 0===a&&(console.warn("THREE.Box2: .getSize() target is now required"),a=new Vector2$$module$node_modules$three$build$three_module);return this.isEmpty()?a.set(0,0):a.subVectors(this.max,this.min)}expandByPoint(a){this.min.min(a);this.max.max(a);return this}expandByVector(a){this.min.sub(a);this.max.add(a);return this}expandByScalar(a){this.min.addScalar(-a);this.max.addScalar(a);return this}containsPoint(a){return a.x<
this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0}containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y}getParameter(a,b){void 0===b&&(console.warn("THREE.Box2: .getParameter() target is now required"),b=new Vector2$$module$node_modules$three$build$three_module);return b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||
a.min.y>this.max.y?!1:!0}clampPoint(a,b){void 0===b&&(console.warn("THREE.Box2: .clampPoint() target is now required"),b=new Vector2$$module$node_modules$three$build$three_module);return b.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return _vector$7$$module$node_modules$three$build$three_module.copy(a).clamp(this.min,this.max).sub(a).length()}intersect(a){this.min.max(a.min);this.max.min(a.max);return this}union(a){this.min.min(a.min);this.max.max(a.max);return this}translate(a){this.min.add(a);
this.max.add(a);return this}equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}const _startP$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_startEnd$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module;
class Line3$$module$node_modules$three$build$three_module{constructor(a,b){this.start=void 0!==a?a:new Vector3$$module$node_modules$three$build$three_module;this.end=void 0!==b?b:new Vector3$$module$node_modules$three$build$three_module}set(a,b){this.start.copy(a);this.end.copy(b);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.start.copy(a.start);this.end.copy(a.end);return this}getCenter(a){void 0===a&&(console.warn("THREE.Line3: .getCenter() target is now required"),a=
new Vector3$$module$node_modules$three$build$three_module);return a.addVectors(this.start,this.end).multiplyScalar(.5)}delta(a){void 0===a&&(console.warn("THREE.Line3: .delta() target is now required"),a=new Vector3$$module$node_modules$three$build$three_module);return a.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(a,b){void 0===b&&(console.warn("THREE.Line3: .at() target is now required"),b=new Vector3$$module$node_modules$three$build$three_module);
return this.delta(b).multiplyScalar(a).add(this.start)}closestPointToPointParameter(a,b){_startP$$module$node_modules$three$build$three_module.subVectors(a,this.start);_startEnd$$module$node_modules$three$build$three_module.subVectors(this.end,this.start);a=_startEnd$$module$node_modules$three$build$three_module.dot(_startEnd$$module$node_modules$three$build$three_module);a=_startEnd$$module$node_modules$three$build$three_module.dot(_startP$$module$node_modules$three$build$three_module)/a;b&&(a=MathUtils$$module$node_modules$three$build$three_module.clamp(a,
0,1));return a}closestPointToPoint(a,b,c){a=this.closestPointToPointParameter(a,b);void 0===c&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),c=new Vector3$$module$node_modules$three$build$three_module);return this.delta(c).multiplyScalar(a).add(this.start)}applyMatrix4(a){this.start.applyMatrix4(a);this.end.applyMatrix4(a);return this}equals(a){return a.start.equals(this.start)&&a.end.equals(this.end)}}
function ImmediateRenderObject$$module$node_modules$three$build$three_module(a){Object3D$$module$node_modules$three$build$three_module.call(this);this.material=a;this.render=function(){};this.hasUvs=this.hasColors=this.hasNormals=this.hasPositions=!1;this.uvArray=this.colorArray=this.normalArray=this.positionArray=null;this.count=0}ImmediateRenderObject$$module$node_modules$three$build$three_module.prototype=Object.create(Object3D$$module$node_modules$three$build$three_module.prototype);
ImmediateRenderObject$$module$node_modules$three$build$three_module.prototype.constructor=ImmediateRenderObject$$module$node_modules$three$build$three_module;ImmediateRenderObject$$module$node_modules$three$build$three_module.prototype.isImmediateRenderObject=!0;const _vector$8$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module;
class SpotLightHelper$$module$node_modules$three$build$three_module extends Object3D$$module$node_modules$three$build$three_module{constructor(a,b){super();this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=b;a=new BufferGeometry$$module$node_modules$three$build$three_module;b=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let c=0,d=1,e=32;c<e;c++,d++){const g=c/e*Math.PI*2,h=d/e*Math.PI*2;b.push(Math.cos(g),Math.sin(g),1,
Math.cos(h),Math.sin(h),1)}a.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(b,3));b=new LineBasicMaterial$$module$node_modules$three$build$three_module({fog:!1,toneMapped:!1});this.cone=new LineSegments$$module$node_modules$three$build$three_module(a,b);this.add(this.cone);this.update()}dispose(){this.cone.geometry.dispose();this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const a=this.light.distance?this.light.distance:1E3,b=a*
Math.tan(this.light.angle);this.cone.scale.set(b,b,a);_vector$8$$module$node_modules$three$build$three_module.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(_vector$8$$module$node_modules$three$build$three_module);void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}
const _vector$9$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_boneMatrix$$module$node_modules$three$build$three_module=new Matrix4$$module$node_modules$three$build$three_module,_matrixWorldInv$$module$node_modules$three$build$three_module=new Matrix4$$module$node_modules$three$build$three_module;
class SkeletonHelper$$module$node_modules$three$build$three_module extends LineSegments$$module$node_modules$three$build$three_module{constructor(a){const b=getBoneList$$module$node_modules$three$build$three_module(a),c=new BufferGeometry$$module$node_modules$three$build$three_module;var d=[];const e=[],g=new Color$$module$node_modules$three$build$three_module(0,0,1),h=new Color$$module$node_modules$three$build$three_module(0,1,0);for(let k=0;k<b.length;k++){const l=b[k];l.parent&&l.parent.isBone&&
(d.push(0,0,0),d.push(0,0,0),e.push(g.r,g.g,g.b),e.push(h.r,h.g,h.b))}c.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(d,3));c.setAttribute("color",new Float32BufferAttribute$$module$node_modules$three$build$three_module(e,3));d=new LineBasicMaterial$$module$node_modules$three$build$three_module({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(c,d);this.type="SkeletonHelper";this.isSkeletonHelper=!0;this.root=a;this.bones=
b;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1}updateMatrixWorld(a){const b=this.bones,c=this.geometry,d=c.getAttribute("position");_matrixWorldInv$$module$node_modules$three$build$three_module.getInverse(this.root.matrixWorld);for(let e=0,g=0;e<b.length;e++){const h=b[e];h.parent&&h.parent.isBone&&(_boneMatrix$$module$node_modules$three$build$three_module.multiplyMatrices(_matrixWorldInv$$module$node_modules$three$build$three_module,h.matrixWorld),_vector$9$$module$node_modules$three$build$three_module.setFromMatrixPosition(_boneMatrix$$module$node_modules$three$build$three_module),
d.setXYZ(g,_vector$9$$module$node_modules$three$build$three_module.x,_vector$9$$module$node_modules$three$build$three_module.y,_vector$9$$module$node_modules$three$build$three_module.z),_boneMatrix$$module$node_modules$three$build$three_module.multiplyMatrices(_matrixWorldInv$$module$node_modules$three$build$three_module,h.parent.matrixWorld),_vector$9$$module$node_modules$three$build$three_module.setFromMatrixPosition(_boneMatrix$$module$node_modules$three$build$three_module),d.setXYZ(g+1,_vector$9$$module$node_modules$three$build$three_module.x,
_vector$9$$module$node_modules$three$build$three_module.y,_vector$9$$module$node_modules$three$build$three_module.z),g+=2)}c.getAttribute("position").needsUpdate=!0;super.updateMatrixWorld(a)}}function getBoneList$$module$node_modules$three$build$three_module(a){const b=[];a&&a.isBone&&b.push(a);for(let c=0;c<a.children.length;c++)b.push.apply(b,getBoneList$$module$node_modules$three$build$three_module(a.children[c]));return b}
class PointLightHelper$$module$node_modules$three$build$three_module extends Mesh$$module$node_modules$three$build$three_module{constructor(a,b,c){b=new SphereBufferGeometry$$module$node_modules$three$build$three_module(b,4,2);const d=new MeshBasicMaterial$$module$node_modules$three$build$three_module({wireframe:!0,fog:!1,toneMapped:!1});super(b,d);this.light=a;this.light.updateMatrixWorld();this.color=c;this.type="PointLightHelper";this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1;this.update()}dispose(){this.geometry.dispose();
this.material.dispose()}update(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$a$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_color1$$module$node_modules$three$build$three_module=new Color$$module$node_modules$three$build$three_module,_color2$$module$node_modules$three$build$three_module=new Color$$module$node_modules$three$build$three_module;
class HemisphereLightHelper$$module$node_modules$three$build$three_module extends Object3D$$module$node_modules$three$build$three_module{constructor(a,b,c){super();this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=c;a=new OctahedronBufferGeometry$$module$node_modules$three$build$three_module(b);a.rotateY(.5*Math.PI);this.material=new MeshBasicMaterial$$module$node_modules$three$build$three_module({wireframe:!0,fog:!1,toneMapped:!1});void 0===
this.color&&(this.material.vertexColors=!0);b=a.getAttribute("position");b=new Float32Array(3*b.count);a.setAttribute("color",new BufferAttribute$$module$node_modules$three$build$three_module(b,3));this.add(new Mesh$$module$node_modules$three$build$three_module(a,this.material));this.update()}dispose(){this.children[0].geometry.dispose();this.children[0].material.dispose()}update(){const a=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const b=a.geometry.getAttribute("color");
_color1$$module$node_modules$three$build$three_module.copy(this.light.color);_color2$$module$node_modules$three$build$three_module.copy(this.light.groundColor);for(let c=0,d=b.count;c<d;c++){const e=c<d/2?_color1$$module$node_modules$three$build$three_module:_color2$$module$node_modules$three$build$three_module;b.setXYZ(c,e.r,e.g,e.b)}b.needsUpdate=!0}a.lookAt(_vector$a$$module$node_modules$three$build$three_module.setFromMatrixPosition(this.light.matrixWorld).negate())}}
class GridHelper$$module$node_modules$three$build$three_module extends LineSegments$$module$node_modules$three$build$three_module{constructor(a,b,c,d){a=a||10;b=b||10;c=new Color$$module$node_modules$three$build$three_module(void 0!==c?c:4473924);d=new Color$$module$node_modules$three$build$three_module(void 0!==d?d:8947848);const e=b/2,g=a/b,h=a/2;a=[];const k=[];for(let l=0,m=0,n=-h;l<=b;l++,n+=g){a.push(-h,0,n,h,0,n);a.push(n,0,-h,n,0,h);const p=l===e?c:d;p.toArray(k,m);m+=3;p.toArray(k,m);m+=
3;p.toArray(k,m);m+=3;p.toArray(k,m);m+=3}b=new BufferGeometry$$module$node_modules$three$build$three_module;b.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(a,3));b.setAttribute("color",new Float32BufferAttribute$$module$node_modules$three$build$three_module(k,3));c=new LineBasicMaterial$$module$node_modules$three$build$three_module({vertexColors:!0,toneMapped:!1});super(b,c);this.type="GridHelper"}}
class PolarGridHelper$$module$node_modules$three$build$three_module extends LineSegments$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e,g){a=a||10;b=b||16;c=c||8;d=d||64;e=new Color$$module$node_modules$three$build$three_module(void 0!==e?e:4473924);g=new Color$$module$node_modules$three$build$three_module(void 0!==g?g:8947848);var h=[];const k=[];for(var l=0;l<=b;l++){var m=l/b*2*Math.PI,n=Math.sin(m)*a;m=Math.cos(m)*a;h.push(0,0,0);h.push(n,0,m);n=l&1?e:g;k.push(n.r,n.g,n.b);
k.push(n.r,n.g,n.b)}for(b=0;b<=c;b++)for(l=b&1?e:g,n=a-a/c*b,m=0;m<d;m++){var p=m/d*2*Math.PI;let t=Math.sin(p)*n;p=Math.cos(p)*n;h.push(t,0,p);k.push(l.r,l.g,l.b);p=(m+1)/d*2*Math.PI;t=Math.sin(p)*n;p=Math.cos(p)*n;h.push(t,0,p);k.push(l.r,l.g,l.b)}a=new BufferGeometry$$module$node_modules$three$build$three_module;a.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(h,3));a.setAttribute("color",new Float32BufferAttribute$$module$node_modules$three$build$three_module(k,
3));h=new LineBasicMaterial$$module$node_modules$three$build$three_module({vertexColors:!0,toneMapped:!1});super(a,h);this.type="PolarGridHelper"}}const _v1$5$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_v2$3$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_v3$1$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module;
class DirectionalLightHelper$$module$node_modules$three$build$three_module extends Object3D$$module$node_modules$three$build$three_module{constructor(a,b,c){super();this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=c;void 0===b&&(b=1);a=new BufferGeometry$$module$node_modules$three$build$three_module;a.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module([-b,b,0,b,b,0,b,-b,0,-b,-b,0,-b,b,0],3));b=new LineBasicMaterial$$module$node_modules$three$build$three_module({fog:!1,
toneMapped:!1});this.lightPlane=new Line$$module$node_modules$three$build$three_module(a,b);this.add(this.lightPlane);a=new BufferGeometry$$module$node_modules$three$build$three_module;a.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module([0,0,0,0,0,1],3));this.targetLine=new Line$$module$node_modules$three$build$three_module(a,b);this.add(this.targetLine);this.update()}dispose(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();
this.targetLine.material.dispose()}update(){_v1$5$$module$node_modules$three$build$three_module.setFromMatrixPosition(this.light.matrixWorld);_v2$3$$module$node_modules$three$build$three_module.setFromMatrixPosition(this.light.target.matrixWorld);_v3$1$$module$node_modules$three$build$three_module.subVectors(_v2$3$$module$node_modules$three$build$three_module,_v1$5$$module$node_modules$three$build$three_module);this.lightPlane.lookAt(_v2$3$$module$node_modules$three$build$three_module);void 0!==this.color?
(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color));this.targetLine.lookAt(_v2$3$$module$node_modules$three$build$three_module);this.targetLine.scale.z=_v3$1$$module$node_modules$three$build$three_module.length()}}
const _vector$b$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module,_camera$$module$node_modules$three$build$three_module=new Camera$$module$node_modules$three$build$three_module;
class CameraHelper$$module$node_modules$three$build$three_module extends LineSegments$$module$node_modules$three$build$three_module{constructor(a){function b(w,x,A){c(w,A);c(x,A)}function c(w,x){g.push(0,0,0);h.push(x.r,x.g,x.b);void 0===k[w]&&(k[w]=[]);k[w].push(g.length/3-1)}const d=new BufferGeometry$$module$node_modules$three$build$three_module,e=new LineBasicMaterial$$module$node_modules$three$build$three_module({color:16777215,vertexColors:!0,toneMapped:!1}),g=[],h=[],k={},l=new Color$$module$node_modules$three$build$three_module(16755200),
m=new Color$$module$node_modules$three$build$three_module(16711680),n=new Color$$module$node_modules$three$build$three_module(43775),p=new Color$$module$node_modules$three$build$three_module(16777215),t=new Color$$module$node_modules$three$build$three_module(3355443);b("n1","n2",l);b("n2","n4",l);b("n4","n3",l);b("n3","n1",l);b("f1","f2",l);b("f2","f4",l);b("f4","f3",l);b("f3","f1",l);b("n1","f1",l);b("n2","f2",l);b("n3","f3",l);b("n4","f4",l);b("p","n1",m);b("p","n2",m);b("p","n3",m);b("p","n4",
m);b("u1","u2",n);b("u2","u3",n);b("u3","u1",n);b("c","t",p);b("p","c",t);b("cn1","cn2",t);b("cn3","cn4",t);b("cf1","cf2",t);b("cf3","cf4",t);d.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(g,3));d.setAttribute("color",new Float32BufferAttribute$$module$node_modules$three$build$three_module(h,3));super(d,e);this.type="CameraHelper";this.camera=a;this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=
!1;this.pointMap=k;this.update()}update(){const a=this.geometry,b=this.pointMap;_camera$$module$node_modules$three$build$three_module.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);setPoint$$module$node_modules$three$build$three_module("c",b,a,_camera$$module$node_modules$three$build$three_module,0,0,-1);setPoint$$module$node_modules$three$build$three_module("t",b,a,_camera$$module$node_modules$three$build$three_module,0,0,1);setPoint$$module$node_modules$three$build$three_module("n1",
b,a,_camera$$module$node_modules$three$build$three_module,-1,-1,-1);setPoint$$module$node_modules$three$build$three_module("n2",b,a,_camera$$module$node_modules$three$build$three_module,1,-1,-1);setPoint$$module$node_modules$three$build$three_module("n3",b,a,_camera$$module$node_modules$three$build$three_module,-1,1,-1);setPoint$$module$node_modules$three$build$three_module("n4",b,a,_camera$$module$node_modules$three$build$three_module,1,1,-1);setPoint$$module$node_modules$three$build$three_module("f1",
b,a,_camera$$module$node_modules$three$build$three_module,-1,-1,1);setPoint$$module$node_modules$three$build$three_module("f2",b,a,_camera$$module$node_modules$three$build$three_module,1,-1,1);setPoint$$module$node_modules$three$build$three_module("f3",b,a,_camera$$module$node_modules$three$build$three_module,-1,1,1);setPoint$$module$node_modules$three$build$three_module("f4",b,a,_camera$$module$node_modules$three$build$three_module,1,1,1);setPoint$$module$node_modules$three$build$three_module("u1",
b,a,_camera$$module$node_modules$three$build$three_module,.7,1.1,-1);setPoint$$module$node_modules$three$build$three_module("u2",b,a,_camera$$module$node_modules$three$build$three_module,-.7,1.1,-1);setPoint$$module$node_modules$three$build$three_module("u3",b,a,_camera$$module$node_modules$three$build$three_module,0,2,-1);setPoint$$module$node_modules$three$build$three_module("cf1",b,a,_camera$$module$node_modules$three$build$three_module,-1,0,1);setPoint$$module$node_modules$three$build$three_module("cf2",
b,a,_camera$$module$node_modules$three$build$three_module,1,0,1);setPoint$$module$node_modules$three$build$three_module("cf3",b,a,_camera$$module$node_modules$three$build$three_module,0,-1,1);setPoint$$module$node_modules$three$build$three_module("cf4",b,a,_camera$$module$node_modules$three$build$three_module,0,1,1);setPoint$$module$node_modules$three$build$three_module("cn1",b,a,_camera$$module$node_modules$three$build$three_module,-1,0,-1);setPoint$$module$node_modules$three$build$three_module("cn2",
b,a,_camera$$module$node_modules$three$build$three_module,1,0,-1);setPoint$$module$node_modules$three$build$three_module("cn3",b,a,_camera$$module$node_modules$three$build$three_module,0,-1,-1);setPoint$$module$node_modules$three$build$three_module("cn4",b,a,_camera$$module$node_modules$three$build$three_module,0,1,-1);a.getAttribute("position").needsUpdate=!0}}
function setPoint$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h){_vector$b$$module$node_modules$three$build$three_module.set(e,g,h).unproject(d);a=b[a];if(void 0!==a){c=c.getAttribute("position");for(let k=0,l=a.length;k<l;k++)c.setXYZ(a[k],_vector$b$$module$node_modules$three$build$three_module.x,_vector$b$$module$node_modules$three$build$three_module.y,_vector$b$$module$node_modules$three$build$three_module.z)}}const _box$3$$module$node_modules$three$build$three_module=new Box3$$module$node_modules$three$build$three_module;
class BoxHelper$$module$node_modules$three$build$three_module extends LineSegments$$module$node_modules$three$build$three_module{constructor(a,b=16776960){const c=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),d=new Float32Array(24),e=new BufferGeometry$$module$node_modules$three$build$three_module;e.setIndex(new BufferAttribute$$module$node_modules$three$build$three_module(c,1));e.setAttribute("position",new BufferAttribute$$module$node_modules$three$build$three_module(d,3));
super(e,new LineBasicMaterial$$module$node_modules$three$build$three_module({color:b,toneMapped:!1}));this.object=a;this.type="BoxHelper";this.matrixAutoUpdate=!1;this.update()}update(a){void 0!==a&&console.warn("THREE.BoxHelper: .update() has no longer arguments.");void 0!==this.object&&_box$3$$module$node_modules$three$build$three_module.setFromObject(this.object);if(!_box$3$$module$node_modules$three$build$three_module.isEmpty()){a=_box$3$$module$node_modules$three$build$three_module.min;var b=
_box$3$$module$node_modules$three$build$three_module.max,c=this.geometry.attributes.position,d=c.array;d[0]=b.x;d[1]=b.y;d[2]=b.z;d[3]=a.x;d[4]=b.y;d[5]=b.z;d[6]=a.x;d[7]=a.y;d[8]=b.z;d[9]=b.x;d[10]=a.y;d[11]=b.z;d[12]=b.x;d[13]=b.y;d[14]=a.z;d[15]=a.x;d[16]=b.y;d[17]=a.z;d[18]=a.x;d[19]=a.y;d[20]=a.z;d[21]=b.x;d[22]=a.y;d[23]=a.z;c.needsUpdate=!0;this.geometry.computeBoundingSphere()}}setFromObject(a){this.object=a;this.update();return this}copy(a){LineSegments$$module$node_modules$three$build$three_module.prototype.copy.call(this,
a);this.object=a.object;return this}}
class Box3Helper$$module$node_modules$three$build$three_module extends LineSegments$$module$node_modules$three$build$three_module{constructor(a,b=16776960){const c=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),d=new BufferGeometry$$module$node_modules$three$build$three_module;d.setIndex(new BufferAttribute$$module$node_modules$three$build$three_module(c,1));d.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module([1,1,1,-1,1,1,-1,-1,1,
1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3));super(d,new LineBasicMaterial$$module$node_modules$three$build$three_module({color:b,toneMapped:!1}));this.box=a;this.type="Box3Helper";this.geometry.computeBoundingSphere()}updateMatrixWorld(a){const b=this.box;b.isEmpty()||(b.getCenter(this.position),b.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(a))}}
class PlaneHelper$$module$node_modules$three$build$three_module extends Line$$module$node_modules$three$build$three_module{constructor(a,b,c){c=void 0!==c?c:16776960;const d=new BufferGeometry$$module$node_modules$three$build$three_module;d.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3));d.computeBoundingSphere();super(d,new LineBasicMaterial$$module$node_modules$three$build$three_module({color:c,
toneMapped:!1}));this.type="PlaneHelper";this.plane=a;this.size=void 0===b?1:b;a=new BufferGeometry$$module$node_modules$three$build$three_module;a.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3));a.computeBoundingSphere();this.add(new Mesh$$module$node_modules$three$build$three_module(a,new MeshBasicMaterial$$module$node_modules$three$build$three_module({color:c,opacity:.2,transparent:!0,depthWrite:!1,
toneMapped:!1})))}updateMatrixWorld(a){let b=-this.plane.constant;1E-8>Math.abs(b)&&(b=1E-8);this.scale.set(.5*this.size,.5*this.size,b);this.children[0].material.side=0>b?BackSide$$module$node_modules$three$build$three_module:FrontSide$$module$node_modules$three$build$three_module;this.lookAt(this.plane.normal);super.updateMatrixWorld(a)}}const _axis$$module$node_modules$three$build$three_module=new Vector3$$module$node_modules$three$build$three_module;
let _lineGeometry$$module$node_modules$three$build$three_module,_coneGeometry$$module$node_modules$three$build$three_module;
class ArrowHelper$$module$node_modules$three$build$three_module extends Object3D$$module$node_modules$three$build$three_module{constructor(a,b,c,d,e,g){super();this.type="ArrowHelper";void 0===a&&(a=new Vector3$$module$node_modules$three$build$three_module(0,0,1));void 0===b&&(b=new Vector3$$module$node_modules$three$build$three_module(0,0,0));void 0===c&&(c=1);void 0===d&&(d=16776960);void 0===e&&(e=.2*c);void 0===g&&(g=.2*e);void 0===_lineGeometry$$module$node_modules$three$build$three_module&&
(_lineGeometry$$module$node_modules$three$build$three_module=new BufferGeometry$$module$node_modules$three$build$three_module,_lineGeometry$$module$node_modules$three$build$three_module.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module([0,0,0,0,1,0],3)),_coneGeometry$$module$node_modules$three$build$three_module=new CylinderBufferGeometry$$module$node_modules$three$build$three_module(0,.5,1,5,1),_coneGeometry$$module$node_modules$three$build$three_module.translate(0,
-.5,0));this.position.copy(b);this.line=new Line$$module$node_modules$three$build$three_module(_lineGeometry$$module$node_modules$three$build$three_module,new LineBasicMaterial$$module$node_modules$three$build$three_module({color:d,toneMapped:!1}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new Mesh$$module$node_modules$three$build$three_module(_coneGeometry$$module$node_modules$three$build$three_module,new MeshBasicMaterial$$module$node_modules$three$build$three_module({color:d,
toneMapped:!1}));this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(a);this.setLength(c,e,g)}setDirection(a){.99999<a.y?this.quaternion.set(0,0,0,1):-.99999>a.y?this.quaternion.set(1,0,0,0):(_axis$$module$node_modules$three$build$three_module.set(a.z,0,-a.x).normalize(),this.quaternion.setFromAxisAngle(_axis$$module$node_modules$three$build$three_module,Math.acos(a.y)))}setLength(a,b,c){void 0===b&&(b=.2*a);void 0===c&&(c=.2*b);this.line.scale.set(1,Math.max(1E-4,a-b),1);this.line.updateMatrix();
this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()}setColor(a){this.line.material.color.set(a);this.cone.material.color.set(a)}copy(a){super.copy(a,!1);this.line.copy(a.line);this.cone.copy(a.cone);return this}}
class AxesHelper$$module$node_modules$three$build$three_module extends LineSegments$$module$node_modules$three$build$three_module{constructor(a=1){var b=[0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a];a=new BufferGeometry$$module$node_modules$three$build$three_module;a.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(b,3));a.setAttribute("color",new Float32BufferAttribute$$module$node_modules$three$build$three_module([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));
b=new LineBasicMaterial$$module$node_modules$three$build$three_module({vertexColors:!0,toneMapped:!1});super(a,b);this.type="AxesHelper"}}
const LOD_MIN$$module$node_modules$three$build$three_module=4,LOD_MAX$$module$node_modules$three$build$three_module=8,SIZE_MAX$$module$node_modules$three$build$three_module=Math.pow(2,LOD_MAX$$module$node_modules$three$build$three_module),EXTRA_LOD_SIGMA$$module$node_modules$three$build$three_module=[.125,.215,.35,.446,.526,.582],TOTAL_LODS$$module$node_modules$three$build$three_module=LOD_MAX$$module$node_modules$three$build$three_module-LOD_MIN$$module$node_modules$three$build$three_module+1+EXTRA_LOD_SIGMA$$module$node_modules$three$build$three_module.length,
MAX_SAMPLES$$module$node_modules$three$build$three_module=20,ENCODINGS$$module$node_modules$three$build$three_module={[LinearEncoding$$module$node_modules$three$build$three_module]:0,[sRGBEncoding$$module$node_modules$three$build$three_module]:1,[RGBEEncoding$$module$node_modules$three$build$three_module]:2,[RGBM7Encoding$$module$node_modules$three$build$three_module]:3,[RGBM16Encoding$$module$node_modules$three$build$three_module]:4,[RGBDEncoding$$module$node_modules$three$build$three_module]:5,
[GammaEncoding$$module$node_modules$three$build$three_module]:6},_flatCamera$$module$node_modules$three$build$three_module=new OrthographicCamera$$module$node_modules$three$build$three_module,{_lodPlanes:_lodPlanes$$module$node_modules$three$build$three_module,_sizeLods:_sizeLods$$module$node_modules$three$build$three_module,_sigmas:_sigmas$$module$node_modules$three$build$three_module}=_createPlanes$$module$node_modules$three$build$three_module();
let _oldTarget$$module$node_modules$three$build$three_module=null;
const PHI$$module$node_modules$three$build$three_module=(1+Math.sqrt(5))/2,INV_PHI$$module$node_modules$three$build$three_module=1/PHI$$module$node_modules$three$build$three_module,_axisDirections$$module$node_modules$three$build$three_module=[new Vector3$$module$node_modules$three$build$three_module(1,1,1),new Vector3$$module$node_modules$three$build$three_module(-1,1,1),new Vector3$$module$node_modules$three$build$three_module(1,1,-1),new Vector3$$module$node_modules$three$build$three_module(-1,
1,-1),new Vector3$$module$node_modules$three$build$three_module(0,PHI$$module$node_modules$three$build$three_module,INV_PHI$$module$node_modules$three$build$three_module),new Vector3$$module$node_modules$three$build$three_module(0,PHI$$module$node_modules$three$build$three_module,-INV_PHI$$module$node_modules$three$build$three_module),new Vector3$$module$node_modules$three$build$three_module(INV_PHI$$module$node_modules$three$build$three_module,0,PHI$$module$node_modules$three$build$three_module),
new Vector3$$module$node_modules$three$build$three_module(-INV_PHI$$module$node_modules$three$build$three_module,0,PHI$$module$node_modules$three$build$three_module),new Vector3$$module$node_modules$three$build$three_module(PHI$$module$node_modules$three$build$three_module,INV_PHI$$module$node_modules$three$build$three_module,0),new Vector3$$module$node_modules$three$build$three_module(-PHI$$module$node_modules$three$build$three_module,INV_PHI$$module$node_modules$three$build$three_module,0)];
class PMREMGenerator$$module$node_modules$three$build$three_module{constructor(a){this._renderer=a;this._pingPongRenderTarget=null;this._blurMaterial=_getBlurShader$$module$node_modules$three$build$three_module(MAX_SAMPLES$$module$node_modules$three$build$three_module);this._cubemapShader=this._equirectShader=null;this._compileMaterial(this._blurMaterial)}fromScene(a,b=0,c=.1,d=100){_oldTarget$$module$node_modules$three$build$three_module=this._renderer.getRenderTarget();const e=this._allocateTargets();
this._sceneToCubeUV(a,c,d,e);0<b&&this._blur(e,0,0,b);this._applyPMREM(e);this._cleanup(e);return e}fromEquirectangular(a){return this._fromTexture(a)}fromCubemap(a){return this._fromTexture(a)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=_getCubemapShader$$module$node_modules$three$build$three_module(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=_getEquirectShader$$module$node_modules$three$build$three_module(),
this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose();null!==this._cubemapShader&&this._cubemapShader.dispose();null!==this._equirectShader&&this._equirectShader.dispose();for(let a=0;a<_lodPlanes$$module$node_modules$three$build$three_module.length;a++)_lodPlanes$$module$node_modules$three$build$three_module[a].dispose()}_cleanup(a){this._pingPongRenderTarget.dispose();this._renderer.setRenderTarget(_oldTarget$$module$node_modules$three$build$three_module);a.scissorTest=
!1;_setViewport$$module$node_modules$three$build$three_module(a,0,0,a.width,a.height)}_fromTexture(a){_oldTarget$$module$node_modules$three$build$three_module=this._renderer.getRenderTarget();const b=this._allocateTargets(a);this._textureToCubeUV(a,b);this._applyPMREM(b);this._cleanup(b);return b}_allocateTargets(a){const b={magFilter:NearestFilter$$module$node_modules$three$build$three_module,minFilter:NearestFilter$$module$node_modules$three$build$three_module,generateMipmaps:!1,type:UnsignedByteType$$module$node_modules$three$build$three_module,
format:RGBAFormat$$module$node_modules$three$build$three_module,encoding:_isLDR$$module$node_modules$three$build$three_module(a)?a.encoding:RGBEEncoding$$module$node_modules$three$build$three_module,depthBuffer:!1},c=_createRenderTarget$$module$node_modules$three$build$three_module(b);c.depthBuffer=a?!1:!0;this._pingPongRenderTarget=_createRenderTarget$$module$node_modules$three$build$three_module(b);return c}_compileMaterial(a){a=new Mesh$$module$node_modules$three$build$three_module(_lodPlanes$$module$node_modules$three$build$three_module[0],
a);this._renderer.compile(a,_flatCamera$$module$node_modules$three$build$three_module)}_sceneToCubeUV(a,b,c,d){b=new PerspectiveCamera$$module$node_modules$three$build$three_module(90,1,b,c);c=[1,-1,1,1,1,1];const e=[1,1,1,-1,-1,-1],g=this._renderer,h=g.outputEncoding,k=g.toneMapping,l=g.getClearColor(),m=g.getClearAlpha();g.toneMapping=NoToneMapping$$module$node_modules$three$build$three_module;g.outputEncoding=LinearEncoding$$module$node_modules$three$build$three_module;var n=a.background;if(n&&
n.isColor){n.convertSRGBToLinear();var p=Math.min(Math.max(Math.ceil(Math.log2(Math.max(n.r,n.g,n.b))),-128),127);n=n.multiplyScalar(Math.pow(2,-p));g.setClearColor(n,(p+128)/255);a.background=null}for(n=0;6>n;n++)p=n%3,0==p?(b.up.set(0,c[n],0),b.lookAt(e[n],0,0)):1==p?(b.up.set(0,0,c[n]),b.lookAt(0,e[n],0)):(b.up.set(0,c[n],0),b.lookAt(0,0,e[n])),_setViewport$$module$node_modules$three$build$three_module(d,p*SIZE_MAX$$module$node_modules$three$build$three_module,2<n?SIZE_MAX$$module$node_modules$three$build$three_module:
0,SIZE_MAX$$module$node_modules$three$build$three_module,SIZE_MAX$$module$node_modules$three$build$three_module),g.setRenderTarget(d),g.render(a,b);g.toneMapping=k;g.outputEncoding=h;g.setClearColor(l,m)}_textureToCubeUV(a,b){const c=this._renderer;a.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=_getCubemapShader$$module$node_modules$three$build$three_module()):null==this._equirectShader&&(this._equirectShader=_getEquirectShader$$module$node_modules$three$build$three_module());var d=
a.isCubeTexture?this._cubemapShader:this._equirectShader;const e=new Mesh$$module$node_modules$three$build$three_module(_lodPlanes$$module$node_modules$three$build$three_module[0],d);d=d.uniforms;d.envMap.value=a;a.isCubeTexture||d.texelSize.value.set(1/a.image.width,1/a.image.height);d.inputEncoding.value=ENCODINGS$$module$node_modules$three$build$three_module[a.encoding];d.outputEncoding.value=ENCODINGS$$module$node_modules$three$build$three_module[b.texture.encoding];_setViewport$$module$node_modules$three$build$three_module(b,
0,0,3*SIZE_MAX$$module$node_modules$three$build$three_module,2*SIZE_MAX$$module$node_modules$three$build$three_module);c.setRenderTarget(b);c.render(e,_flatCamera$$module$node_modules$three$build$three_module)}_applyPMREM(a){const b=this._renderer,c=b.autoClear;b.autoClear=!1;for(let d=1;d<TOTAL_LODS$$module$node_modules$three$build$three_module;d++)this._blur(a,d-1,d,Math.sqrt(_sigmas$$module$node_modules$three$build$three_module[d]*_sigmas$$module$node_modules$three$build$three_module[d]-_sigmas$$module$node_modules$three$build$three_module[d-
1]*_sigmas$$module$node_modules$three$build$three_module[d-1]),_axisDirections$$module$node_modules$three$build$three_module[(d-1)%_axisDirections$$module$node_modules$three$build$three_module.length]);b.autoClear=c}_blur(a,b,c,d,e){const g=this._pingPongRenderTarget;this._halfBlur(a,g,b,c,d,"latitudinal",e);this._halfBlur(g,a,c,c,d,"longitudinal",e)}_halfBlur(a,b,c,d,e,g,h){const k=this._renderer;var l=this._blurMaterial;"latitudinal"!==g&&"longitudinal"!==g&&console.error("blur direction must be either latitudinal or longitudinal!");
const m=new Mesh$$module$node_modules$three$build$three_module(_lodPlanes$$module$node_modules$three$build$three_module[d],l);l=l.uniforms;var n=_sizeLods$$module$node_modules$three$build$three_module[c]-1;n=isFinite(e)?Math.PI/(2*n):2*Math.PI/(2*MAX_SAMPLES$$module$node_modules$three$build$three_module-1);var p=e/n;const t=isFinite(e)?1+Math.floor(3*p):MAX_SAMPLES$$module$node_modules$three$build$three_module;t>MAX_SAMPLES$$module$node_modules$three$build$three_module&&console.warn(`sigmaRadians, ${e}, is too large and will clip, as it requested ${t} samples when the maximum is set to ${MAX_SAMPLES$$module$node_modules$three$build$three_module}`);
e=[];let w=0;for(let A=0;A<MAX_SAMPLES$$module$node_modules$three$build$three_module;++A){var x=A/p;x=Math.exp(-x*x/2);e.push(x);0==A?w+=x:A<t&&(w+=2*x)}for(p=0;p<e.length;p++)e[p]/=w;l.envMap.value=a.texture;l.samples.value=t;l.weights.value=e;l.latitudinal.value="latitudinal"===g;h&&(l.poleAxis.value=h);l.dTheta.value=n;l.mipInt.value=LOD_MAX$$module$node_modules$three$build$three_module-c;l.inputEncoding.value=ENCODINGS$$module$node_modules$three$build$three_module[a.texture.encoding];l.outputEncoding.value=
ENCODINGS$$module$node_modules$three$build$three_module[a.texture.encoding];a=_sizeLods$$module$node_modules$three$build$three_module[d];_setViewport$$module$node_modules$three$build$three_module(b,3*Math.max(0,SIZE_MAX$$module$node_modules$three$build$three_module-2*a),(0===d?0:2*SIZE_MAX$$module$node_modules$three$build$three_module)+2*a*(d>LOD_MAX$$module$node_modules$three$build$three_module-LOD_MIN$$module$node_modules$three$build$three_module?d-LOD_MAX$$module$node_modules$three$build$three_module+
LOD_MIN$$module$node_modules$three$build$three_module:0),3*a,2*a);k.setRenderTarget(b);k.render(m,_flatCamera$$module$node_modules$three$build$three_module)}}
function _isLDR$$module$node_modules$three$build$three_module(a){return void 0===a||a.type!==UnsignedByteType$$module$node_modules$three$build$three_module?!1:a.encoding===LinearEncoding$$module$node_modules$three$build$three_module||a.encoding===sRGBEncoding$$module$node_modules$three$build$three_module||a.encoding===GammaEncoding$$module$node_modules$three$build$three_module}
function _createPlanes$$module$node_modules$three$build$three_module(){const a=[],b=[],c=[];let d=LOD_MAX$$module$node_modules$three$build$three_module;for(let k=0;k<TOTAL_LODS$$module$node_modules$three$build$three_module;k++){var e=Math.pow(2,d);b.push(e);var g=1/e;k>LOD_MAX$$module$node_modules$three$build$three_module-LOD_MIN$$module$node_modules$three$build$three_module?g=EXTRA_LOD_SIGMA$$module$node_modules$three$build$three_module[k-LOD_MAX$$module$node_modules$three$build$three_module+LOD_MIN$$module$node_modules$three$build$three_module-
1]:0==k&&(g=0);c.push(g);g=1/(e-1);e=-g/2;g=1+g/2;var h=[e,e,g,e,g,g,e,e,g,g,e,g];e=new Float32Array(108);g=new Float32Array(72);const l=new Float32Array(36);for(let m=0;6>m;m++){const n=m%3*2/3-1,p=2<m?0:-1;e.set([n,p,0,n+2/3,p,0,n+2/3,p+1,0,n,p,0,n+2/3,p+1,0,n,p+1,0],18*m);g.set(h,12*m);l.set([m,m,m,m,m,m],6*m)}h=new BufferGeometry$$module$node_modules$three$build$three_module;h.setAttribute("position",new BufferAttribute$$module$node_modules$three$build$three_module(e,3));h.setAttribute("uv",new BufferAttribute$$module$node_modules$three$build$three_module(g,
2));h.setAttribute("faceIndex",new BufferAttribute$$module$node_modules$three$build$three_module(l,1));a.push(h);d>LOD_MIN$$module$node_modules$three$build$three_module&&d--}return{_lodPlanes:a,_sizeLods:b,_sigmas:c}}
function _createRenderTarget$$module$node_modules$three$build$three_module(a){a=new WebGLRenderTarget$$module$node_modules$three$build$three_module(3*SIZE_MAX$$module$node_modules$three$build$three_module,3*SIZE_MAX$$module$node_modules$three$build$three_module,a);a.texture.mapping=CubeUVReflectionMapping$$module$node_modules$three$build$three_module;a.texture.name="PMREM.cubeUv";a.scissorTest=!0;return a}
function _setViewport$$module$node_modules$three$build$three_module(a,b,c,d,e){a.viewport.set(b,c,d,e);a.scissor.set(b,c,d,e)}
function _getBlurShader$$module$node_modules$three$build$three_module(a){const b=new Float32Array(a),c=new Vector3$$module$node_modules$three$build$three_module(0,1,0);return new RawShaderMaterial$$module$node_modules$three$build$three_module({name:"SphericalGaussianBlur",defines:{n:a},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:b},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:c},inputEncoding:{value:ENCODINGS$$module$node_modules$three$build$three_module[LinearEncoding$$module$node_modules$three$build$three_module]},
outputEncoding:{value:ENCODINGS$$module$node_modules$three$build$three_module[LinearEncoding$$module$node_modules$three$build$three_module]}},vertexShader:_getCommonVertexShader$$module$node_modules$three$build$three_module(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${_getEncodings$$module$node_modules$three$build$three_module()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:NoBlending$$module$node_modules$three$build$three_module,depthTest:!1,depthWrite:!1})}
function _getEquirectShader$$module$node_modules$three$build$three_module(){const a=new Vector2$$module$node_modules$three$build$three_module(1,1);return new RawShaderMaterial$$module$node_modules$three$build$three_module({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:a},inputEncoding:{value:ENCODINGS$$module$node_modules$three$build$three_module[LinearEncoding$$module$node_modules$three$build$three_module]},outputEncoding:{value:ENCODINGS$$module$node_modules$three$build$three_module[LinearEncoding$$module$node_modules$three$build$three_module]}},
vertexShader:_getCommonVertexShader$$module$node_modules$three$build$three_module(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${_getEncodings$$module$node_modules$three$build$three_module()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:NoBlending$$module$node_modules$three$build$three_module,depthTest:!1,depthWrite:!1})}
function _getCubemapShader$$module$node_modules$three$build$three_module(){return new RawShaderMaterial$$module$node_modules$three$build$three_module({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:ENCODINGS$$module$node_modules$three$build$three_module[LinearEncoding$$module$node_modules$three$build$three_module]},outputEncoding:{value:ENCODINGS$$module$node_modules$three$build$three_module[LinearEncoding$$module$node_modules$three$build$three_module]}},vertexShader:_getCommonVertexShader$$module$node_modules$three$build$three_module(),
fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${_getEncodings$$module$node_modules$three$build$three_module()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:NoBlending$$module$node_modules$three$build$three_module,depthTest:!1,depthWrite:!1})}
function _getCommonVertexShader$$module$node_modules$three$build$three_module(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}
function _getEncodings$$module$node_modules$three$build$three_module(){return"\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t"}
function Face4$$module$node_modules$three$build$three_module(a,b,c,d,e,g,h){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new Face3$$module$node_modules$three$build$three_module(a,b,c,e,g,h)}
const LineStrip$$module$node_modules$three$build$three_module=0,LinePieces$$module$node_modules$three$build$three_module=1,NoColors$$module$node_modules$three$build$three_module=0,FaceColors$$module$node_modules$three$build$three_module=1,VertexColors$$module$node_modules$three$build$three_module=2;function MeshFaceMaterial$$module$node_modules$three$build$three_module(a){console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead.");return a}
function MultiMaterial$$module$node_modules$three$build$three_module(a){void 0===a&&(a=[]);console.warn("THREE.MultiMaterial has been removed. Use an Array instead.");a.isMultiMaterial=!0;a.materials=a;a.clone=function(){return a.slice()};return a}function PointCloud$$module$node_modules$three$build$three_module(a,b){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new Points$$module$node_modules$three$build$three_module(a,b)}
function Particle$$module$node_modules$three$build$three_module(a){console.warn("THREE.Particle has been renamed to THREE.Sprite.");return new Sprite$$module$node_modules$three$build$three_module(a)}function ParticleSystem$$module$node_modules$three$build$three_module(a,b){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");return new Points$$module$node_modules$three$build$three_module(a,b)}
function PointCloudMaterial$$module$node_modules$three$build$three_module(a){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");return new PointsMaterial$$module$node_modules$three$build$three_module(a)}function ParticleBasicMaterial$$module$node_modules$three$build$three_module(a){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");return new PointsMaterial$$module$node_modules$three$build$three_module(a)}
function ParticleSystemMaterial$$module$node_modules$three$build$three_module(a){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");return new PointsMaterial$$module$node_modules$three$build$three_module(a)}function Vertex$$module$node_modules$three$build$three_module(a,b,c){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");return new Vector3$$module$node_modules$three$build$three_module(a,b,c)}
function DynamicBufferAttribute$$module$node_modules$three$build$three_module(a,b){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.");return(new BufferAttribute$$module$node_modules$three$build$three_module(a,b)).setUsage(DynamicDrawUsage$$module$node_modules$three$build$three_module)}
function Int8Attribute$$module$node_modules$three$build$three_module(a,b){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.");return new Int8BufferAttribute$$module$node_modules$three$build$three_module(a,b)}
function Uint8Attribute$$module$node_modules$three$build$three_module(a,b){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.");return new Uint8BufferAttribute$$module$node_modules$three$build$three_module(a,b)}
function Uint8ClampedAttribute$$module$node_modules$three$build$three_module(a,b){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.");return new Uint8ClampedBufferAttribute$$module$node_modules$three$build$three_module(a,b)}
function Int16Attribute$$module$node_modules$three$build$three_module(a,b){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.");return new Int16BufferAttribute$$module$node_modules$three$build$three_module(a,b)}
function Uint16Attribute$$module$node_modules$three$build$three_module(a,b){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.");return new Uint16BufferAttribute$$module$node_modules$three$build$three_module(a,b)}
function Int32Attribute$$module$node_modules$three$build$three_module(a,b){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.");return new Int32BufferAttribute$$module$node_modules$three$build$three_module(a,b)}
function Uint32Attribute$$module$node_modules$three$build$three_module(a,b){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.");return new Uint32BufferAttribute$$module$node_modules$three$build$three_module(a,b)}
function Float32Attribute$$module$node_modules$three$build$three_module(a,b){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.");return new Float32BufferAttribute$$module$node_modules$three$build$three_module(a,b)}
function Float64Attribute$$module$node_modules$three$build$three_module(a,b){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.");return new Float64BufferAttribute$$module$node_modules$three$build$three_module(a,b)}
Curve$$module$node_modules$three$build$three_module.create=function(a,b){console.log("THREE.Curve.create() has been deprecated");a.prototype=Object.create(Curve$$module$node_modules$three$build$three_module.prototype);a.prototype.constructor=a;a.prototype.getPoint=b;return a};
Object.assign(CurvePath$$module$node_modules$three$build$three_module.prototype,{createPointsGeometry:function(a){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");a=this.getPoints(a);return this.createGeometry(a)},createSpacedPointsGeometry:function(a){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");a=this.getSpacedPoints(a);
return this.createGeometry(a)},createGeometry:function(a){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const b=new Geometry$$module$node_modules$three$build$three_module;for(let c=0,d=a.length;c<d;c++){const e=a[c];b.vertices.push(new Vector3$$module$node_modules$three$build$three_module(e.x,e.y,e.z||0))}return b}});
Object.assign(Path$$module$node_modules$three$build$three_module.prototype,{fromPoints:function(a){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints().");return this.setFromPoints(a)}});function ClosedSplineCurve3$$module$node_modules$three$build$three_module(a){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");CatmullRomCurve3$$module$node_modules$three$build$three_module.call(this,a);this.type="catmullrom";this.closed=!0}
ClosedSplineCurve3$$module$node_modules$three$build$three_module.prototype=Object.create(CatmullRomCurve3$$module$node_modules$three$build$three_module.prototype);function SplineCurve3$$module$node_modules$three$build$three_module(a){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");CatmullRomCurve3$$module$node_modules$three$build$three_module.call(this,a);this.type="catmullrom"}SplineCurve3$$module$node_modules$three$build$three_module.prototype=Object.create(CatmullRomCurve3$$module$node_modules$three$build$three_module.prototype);
function Spline$$module$node_modules$three$build$three_module(a){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.");CatmullRomCurve3$$module$node_modules$three$build$three_module.call(this,a);this.type="catmullrom"}Spline$$module$node_modules$three$build$three_module.prototype=Object.create(CatmullRomCurve3$$module$node_modules$three$build$three_module.prototype);
Object.assign(Spline$$module$node_modules$three$build$three_module.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});
function AxisHelper$$module$node_modules$three$build$three_module(a){console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper.");return new AxesHelper$$module$node_modules$three$build$three_module(a)}function BoundingBoxHelper$$module$node_modules$three$build$three_module(a,b){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.");return new BoxHelper$$module$node_modules$three$build$three_module(a,b)}
function EdgesHelper$$module$node_modules$three$build$three_module(a,b){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.");return new LineSegments$$module$node_modules$three$build$three_module(new EdgesGeometry$$module$node_modules$three$build$three_module(a.geometry),new LineBasicMaterial$$module$node_modules$three$build$three_module({color:void 0!==b?b:16777215}))}GridHelper$$module$node_modules$three$build$three_module.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};
SkeletonHelper$$module$node_modules$three$build$three_module.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};
function WireframeHelper$$module$node_modules$three$build$three_module(a,b){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.");return new LineSegments$$module$node_modules$three$build$three_module(new WireframeGeometry$$module$node_modules$three$build$three_module(a.geometry),new LineBasicMaterial$$module$node_modules$three$build$three_module({color:void 0!==b?b:16777215}))}
Object.assign(Loader$$module$node_modules$three$build$three_module.prototype,{extractUrlBase:function(a){console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.");return LoaderUtils$$module$node_modules$three$build$three_module.extractUrlBase(a)}});Loader$$module$node_modules$three$build$three_module.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};
function XHRLoader$$module$node_modules$three$build$three_module(a){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader.");return new FileLoader$$module$node_modules$three$build$three_module(a)}function BinaryTextureLoader$$module$node_modules$three$build$three_module(a){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.");return new DataTextureLoader$$module$node_modules$three$build$three_module(a)}
Object.assign(ObjectLoader$$module$node_modules$three$build$three_module.prototype,{setTexturePath:function(a){console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().");return this.setResourcePath(a)}});
Object.assign(Box2$$module$node_modules$three$build$three_module.prototype,{center:function(a){console.warn("THREE.Box2: .center() has been renamed to .getCenter().");return this.getCenter(a)},empty:function(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},size:function(a){console.warn("THREE.Box2: .size() has been renamed to .getSize().");
return this.getSize(a)}});
Object.assign(Box3$$module$node_modules$three$build$three_module.prototype,{center:function(a){console.warn("THREE.Box3: .center() has been renamed to .getCenter().");return this.getCenter(a)},empty:function(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionSphere:function(a){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)},
size:function(a){console.warn("THREE.Box3: .size() has been renamed to .getSize().");return this.getSize(a)}});Object.assign(Sphere$$module$node_modules$three$build$three_module.prototype,{empty:function(){console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty().");return this.isEmpty()}});Frustum$$module$node_modules$three$build$three_module.prototype.setFromMatrix=function(a){console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().");return this.setFromProjectionMatrix(a)};
Line3$$module$node_modules$three$build$three_module.prototype.center=function(a){console.warn("THREE.Line3: .center() has been renamed to .getCenter().");return this.getCenter(a)};
Object.assign(MathUtils$$module$node_modules$three$build$three_module,{random16:function(){console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead.");return Math.random()},nearestPowerOfTwo:function(a){console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().");return MathUtils$$module$node_modules$three$build$three_module.floorPowerOfTwo(a)},nextPowerOfTwo:function(a){console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().");
return MathUtils$$module$node_modules$three$build$three_module.ceilPowerOfTwo(a)}});
Object.assign(Matrix3$$module$node_modules$three$build$three_module.prototype,{flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},multiplyVector3:function(a){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return a.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(a){console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.");
return a.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});
Object.assign(Matrix4$$module$node_modules$three$build$three_module.prototype,{extractPosition:function(a){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");return this.copyPosition(a)},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},getPosition:function(){console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");
return(new Vector3$$module$node_modules$three$build$three_module).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(a){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return this.makeRotationFromQuaternion(a)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(a){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.");
return a.applyMatrix4(this)},multiplyVector4:function(a){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");a.transformDirection(this)},crossVector:function(a){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");
return a.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(a){console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.");
return a.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(a,b,c,d,e,g){console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.");return this.makePerspective(a,b,d,c,e,g)}});
Plane$$module$node_modules$three$build$three_module.prototype.isIntersectionLine=function(a){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");return this.intersectsLine(a)};Quaternion$$module$node_modules$three$build$three_module.prototype.multiplyVector3=function(a){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return a.applyQuaternion(this)};
Object.assign(Ray$$module$node_modules$three$build$three_module.prototype,{isIntersectionBox:function(a){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionPlane:function(a){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");return this.intersectsPlane(a)},isIntersectionSphere:function(a){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});
Object.assign(Triangle$$module$node_modules$three$build$three_module.prototype,{area:function(){console.warn("THREE.Triangle: .area() has been renamed to .getArea().");return this.getArea()},barycoordFromPoint:function(a,b){console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().");return this.getBarycoord(a,b)},midpoint:function(a){console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint().");return this.getMidpoint(a)},normal:function(a){console.warn("THREE.Triangle: .normal() has been renamed to .getNormal().");
return this.getNormal(a)},plane:function(a){console.warn("THREE.Triangle: .plane() has been renamed to .getPlane().");return this.getPlane(a)}});
Object.assign(Triangle$$module$node_modules$three$build$three_module,{barycoordFromPoint:function(a,b,c,d,e){console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().");return Triangle$$module$node_modules$three$build$three_module.getBarycoord(a,b,c,d,e)},normal:function(a,b,c,d){console.warn("THREE.Triangle: .normal() has been renamed to .getNormal().");return Triangle$$module$node_modules$three$build$three_module.getNormal(a,b,c,d)}});
Object.assign(Shape$$module$node_modules$three$build$three_module.prototype,{extractAllPoints:function(a){console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.");return this.extractPoints(a)},extrude:function(a){console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.");return new ExtrudeGeometry$$module$node_modules$three$build$three_module(this,a)},makeGeometry:function(a){console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.");
return new ShapeGeometry$$module$node_modules$three$build$three_module(this,a)}});
Object.assign(Vector2$$module$node_modules$three$build$three_module.prototype,{fromAttribute:function(a,b,c){console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},distanceToManhattan:function(a){console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().");return this.manhattanDistanceTo(a)},lengthManhattan:function(){console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});
Object.assign(Vector3$$module$node_modules$three$build$three_module.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(a){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");
return this.setFromMatrixPosition(a)},getScaleFromMatrix:function(a){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");return this.setFromMatrixScale(a)},getColumnFromMatrix:function(a,b){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return this.setFromMatrixColumn(b,a)},applyProjection:function(a){console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.");return this.applyMatrix4(a)},
fromAttribute:function(a,b,c){console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},distanceToManhattan:function(a){console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().");return this.manhattanDistanceTo(a)},lengthManhattan:function(){console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});
Object.assign(Vector4$$module$node_modules$three$build$three_module.prototype,{fromAttribute:function(a,b,c){console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},lengthManhattan:function(){console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});
Object.assign(Geometry$$module$node_modules$three$build$three_module.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(a){console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4().");return this.applyMatrix4(a)}});
Object.assign(Object3D$$module$node_modules$three$build$three_module.prototype,{getChildByName:function(a){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(a)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(a,b){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(b,
a)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(a){console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().");return this.applyMatrix4(a)}});
Object.defineProperties(Object3D$$module$node_modules$three$build$three_module.prototype,{eulerOrder:{get:function(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=a}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});
Object.assign(Mesh$$module$node_modules$three$build$three_module.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});
Object.defineProperties(Mesh$$module$node_modules$three$build$three_module.prototype,{drawMode:{get:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.");return TrianglesDrawMode$$module$node_modules$three$build$three_module},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});
Object.defineProperties(LOD$$module$node_modules$three$build$three_module.prototype,{objects:{get:function(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}});Object.defineProperty(Skeleton$$module$node_modules$three$build$three_module.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});
SkinnedMesh$$module$node_modules$three$build$three_module.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};
Object.defineProperty(Curve$$module$node_modules$three$build$three_module.prototype,"__arcLengthDivisions",{get:function(){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");return this.arcLengthDivisions},set:function(a){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");this.arcLengthDivisions=a}});
PerspectiveCamera$$module$node_modules$three$build$three_module.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");void 0!==b&&(this.filmGauge=b);this.setFocalLength(a)};
Object.defineProperties(Light$$module$node_modules$three$build$three_module.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");
this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");
this.shadow.camera.far=a}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=a}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");
this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=a}}});
Object.defineProperties(BufferAttribute$$module$node_modules$three$build$three_module.prototype,{length:{get:function(){console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead.");return this.array.length}},dynamic:{get:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.");return this.usage===DynamicDrawUsage$$module$node_modules$three$build$three_module},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.");
this.setUsage(DynamicDrawUsage$$module$node_modules$three$build$three_module)}}});
Object.assign(BufferAttribute$$module$node_modules$three$build$three_module.prototype,{setDynamic:function(a){console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.");this.setUsage(!0===a?DynamicDrawUsage$$module$node_modules$three$build$three_module:StaticDrawUsage$$module$node_modules$three$build$three_module);return this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});
Object.assign(BufferGeometry$$module$node_modules$three$build$three_module.prototype,{addIndex:function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(a)},addAttribute:function(a,b,c){console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().");return b&&b.isBufferAttribute||b&&b.isInterleavedBufferAttribute?"index"===a?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(b),
this):this.setAttribute(a,b):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(a,new BufferAttribute$$module$node_modules$three$build$three_module(b,c)))},addDrawCall:function(a,b,c){void 0!==c&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(a,b)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");
this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(a){console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().");return this.deleteAttribute(a)},applyMatrix:function(a){console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().");return this.applyMatrix4(a)}});
Object.defineProperties(BufferGeometry$$module$node_modules$three$build$three_module.prototype,{drawcalls:{get:function(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");return this.groups}},offsets:{get:function(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}}});
Object.defineProperties(InstancedBufferGeometry$$module$node_modules$three$build$three_module.prototype,{maxInstancedCount:{get:function(){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.");return this.instanceCount},set:function(a){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.");this.instanceCount=a}}});
Object.defineProperties(Raycaster$$module$node_modules$three$build$three_module.prototype,{linePrecision:{get:function(){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.");return this.params.Line.threshold},set:function(a){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.");this.params.Line.threshold=a}}});
Object.defineProperties(InterleavedBuffer$$module$node_modules$three$build$three_module.prototype,{dynamic:{get:function(){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.");return this.usage===DynamicDrawUsage$$module$node_modules$three$build$three_module},set:function(a){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.");this.setUsage(a)}}});
Object.assign(InterleavedBuffer$$module$node_modules$three$build$three_module.prototype,{setDynamic:function(a){console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.");this.setUsage(!0===a?DynamicDrawUsage$$module$node_modules$three$build$three_module:StaticDrawUsage$$module$node_modules$three$build$three_module);return this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});
Object.assign(ExtrudeBufferGeometry$$module$node_modules$three$build$three_module.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.assign(Scene$$module$node_modules$three$build$three_module.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}});
Object.defineProperties(Uniform$$module$node_modules$three$build$three_module.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.");return this}}});
Object.defineProperties(Material$$module$node_modules$three$build$three_module.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){console.warn("THREE.Material: .wrapRGB has been removed.");
return new Color$$module$node_modules$three$build$three_module}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(a){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.");this.flatShading=a===FlatShading$$module$node_modules$three$build$three_module}},stencilMask:{get:function(){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead.");
return this.stencilFuncMask},set:function(a){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead.");this.stencilFuncMask=a}}});Object.defineProperties(MeshPhongMaterial$$module$node_modules$three$build$three_module.prototype,{metal:{get:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");return!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});
Object.defineProperties(MeshPhysicalMaterial$$module$node_modules$three$build$three_module.prototype,{transparency:{get:function(){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.");return this.transmission},set:function(a){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.");this.transmission=a}}});
Object.defineProperties(ShaderMaterial$$module$node_modules$three$build$three_module.prototype,{derivatives:{get:function(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=a}}});
Object.assign(WebGLRenderer$$module$node_modules$three$build$three_module.prototype,{clearTarget:function(a,b,c,d){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.");this.setRenderTarget(a);this.clear(b,c,d)},animate:function(a){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop().");this.setAnimationLoop(a)},getCurrentRenderTarget:function(){console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().");
return this.getRenderTarget()},getMaxAnisotropy:function(){console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().");return this.capabilities.getMaxAnisotropy()},getPrecision:function(){console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.");return this.capabilities.precision},resetGLState:function(){console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset().");return this.state.reset()},supportsFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");
return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");
return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.");
return this.capabilities.vertexTextures},supportsInstancedArrays:function(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");this.setScissorTest(a)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},
addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},
setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().");return this.getActiveMipmapLevel()}});
Object.defineProperties(WebGLRenderer$$module$node_modules$three$build$three_module.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=a}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},
set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.");return this.getContext()}},vr:{get:function(){console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr");return this.xr}},gammaInput:{get:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.");
return!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.");return!1},set:function(a){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.");this.outputEncoding=!0===a?sRGBEncoding$$module$node_modules$three$build$three_module:
LinearEncoding$$module$node_modules$three$build$three_module}},toneMappingWhitePoint:{get:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.");return 1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});
Object.defineProperties(WebGLShadowMap$$module$node_modules$three$build$three_module.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},
set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});
function WebGLRenderTargetCube$$module$node_modules$three$build$three_module(a,b,c){console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).");return new WebGLCubeRenderTarget$$module$node_modules$three$build$three_module(a,c)}
Object.defineProperties(WebGLRenderTarget$$module$node_modules$three$build$three_module.prototype,{wrapS:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");this.texture.wrapS=a}},wrapT:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");
this.texture.wrapT=a}},magFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=a}},minFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");
this.texture.minFilter=a}},anisotropy:{get:function(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=a}},offset:{get:function(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");
this.texture.offset=a}},repeat:{get:function(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=a}},format:{get:function(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");return this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=a}},type:{get:function(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");
return this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=a}},generateMipmaps:{get:function(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=a}}});
Object.defineProperties(Audio$$module$node_modules$three$build$three_module.prototype,{load:{value:function(a){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const b=this;(new AudioLoader$$module$node_modules$three$build$three_module).load(a,function(c){b.setBuffer(c)});return this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}});
AudioAnalyser$$module$node_modules$three$build$three_module.prototype.getData=function(){console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");return this.getFrequencyData()};CubeCamera$$module$node_modules$three$build$three_module.prototype.updateCubeMap=function(a,b){console.warn("THREE.CubeCamera: .updateCubeMap() is now .update().");return this.update(a,b)};
const GeometryUtils$$module$node_modules$three$build$three_module={merge:function(a,b,c){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");let d;b.isMesh&&(b.matrixAutoUpdate&&b.updateMatrix(),d=b.matrix,b=b.geometry);a.merge(b,d,c)},center:function(a){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return a.center()}};
ImageUtils$$module$node_modules$three$build$three_module.crossOrigin=void 0;ImageUtils$$module$node_modules$three$build$three_module.loadTexture=function(a,b,c,d){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const e=new TextureLoader$$module$node_modules$three$build$three_module;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a};
ImageUtils$$module$node_modules$three$build$three_module.loadTextureCube=function(a,b,c,d){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const e=new CubeTextureLoader$$module$node_modules$three$build$three_module;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a};ImageUtils$$module$node_modules$three$build$three_module.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};
ImageUtils$$module$node_modules$three$build$three_module.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function CanvasRenderer$$module$node_modules$three$build$three_module(){console.error("THREE.CanvasRenderer has been removed")}function JSONLoader$$module$node_modules$three$build$three_module(){console.error("THREE.JSONLoader has been removed.")}
const SceneUtils$$module$node_modules$three$build$three_module={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};
function LensFlare$$module$node_modules$three$build$three_module(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION$$module$node_modules$three$build$three_module}}));var module$node_modules$three$build$three_module={};module$node_modules$three$build$three_module.ACESFilmicToneMapping=ACESFilmicToneMapping$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.AddEquation=AddEquation$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.AddOperation=AddOperation$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.AdditiveAnimationBlendMode=AdditiveAnimationBlendMode$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.AdditiveBlending=AdditiveBlending$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.AlphaFormat=AlphaFormat$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.AlwaysDepth=AlwaysDepth$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.AlwaysStencilFunc=AlwaysStencilFunc$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.AmbientLight=AmbientLight$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.AmbientLightProbe=AmbientLightProbe$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.AnimationClip=AnimationClip$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.AnimationLoader=AnimationLoader$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.AnimationMixer=AnimationMixer$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.AnimationObjectGroup=AnimationObjectGroup$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.AnimationUtils=AnimationUtils$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ArcCurve=ArcCurve$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ArrayCamera=ArrayCamera$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.ArrowHelper=ArrowHelper$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Audio=Audio$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.AudioAnalyser=AudioAnalyser$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.AudioContext=AudioContext$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.AudioListener=AudioListener$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.AudioLoader=AudioLoader$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.AxesHelper=AxesHelper$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.AxisHelper=AxisHelper$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.BackSide=BackSide$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.BasicDepthPacking=BasicDepthPacking$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.BasicShadowMap=BasicShadowMap$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.BinaryTextureLoader=BinaryTextureLoader$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.Bone=Bone$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.BooleanKeyframeTrack=BooleanKeyframeTrack$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.BoundingBoxHelper=BoundingBoxHelper$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Box2=Box2$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.Box3=Box3$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Box3Helper=Box3Helper$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.BoxBufferGeometry=BoxBufferGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.BoxGeometry=BoxGeometry$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.BoxHelper=BoxHelper$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.BufferAttribute=BufferAttribute$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.BufferGeometry=BufferGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.BufferGeometryLoader=BufferGeometryLoader$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.ByteType=ByteType$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Cache=Cache$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Camera=Camera$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CameraHelper=CameraHelper$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CanvasRenderer=CanvasRenderer$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.CanvasTexture=CanvasTexture$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CatmullRomCurve3=CatmullRomCurve3$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CineonToneMapping=CineonToneMapping$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CircleBufferGeometry=CircleBufferGeometry$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.CircleGeometry=CircleGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ClampToEdgeWrapping=ClampToEdgeWrapping$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Clock=Clock$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ClosedSplineCurve3=ClosedSplineCurve3$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.Color=Color$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ColorKeyframeTrack=ColorKeyframeTrack$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CompressedTexture=CompressedTexture$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CompressedTextureLoader=CompressedTextureLoader$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.ConeBufferGeometry=ConeBufferGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ConeGeometry=ConeGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CubeCamera=CubeCamera$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CubeGeometry=BoxGeometry$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.CubeReflectionMapping=CubeReflectionMapping$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CubeRefractionMapping=CubeRefractionMapping$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CubeTexture=CubeTexture$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CubeTextureLoader=CubeTextureLoader$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.CubeUVReflectionMapping=CubeUVReflectionMapping$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CubeUVRefractionMapping=CubeUVRefractionMapping$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CubicBezierCurve=CubicBezierCurve$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CubicBezierCurve3=CubicBezierCurve3$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.CubicInterpolant=CubicInterpolant$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CullFaceBack=CullFaceBack$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CullFaceFront=CullFaceFront$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CullFaceFrontBack=CullFaceFrontBack$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.CullFaceNone=CullFaceNone$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Curve=Curve$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CurvePath=CurvePath$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CustomBlending=CustomBlending$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.CustomToneMapping=CustomToneMapping$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CylinderBufferGeometry=CylinderBufferGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.CylinderGeometry=CylinderGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Cylindrical=Cylindrical$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.DataTexture=DataTexture$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.DataTexture2DArray=DataTexture2DArray$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.DataTexture3D=DataTexture3D$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.DataTextureLoader=DataTextureLoader$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.DecrementStencilOp=DecrementStencilOp$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.DecrementWrapStencilOp=DecrementWrapStencilOp$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.DefaultLoadingManager=DefaultLoadingManager$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.DepthFormat=DepthFormat$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.DepthStencilFormat=DepthStencilFormat$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.DepthTexture=DepthTexture$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.DirectionalLight=DirectionalLight$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.DirectionalLightHelper=DirectionalLightHelper$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.DiscreteInterpolant=DiscreteInterpolant$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.DodecahedronBufferGeometry=DodecahedronBufferGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.DodecahedronGeometry=DodecahedronGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.DoubleSide=DoubleSide$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.DstAlphaFactor=DstAlphaFactor$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.DstColorFactor=DstColorFactor$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.DynamicBufferAttribute=DynamicBufferAttribute$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.DynamicCopyUsage=DynamicCopyUsage$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.DynamicDrawUsage=DynamicDrawUsage$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.DynamicReadUsage=DynamicReadUsage$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.EdgesGeometry=EdgesGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.EdgesHelper=EdgesHelper$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.EllipseCurve=EllipseCurve$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.EqualDepth=EqualDepth$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.EqualStencilFunc=EqualStencilFunc$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.EquirectangularReflectionMapping=EquirectangularReflectionMapping$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.EquirectangularRefractionMapping=EquirectangularRefractionMapping$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Euler=Euler$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.EventDispatcher=EventDispatcher$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ExtrudeBufferGeometry=ExtrudeBufferGeometry$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.ExtrudeGeometry=ExtrudeGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Face3=Face3$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Face4=Face4$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.FaceColors=FaceColors$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.FileLoader=FileLoader$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.FlatShading=FlatShading$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Float32Attribute=Float32Attribute$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Float32BufferAttribute=Float32BufferAttribute$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Float64Attribute=Float64Attribute$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.Float64BufferAttribute=Float64BufferAttribute$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.FloatType=FloatType$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Fog=Fog$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.FogExp2=FogExp2$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.Font=Font$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.FontLoader=FontLoader$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.FrontSide=FrontSide$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Frustum=Frustum$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.GLBufferAttribute=GLBufferAttribute$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.GLSL1=GLSL1$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.GLSL3=GLSL3$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.GammaEncoding=GammaEncoding$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Geometry=Geometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.GeometryUtils=GeometryUtils$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.GreaterDepth=GreaterDepth$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.GreaterEqualDepth=GreaterEqualDepth$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.GreaterEqualStencilFunc=GreaterEqualStencilFunc$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.GreaterStencilFunc=GreaterStencilFunc$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.GridHelper=GridHelper$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Group=Group$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.HalfFloatType=HalfFloatType$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.HemisphereLight=HemisphereLight$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.HemisphereLightHelper=HemisphereLightHelper$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.HemisphereLightProbe=HemisphereLightProbe$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.IcosahedronBufferGeometry=IcosahedronBufferGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.IcosahedronGeometry=IcosahedronGeometry$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.ImageBitmapLoader=ImageBitmapLoader$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ImageLoader=ImageLoader$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ImageUtils=ImageUtils$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ImmediateRenderObject=ImmediateRenderObject$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.IncrementStencilOp=IncrementStencilOp$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.IncrementWrapStencilOp=IncrementWrapStencilOp$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.InstancedBufferAttribute=InstancedBufferAttribute$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.InstancedBufferGeometry=InstancedBufferGeometry$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.InstancedInterleavedBuffer=InstancedInterleavedBuffer$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.InstancedMesh=InstancedMesh$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Int16Attribute=Int16Attribute$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Int16BufferAttribute=Int16BufferAttribute$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.Int32Attribute=Int32Attribute$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Int32BufferAttribute=Int32BufferAttribute$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Int8Attribute=Int8Attribute$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Int8BufferAttribute=Int8BufferAttribute$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.IntType=IntType$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.InterleavedBuffer=InterleavedBuffer$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.InterleavedBufferAttribute=InterleavedBufferAttribute$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Interpolant=Interpolant$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.InterpolateDiscrete=InterpolateDiscrete$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.InterpolateLinear=InterpolateLinear$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.InterpolateSmooth=InterpolateSmooth$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.InvertStencilOp=InvertStencilOp$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.JSONLoader=JSONLoader$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.KeepStencilOp=KeepStencilOp$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.KeyframeTrack=KeyframeTrack$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LOD=LOD$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.LatheBufferGeometry=LatheBufferGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LatheGeometry=LatheGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Layers=Layers$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LensFlare=LensFlare$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.LessDepth=LessDepth$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LessEqualDepth=LessEqualDepth$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LessEqualStencilFunc=LessEqualStencilFunc$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LessStencilFunc=LessStencilFunc$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.Light=Light$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LightProbe=LightProbe$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LightShadow=LightShadow$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Line=Line$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Line3=Line3$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.LineBasicMaterial=LineBasicMaterial$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LineCurve=LineCurve$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LineCurve3=LineCurve3$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LineDashedMaterial=LineDashedMaterial$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.LineLoop=LineLoop$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LinePieces=LinePieces$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LineSegments=LineSegments$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LineStrip=LineStrip$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.LinearEncoding=LinearEncoding$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LinearFilter=LinearFilter$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LinearInterpolant=LinearInterpolant$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LinearMipMapLinearFilter=LinearMipMapLinearFilter$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.LinearMipMapNearestFilter=LinearMipMapNearestFilter$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LinearMipmapLinearFilter=LinearMipmapLinearFilter$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LinearMipmapNearestFilter=LinearMipmapNearestFilter$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LinearToneMapping=LinearToneMapping$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.Loader=Loader$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LoaderUtils=LoaderUtils$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LoadingManager=LoadingManager$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LogLuvEncoding=LogLuvEncoding$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.LoopOnce=LoopOnce$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LoopPingPong=LoopPingPong$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LoopRepeat=LoopRepeat$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.LuminanceAlphaFormat=LuminanceAlphaFormat$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.LuminanceFormat=LuminanceFormat$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.MOUSE=MOUSE$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Material=Material$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.MaterialLoader=MaterialLoader$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.Math=MathUtils$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.MathUtils=MathUtils$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Matrix3=Matrix3$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Matrix4=Matrix4$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.MaxEquation=MaxEquation$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.Mesh=Mesh$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.MeshBasicMaterial=MeshBasicMaterial$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.MeshDepthMaterial=MeshDepthMaterial$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.MeshDistanceMaterial=MeshDistanceMaterial$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.MeshFaceMaterial=MeshFaceMaterial$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.MeshLambertMaterial=MeshLambertMaterial$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.MeshMatcapMaterial=MeshMatcapMaterial$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.MeshNormalMaterial=MeshNormalMaterial$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.MeshPhongMaterial=MeshPhongMaterial$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.MeshPhysicalMaterial=MeshPhysicalMaterial$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.MeshStandardMaterial=MeshStandardMaterial$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.MeshToonMaterial=MeshToonMaterial$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.MinEquation=MinEquation$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.MirroredRepeatWrapping=MirroredRepeatWrapping$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.MixOperation=MixOperation$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.MultiMaterial=MultiMaterial$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.MultiplyBlending=MultiplyBlending$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.MultiplyOperation=MultiplyOperation$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.NearestFilter=NearestFilter$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.NearestMipMapLinearFilter=NearestMipMapLinearFilter$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.NearestMipMapNearestFilter=NearestMipMapNearestFilter$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.NearestMipmapLinearFilter=NearestMipmapLinearFilter$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.NearestMipmapNearestFilter=NearestMipmapNearestFilter$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.NeverDepth=NeverDepth$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.NeverStencilFunc=NeverStencilFunc$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.NoBlending=NoBlending$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.NoColors=NoColors$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.NoToneMapping=NoToneMapping$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.NormalAnimationBlendMode=NormalAnimationBlendMode$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.NormalBlending=NormalBlending$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.NotEqualDepth=NotEqualDepth$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.NotEqualStencilFunc=NotEqualStencilFunc$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.NumberKeyframeTrack=NumberKeyframeTrack$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Object3D=Object3D$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ObjectLoader=ObjectLoader$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ObjectSpaceNormalMap=ObjectSpaceNormalMap$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.OctahedronBufferGeometry=OctahedronBufferGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.OctahedronGeometry=OctahedronGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.OneFactor=OneFactor$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.OneMinusDstAlphaFactor=OneMinusDstAlphaFactor$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.OneMinusDstColorFactor=OneMinusDstColorFactor$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.OneMinusSrcAlphaFactor=OneMinusSrcAlphaFactor$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.OneMinusSrcColorFactor=OneMinusSrcColorFactor$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.OrthographicCamera=OrthographicCamera$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.PCFShadowMap=PCFShadowMap$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.PCFSoftShadowMap=PCFSoftShadowMap$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.PMREMGenerator=PMREMGenerator$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ParametricBufferGeometry=ParametricBufferGeometry$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.ParametricGeometry=ParametricGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Particle=Particle$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ParticleBasicMaterial=ParticleBasicMaterial$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ParticleSystem=ParticleSystem$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.ParticleSystemMaterial=ParticleSystemMaterial$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Path=Path$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.PerspectiveCamera=PerspectiveCamera$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Plane=Plane$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.PlaneBufferGeometry=PlaneBufferGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.PlaneGeometry=PlaneGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.PlaneHelper=PlaneHelper$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.PointCloud=PointCloud$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.PointCloudMaterial=PointCloudMaterial$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.PointLight=PointLight$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.PointLightHelper=PointLightHelper$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Points=Points$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.PointsMaterial=PointsMaterial$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.PolarGridHelper=PolarGridHelper$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.PolyhedronBufferGeometry=PolyhedronBufferGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.PolyhedronGeometry=PolyhedronGeometry$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.PositionalAudio=PositionalAudio$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.PropertyBinding=PropertyBinding$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.PropertyMixer=PropertyMixer$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.QuadraticBezierCurve=QuadraticBezierCurve$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.QuadraticBezierCurve3=QuadraticBezierCurve3$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Quaternion=Quaternion$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.QuaternionKeyframeTrack=QuaternionKeyframeTrack$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.QuaternionLinearInterpolant=QuaternionLinearInterpolant$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.REVISION=REVISION$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBADepthPacking=RGBADepthPacking$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBAFormat=RGBAFormat$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBAIntegerFormat=RGBAIntegerFormat$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.RGBA_ASTC_10x10_Format=RGBA_ASTC_10x10_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBA_ASTC_10x5_Format=RGBA_ASTC_10x5_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBA_ASTC_10x6_Format=RGBA_ASTC_10x6_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBA_ASTC_10x8_Format=RGBA_ASTC_10x8_Format$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.RGBA_ASTC_12x10_Format=RGBA_ASTC_12x10_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBA_ASTC_12x12_Format=RGBA_ASTC_12x12_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBA_ASTC_4x4_Format=RGBA_ASTC_4x4_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBA_ASTC_5x4_Format=RGBA_ASTC_5x4_Format$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.RGBA_ASTC_5x5_Format=RGBA_ASTC_5x5_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBA_ASTC_6x5_Format=RGBA_ASTC_6x5_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBA_ASTC_6x6_Format=RGBA_ASTC_6x6_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBA_ASTC_8x5_Format=RGBA_ASTC_8x5_Format$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.RGBA_ASTC_8x6_Format=RGBA_ASTC_8x6_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBA_ASTC_8x8_Format=RGBA_ASTC_8x8_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBA_BPTC_Format=RGBA_BPTC_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBA_ETC2_EAC_Format=RGBA_ETC2_EAC_Format$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.RGBA_PVRTC_2BPPV1_Format=RGBA_PVRTC_2BPPV1_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBA_PVRTC_4BPPV1_Format=RGBA_PVRTC_4BPPV1_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBA_S3TC_DXT1_Format=RGBA_S3TC_DXT1_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBA_S3TC_DXT3_Format=RGBA_S3TC_DXT3_Format$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.RGBA_S3TC_DXT5_Format=RGBA_S3TC_DXT5_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBDEncoding=RGBDEncoding$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBEEncoding=RGBEEncoding$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBEFormat=RGBAFormat$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.RGBFormat=RGBFormat$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBIntegerFormat=RGBIntegerFormat$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBM16Encoding=RGBM16Encoding$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGBM7Encoding=RGBM7Encoding$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.RGB_ETC1_Format=RGB_ETC1_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGB_ETC2_Format=RGB_ETC2_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGB_PVRTC_2BPPV1_Format=RGB_PVRTC_2BPPV1_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGB_PVRTC_4BPPV1_Format=RGB_PVRTC_4BPPV1_Format$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.RGB_S3TC_DXT1_Format=RGB_S3TC_DXT1_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGFormat=RGFormat$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RGIntegerFormat=RGIntegerFormat$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RawShaderMaterial=RawShaderMaterial$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.Ray=Ray$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Raycaster=Raycaster$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RectAreaLight=RectAreaLight$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RedFormat=RedFormat$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.RedIntegerFormat=RedIntegerFormat$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ReinhardToneMapping=ReinhardToneMapping$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RepeatWrapping=RepeatWrapping$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ReplaceStencilOp=ReplaceStencilOp$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.ReverseSubtractEquation=ReverseSubtractEquation$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RingBufferGeometry=RingBufferGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.RingGeometry=RingGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SRGB8_ALPHA8_ASTC_10x10_Format=SRGB8_ALPHA8_ASTC_10x10_Format$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.SRGB8_ALPHA8_ASTC_10x5_Format=SRGB8_ALPHA8_ASTC_10x5_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SRGB8_ALPHA8_ASTC_10x6_Format=SRGB8_ALPHA8_ASTC_10x6_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SRGB8_ALPHA8_ASTC_10x8_Format=SRGB8_ALPHA8_ASTC_10x8_Format$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.SRGB8_ALPHA8_ASTC_12x10_Format=SRGB8_ALPHA8_ASTC_12x10_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SRGB8_ALPHA8_ASTC_12x12_Format=SRGB8_ALPHA8_ASTC_12x12_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SRGB8_ALPHA8_ASTC_4x4_Format=SRGB8_ALPHA8_ASTC_4x4_Format$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.SRGB8_ALPHA8_ASTC_5x4_Format=SRGB8_ALPHA8_ASTC_5x4_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SRGB8_ALPHA8_ASTC_5x5_Format=SRGB8_ALPHA8_ASTC_5x5_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SRGB8_ALPHA8_ASTC_6x5_Format=SRGB8_ALPHA8_ASTC_6x5_Format$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.SRGB8_ALPHA8_ASTC_6x6_Format=SRGB8_ALPHA8_ASTC_6x6_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SRGB8_ALPHA8_ASTC_8x5_Format=SRGB8_ALPHA8_ASTC_8x5_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SRGB8_ALPHA8_ASTC_8x6_Format=SRGB8_ALPHA8_ASTC_8x6_Format$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.SRGB8_ALPHA8_ASTC_8x8_Format=SRGB8_ALPHA8_ASTC_8x8_Format$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Scene=Scene$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SceneUtils=SceneUtils$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ShaderChunk=ShaderChunk$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.ShaderLib=ShaderLib$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ShaderMaterial=ShaderMaterial$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ShadowMaterial=ShadowMaterial$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Shape=Shape$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.ShapeBufferGeometry=ShapeBufferGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ShapeGeometry=ShapeGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ShapePath=ShapePath$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ShapeUtils=ShapeUtils$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.ShortType=ShortType$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Skeleton=Skeleton$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SkeletonHelper=SkeletonHelper$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SkinnedMesh=SkinnedMesh$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.SmoothShading=SmoothShading$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Sphere=Sphere$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SphereBufferGeometry=SphereBufferGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SphereGeometry=SphereGeometry$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.Spherical=Spherical$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SphericalHarmonics3=SphericalHarmonics3$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Spline=Spline$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SplineCurve=SplineCurve$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.SplineCurve3=SplineCurve3$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SpotLight=SpotLight$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SpotLightHelper=SpotLightHelper$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Sprite=Sprite$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.SpriteMaterial=SpriteMaterial$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SrcAlphaFactor=SrcAlphaFactor$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SrcAlphaSaturateFactor=SrcAlphaSaturateFactor$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SrcColorFactor=SrcColorFactor$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.StaticCopyUsage=StaticCopyUsage$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.StaticDrawUsage=StaticDrawUsage$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.StaticReadUsage=StaticReadUsage$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.StereoCamera=StereoCamera$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.StreamCopyUsage=StreamCopyUsage$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.StreamDrawUsage=StreamDrawUsage$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.StreamReadUsage=StreamReadUsage$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.StringKeyframeTrack=StringKeyframeTrack$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.SubtractEquation=SubtractEquation$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.SubtractiveBlending=SubtractiveBlending$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.TOUCH=TOUCH$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.TangentSpaceNormalMap=TangentSpaceNormalMap$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.TetrahedronBufferGeometry=TetrahedronBufferGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.TetrahedronGeometry=TetrahedronGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.TextBufferGeometry=TextBufferGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.TextGeometry=TextGeometry$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.Texture=Texture$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.TextureLoader=TextureLoader$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.TorusBufferGeometry=TorusBufferGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.TorusGeometry=TorusGeometry$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.TorusKnotBufferGeometry=TorusKnotBufferGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.TorusKnotGeometry=TorusKnotGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Triangle=Triangle$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.TriangleFanDrawMode=TriangleFanDrawMode$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.TriangleStripDrawMode=TriangleStripDrawMode$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.TrianglesDrawMode=TrianglesDrawMode$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.TubeBufferGeometry=TubeBufferGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.TubeGeometry=TubeGeometry$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.UVMapping=UVMapping$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Uint16Attribute=Uint16Attribute$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Uint16BufferAttribute=Uint16BufferAttribute$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Uint32Attribute=Uint32Attribute$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.Uint32BufferAttribute=Uint32BufferAttribute$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Uint8Attribute=Uint8Attribute$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Uint8BufferAttribute=Uint8BufferAttribute$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Uint8ClampedAttribute=Uint8ClampedAttribute$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.Uint8ClampedBufferAttribute=Uint8ClampedBufferAttribute$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Uniform=Uniform$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.UniformsLib=UniformsLib$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.UniformsUtils=UniformsUtils$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.UnsignedByteType=UnsignedByteType$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.UnsignedInt248Type=UnsignedInt248Type$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.UnsignedIntType=UnsignedIntType$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.UnsignedShort4444Type=UnsignedShort4444Type$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.UnsignedShort5551Type=UnsignedShort5551Type$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.UnsignedShort565Type=UnsignedShort565Type$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.UnsignedShortType=UnsignedShortType$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.VSMShadowMap=VSMShadowMap$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.Vector2=Vector2$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Vector3=Vector3$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.Vector4=Vector4$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.VectorKeyframeTrack=VectorKeyframeTrack$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.Vertex=Vertex$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.VertexColors=VertexColors$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.VideoTexture=VideoTexture$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.WebGL1Renderer=WebGL1Renderer$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.WebGLCubeRenderTarget=WebGLCubeRenderTarget$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.WebGLMultisampleRenderTarget=WebGLMultisampleRenderTarget$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.WebGLRenderTarget=WebGLRenderTarget$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.WebGLRenderTargetCube=WebGLRenderTargetCube$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.WebGLRenderer=WebGLRenderer$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.WebGLUtils=WebGLUtils$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.WireframeGeometry=WireframeGeometry$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.WireframeHelper=WireframeHelper$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.WrapAroundEnding=WrapAroundEnding$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.XHRLoader=XHRLoader$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ZeroCurvatureEnding=ZeroCurvatureEnding$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ZeroFactor=ZeroFactor$$module$node_modules$three$build$three_module;
module$node_modules$three$build$three_module.ZeroSlopeEnding=ZeroSlopeEnding$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.ZeroStencilOp=ZeroStencilOp$$module$node_modules$three$build$three_module;module$node_modules$three$build$three_module.sRGBEncoding=sRGBEncoding$$module$node_modules$three$build$three_module;var TDSLoader$$module$node_modules$three$examples$jsm$loaders$TDSLoader=function(a){Loader$$module$node_modules$three$build$three_module.call(this,a);this.debug=!1;this.group=null;this.position=0;this.materials=[];this.meshes=[]};
TDSLoader$$module$node_modules$three$examples$jsm$loaders$TDSLoader.prototype=Object.assign(Object.create(Loader$$module$node_modules$three$build$three_module.prototype),{constructor:TDSLoader$$module$node_modules$three$examples$jsm$loaders$TDSLoader,load:function(a,b,c,d){var e=this,g=""===e.path?LoaderUtils$$module$node_modules$three$build$three_module.extractUrlBase(a):e.path,h=new FileLoader$$module$node_modules$three$build$three_module(this.manager);h.setPath(this.path);h.setResponseType("arraybuffer");
h.setRequestHeader(this.requestHeader);h.load(a,function(k){try{b(e.parse(k,g))}catch(l){d?d(l):console.error(l),e.manager.itemError(a)}},c,d)},parse:function(a,b){this.group=new Group$$module$node_modules$three$build$three_module;this.position=0;this.materials=[];this.meshes=[];this.readFile(a,b);for(a=0;a<this.meshes.length;a++)this.group.add(this.meshes[a]);return this.group},readFile:function(a,b){a=new DataView(a);var c=this.readChunk(a);if(c.id===MLIBMAGIC$$module$node_modules$three$examples$jsm$loaders$TDSLoader||
c.id===CMAGIC$$module$node_modules$three$examples$jsm$loaders$TDSLoader||c.id===M3DMAGIC$$module$node_modules$three$examples$jsm$loaders$TDSLoader)for(var d=this.nextChunk(a,c);0!==d;)d===M3D_VERSION$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(d=this.readDWord(a),this.debugMessage("3DS file version: "+d)):d===MDATA$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(this.resetPosition(a),this.readMeshData(a,b)):this.debugMessage("Unknown main chunk: "+d.toString(16)),d=this.nextChunk(a,
c);this.debugMessage("Parsed "+this.meshes.length+" meshes")},readMeshData:function(a,b){for(var c=this.readChunk(a),d=this.nextChunk(a,c);0!==d;)d===MESH_VERSION$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(d=+this.readDWord(a),this.debugMessage("Mesh Version: "+d)):d===MASTER_SCALE$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(d=this.readFloat(a),this.debugMessage("Master scale: "+d),this.group.scale.set(d,d,d)):d===NAMED_OBJECT$$module$node_modules$three$examples$jsm$loaders$TDSLoader?
(this.debugMessage("Named Object"),this.resetPosition(a),this.readNamedObject(a)):d===MAT_ENTRY$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(this.debugMessage("Material"),this.resetPosition(a),this.readMaterialEntry(a,b)):this.debugMessage("Unknown MDATA chunk: "+d.toString(16)),d=this.nextChunk(a,c)},readNamedObject:function(a){var b=this.readChunk(a),c=this.readString(a,64);b.cur=this.position;for(var d=this.nextChunk(a,b);0!==d;)d===N_TRI_OBJECT$$module$node_modules$three$examples$jsm$loaders$TDSLoader?
(this.resetPosition(a),d=this.readMesh(a),d.name=c,this.meshes.push(d)):this.debugMessage("Unknown named object chunk: "+d.toString(16)),d=this.nextChunk(a,b);this.endChunk(b)},readMaterialEntry:function(a,b){for(var c=this.readChunk(a),d=this.nextChunk(a,c),e=new MeshPhongMaterial$$module$node_modules$three$build$three_module;0!==d;)d===MAT_NAME$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(e.name=this.readString(a,64),this.debugMessage("   Name: "+e.name)):d===MAT_WIRE$$module$node_modules$three$examples$jsm$loaders$TDSLoader?
(this.debugMessage("   Wireframe"),e.wireframe=!0):d===MAT_WIRE_SIZE$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(d=this.readByte(a),e.wireframeLinewidth=d,this.debugMessage("   Wireframe Thickness: "+d)):d===MAT_TWO_SIDE$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(e.side=DoubleSide$$module$node_modules$three$build$three_module,this.debugMessage("   DoubleSided")):d===MAT_ADDITIVE$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(this.debugMessage("   Additive Blending"),
e.blending=AdditiveBlending$$module$node_modules$three$build$three_module):d===MAT_DIFFUSE$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(this.debugMessage("   Diffuse Color"),e.color=this.readColor(a)):d===MAT_SPECULAR$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(this.debugMessage("   Specular Color"),e.specular=this.readColor(a)):d===MAT_AMBIENT$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(this.debugMessage("   Ambient color"),e.color=this.readColor(a)):d===
MAT_SHININESS$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(d=this.readWord(a),e.shininess=d,this.debugMessage("   Shininess : "+d)):d===MAT_TRANSPARENCY$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(d=this.readWord(a),e.opacity=.01*d,this.debugMessage("  Opacity : "+d),e.transparent=100>d?!0:!1):d===MAT_TEXMAP$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(this.debugMessage("   ColorMap"),this.resetPosition(a),e.map=this.readMap(a,b)):d===MAT_BUMPMAP$$module$node_modules$three$examples$jsm$loaders$TDSLoader?
(this.debugMessage("   BumpMap"),this.resetPosition(a),e.bumpMap=this.readMap(a,b)):d===MAT_OPACMAP$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(this.debugMessage("   OpacityMap"),this.resetPosition(a),e.alphaMap=this.readMap(a,b)):d===MAT_SPECMAP$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(this.debugMessage("   SpecularMap"),this.resetPosition(a),e.specularMap=this.readMap(a,b)):this.debugMessage("   Unknown material chunk: "+d.toString(16)),d=this.nextChunk(a,c);this.endChunk(c);
this.materials[e.name]=e},readMesh:function(a){var b=this.readChunk(a),c=this.nextChunk(a,b),d=new BufferGeometry$$module$node_modules$three$build$three_module,e=new MeshPhongMaterial$$module$node_modules$three$build$three_module;e=new Mesh$$module$node_modules$three$build$three_module(d,e);for(e.name="mesh";0!==c;){if(c===POINT_ARRAY$$module$node_modules$three$examples$jsm$loaders$TDSLoader){var g=this.readWord(a);this.debugMessage("   Vertex: "+g);var h=[];for(c=0;c<g;c++)h.push(this.readFloat(a)),
h.push(this.readFloat(a)),h.push(this.readFloat(a));d.setAttribute("position",new Float32BufferAttribute$$module$node_modules$three$build$three_module(h,3))}else if(c===FACE_ARRAY$$module$node_modules$three$examples$jsm$loaders$TDSLoader)this.resetPosition(a),this.readFaceArray(a,e);else if(c===TEX_VERTS$$module$node_modules$three$examples$jsm$loaders$TDSLoader){h=this.readWord(a);this.debugMessage("   UV: "+h);g=[];for(c=0;c<h;c++)g.push(this.readFloat(a)),g.push(this.readFloat(a));d.setAttribute("uv",
new Float32BufferAttribute$$module$node_modules$three$build$three_module(g,2))}else if(c===MESH_MATRIX$$module$node_modules$three$examples$jsm$loaders$TDSLoader){this.debugMessage("   Tranformation Matrix (TODO)");g=[];for(c=0;12>c;c++)g[c]=this.readFloat(a);c=new Matrix4$$module$node_modules$three$build$three_module;c.elements[0]=g[0];c.elements[1]=g[6];c.elements[2]=g[3];c.elements[3]=g[9];c.elements[4]=g[2];c.elements[5]=g[8];c.elements[6]=g[5];c.elements[7]=g[11];c.elements[8]=g[1];c.elements[9]=
g[7];c.elements[10]=g[4];c.elements[11]=g[10];c.elements[12]=0;c.elements[13]=0;c.elements[14]=0;c.elements[15]=1;c.transpose();g=new Matrix4$$module$node_modules$three$build$three_module;g.getInverse(c);d.applyMatrix4(g);c.decompose(e.position,e.quaternion,e.scale)}else this.debugMessage("   Unknown mesh chunk: "+c.toString(16));c=this.nextChunk(a,b)}this.endChunk(b);d.computeVertexNormals();return e},readFaceArray:function(a,b){var c=this.readChunk(a),d=this.readWord(a);this.debugMessage("   Faces: "+
d);for(var e=[],g=0;g<d;++g)e.push(this.readWord(a),this.readWord(a),this.readWord(a)),this.readWord(a);for(b.geometry.setIndex(e);this.position<c.end;)c=this.readChunk(a),c.id===MSH_MAT_GROUP$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(this.debugMessage("      Material Group"),this.resetPosition(a),d=this.readMaterialGroup(a),d=this.materials[d.name],void 0!==d&&(b.material=d,""===d.name&&(d.name=b.name))):this.debugMessage("      Unknown face array chunk: "+c.toString(16)),this.endChunk(c);
this.endChunk(c)},readMap:function(a,b){var c=this.readChunk(a),d=this.nextChunk(a,c),e={},g=new TextureLoader$$module$node_modules$three$build$three_module(this.manager);for(g.setPath(this.resourcePath||b).setCrossOrigin(this.crossOrigin);0!==d;)d===MAT_MAPNAME$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(d=this.readString(a,128),e=g.load(d),this.debugMessage("      File: "+b+d)):d===MAT_MAP_UOFFSET$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(e.offset.x=this.readFloat(a),
this.debugMessage("      OffsetX: "+e.offset.x)):d===MAT_MAP_VOFFSET$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(e.offset.y=this.readFloat(a),this.debugMessage("      OffsetY: "+e.offset.y)):d===MAT_MAP_USCALE$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(e.repeat.x=this.readFloat(a),this.debugMessage("      RepeatX: "+e.repeat.x)):d===MAT_MAP_VSCALE$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(e.repeat.y=this.readFloat(a),this.debugMessage("      RepeatY: "+
e.repeat.y)):this.debugMessage("      Unknown map chunk: "+d.toString(16)),d=this.nextChunk(a,c);this.endChunk(c);return e},readMaterialGroup:function(a){this.readChunk(a);var b=this.readString(a,64),c=this.readWord(a);this.debugMessage("         Name: "+b);this.debugMessage("         Faces: "+c);for(var d=[],e=0;e<c;++e)d.push(this.readWord(a));return{name:b,index:d}},readColor:function(a){var b=this.readChunk(a),c=new Color$$module$node_modules$three$build$three_module;if(b.id===COLOR_24$$module$node_modules$three$examples$jsm$loaders$TDSLoader||
b.id===LIN_COLOR_24$$module$node_modules$three$examples$jsm$loaders$TDSLoader){var d=this.readByte(a),e=this.readByte(a);a=this.readByte(a);c.setRGB(d/255,e/255,a/255);this.debugMessage("      Color: "+c.r+", "+c.g+", "+c.b)}else b.id===COLOR_F$$module$node_modules$three$examples$jsm$loaders$TDSLoader||b.id===LIN_COLOR_F$$module$node_modules$three$examples$jsm$loaders$TDSLoader?(d=this.readFloat(a),e=this.readFloat(a),a=this.readFloat(a),c.setRGB(d,e,a),this.debugMessage("      Color: "+c.r+", "+
c.g+", "+c.b)):this.debugMessage("      Unknown color chunk: "+b.toString(16));this.endChunk(b);return c},readChunk:function(a){var b={};b.cur=this.position;b.id=this.readWord(a);b.size=this.readDWord(a);b.end=b.cur+b.size;b.cur+=6;return b},endChunk:function(a){this.position=a.end},nextChunk:function(a,b){if(b.cur>=b.end)return 0;this.position=b.cur;try{var c=this.readChunk(a);b.cur+=c.size;return c.id}catch(d){return this.debugMessage("Unable to read chunk at "+this.position),0}},resetPosition:function(){this.position-=
6},readByte:function(a){a=a.getUint8(this.position,!0);this.position+=1;return a},readFloat:function(a){try{var b=a.getFloat32(this.position,!0);this.position+=4;return b}catch(c){this.debugMessage(c+" "+this.position+" "+a.byteLength)}},readInt:function(a){a=a.getInt32(this.position,!0);this.position+=4;return a},readShort:function(a){a=a.getInt16(this.position,!0);this.position+=2;return a},readDWord:function(a){a=a.getUint32(this.position,!0);this.position+=4;return a},readWord:function(a){a=a.getUint16(this.position,
!0);this.position+=2;return a},readString:function(a,b){for(var c="",d=0;d<b;d++){var e=this.readByte(a);if(!e)break;c+=String.fromCharCode(e)}return c},debugMessage:function(a){this.debug&&console.log(a)}});
var M3DMAGIC$$module$node_modules$three$examples$jsm$loaders$TDSLoader=19789,MLIBMAGIC$$module$node_modules$three$examples$jsm$loaders$TDSLoader=15786,CMAGIC$$module$node_modules$three$examples$jsm$loaders$TDSLoader=49725,M3D_VERSION$$module$node_modules$three$examples$jsm$loaders$TDSLoader=2,COLOR_F$$module$node_modules$three$examples$jsm$loaders$TDSLoader=16,COLOR_24$$module$node_modules$three$examples$jsm$loaders$TDSLoader=17,LIN_COLOR_24$$module$node_modules$three$examples$jsm$loaders$TDSLoader=
18,LIN_COLOR_F$$module$node_modules$three$examples$jsm$loaders$TDSLoader=19,MDATA$$module$node_modules$three$examples$jsm$loaders$TDSLoader=15677,MESH_VERSION$$module$node_modules$three$examples$jsm$loaders$TDSLoader=15678,MASTER_SCALE$$module$node_modules$three$examples$jsm$loaders$TDSLoader=256,MAT_ENTRY$$module$node_modules$three$examples$jsm$loaders$TDSLoader=45055,MAT_NAME$$module$node_modules$three$examples$jsm$loaders$TDSLoader=40960,MAT_AMBIENT$$module$node_modules$three$examples$jsm$loaders$TDSLoader=
40976,MAT_DIFFUSE$$module$node_modules$three$examples$jsm$loaders$TDSLoader=40992,MAT_SPECULAR$$module$node_modules$three$examples$jsm$loaders$TDSLoader=41008,MAT_SHININESS$$module$node_modules$three$examples$jsm$loaders$TDSLoader=41024,MAT_TRANSPARENCY$$module$node_modules$three$examples$jsm$loaders$TDSLoader=41040,MAT_TWO_SIDE$$module$node_modules$three$examples$jsm$loaders$TDSLoader=41089,MAT_ADDITIVE$$module$node_modules$three$examples$jsm$loaders$TDSLoader=41091,MAT_WIRE$$module$node_modules$three$examples$jsm$loaders$TDSLoader=
41093,MAT_WIRE_SIZE$$module$node_modules$three$examples$jsm$loaders$TDSLoader=41095,MAT_TEXMAP$$module$node_modules$three$examples$jsm$loaders$TDSLoader=41472,MAT_OPACMAP$$module$node_modules$three$examples$jsm$loaders$TDSLoader=41488,MAT_BUMPMAP$$module$node_modules$three$examples$jsm$loaders$TDSLoader=41520,MAT_SPECMAP$$module$node_modules$three$examples$jsm$loaders$TDSLoader=41476,MAT_MAPNAME$$module$node_modules$three$examples$jsm$loaders$TDSLoader=41728,MAT_MAP_USCALE$$module$node_modules$three$examples$jsm$loaders$TDSLoader=
41812,MAT_MAP_VSCALE$$module$node_modules$three$examples$jsm$loaders$TDSLoader=41814,MAT_MAP_UOFFSET$$module$node_modules$three$examples$jsm$loaders$TDSLoader=41816,MAT_MAP_VOFFSET$$module$node_modules$three$examples$jsm$loaders$TDSLoader=41818,NAMED_OBJECT$$module$node_modules$three$examples$jsm$loaders$TDSLoader=16384,N_TRI_OBJECT$$module$node_modules$three$examples$jsm$loaders$TDSLoader=16640,POINT_ARRAY$$module$node_modules$three$examples$jsm$loaders$TDSLoader=16656,FACE_ARRAY$$module$node_modules$three$examples$jsm$loaders$TDSLoader=
16672,MSH_MAT_GROUP$$module$node_modules$three$examples$jsm$loaders$TDSLoader=16688,TEX_VERTS$$module$node_modules$three$examples$jsm$loaders$TDSLoader=16704,MESH_MATRIX$$module$node_modules$three$examples$jsm$loaders$TDSLoader=16736,module$node_modules$three$examples$jsm$loaders$TDSLoader={};module$node_modules$three$examples$jsm$loaders$TDSLoader.TDSLoader=TDSLoader$$module$node_modules$three$examples$jsm$loaders$TDSLoader;var Box2D$$module$js$box2d$Box2D={};
(function(a){function b(){}a.inherit=function(c,d){b.prototype=d.prototype;c.prototype=new b;c.prototype.constructor=c};a.generateCallback=function(c,d){return function(){d.apply(c,arguments)}};a.NVector=function(c){void 0===c&&(c=0);for(var d=Array(c||0),e=0;e<c;++e)d[e]=0;return d};a.is=function(c,d){return null===c?!1:d instanceof Function&&c instanceof d||void 0!==c.constructor.__implements&&c.constructor.__implements[d]?!0:!1};a.parseUInt=function(c){return Math.abs(parseInt(c,10))}})(Box2D$$module$js$box2d$Box2D);
var Vector$$module$js$box2d$Box2D=Array,Vector_a2j_Number$$module$js$box2d$Box2D=Box2D$$module$js$box2d$Box2D.NVector;"undefined"===typeof Box2D$$module$js$box2d$Box2D&&(Box2D$$module$js$box2d$Box2D={});"undefined"===typeof Box2D$$module$js$box2d$Box2D.Collision&&(Box2D$$module$js$box2d$Box2D.Collision={});"undefined"===typeof Box2D$$module$js$box2d$Box2D.Collision.Shapes&&(Box2D$$module$js$box2d$Box2D.Collision.Shapes={});
"undefined"===typeof Box2D$$module$js$box2d$Box2D.Common&&(Box2D$$module$js$box2d$Box2D.Common={});"undefined"===typeof Box2D$$module$js$box2d$Box2D.Common.Math&&(Box2D$$module$js$box2d$Box2D.Common.Math={});"undefined"===typeof Box2D$$module$js$box2d$Box2D.Dynamics&&(Box2D$$module$js$box2d$Box2D.Dynamics={});"undefined"===typeof Box2D$$module$js$box2d$Box2D.Dynamics.Contacts&&(Box2D$$module$js$box2d$Box2D.Dynamics.Contacts={});
"undefined"===typeof Box2D$$module$js$box2d$Box2D.Dynamics.Controllers&&(Box2D$$module$js$box2d$Box2D.Dynamics.Controllers={});"undefined"===typeof Box2D$$module$js$box2d$Box2D.Dynamics.Joints&&(Box2D$$module$js$box2d$Box2D.Dynamics.Joints={});
(function(){function a(){a.b2AABB.apply(this,arguments)}function b(){b.b2Bound.apply(this,arguments)}function c(){c.b2BoundValues.apply(this,arguments);this.constructor===c&&this.b2BoundValues.apply(this,arguments)}function d(){d.b2Collision.apply(this,arguments)}function e(){e.b2ContactID.apply(this,arguments);this.constructor===e&&this.b2ContactID.apply(this,arguments)}function g(){g.b2ContactPoint.apply(this,arguments)}function h(){h.b2Distance.apply(this,arguments)}function k(){k.b2DistanceInput.apply(this,
arguments)}function l(){l.b2DistanceOutput.apply(this,arguments)}function m(){m.b2DistanceProxy.apply(this,arguments)}function n(){n.b2DynamicTree.apply(this,arguments);this.constructor===n&&this.b2DynamicTree.apply(this,arguments)}function p(){p.b2DynamicTreeBroadPhase.apply(this,arguments)}function t(){t.b2DynamicTreeNode.apply(this,arguments)}function w(){w.b2DynamicTreePair.apply(this,arguments)}function x(){x.b2Manifold.apply(this,arguments);this.constructor===x&&this.b2Manifold.apply(this,arguments)}
function A(){A.b2ManifoldPoint.apply(this,arguments);this.constructor===A&&this.b2ManifoldPoint.apply(this,arguments)}function r(){r.b2Point.apply(this,arguments)}function E(){E.b2RayCastInput.apply(this,arguments);this.constructor===E&&this.b2RayCastInput.apply(this,arguments)}function B(){B.b2RayCastOutput.apply(this,arguments)}function G(){G.b2Segment.apply(this,arguments)}function H(){H.b2SeparationFunction.apply(this,arguments)}function O(){O.b2Simplex.apply(this,arguments);this.constructor===
O&&this.b2Simplex.apply(this,arguments)}function N(){N.b2SimplexCache.apply(this,arguments)}function U(){U.b2SimplexVertex.apply(this,arguments)}function W(){W.b2TimeOfImpact.apply(this,arguments)}function J(){J.b2TOIInput.apply(this,arguments)}function aa(){aa.b2WorldManifold.apply(this,arguments);this.constructor===aa&&this.b2WorldManifold.apply(this,arguments)}function ba(){ba.ClipVertex.apply(this,arguments)}function z(){z.Features.apply(this,arguments)}function K(){K.b2CircleShape.apply(this,
arguments);this.constructor===K&&this.b2CircleShape.apply(this,arguments)}function Q(){Q.b2EdgeChainDef.apply(this,arguments);this.constructor===Q&&this.b2EdgeChainDef.apply(this,arguments)}function M(){M.b2EdgeShape.apply(this,arguments);this.constructor===M&&this.b2EdgeShape.apply(this,arguments)}function L(){L.b2MassData.apply(this,arguments)}function T(){T.b2PolygonShape.apply(this,arguments);this.constructor===T&&this.b2PolygonShape.apply(this,arguments)}function X(){X.b2Shape.apply(this,arguments);
this.constructor===X&&this.b2Shape.apply(this,arguments)}function y(){y.b2Color.apply(this,arguments);this.constructor===y&&this.b2Color.apply(this,arguments)}function F(){F.b2Settings.apply(this,arguments)}function R(){R.b2Mat22.apply(this,arguments);this.constructor===R&&this.b2Mat22.apply(this,arguments)}function q(){q.b2Mat33.apply(this,arguments);this.constructor===q&&this.b2Mat33.apply(this,arguments)}function v(){v.b2Math.apply(this,arguments)}function u(){u.b2Sweep.apply(this,arguments)}function D(){D.b2Transform.apply(this,
arguments);this.constructor===D&&this.b2Transform.apply(this,arguments)}function I(){I.b2Vec2.apply(this,arguments);this.constructor===I&&this.b2Vec2.apply(this,arguments)}function S(){S.b2Vec3.apply(this,arguments);this.constructor===S&&this.b2Vec3.apply(this,arguments)}function P(){P.b2Body.apply(this,arguments);this.constructor===P&&this.b2Body.apply(this,arguments)}function Y(){Y.b2BodyDef.apply(this,arguments);this.constructor===Y&&this.b2BodyDef.apply(this,arguments)}function Z(){Z.b2ContactFilter.apply(this,
arguments)}function ea(){ea.b2ContactImpulse.apply(this,arguments)}function ja(){ja.b2ContactListener.apply(this,arguments)}function ha(){ha.b2ContactManager.apply(this,arguments);this.constructor===ha&&this.b2ContactManager.apply(this,arguments)}function ka(){ka.b2DebugDraw.apply(this,arguments);this.constructor===ka&&this.b2DebugDraw.apply(this,arguments)}function oa(){oa.b2DestructionListener.apply(this,arguments)}function fa(){fa.b2FilterData.apply(this,arguments)}function na(){na.b2Fixture.apply(this,
arguments);this.constructor===na&&this.b2Fixture.apply(this,arguments)}function ta(){ta.b2FixtureDef.apply(this,arguments);this.constructor===ta&&this.b2FixtureDef.apply(this,arguments)}function sa(){sa.b2Island.apply(this,arguments);this.constructor===sa&&this.b2Island.apply(this,arguments)}function wa(){wa.b2TimeStep.apply(this,arguments)}function ua(){ua.b2World.apply(this,arguments);this.constructor===ua&&this.b2World.apply(this,arguments)}function xa(){xa.b2CircleContact.apply(this,arguments)}
function Ca(){Ca.b2Contact.apply(this,arguments);this.constructor===Ca&&this.b2Contact.apply(this,arguments)}function Ia(){Ia.b2ContactConstraint.apply(this,arguments);this.constructor===Ia&&this.b2ContactConstraint.apply(this,arguments)}function Na(){Na.b2ContactConstraintPoint.apply(this,arguments)}function Ha(){Ha.b2ContactEdge.apply(this,arguments)}function Ea(){Ea.b2ContactFactory.apply(this,arguments);this.constructor===Ea&&this.b2ContactFactory.apply(this,arguments)}function Oa(){Oa.b2ContactRegister.apply(this,
arguments)}function La(){La.b2ContactResult.apply(this,arguments)}function Ga(){Ga.b2ContactSolver.apply(this,arguments);this.constructor===Ga&&this.b2ContactSolver.apply(this,arguments)}function za(){za.b2EdgeAndCircleContact.apply(this,arguments)}function Ba(){Ba.b2NullContact.apply(this,arguments);this.constructor===Ba&&this.b2NullContact.apply(this,arguments)}function Qa(){Qa.b2PolyAndCircleContact.apply(this,arguments)}function Ra(){Ra.b2PolyAndEdgeContact.apply(this,arguments)}function Sa(){Sa.b2PolygonContact.apply(this,
arguments)}function Aa(){Aa.b2PositionSolverManifold.apply(this,arguments);this.constructor===Aa&&this.b2PositionSolverManifold.apply(this,arguments)}function ya(){ya.b2BuoyancyController.apply(this,arguments)}function Da(){Da.b2ConstantAccelController.apply(this,arguments)}function Ta(){Ta.b2ConstantForceController.apply(this,arguments)}function Pa(){Pa.b2Controller.apply(this,arguments)}function Ja(){Ja.b2ControllerEdge.apply(this,arguments)}function C(){C.b2GravityController.apply(this,arguments)}
function ca(){ca.b2TensorDampingController.apply(this,arguments)}function V(){V.b2DistanceJoint.apply(this,arguments);this.constructor===V&&this.b2DistanceJoint.apply(this,arguments)}function da(){da.b2DistanceJointDef.apply(this,arguments);this.constructor===da&&this.b2DistanceJointDef.apply(this,arguments)}function ia(){ia.b2FrictionJoint.apply(this,arguments);this.constructor===ia&&this.b2FrictionJoint.apply(this,arguments)}function la(){la.b2FrictionJointDef.apply(this,arguments);this.constructor===
la&&this.b2FrictionJointDef.apply(this,arguments)}function ma(){ma.b2GearJoint.apply(this,arguments);this.constructor===ma&&this.b2GearJoint.apply(this,arguments)}function pa(){pa.b2GearJointDef.apply(this,arguments);this.constructor===pa&&this.b2GearJointDef.apply(this,arguments)}function qa(){qa.b2Jacobian.apply(this,arguments)}function va(){va.b2Joint.apply(this,arguments);this.constructor===va&&this.b2Joint.apply(this,arguments)}function ra(){ra.b2JointDef.apply(this,arguments);this.constructor===
ra&&this.b2JointDef.apply(this,arguments)}function Fa(){Fa.b2JointEdge.apply(this,arguments)}function Ma(){Ma.b2LineJoint.apply(this,arguments);this.constructor===Ma&&this.b2LineJoint.apply(this,arguments)}function Ka(){Ka.b2LineJointDef.apply(this,arguments);this.constructor===Ka&&this.b2LineJointDef.apply(this,arguments)}function Ua(){Ua.b2MouseJoint.apply(this,arguments);this.constructor===Ua&&this.b2MouseJoint.apply(this,arguments)}function Va(){Va.b2MouseJointDef.apply(this,arguments);this.constructor===
Va&&this.b2MouseJointDef.apply(this,arguments)}function Wa(){Wa.b2PrismaticJoint.apply(this,arguments);this.constructor===Wa&&this.b2PrismaticJoint.apply(this,arguments)}function Xa(){Xa.b2PrismaticJointDef.apply(this,arguments);this.constructor===Xa&&this.b2PrismaticJointDef.apply(this,arguments)}function Ya(){Ya.b2PulleyJoint.apply(this,arguments);this.constructor===Ya&&this.b2PulleyJoint.apply(this,arguments)}function Za(){Za.b2PulleyJointDef.apply(this,arguments);this.constructor===Za&&this.b2PulleyJointDef.apply(this,
arguments)}function $a(){$a.b2RevoluteJoint.apply(this,arguments);this.constructor===$a&&this.b2RevoluteJoint.apply(this,arguments)}function ab(){ab.b2RevoluteJointDef.apply(this,arguments);this.constructor===ab&&this.b2RevoluteJointDef.apply(this,arguments)}function bb(){bb.b2WeldJoint.apply(this,arguments);this.constructor===bb&&this.b2WeldJoint.apply(this,arguments)}function cb(){cb.b2WeldJointDef.apply(this,arguments);this.constructor===cb&&this.b2WeldJointDef.apply(this,arguments)}Box2D$$module$js$box2d$Box2D.Collision.IBroadPhase=
"Box2D.Collision.IBroadPhase";Box2D$$module$js$box2d$Box2D.Collision.b2AABB=a;Box2D$$module$js$box2d$Box2D.Collision.b2Bound=b;Box2D$$module$js$box2d$Box2D.Collision.b2BoundValues=c;Box2D$$module$js$box2d$Box2D.Collision.b2Collision=d;Box2D$$module$js$box2d$Box2D.Collision.b2ContactID=e;Box2D$$module$js$box2d$Box2D.Collision.b2ContactPoint=g;Box2D$$module$js$box2d$Box2D.Collision.b2Distance=h;Box2D$$module$js$box2d$Box2D.Collision.b2DistanceInput=k;Box2D$$module$js$box2d$Box2D.Collision.b2DistanceOutput=
l;Box2D$$module$js$box2d$Box2D.Collision.b2DistanceProxy=m;Box2D$$module$js$box2d$Box2D.Collision.b2DynamicTree=n;Box2D$$module$js$box2d$Box2D.Collision.b2DynamicTreeBroadPhase=p;Box2D$$module$js$box2d$Box2D.Collision.b2DynamicTreeNode=t;Box2D$$module$js$box2d$Box2D.Collision.b2DynamicTreePair=w;Box2D$$module$js$box2d$Box2D.Collision.b2Manifold=x;Box2D$$module$js$box2d$Box2D.Collision.b2ManifoldPoint=A;Box2D$$module$js$box2d$Box2D.Collision.b2Point=r;Box2D$$module$js$box2d$Box2D.Collision.b2RayCastInput=
E;Box2D$$module$js$box2d$Box2D.Collision.b2RayCastOutput=B;Box2D$$module$js$box2d$Box2D.Collision.b2Segment=G;Box2D$$module$js$box2d$Box2D.Collision.b2SeparationFunction=H;Box2D$$module$js$box2d$Box2D.Collision.b2Simplex=O;Box2D$$module$js$box2d$Box2D.Collision.b2SimplexCache=N;Box2D$$module$js$box2d$Box2D.Collision.b2SimplexVertex=U;Box2D$$module$js$box2d$Box2D.Collision.b2TimeOfImpact=W;Box2D$$module$js$box2d$Box2D.Collision.b2TOIInput=J;Box2D$$module$js$box2d$Box2D.Collision.b2WorldManifold=aa;
Box2D$$module$js$box2d$Box2D.Collision.ClipVertex=ba;Box2D$$module$js$box2d$Box2D.Collision.Features=z;Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2CircleShape=K;Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2EdgeChainDef=Q;Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2EdgeShape=M;Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2MassData=L;Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2PolygonShape=T;Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape=X;Box2D$$module$js$box2d$Box2D.Common.b2internal=
"Box2D.Common.b2internal";Box2D$$module$js$box2d$Box2D.Common.b2Color=y;Box2D$$module$js$box2d$Box2D.Common.b2Settings=F;Box2D$$module$js$box2d$Box2D.Common.Math.b2Mat22=R;Box2D$$module$js$box2d$Box2D.Common.Math.b2Mat33=q;Box2D$$module$js$box2d$Box2D.Common.Math.b2Math=v;Box2D$$module$js$box2d$Box2D.Common.Math.b2Sweep=u;Box2D$$module$js$box2d$Box2D.Common.Math.b2Transform=D;Box2D$$module$js$box2d$Box2D.Common.Math.b2Vec2=I;Box2D$$module$js$box2d$Box2D.Common.Math.b2Vec3=S;Box2D$$module$js$box2d$Box2D.Dynamics.b2Body=
P;Box2D$$module$js$box2d$Box2D.Dynamics.b2BodyDef=Y;Box2D$$module$js$box2d$Box2D.Dynamics.b2ContactFilter=Z;Box2D$$module$js$box2d$Box2D.Dynamics.b2ContactImpulse=ea;Box2D$$module$js$box2d$Box2D.Dynamics.b2ContactListener=ja;Box2D$$module$js$box2d$Box2D.Dynamics.b2ContactManager=ha;Box2D$$module$js$box2d$Box2D.Dynamics.b2DebugDraw=ka;Box2D$$module$js$box2d$Box2D.Dynamics.b2DestructionListener=oa;Box2D$$module$js$box2d$Box2D.Dynamics.b2FilterData=fa;Box2D$$module$js$box2d$Box2D.Dynamics.b2Fixture=
na;Box2D$$module$js$box2d$Box2D.Dynamics.b2FixtureDef=ta;Box2D$$module$js$box2d$Box2D.Dynamics.b2Island=sa;Box2D$$module$js$box2d$Box2D.Dynamics.b2TimeStep=wa;Box2D$$module$js$box2d$Box2D.Dynamics.b2World=ua;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2CircleContact=xa;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact=Ca;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2ContactConstraint=Ia;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2ContactConstraintPoint=Na;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2ContactEdge=
Ha;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2ContactFactory=Ea;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2ContactRegister=Oa;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2ContactResult=La;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2ContactSolver=Ga;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2EdgeAndCircleContact=za;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2NullContact=Ba;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2PolyAndCircleContact=Qa;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2PolyAndEdgeContact=
Ra;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2PolygonContact=Sa;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2PositionSolverManifold=Aa;Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2BuoyancyController=ya;Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2ConstantAccelController=Da;Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2ConstantForceController=Ta;Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2Controller=Pa;Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2ControllerEdge=
Ja;Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2GravityController=C;Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2TensorDampingController=ca;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2DistanceJoint=V;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2DistanceJointDef=da;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2FrictionJoint=ia;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2FrictionJointDef=la;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2GearJoint=ma;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2GearJointDef=
pa;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Jacobian=qa;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint=va;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef=ra;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointEdge=Fa;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2LineJoint=Ma;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2LineJointDef=Ka;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2MouseJoint=Ua;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2MouseJointDef=Va;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2PrismaticJoint=
Wa;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2PrismaticJointDef=Xa;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2PulleyJoint=Ya;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2PulleyJointDef=Za;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2RevoluteJoint=$a;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2RevoluteJointDef=ab;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2WeldJoint=bb;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2WeldJointDef=cb})();Box2D$$module$js$box2d$Box2D.postDefs=[];
(function(){var a=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2CircleShape,b=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2PolygonShape,c=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape,d=Box2D$$module$js$box2d$Box2D.Common.b2Settings,e=Box2D$$module$js$box2d$Box2D.Common.Math.b2Math,g=Box2D$$module$js$box2d$Box2D.Common.Math.b2Sweep,h=Box2D$$module$js$box2d$Box2D.Common.Math.b2Transform,k=Box2D$$module$js$box2d$Box2D.Common.Math.b2Vec2,l=Box2D$$module$js$box2d$Box2D.Collision.b2AABB,m=
Box2D$$module$js$box2d$Box2D.Collision.b2Bound,n=Box2D$$module$js$box2d$Box2D.Collision.b2BoundValues,p=Box2D$$module$js$box2d$Box2D.Collision.b2Collision,t=Box2D$$module$js$box2d$Box2D.Collision.b2ContactID,w=Box2D$$module$js$box2d$Box2D.Collision.b2ContactPoint,x=Box2D$$module$js$box2d$Box2D.Collision.b2Distance,A=Box2D$$module$js$box2d$Box2D.Collision.b2DistanceInput,r=Box2D$$module$js$box2d$Box2D.Collision.b2DistanceOutput,E=Box2D$$module$js$box2d$Box2D.Collision.b2DistanceProxy,B=Box2D$$module$js$box2d$Box2D.Collision.b2DynamicTree,
G=Box2D$$module$js$box2d$Box2D.Collision.b2DynamicTreeBroadPhase,H=Box2D$$module$js$box2d$Box2D.Collision.b2DynamicTreeNode,O=Box2D$$module$js$box2d$Box2D.Collision.b2DynamicTreePair,N=Box2D$$module$js$box2d$Box2D.Collision.b2Manifold,U=Box2D$$module$js$box2d$Box2D.Collision.b2ManifoldPoint,W=Box2D$$module$js$box2d$Box2D.Collision.b2Point,J=Box2D$$module$js$box2d$Box2D.Collision.b2RayCastInput,aa=Box2D$$module$js$box2d$Box2D.Collision.b2RayCastOutput,ba=Box2D$$module$js$box2d$Box2D.Collision.b2Segment,
z=Box2D$$module$js$box2d$Box2D.Collision.b2SeparationFunction,K=Box2D$$module$js$box2d$Box2D.Collision.b2Simplex,Q=Box2D$$module$js$box2d$Box2D.Collision.b2SimplexCache,M=Box2D$$module$js$box2d$Box2D.Collision.b2SimplexVertex,L=Box2D$$module$js$box2d$Box2D.Collision.b2TimeOfImpact,T=Box2D$$module$js$box2d$Box2D.Collision.b2TOIInput,X=Box2D$$module$js$box2d$Box2D.Collision.b2WorldManifold,y=Box2D$$module$js$box2d$Box2D.Collision.ClipVertex,F=Box2D$$module$js$box2d$Box2D.Collision.Features,R=Box2D$$module$js$box2d$Box2D.Collision.IBroadPhase;
l.b2AABB=function(){this.lowerBound=new k;this.upperBound=new k};l.prototype.IsValid=function(){var q=this.upperBound.y-this.lowerBound.y;return 0<=this.upperBound.x-this.lowerBound.x&&0<=q&&this.lowerBound.IsValid()&&this.upperBound.IsValid()};l.prototype.GetCenter=function(){return new k((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)};l.prototype.GetExtents=function(){return new k((this.upperBound.x-this.lowerBound.x)/2,(this.upperBound.y-this.lowerBound.y)/2)};
l.prototype.Contains=function(q){var v;return v=(v=(v=(v=this.lowerBound.x<=q.lowerBound.x)&&this.lowerBound.y<=q.lowerBound.y)&&q.upperBound.x<=this.upperBound.x)&&q.upperBound.y<=this.upperBound.y};l.prototype.RayCast=function(q,v){var u=-Number.MAX_VALUE,D=Number.MAX_VALUE,I=v.p1.x,S=v.p1.y,P=v.p2.x-v.p1.x;v=v.p2.y-v.p1.y;var Y=Math.abs(v),Z=q.normal;if(Math.abs(P)<Number.MIN_VALUE){if(I<this.lowerBound.x||this.upperBound.x<I)return!1}else{var ea=1/P;P=(this.lowerBound.x-I)*ea;I=(this.upperBound.x-
I)*ea;ea=-1;P>I&&(ea=P,P=I,I=ea,ea=1);P>u&&(Z.x=ea,Z.y=0,u=P);D=Math.min(D,I);if(u>D)return!1}if(Y<Number.MIN_VALUE){if(S<this.lowerBound.y||this.upperBound.y<S)return!1}else if(ea=1/v,P=(this.lowerBound.y-S)*ea,I=(this.upperBound.y-S)*ea,ea=-1,P>I&&(ea=P,P=I,I=ea,ea=1),P>u&&(Z.y=ea,Z.x=0,u=P),D=Math.min(D,I),u>D)return!1;q.fraction=u;return!0};l.prototype.TestOverlap=function(q){var v=q.lowerBound.y-this.upperBound.y,u=this.lowerBound.y-q.upperBound.y;return 0<q.lowerBound.x-this.upperBound.x||0<
v||0<this.lowerBound.x-q.upperBound.x||0<u?!1:!0};l.Combine=function(q,v){var u=new l;u.Combine(q,v);return u};l.prototype.Combine=function(q,v){this.lowerBound.x=Math.min(q.lowerBound.x,v.lowerBound.x);this.lowerBound.y=Math.min(q.lowerBound.y,v.lowerBound.y);this.upperBound.x=Math.max(q.upperBound.x,v.upperBound.x);this.upperBound.y=Math.max(q.upperBound.y,v.upperBound.y)};m.b2Bound=function(){};m.prototype.IsLower=function(){return 0===(this.value&1)};m.prototype.IsUpper=function(){return 1===
(this.value&1)};m.prototype.Swap=function(q){var v=this.value,u=this.proxy,D=this.stabbingCount;this.value=q.value;this.proxy=q.proxy;this.stabbingCount=q.stabbingCount;q.value=v;q.proxy=u;q.stabbingCount=D};n.b2BoundValues=function(){};n.prototype.b2BoundValues=function(){this.lowerValues=new Vector_a2j_Number$$module$js$box2d$Box2D;this.lowerValues[0]=0;this.lowerValues[1]=0;this.upperValues=new Vector_a2j_Number$$module$js$box2d$Box2D;this.upperValues[0]=0;this.upperValues[1]=0};p.b2Collision=
function(){};p.ClipSegmentToLine=function(q,v,u,D){void 0===D&&(D=0);var I=0;var S=v[0];var P=S.v;S=v[1];var Y=S.v,Z=u.x*P.x+u.y*P.y-D;S=u.x*Y.x+u.y*Y.y-D;0>=Z&&q[I++].Set(v[0]);0>=S&&q[I++].Set(v[1]);0>Z*S&&(u=Z/(Z-S),S=q[I],S=S.v,S.x=P.x+u*(Y.x-P.x),S.y=P.y+u*(Y.y-P.y),S=q[I],S.id=(0<Z?v[0]:v[1]).id,++I);return I};p.EdgeSeparation=function(q,v,u,D,I){void 0===u&&(u=0);var S=q.m_vertices,P=q.m_normals;q=D.m_vertexCount;D=D.m_vertices;var Y=v.R;var Z=P[u];P=Y.col1.x*Z.x+Y.col2.x*Z.y;var ea=Y.col1.y*
Z.x+Y.col2.y*Z.y;Y=I.R;var ja=Y.col1.x*P+Y.col1.y*ea;Y=Y.col2.x*P+Y.col2.y*ea;for(var ha=0,ka=Number.MAX_VALUE,oa=0;oa<q;++oa)Z=D[oa],Z=Z.x*ja+Z.y*Y,Z<ka&&(ka=Z,ha=oa);Z=S[u];Y=v.R;u=v.position.x+(Y.col1.x*Z.x+Y.col2.x*Z.y);v=v.position.y+(Y.col1.y*Z.x+Y.col2.y*Z.y);Z=D[ha];Y=I.R;return(I.position.x+(Y.col1.x*Z.x+Y.col2.x*Z.y)-u)*P+(I.position.y+(Y.col1.y*Z.x+Y.col2.y*Z.y)-v)*ea};p.FindMaxSeparation=function(q,v,u,D,I){var S=v.m_vertexCount,P=v.m_normals;var Y=I.R;var Z=D.m_centroid;var ea=I.position.x+
(Y.col1.x*Z.x+Y.col2.x*Z.y),ja=I.position.y+(Y.col1.y*Z.x+Y.col2.y*Z.y);Y=u.R;Z=v.m_centroid;ea-=u.position.x+(Y.col1.x*Z.x+Y.col2.x*Z.y);ja-=u.position.y+(Y.col1.y*Z.x+Y.col2.y*Z.y);Y=ea*u.R.col1.x+ja*u.R.col1.y;ja=ea*u.R.col2.x+ja*u.R.col2.y;ea=0;for(var ha=-Number.MAX_VALUE,ka=0;ka<S;++ka)Z=P[ka],Z=Z.x*Y+Z.y*ja,Z>ha&&(ha=Z,ea=ka);P=p.EdgeSeparation(v,u,ea,D,I);ha=0<=ea-1?ea-1:S-1;Y=p.EdgeSeparation(v,u,ha,D,I);ka=ea+1<S?ea+1:0;ja=p.EdgeSeparation(v,u,ka,D,I);if(Y>P&&Y>ja)Z=-1;else if(ja>P)Z=1,
ha=ka,Y=ja;else return q[0]=ea,P;for(;;)if(ea=-1===Z?0<=ha-1?ha-1:S-1:ha+1<S?ha+1:0,P=p.EdgeSeparation(v,u,ea,D,I),P>Y)ha=ea,Y=P;else break;q[0]=ha;return Y};p.FindIncidentEdge=function(q,v,u,D,I,S){void 0===D&&(D=0);var P=v.m_normals,Y=I.m_vertexCount;v=I.m_vertices;I=I.m_normals;var Z=u.R;u=P[D];P=Z.col1.x*u.x+Z.col2.x*u.y;var ea=Z.col1.y*u.x+Z.col2.y*u.y;Z=S.R;u=Z.col1.x*P+Z.col1.y*ea;ea=Z.col2.x*P+Z.col2.y*ea;P=u;Z=0;for(var ja=Number.MAX_VALUE,ha=0;ha<Y;++ha)u=I[ha],u=P*u.x+ea*u.y,u<ja&&(ja=
u,Z=ha);I=Z;P=I+1<Y?I+1:0;Y=q[0];u=v[I];Z=S.R;Y.v.x=S.position.x+(Z.col1.x*u.x+Z.col2.x*u.y);Y.v.y=S.position.y+(Z.col1.y*u.x+Z.col2.y*u.y);Y.id.features.referenceEdge=D;Y.id.features.incidentEdge=I;Y.id.features.incidentVertex=0;Y=q[1];u=v[P];Z=S.R;Y.v.x=S.position.x+(Z.col1.x*u.x+Z.col2.x*u.y);Y.v.y=S.position.y+(Z.col1.y*u.x+Z.col2.y*u.y);Y.id.features.referenceEdge=D;Y.id.features.incidentEdge=P;Y.id.features.incidentVertex=1};p.MakeClipPointVector=function(){var q=new Vector$$module$js$box2d$Box2D(2);
q[0]=new y;q[1]=new y;return q};p.CollidePolygons=function(q,v,u,D,I){q.m_pointCount=0;var S=v.m_radius+D.m_radius;p.s_edgeAO[0]=0;var P=p.FindMaxSeparation(p.s_edgeAO,v,u,D,I);var Y=p.s_edgeAO[0];if(!(P>S)){p.s_edgeBO[0]=0;var Z=p.FindMaxSeparation(p.s_edgeBO,D,I,v,u);var ea=p.s_edgeBO[0];if(!(Z>S)){Z>.98*P+.001?(P=D,D=v,v=I,q.m_type=N.e_faceB,Y=1):(P=v,v=u,u=I,ea=Y,q.m_type=N.e_faceA,Y=0);I=p.s_incidentEdge;p.FindIncidentEdge(I,P,v,ea,D,u);Z=P.m_vertices;D=Z[ea];var ja=ea+1<P.m_vertexCount?Z[ea+
1]:Z[0];P=p.s_localTangent;P.Set(ja.x-D.x,ja.y-D.y);P.Normalize();Z=p.s_localNormal;Z.x=P.y;Z.y=-P.x;var ha=p.s_planePoint;ha.Set(.5*(D.x+ja.x),.5*(D.y+ja.y));var ka=p.s_tangent;ea=v.R;ka.x=ea.col1.x*P.x+ea.col2.x*P.y;ka.y=ea.col1.y*P.x+ea.col2.y*P.y;var oa=p.s_tangent2;oa.x=-ka.x;oa.y=-ka.y;P=p.s_normal;P.x=ka.y;P.y=-ka.x;var fa=p.s_v11,na=p.s_v12;fa.x=v.position.x+(ea.col1.x*D.x+ea.col2.x*D.y);fa.y=v.position.y+(ea.col1.y*D.x+ea.col2.y*D.y);na.x=v.position.x+(ea.col1.x*ja.x+ea.col2.x*ja.y);na.y=
v.position.y+(ea.col1.y*ja.x+ea.col2.y*ja.y);v=P.x*fa.x+P.y*fa.y;ea=ka.x*na.x+ka.y*na.y+S;ja=p.s_clipPoints1;D=p.s_clipPoints2;I=p.ClipSegmentToLine(ja,I,oa,-ka.x*fa.x-ka.y*fa.y+S);if(!(2>I||(I=p.ClipSegmentToLine(D,ja,ka,ea),2>I))){q.m_localPlaneNormal.SetV(Z);q.m_localPoint.SetV(ha);for(ha=Z=0;ha<d.b2_maxManifoldPoints;++ha)I=D[ha],P.x*I.v.x+P.y*I.v.y-v<=S&&(ka=q.m_points[Z],ea=u.R,oa=I.v.x-u.position.x,fa=I.v.y-u.position.y,ka.m_localPoint.x=oa*ea.col1.x+fa*ea.col1.y,ka.m_localPoint.y=oa*ea.col2.x+
fa*ea.col2.y,ka.m_id.Set(I.id),ka.m_id.features.flip=Y,++Z);q.m_pointCount=Z}}}};p.CollideCircles=function(q,v,u,D,I){q.m_pointCount=0;var S=u.R;var P=v.m_p;var Y=u.position.x+(S.col1.x*P.x+S.col2.x*P.y);u=u.position.y+(S.col1.y*P.x+S.col2.y*P.y);S=I.R;P=D.m_p;Y=I.position.x+(S.col1.x*P.x+S.col2.x*P.y)-Y;I=I.position.y+(S.col1.y*P.x+S.col2.y*P.y)-u;S=v.m_radius+D.m_radius;Y*Y+I*I>S*S||(q.m_type=N.e_circles,q.m_localPoint.SetV(v.m_p),q.m_localPlaneNormal.SetZero(),q.m_pointCount=1,q.m_points[0].m_localPoint.SetV(D.m_p),
q.m_points[0].m_id.key=0)};p.CollidePolygonAndCircle=function(q,v,u,D,I){q.m_pointCount=0;var S=I.R;var P=D.m_p;var Y=I.position.y+(S.col1.y*P.x+S.col2.y*P.y);var Z=I.position.x+(S.col1.x*P.x+S.col2.x*P.y)-u.position.x;var ea=Y-u.position.y;S=u.R;u=Z*S.col1.x+ea*S.col1.y;S=Z*S.col2.x+ea*S.col2.y;var ja=0;I=-Number.MAX_VALUE;Y=v.m_radius+D.m_radius;var ha=v.m_vertexCount,ka=v.m_vertices;v=v.m_normals;for(var oa=0;oa<ha;++oa){P=ka[oa];Z=u-P.x;ea=S-P.y;P=v[oa];P=P.x*Z+P.y*ea;if(P>Y)return;P>I&&(I=P,
ja=oa)}P=ja;Z=ka[P];ha=ka[P+1<ha?P+1:0];if(I<Number.MIN_VALUE)q.m_pointCount=1,q.m_type=N.e_faceA,q.m_localPlaneNormal.SetV(v[ja]),q.m_localPoint.x=.5*(Z.x+ha.x),q.m_localPoint.y=.5*(Z.y+ha.y);else if(I=(u-ha.x)*(Z.x-ha.x)+(S-ha.y)*(Z.y-ha.y),0>=(u-Z.x)*(ha.x-Z.x)+(S-Z.y)*(ha.y-Z.y)){if((u-Z.x)*(u-Z.x)+(S-Z.y)*(S-Z.y)>Y*Y)return;q.m_pointCount=1;q.m_type=N.e_faceA;q.m_localPlaneNormal.x=u-Z.x;q.m_localPlaneNormal.y=S-Z.y;q.m_localPlaneNormal.Normalize();q.m_localPoint.SetV(Z)}else if(0>=I){if((u-
ha.x)*(u-ha.x)+(S-ha.y)*(S-ha.y)>Y*Y)return;q.m_pointCount=1;q.m_type=N.e_faceA;q.m_localPlaneNormal.x=u-ha.x;q.m_localPlaneNormal.y=S-ha.y;q.m_localPlaneNormal.Normalize();q.m_localPoint.SetV(ha)}else{ja=.5*(Z.x+ha.x);Z=.5*(Z.y+ha.y);I=(u-ja)*v[P].x+(S-Z)*v[P].y;if(I>Y)return;q.m_pointCount=1;q.m_type=N.e_faceA;q.m_localPlaneNormal.x=v[P].x;q.m_localPlaneNormal.y=v[P].y;q.m_localPlaneNormal.Normalize();q.m_localPoint.Set(ja,Z)}q.m_points[0].m_localPoint.SetV(D.m_p);q.m_points[0].m_id.key=0};p.TestOverlap=
function(q,v){var u=v.lowerBound,D=q.upperBound,I=u.x-D.x,S=u.y-D.y;u=q.lowerBound;D=v.upperBound;q=u.y-D.y;return 0<I||0<S||0<u.x-D.x||0<q?!1:!0};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Collision.b2Collision.s_incidentEdge=p.MakeClipPointVector();Box2D$$module$js$box2d$Box2D.Collision.b2Collision.s_clipPoints1=p.MakeClipPointVector();Box2D$$module$js$box2d$Box2D.Collision.b2Collision.s_clipPoints2=p.MakeClipPointVector();Box2D$$module$js$box2d$Box2D.Collision.b2Collision.s_edgeAO=
new Vector_a2j_Number$$module$js$box2d$Box2D(1);Box2D$$module$js$box2d$Box2D.Collision.b2Collision.s_edgeBO=new Vector_a2j_Number$$module$js$box2d$Box2D(1);Box2D$$module$js$box2d$Box2D.Collision.b2Collision.s_localTangent=new k;Box2D$$module$js$box2d$Box2D.Collision.b2Collision.s_localNormal=new k;Box2D$$module$js$box2d$Box2D.Collision.b2Collision.s_planePoint=new k;Box2D$$module$js$box2d$Box2D.Collision.b2Collision.s_normal=new k;Box2D$$module$js$box2d$Box2D.Collision.b2Collision.s_tangent=new k;
Box2D$$module$js$box2d$Box2D.Collision.b2Collision.s_tangent2=new k;Box2D$$module$js$box2d$Box2D.Collision.b2Collision.s_v11=new k;Box2D$$module$js$box2d$Box2D.Collision.b2Collision.s_v12=new k;Box2D$$module$js$box2d$Box2D.Collision.b2Collision.b2CollidePolyTempVec=new k;Box2D$$module$js$box2d$Box2D.Collision.b2Collision.b2_nullFeature=255});t.b2ContactID=function(){this.features=new F};t.prototype.b2ContactID=function(){this.features._m_id=this};t.prototype.Set=function(q){this.key=q._key};t.prototype.Copy=
function(){var q=new t;q.key=this.key;return q};Object.defineProperty(t.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this._key}});Object.defineProperty(t.prototype,"key",{enumerable:!1,configurable:!0,set:function(q){void 0===q&&(q=0);this._key=q;this.features._referenceEdge=this._key&255;this.features._incidentEdge=(this._key&65280)>>8&255;this.features._incidentVertex=(this._key&16711680)>>16&255;this.features._flip=(this._key&4278190080)>>24&255}});w.b2ContactPoint=function(){this.position=
new k;this.velocity=new k;this.normal=new k;this.id=new t};x.b2Distance=function(){};x.Distance=function(q,v,u){++x.b2_gjkCalls;var D=u.proxyA,I=u.proxyB,S=u.transformA,P=u.transformB,Y=x.s_simplex;Y.ReadCache(v,D,S,I,P);var Z=Y.m_vertices,ea=x.s_saveA,ja=x.s_saveB;Y.GetClosestPoint().LengthSquared();for(var ha,ka,oa=0;20>oa;){var fa=Y.m_count;for(ha=0;ha<fa;ha++)ea[ha]=Z[ha].indexA,ja[ha]=Z[ha].indexB;switch(Y.m_count){case 1:break;case 2:Y.Solve2();break;case 3:Y.Solve3();break;default:d.b2Assert(!1)}if(3===
Y.m_count)break;ka=Y.GetClosestPoint();ka.LengthSquared();ha=Y.GetSearchDirection();if(ha.LengthSquared()<Number.MIN_VALUE*Number.MIN_VALUE)break;ka=Z[Y.m_count];ka.indexA=D.GetSupport(e.MulTMV(S.R,ha.GetNegative()));ka.wA=e.MulX(S,D.GetVertex(ka.indexA));ka.indexB=I.GetSupport(e.MulTMV(P.R,ha));ka.wB=e.MulX(P,I.GetVertex(ka.indexB));ka.w=e.SubtractVV(ka.wB,ka.wA);++oa;++x.b2_gjkIters;var na=!1;for(ha=0;ha<fa;ha++)if(ka.indexA==ea[ha]&&ka.indexB==ja[ha]){na=!0;break}if(na)break;++Y.m_count}x.b2_gjkMaxIters=
e.Max(x.b2_gjkMaxIters,oa);Y.GetWitnessPoints(q.pointA,q.pointB);q.distance=e.SubtractVV(q.pointA,q.pointB).Length();q.iterations=oa;Y.WriteCache(v);u.useRadii&&(v=D.m_radius,I=I.m_radius,q.distance>v+I&&q.distance>Number.MIN_VALUE?(q.distance-=v+I,u=e.SubtractVV(q.pointB,q.pointA),u.Normalize(),q.pointA.x+=v*u.x,q.pointA.y+=v*u.y,q.pointB.x-=I*u.x,q.pointB.y-=I*u.y):(ka=new k,ka.x=.5*(q.pointA.x+q.pointB.x),ka.y=.5*(q.pointA.y+q.pointB.y),q.pointA.x=q.pointB.x=ka.x,q.pointA.y=q.pointB.y=ka.y,q.distance=
0))};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Collision.b2Distance.s_simplex=new K;Box2D$$module$js$box2d$Box2D.Collision.b2Distance.s_saveA=new Vector_a2j_Number$$module$js$box2d$Box2D(3);Box2D$$module$js$box2d$Box2D.Collision.b2Distance.s_saveB=new Vector_a2j_Number$$module$js$box2d$Box2D(3)});A.b2DistanceInput=function(){};r.b2DistanceOutput=function(){this.pointA=new k;this.pointB=new k};E.b2DistanceProxy=function(){};E.prototype.Set=function(q){switch(q.GetType()){case c.e_circleShape:q=
q instanceof a?q:null;this.m_vertices=new Vector$$module$js$box2d$Box2D(1,!0);this.m_vertices[0]=q.m_p;this.m_count=1;this.m_radius=q.m_radius;break;case c.e_polygonShape:q=q instanceof b?q:null;this.m_vertices=q.m_vertices;this.m_count=q.m_vertexCount;this.m_radius=q.m_radius;break;default:d.b2Assert(!1)}};E.prototype.GetSupport=function(q){for(var v=0,u=this.m_vertices[0].x*q.x+this.m_vertices[0].y*q.y,D=1;D<this.m_count;++D){var I=this.m_vertices[D].x*q.x+this.m_vertices[D].y*q.y;I>u&&(v=D,u=I)}return v};
E.prototype.GetSupportVertex=function(q){for(var v=0,u=this.m_vertices[0].x*q.x+this.m_vertices[0].y*q.y,D=1;D<this.m_count;++D){var I=this.m_vertices[D].x*q.x+this.m_vertices[D].y*q.y;I>u&&(v=D,u=I)}return this.m_vertices[v]};E.prototype.GetVertexCount=function(){return this.m_count};E.prototype.GetVertex=function(q){void 0===q&&(q=0);d.b2Assert(0<=q&&q<this.m_count);return this.m_vertices[q]};B.b2DynamicTree=function(){};B.prototype.b2DynamicTree=function(){this.m_freeList=this.m_root=null;this.m_insertionCount=
this.m_path=0};B.prototype.CreateProxy=function(q,v){var u=this.AllocateNode(),D=d.b2_aabbExtension,I=d.b2_aabbExtension;u.aabb.lowerBound.x=q.lowerBound.x-D;u.aabb.lowerBound.y=q.lowerBound.y-I;u.aabb.upperBound.x=q.upperBound.x+D;u.aabb.upperBound.y=q.upperBound.y+I;u.userData=v;this.InsertLeaf(u);return u};B.prototype.DestroyProxy=function(q){this.RemoveLeaf(q);this.FreeNode(q)};B.prototype.MoveProxy=function(q,v,u){d.b2Assert(q.IsLeaf());if(q.aabb.Contains(v))return!1;this.RemoveLeaf(q);var D=
d.b2_aabbExtension+d.b2_aabbMultiplier*(0<u.x?u.x:-u.x);u=d.b2_aabbExtension+d.b2_aabbMultiplier*(0<u.y?u.y:-u.y);q.aabb.lowerBound.x=v.lowerBound.x-D;q.aabb.lowerBound.y=v.lowerBound.y-u;q.aabb.upperBound.x=v.upperBound.x+D;q.aabb.upperBound.y=v.upperBound.y+u;this.InsertLeaf(q);return!0};B.prototype.Rebalance=function(q){void 0===q&&(q=0);if(null!=this.m_root)for(var v=0;v<q;v++){for(var u=this.m_root,D=0;0==u.IsLeaf();)u=this.m_path>>D&1?u.child2:u.child1,D=D+1&31;++this.m_path;this.RemoveLeaf(u);
this.InsertLeaf(u)}};B.prototype.GetFatAABB=function(q){return q.aabb};B.prototype.GetUserData=function(q){return q.userData};B.prototype.Query=function(q,v){if(null!=this.m_root){var u=new Vector$$module$js$box2d$Box2D,D=0;for(u[D++]=this.m_root;0<D;){var I=u[--D];if(I.aabb.TestOverlap(v))if(I.IsLeaf()){if(!q(I))break}else u[D++]=I.child1,u[D++]=I.child2}}};B.prototype.RayCast=function(q,v){if(null!=this.m_root){var u=v.p1,D=v.p2,I=e.SubtractVV(u,D);I.Normalize();I=e.CrossFV(1,I);var S=e.AbsV(I),
P=v.maxFraction,Y=new l;var Z=u.x+P*(D.x-u.x);P=u.y+P*(D.y-u.y);Y.lowerBound.x=Math.min(u.x,Z);Y.lowerBound.y=Math.min(u.y,P);Y.upperBound.x=Math.max(u.x,Z);Y.upperBound.y=Math.max(u.y,P);var ea=new Vector$$module$js$box2d$Box2D,ja=0;for(ea[ja++]=this.m_root;0<ja;)if(Z=ea[--ja],0!=Z.aabb.TestOverlap(Y)){P=Z.aabb.GetCenter();var ha=Z.aabb.GetExtents();if(!(0<Math.abs(I.x*(u.x-P.x)+I.y*(u.y-P.y))-S.x*ha.x-S.y*ha.y))if(Z.IsLeaf()){P=new J;P.p1=v.p1;P.p2=v.p2;P.maxFraction=v.maxFraction;P=q(P,Z);if(0==
P)break;0<P&&(Z=u.x+P*(D.x-u.x),P=u.y+P*(D.y-u.y),Y.lowerBound.x=Math.min(u.x,Z),Y.lowerBound.y=Math.min(u.y,P),Y.upperBound.x=Math.max(u.x,Z),Y.upperBound.y=Math.max(u.y,P))}else ea[ja++]=Z.child1,ea[ja++]=Z.child2}}};B.prototype.AllocateNode=function(){if(this.m_freeList){var q=this.m_freeList;this.m_freeList=q.parent;q.parent=null;q.child1=null;q.child2=null;return q}return new H};B.prototype.FreeNode=function(q){q.parent=this.m_freeList;this.m_freeList=q};B.prototype.InsertLeaf=function(q){++this.m_insertionCount;
if(null==this.m_root)this.m_root=q,this.m_root.parent=null;else{var v=q.aabb.GetCenter(),u=this.m_root;if(0==u.IsLeaf()){do{var D=u.child1;u=u.child2;u=Math.abs((D.aabb.lowerBound.x+D.aabb.upperBound.x)/2-v.x)+Math.abs((D.aabb.lowerBound.y+D.aabb.upperBound.y)/2-v.y)<Math.abs((u.aabb.lowerBound.x+u.aabb.upperBound.x)/2-v.x)+Math.abs((u.aabb.lowerBound.y+u.aabb.upperBound.y)/2-v.y)?D:u}while(0==u.IsLeaf())}v=u.parent;D=this.AllocateNode();D.parent=v;D.userData=null;D.aabb.Combine(q.aabb,u.aabb);if(v){u.parent.child1==
u?v.child1=D:v.child2=D;D.child1=u;D.child2=q;u.parent=D;q.parent=D;do{if(v.aabb.Contains(D.aabb))break;v.aabb.Combine(v.child1.aabb,v.child2.aabb);D=v;v=v.parent}while(v)}else D.child1=u,D.child2=q,u.parent=D,this.m_root=q.parent=D}};B.prototype.RemoveLeaf=function(q){if(q==this.m_root)this.m_root=null;else{var v=q.parent,u=v.parent;q=v.child1==q?v.child2:v.child1;if(u)for(u.child1==v?u.child1=q:u.child2=q,q.parent=u,this.FreeNode(v);u;){v=u.aabb;u.aabb=l.Combine(u.child1.aabb,u.child2.aabb);if(v.Contains(u.aabb))break;
u=u.parent}else this.m_root=q,q.parent=null,this.FreeNode(v)}};G.b2DynamicTreeBroadPhase=function(){this.m_tree=new B;this.m_moveBuffer=new Vector$$module$js$box2d$Box2D;this.m_pairBuffer=new Vector$$module$js$box2d$Box2D;this.m_pairCount=0};G.prototype.CreateProxy=function(q,v){q=this.m_tree.CreateProxy(q,v);++this.m_proxyCount;this.BufferMove(q);return q};G.prototype.DestroyProxy=function(q){this.UnBufferMove(q);--this.m_proxyCount;this.m_tree.DestroyProxy(q)};G.prototype.MoveProxy=function(q,v,
u){this.m_tree.MoveProxy(q,v,u)&&this.BufferMove(q)};G.prototype.TestOverlap=function(q,v){q=this.m_tree.GetFatAABB(q);v=this.m_tree.GetFatAABB(v);return q.TestOverlap(v)};G.prototype.GetUserData=function(q){return this.m_tree.GetUserData(q)};G.prototype.GetFatAABB=function(q){return this.m_tree.GetFatAABB(q)};G.prototype.GetProxyCount=function(){return this.m_proxyCount};G.prototype.UpdatePairs=function(q){var v=this,u=v.m_pairCount=0;for(u=0;u<v.m_moveBuffer.length;++u){var D=v.m_moveBuffer[u];
var I=v.m_tree.GetFatAABB(D);v.m_tree.Query(function(Y){if(Y==D)return!0;v.m_pairCount==v.m_pairBuffer.length&&(v.m_pairBuffer[v.m_pairCount]=new O);var Z=v.m_pairBuffer[v.m_pairCount];Z.proxyA=Y<D?Y:D;Z.proxyB=Y>=D?Y:D;++v.m_pairCount;return!0},I)}for(u=v.m_moveBuffer.length=0;u<v.m_pairCount;){I=v.m_pairBuffer[u];var S=v.m_tree.GetUserData(I.proxyA),P=v.m_tree.GetUserData(I.proxyB);q(S,P);for(++u;u<v.m_pairCount;){S=v.m_pairBuffer[u];if(S.proxyA!=I.proxyA||S.proxyB!=I.proxyB)break;++u}}};G.prototype.Query=
function(q,v){this.m_tree.Query(q,v)};G.prototype.RayCast=function(q,v){this.m_tree.RayCast(q,v)};G.prototype.Validate=function(){};G.prototype.Rebalance=function(q){void 0===q&&(q=0);this.m_tree.Rebalance(q)};G.prototype.BufferMove=function(q){this.m_moveBuffer[this.m_moveBuffer.length]=q};G.prototype.UnBufferMove=function(q){q=this.m_moveBuffer.indexOf(q);this.m_moveBuffer.splice(q,1)};G.prototype.ComparePairs=function(q,v){return 0};G.__implements={};G.__implements[R]=!0;H.b2DynamicTreeNode=function(){this.aabb=
new l};H.prototype.IsLeaf=function(){return null==this.child1};O.b2DynamicTreePair=function(){};N.b2Manifold=function(){this.m_pointCount=0};N.prototype.b2Manifold=function(){this.m_points=new Vector$$module$js$box2d$Box2D(d.b2_maxManifoldPoints);for(var q=0;q<d.b2_maxManifoldPoints;q++)this.m_points[q]=new U;this.m_localPlaneNormal=new k;this.m_localPoint=new k};N.prototype.Reset=function(){for(var q=0;q<d.b2_maxManifoldPoints;q++)(this.m_points[q]instanceof U?this.m_points[q]:null).Reset();this.m_localPlaneNormal.SetZero();
this.m_localPoint.SetZero();this.m_pointCount=this.m_type=0};N.prototype.Set=function(q){this.m_pointCount=q.m_pointCount;for(var v=0;v<d.b2_maxManifoldPoints;v++)(this.m_points[v]instanceof U?this.m_points[v]:null).Set(q.m_points[v]);this.m_localPlaneNormal.SetV(q.m_localPlaneNormal);this.m_localPoint.SetV(q.m_localPoint);this.m_type=q.m_type};N.prototype.Copy=function(){var q=new N;q.Set(this);return q};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Collision.b2Manifold.e_circles=
1;Box2D$$module$js$box2d$Box2D.Collision.b2Manifold.e_faceA=2;Box2D$$module$js$box2d$Box2D.Collision.b2Manifold.e_faceB=4});U.b2ManifoldPoint=function(){this.m_localPoint=new k;this.m_id=new t};U.prototype.b2ManifoldPoint=function(){this.Reset()};U.prototype.Reset=function(){this.m_localPoint.SetZero();this.m_tangentImpulse=this.m_normalImpulse=0;this.m_id.key=0};U.prototype.Set=function(q){this.m_localPoint.SetV(q.m_localPoint);this.m_normalImpulse=q.m_normalImpulse;this.m_tangentImpulse=q.m_tangentImpulse;
this.m_id.Set(q.m_id)};W.b2Point=function(){this.p=new k};W.prototype.Support=function(q,v,u){return this.p};W.prototype.GetFirstVertex=function(q){return this.p};J.b2RayCastInput=function(){this.p1=new k;this.p2=new k};J.prototype.b2RayCastInput=function(q,v,u){void 0===q&&(q=null);void 0===v&&(v=null);void 0===u&&(u=1);q&&this.p1.SetV(q);v&&this.p2.SetV(v);this.maxFraction=u};aa.b2RayCastOutput=function(){this.normal=new k};ba.b2Segment=function(){this.p1=new k;this.p2=new k};ba.prototype.TestSegment=
function(q,v,u,D){void 0===D&&(D=0);var I=u.p1,S=u.p2.x-I.x,P=u.p2.y-I.y;u=this.p2.y-this.p1.y;var Y=-(this.p2.x-this.p1.x),Z=100*Number.MIN_VALUE,ea=-(S*u+P*Y);if(ea>Z){var ja=I.x-this.p1.x,ha=I.y-this.p1.y;I=ja*u+ha*Y;if(0<=I&&I<=D*ea&&(D=-S*ha+P*ja,-Z*ea<=D&&D<=ea*(1+Z)))return D=Math.sqrt(u*u+Y*Y),q[0]=I/ea,v.Set(u/D,Y/D),!0}return!1};ba.prototype.Extend=function(q){this.ExtendForward(q);this.ExtendBackward(q)};ba.prototype.ExtendForward=function(q){var v=this.p2.x-this.p1.x,u=this.p2.y-this.p1.y;
q=Math.min(0<v?(q.upperBound.x-this.p1.x)/v:0>v?(q.lowerBound.x-this.p1.x)/v:Number.POSITIVE_INFINITY,0<u?(q.upperBound.y-this.p1.y)/u:0>u?(q.lowerBound.y-this.p1.y)/u:Number.POSITIVE_INFINITY);this.p2.x=this.p1.x+v*q;this.p2.y=this.p1.y+u*q};ba.prototype.ExtendBackward=function(q){var v=-this.p2.x+this.p1.x,u=-this.p2.y+this.p1.y;q=Math.min(0<v?(q.upperBound.x-this.p2.x)/v:0>v?(q.lowerBound.x-this.p2.x)/v:Number.POSITIVE_INFINITY,0<u?(q.upperBound.y-this.p2.y)/u:0>u?(q.lowerBound.y-this.p2.y)/u:
Number.POSITIVE_INFINITY);this.p1.x=this.p2.x+v*q;this.p1.y=this.p2.y+u*q};z.b2SeparationFunction=function(){this.m_localPoint=new k;this.m_axis=new k};z.prototype.Initialize=function(q,v,u,D,I){this.m_proxyA=v;this.m_proxyB=D;v=q.count;d.b2Assert(0<v&&3>v);if(1==v){this.m_type=z.e_points;var S=this.m_proxyA.GetVertex(q.indexA[0]);var P=this.m_proxyB.GetVertex(q.indexB[0]);var Y=S;var Z=u.R;S=u.position.x+(Z.col1.x*Y.x+Z.col2.x*Y.y);u=u.position.y+(Z.col1.y*Y.x+Z.col2.y*Y.y);Y=P;Z=I.R;P=I.position.x+
(Z.col1.x*Y.x+Z.col2.x*Y.y);I=I.position.y+(Z.col1.y*Y.x+Z.col2.y*Y.y);this.m_axis.x=P-S;this.m_axis.y=I-u;this.m_axis.Normalize()}else if(q.indexB[0]==q.indexB[1])this.m_type=z.e_faceA,v=this.m_proxyA.GetVertex(q.indexA[0]),D=this.m_proxyA.GetVertex(q.indexA[1]),P=this.m_proxyB.GetVertex(q.indexB[0]),this.m_localPoint.x=.5*(v.x+D.x),this.m_localPoint.y=.5*(v.y+D.y),this.m_axis=e.CrossVF(e.SubtractVV(D,v),1),this.m_axis.Normalize(),Y=this.m_axis,Z=u.R,v=Z.col1.x*Y.x+Z.col2.x*Y.y,D=Z.col1.y*Y.x+Z.col2.y*
Y.y,Y=this.m_localPoint,Z=u.R,S=u.position.x+(Z.col1.x*Y.x+Z.col2.x*Y.y),u=u.position.y+(Z.col1.y*Y.x+Z.col2.y*Y.y),Y=P,Z=I.R,P=I.position.x+(Z.col1.x*Y.x+Z.col2.x*Y.y),I=I.position.y+(Z.col1.y*Y.x+Z.col2.y*Y.y),0>(P-S)*v+(I-u)*D&&this.m_axis.NegativeSelf();else if(q.indexA[0]==q.indexA[0])this.m_type=z.e_faceB,Z=this.m_proxyB.GetVertex(q.indexB[0]),Y=this.m_proxyB.GetVertex(q.indexB[1]),S=this.m_proxyA.GetVertex(q.indexA[0]),this.m_localPoint.x=.5*(Z.x+Y.x),this.m_localPoint.y=.5*(Z.y+Y.y),this.m_axis=
e.CrossVF(e.SubtractVV(Y,Z),1),this.m_axis.Normalize(),Y=this.m_axis,Z=I.R,v=Z.col1.x*Y.x+Z.col2.x*Y.y,D=Z.col1.y*Y.x+Z.col2.y*Y.y,Y=this.m_localPoint,Z=I.R,P=I.position.x+(Z.col1.x*Y.x+Z.col2.x*Y.y),I=I.position.y+(Z.col1.y*Y.x+Z.col2.y*Y.y),Y=S,Z=u.R,S=u.position.x+(Z.col1.x*Y.x+Z.col2.x*Y.y),u=u.position.y+(Z.col1.y*Y.x+Z.col2.y*Y.y),0>(S-P)*v+(u-I)*D&&this.m_axis.NegativeSelf();else{v=this.m_proxyA.GetVertex(q.indexA[0]);D=this.m_proxyA.GetVertex(q.indexA[1]);Z=this.m_proxyB.GetVertex(q.indexB[0]);
Y=this.m_proxyB.GetVertex(q.indexB[1]);e.MulX(u,S);S=e.MulMV(u.R,e.SubtractVV(D,v));e.MulX(I,P);q=e.MulMV(I.R,e.SubtractVV(Y,Z));I=S.x*S.x+S.y*S.y;P=q.x*q.x+q.y*q.y;var ea=e.SubtractVV(q,S);u=S.x*ea.x+S.y*ea.y;ea=q.x*ea.x+q.y*ea.y;S=S.x*q.x+S.y*q.y;var ja=I*P-S*S;q=0;0!=ja&&(q=e.Clamp((S*ea-u*P)/ja,0,1));0>(S*q+ea)/P&&(q=e.Clamp((S-u)/I,0,1));S=new k;S.x=v.x+q*(D.x-v.x);S.y=v.y+q*(D.y-v.y);P=new k;P.x=Z.x+q*(Y.x-Z.x);P.y=Z.y+q*(Y.y-Z.y);0==q||1==q?(this.m_type=z.e_faceB,this.m_axis=e.CrossVF(e.SubtractVV(Y,
Z),1),this.m_axis.Normalize(),this.m_localPoint=P):(this.m_type=z.e_faceA,this.m_axis=e.CrossVF(e.SubtractVV(D,v),1),this.m_localPoint=S);0>q&&this.m_axis.NegativeSelf()}};z.prototype.Evaluate=function(q,v){var u;switch(this.m_type){case z.e_points:var D=e.MulTMV(q.R,this.m_axis);var I=e.MulTMV(v.R,this.m_axis.GetNegative());D=this.m_proxyA.GetSupportVertex(D);I=this.m_proxyB.GetSupportVertex(I);q=e.MulX(q,D);v=e.MulX(v,I);return u=(v.x-q.x)*this.m_axis.x+(v.y-q.y)*this.m_axis.y;case z.e_faceA:return u=
e.MulMV(q.R,this.m_axis),q=e.MulX(q,this.m_localPoint),I=e.MulTMV(v.R,u.GetNegative()),I=this.m_proxyB.GetSupportVertex(I),v=e.MulX(v,I),u=(v.x-q.x)*u.x+(v.y-q.y)*u.y;case z.e_faceB:return u=e.MulMV(v.R,this.m_axis),v=e.MulX(v,this.m_localPoint),D=e.MulTMV(q.R,u.GetNegative()),D=this.m_proxyA.GetSupportVertex(D),q=e.MulX(q,D),u=(q.x-v.x)*u.x+(q.y-v.y)*u.y;default:return d.b2Assert(!1),0}};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Collision.b2SeparationFunction.e_points=
1;Box2D$$module$js$box2d$Box2D.Collision.b2SeparationFunction.e_faceA=2;Box2D$$module$js$box2d$Box2D.Collision.b2SeparationFunction.e_faceB=4});K.b2Simplex=function(){this.m_v1=new M;this.m_v2=new M;this.m_v3=new M;this.m_vertices=new Vector$$module$js$box2d$Box2D(3)};K.prototype.b2Simplex=function(){this.m_vertices[0]=this.m_v1;this.m_vertices[1]=this.m_v2;this.m_vertices[2]=this.m_v3};K.prototype.ReadCache=function(q,v,u,D,I){d.b2Assert(0<=q.count&&3>=q.count);this.m_count=q.count;for(var S=this.m_vertices,
P=0;P<this.m_count;P++){var Y=S[P];Y.indexA=q.indexA[P];Y.indexB=q.indexB[P];var Z=v.GetVertex(Y.indexA);var ea=D.GetVertex(Y.indexB);Y.wA=e.MulX(u,Z);Y.wB=e.MulX(I,ea);Y.w=e.SubtractVV(Y.wB,Y.wA);Y.a=0}1<this.m_count&&(q=q.metric,Z=this.GetMetric(),Z<.5*q||2*q<Z||Z<Number.MIN_VALUE)&&(this.m_count=0);0==this.m_count&&(Y=S[0],Y.indexA=0,Y.indexB=0,Z=v.GetVertex(0),ea=D.GetVertex(0),Y.wA=e.MulX(u,Z),Y.wB=e.MulX(I,ea),Y.w=e.SubtractVV(Y.wB,Y.wA),this.m_count=1)};K.prototype.WriteCache=function(q){q.metric=
this.GetMetric();q.count=Box2D$$module$js$box2d$Box2D.parseUInt(this.m_count);for(var v=this.m_vertices,u=0;u<this.m_count;u++)q.indexA[u]=Box2D$$module$js$box2d$Box2D.parseUInt(v[u].indexA),q.indexB[u]=Box2D$$module$js$box2d$Box2D.parseUInt(v[u].indexB)};K.prototype.GetSearchDirection=function(){switch(this.m_count){case 1:return this.m_v1.w.GetNegative();case 2:var q=e.SubtractVV(this.m_v2.w,this.m_v1.w);return 0<e.CrossVV(q,this.m_v1.w.GetNegative())?e.CrossFV(1,q):e.CrossVF(q,1);default:return d.b2Assert(!1),
new k}};K.prototype.GetClosestPoint=function(){switch(this.m_count){case 0:return d.b2Assert(!1),new k;case 1:return this.m_v1.w;case 2:return new k(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);default:return d.b2Assert(!1),new k}};K.prototype.GetWitnessPoints=function(q,v){switch(this.m_count){case 0:d.b2Assert(!1);break;case 1:q.SetV(this.m_v1.wA);v.SetV(this.m_v1.wB);break;case 2:q.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x;
q.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y;v.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x;v.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:v.x=q.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x;v.y=q.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:d.b2Assert(!1)}};K.prototype.GetMetric=function(){switch(this.m_count){case 0:return d.b2Assert(!1),0;case 1:return 0;case 2:return e.SubtractVV(this.m_v1.w,
this.m_v2.w).Length();case 3:return e.CrossVV(e.SubtractVV(this.m_v2.w,this.m_v1.w),e.SubtractVV(this.m_v3.w,this.m_v1.w));default:return d.b2Assert(!1),0}};K.prototype.Solve2=function(){var q=this.m_v1.w,v=this.m_v2.w,u=e.SubtractVV(v,q);q=-(q.x*u.x+q.y*u.y);0>=q?this.m_count=this.m_v1.a=1:(v=v.x*u.x+v.y*u.y,0>=v?(this.m_count=this.m_v2.a=1,this.m_v1.Set(this.m_v2)):(u=1/(v+q),this.m_v1.a=v*u,this.m_v2.a=q*u,this.m_count=2))};K.prototype.Solve3=function(){var q=this.m_v1.w,v=this.m_v2.w,u=this.m_v3.w,
D=e.SubtractVV(v,q),I=e.Dot(q,D),S=e.Dot(v,D);I=-I;var P=e.SubtractVV(u,q),Y=e.Dot(q,P),Z=e.Dot(u,P);Y=-Y;var ea=e.SubtractVV(u,v),ja=e.Dot(v,ea);ea=e.Dot(u,ea);ja=-ja;P=e.CrossVV(D,P);D=P*e.CrossVV(v,u);u=P*e.CrossVV(u,q);q=P*e.CrossVV(q,v);0>=I&&0>=Y?this.m_count=this.m_v1.a=1:0<S&&0<I&&0>=q?(Z=1/(S+I),this.m_v1.a=S*Z,this.m_v2.a=I*Z,this.m_count=2):0<Z&&0<Y&&0>=u?(S=1/(Z+Y),this.m_v1.a=Z*S,this.m_v3.a=Y*S,this.m_count=2,this.m_v2.Set(this.m_v3)):0>=S&&0>=ja?(this.m_count=this.m_v2.a=1,this.m_v1.Set(this.m_v2)):
0>=Z&&0>=ea?(this.m_count=this.m_v3.a=1,this.m_v1.Set(this.m_v3)):0<ea&&0<ja&&0>=D?(S=1/(ea+ja),this.m_v2.a=ea*S,this.m_v3.a=ja*S,this.m_count=2,this.m_v1.Set(this.m_v3)):(S=1/(D+u+q),this.m_v1.a=D*S,this.m_v2.a=u*S,this.m_v3.a=q*S,this.m_count=3)};Q.b2SimplexCache=function(){this.indexA=new Vector_a2j_Number$$module$js$box2d$Box2D(3);this.indexB=new Vector_a2j_Number$$module$js$box2d$Box2D(3)};M.b2SimplexVertex=function(){};M.prototype.Set=function(q){this.wA.SetV(q.wA);this.wB.SetV(q.wB);this.w.SetV(q.w);
this.a=q.a;this.indexA=q.indexA;this.indexB=q.indexB};L.b2TimeOfImpact=function(){};L.TimeOfImpact=function(q){++L.b2_toiCalls;var v=q.proxyA,u=q.proxyB,D=q.sweepA,I=q.sweepB;d.b2Assert(D.t0==I.t0);d.b2Assert(1-D.t0>Number.MIN_VALUE);var S=v.m_radius+u.m_radius;q=q.tolerance;var P=0,Y=0,Z=0;L.s_cache.count=0;for(L.s_distanceInput.useRadii=!1;;){D.GetTransform(L.s_xfA,P);I.GetTransform(L.s_xfB,P);L.s_distanceInput.proxyA=v;L.s_distanceInput.proxyB=u;L.s_distanceInput.transformA=L.s_xfA;L.s_distanceInput.transformB=
L.s_xfB;x.Distance(L.s_distanceOutput,L.s_cache,L.s_distanceInput);if(0>=L.s_distanceOutput.distance){P=1;break}L.s_fcn.Initialize(L.s_cache,v,L.s_xfA,u,L.s_xfB);var ea=L.s_fcn.Evaluate(L.s_xfA,L.s_xfB);if(0>=ea){P=1;break}0==Y&&(Z=ea>S?e.Max(S-q,.75*S):e.Max(ea-q,.02*S));if(ea-Z<.5*q){if(0==Y){P=1;break}break}var ja=P,ha=P,ka=1;D.GetTransform(L.s_xfA,ka);I.GetTransform(L.s_xfB,ka);var oa=L.s_fcn.Evaluate(L.s_xfA,L.s_xfB);if(oa>=Z){P=1;break}for(var fa=0;;){var na=fa&1?ha+(Z-ea)*(ka-ha)/(oa-ea):.5*
(ha+ka);D.GetTransform(L.s_xfA,na);I.GetTransform(L.s_xfB,na);var ta=L.s_fcn.Evaluate(L.s_xfA,L.s_xfB);if(e.Abs(ta-Z)<.025*q){ja=na;break}ta>Z?(ha=na,ea=ta):(ka=na,oa=ta);++fa;++L.b2_toiRootIters;if(50==fa)break}L.b2_toiMaxRootIters=e.Max(L.b2_toiMaxRootIters,fa);if(ja<(1+100*Number.MIN_VALUE)*P)break;P=ja;Y++;++L.b2_toiIters;if(1E3==Y)break}L.b2_toiMaxIters=e.Max(L.b2_toiMaxIters,Y);return P};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Collision.b2TimeOfImpact.b2_toiCalls=
0;Box2D$$module$js$box2d$Box2D.Collision.b2TimeOfImpact.b2_toiIters=0;Box2D$$module$js$box2d$Box2D.Collision.b2TimeOfImpact.b2_toiMaxIters=0;Box2D$$module$js$box2d$Box2D.Collision.b2TimeOfImpact.b2_toiRootIters=0;Box2D$$module$js$box2d$Box2D.Collision.b2TimeOfImpact.b2_toiMaxRootIters=0;Box2D$$module$js$box2d$Box2D.Collision.b2TimeOfImpact.s_cache=new Q;Box2D$$module$js$box2d$Box2D.Collision.b2TimeOfImpact.s_distanceInput=new A;Box2D$$module$js$box2d$Box2D.Collision.b2TimeOfImpact.s_xfA=new h;Box2D$$module$js$box2d$Box2D.Collision.b2TimeOfImpact.s_xfB=
new h;Box2D$$module$js$box2d$Box2D.Collision.b2TimeOfImpact.s_fcn=new z;Box2D$$module$js$box2d$Box2D.Collision.b2TimeOfImpact.s_distanceOutput=new r});T.b2TOIInput=function(){this.proxyA=new E;this.proxyB=new E;this.sweepA=new g;this.sweepB=new g};X.b2WorldManifold=function(){this.m_normal=new k};X.prototype.b2WorldManifold=function(){this.m_points=new Vector$$module$js$box2d$Box2D(d.b2_maxManifoldPoints);for(var q=0;q<d.b2_maxManifoldPoints;q++)this.m_points[q]=new k};X.prototype.Initialize=function(q,
v,u,D,I){void 0===u&&(u=0);void 0===I&&(I=0);if(0!=q.m_pointCount)switch(q.m_type){case N.e_circles:var S=v.R;var P=q.m_localPoint;var Y=v.position.x+S.col1.x*P.x+S.col2.x*P.y;v=v.position.y+S.col1.y*P.x+S.col2.y*P.y;S=D.R;P=q.m_points[0].m_localPoint;q=D.position.x+S.col1.x*P.x+S.col2.x*P.y;D=D.position.y+S.col1.y*P.x+S.col2.y*P.y;P=q-Y;S=D-v;var Z=P*P+S*S;Z>Number.MIN_VALUE*Number.MIN_VALUE?(Z=Math.sqrt(Z),this.m_normal.x=P/Z,this.m_normal.y=S/Z):(this.m_normal.x=1,this.m_normal.y=0);P=v+u*this.m_normal.y;
D-=I*this.m_normal.y;this.m_points[0].x=.5*(Y+u*this.m_normal.x+(q-I*this.m_normal.x));this.m_points[0].y=.5*(P+D);break;case N.e_faceA:S=v.R;P=q.m_localPlaneNormal;Z=S.col1.x*P.x+S.col2.x*P.y;var ea=S.col1.y*P.x+S.col2.y*P.y;S=v.R;P=q.m_localPoint;var ja=v.position.x+S.col1.x*P.x+S.col2.x*P.y;var ha=v.position.y+S.col1.y*P.x+S.col2.y*P.y;this.m_normal.x=Z;this.m_normal.y=ea;for(Y=0;Y<q.m_pointCount;Y++){S=D.R;P=q.m_points[Y].m_localPoint;var ka=D.position.x+S.col1.x*P.x+S.col2.x*P.y;P=D.position.y+
S.col1.y*P.x+S.col2.y*P.y;this.m_points[Y].x=ka+.5*(u-(ka-ja)*Z-(P-ha)*ea-I)*Z;this.m_points[Y].y=P+.5*(u-(ka-ja)*Z-(P-ha)*ea-I)*ea}break;case N.e_faceB:for(S=D.R,P=q.m_localPlaneNormal,Z=S.col1.x*P.x+S.col2.x*P.y,ea=S.col1.y*P.x+S.col2.y*P.y,S=D.R,P=q.m_localPoint,ja=D.position.x+S.col1.x*P.x+S.col2.x*P.y,ha=D.position.y+S.col1.y*P.x+S.col2.y*P.y,this.m_normal.x=-Z,this.m_normal.y=-ea,Y=0;Y<q.m_pointCount;Y++)S=v.R,P=q.m_points[Y].m_localPoint,ka=v.position.x+S.col1.x*P.x+S.col2.x*P.y,P=v.position.y+
S.col1.y*P.x+S.col2.y*P.y,this.m_points[Y].x=ka+.5*(I-(ka-ja)*Z-(P-ha)*ea-u)*Z,this.m_points[Y].y=P+.5*(I-(ka-ja)*Z-(P-ha)*ea-u)*ea}};y.ClipVertex=function(){this.v=new k;this.id=new t};y.prototype.Set=function(q){this.v.SetV(q.v);this.id.Set(q.id)};F.Features=function(){};Object.defineProperty(F.prototype,"referenceEdge",{enumerable:!1,configurable:!0,get:function(){return this._referenceEdge}});Object.defineProperty(F.prototype,"referenceEdge",{enumerable:!1,configurable:!0,set:function(q){void 0===
q&&(q=0);this._referenceEdge=q;this._m_id._key=this._m_id._key&4294967040|this._referenceEdge&255}});Object.defineProperty(F.prototype,"incidentEdge",{enumerable:!1,configurable:!0,get:function(){return this._incidentEdge}});Object.defineProperty(F.prototype,"incidentEdge",{enumerable:!1,configurable:!0,set:function(q){void 0===q&&(q=0);this._incidentEdge=q;this._m_id._key=this._m_id._key&4294902015|this._incidentEdge<<8&65280}});Object.defineProperty(F.prototype,"incidentVertex",{enumerable:!1,configurable:!0,
get:function(){return this._incidentVertex}});Object.defineProperty(F.prototype,"incidentVertex",{enumerable:!1,configurable:!0,set:function(q){void 0===q&&(q=0);this._incidentVertex=q;this._m_id._key=this._m_id._key&4278255615|this._incidentVertex<<16&16711680}});Object.defineProperty(F.prototype,"flip",{enumerable:!1,configurable:!0,get:function(){return this._flip}});Object.defineProperty(F.prototype,"flip",{enumerable:!1,configurable:!0,set:function(q){void 0===q&&(q=0);this._flip=q;this._m_id._key=
this._m_id._key&16777215|this._flip<<24&4278190080}})})();
(function(){var a=Box2D$$module$js$box2d$Box2D.Common.b2Settings,b=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2CircleShape,c=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2EdgeChainDef,d=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2EdgeShape,e=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2MassData,g=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2PolygonShape,h=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape,k=Box2D$$module$js$box2d$Box2D.Common.Math.b2Mat22,l=Box2D$$module$js$box2d$Box2D.Common.Math.b2Math,
m=Box2D$$module$js$box2d$Box2D.Common.Math.b2Transform,n=Box2D$$module$js$box2d$Box2D.Common.Math.b2Vec2,p=Box2D$$module$js$box2d$Box2D.Collision.b2Distance,t=Box2D$$module$js$box2d$Box2D.Collision.b2DistanceInput,w=Box2D$$module$js$box2d$Box2D.Collision.b2DistanceOutput,x=Box2D$$module$js$box2d$Box2D.Collision.b2DistanceProxy,A=Box2D$$module$js$box2d$Box2D.Collision.b2SimplexCache;Box2D$$module$js$box2d$Box2D.inherit(b,Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape);b.prototype.__super=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape.prototype;
b.b2CircleShape=function(){Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments);this.m_p=new n};b.prototype.Copy=function(){var r=new b;r.Set(this);return r};b.prototype.Set=function(r){this.__super.Set.call(this,r);Box2D$$module$js$box2d$Box2D.is(r,b)&&this.m_p.SetV((r instanceof b?r:null).m_p)};b.prototype.TestPoint=function(r,E){var B=r.R,G=r.position.x+(B.col1.x*this.m_p.x+B.col2.x*this.m_p.y);r=r.position.y+(B.col1.y*this.m_p.x+B.col2.y*this.m_p.y);G=E.x-G;r=E.y-
r;return G*G+r*r<=this.m_radius*this.m_radius};b.prototype.RayCast=function(r,E,B){var G=B.R,H=E.p1.x-(B.position.x+(G.col1.x*this.m_p.x+G.col2.x*this.m_p.y));B=E.p1.y-(B.position.y+(G.col1.y*this.m_p.x+G.col2.y*this.m_p.y));G=E.p2.x-E.p1.x;var O=E.p2.y-E.p1.y,N=H*G+B*O,U=G*G+O*O,W=N*N-U*(H*H+B*B-this.m_radius*this.m_radius);if(0>W||U<Number.MIN_VALUE)return!1;N=-(N+Math.sqrt(W));return 0<=N&&N<=E.maxFraction*U?(N/=U,r.fraction=N,r.normal.x=H+N*G,r.normal.y=B+N*O,r.normal.Normalize(),!0):!1};b.prototype.ComputeAABB=
function(r,E){var B=E.R,G=E.position.x+(B.col1.x*this.m_p.x+B.col2.x*this.m_p.y);E=E.position.y+(B.col1.y*this.m_p.x+B.col2.y*this.m_p.y);r.lowerBound.Set(G-this.m_radius,E-this.m_radius);r.upperBound.Set(G+this.m_radius,E+this.m_radius)};b.prototype.ComputeMass=function(r,E){void 0===E&&(E=0);r.mass=E*a.b2_pi*this.m_radius*this.m_radius;r.center.SetV(this.m_p);r.I=r.mass*(.5*this.m_radius*this.m_radius+(this.m_p.x*this.m_p.x+this.m_p.y*this.m_p.y))};b.prototype.ComputeSubmergedArea=function(r,E,
B,G){void 0===E&&(E=0);B=l.MulX(B,this.m_p);var H=-(l.Dot(r,B)-E);if(H<-this.m_radius+Number.MIN_VALUE)return 0;if(H>this.m_radius)return G.SetV(B),Math.PI*this.m_radius*this.m_radius;E=this.m_radius*this.m_radius;var O=H*H;H=E*(Math.asin(H/this.m_radius)+Math.PI/2)+H*Math.sqrt(E-O);E=-2/3*Math.pow(E-O,1.5)/H;G.x=B.x+r.x*E;G.y=B.y+r.y*E;return H};b.prototype.GetLocalPosition=function(){return this.m_p};b.prototype.SetLocalPosition=function(r){this.m_p.SetV(r)};b.prototype.GetRadius=function(){return this.m_radius};
b.prototype.SetRadius=function(r){void 0===r&&(r=0);this.m_radius=r};b.prototype.b2CircleShape=function(r){void 0===r&&(r=0);this.__super.b2Shape.call(this);this.m_type=h.e_circleShape;this.m_radius=r};c.b2EdgeChainDef=function(){};c.prototype.b2EdgeChainDef=function(){this.vertexCount=0;this.isALoop=!0;this.vertices=[]};Box2D$$module$js$box2d$Box2D.inherit(d,Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape);d.prototype.__super=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape.prototype;
d.b2EdgeShape=function(){Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments);this.s_supportVec=new n;this.m_v1=new n;this.m_v2=new n;this.m_coreV1=new n;this.m_coreV2=new n;this.m_normal=new n;this.m_direction=new n;this.m_cornerDir1=new n;this.m_cornerDir2=new n};d.prototype.TestPoint=function(r,E){return!1};d.prototype.RayCast=function(r,E,B){var G=E.p2.x-E.p1.x,H=E.p2.y-E.p1.y;var O=B.R;var N=B.position.x+(O.col1.x*this.m_v1.x+O.col2.x*this.m_v1.y),U=B.position.y+
(O.col1.y*this.m_v1.x+O.col2.y*this.m_v1.y),W=B.position.y+(O.col1.y*this.m_v2.x+O.col2.y*this.m_v2.y)-U;B=-(B.position.x+(O.col1.x*this.m_v2.x+O.col2.x*this.m_v2.y)-N);O=100*Number.MIN_VALUE;var J=-(G*W+H*B);if(J>O){N=E.p1.x-N;var aa=E.p1.y-U;U=N*W+aa*B;if(0<=U&&U<=E.maxFraction*J&&(E=-G*aa+H*N,-O*J<=E&&E<=J*(1+O)))return r.fraction=U/J,E=Math.sqrt(W*W+B*B),r.normal.x=W/E,r.normal.y=B/E,!0}return!1};d.prototype.ComputeAABB=function(r,E){var B=E.R,G=E.position.x+(B.col1.x*this.m_v1.x+B.col2.x*this.m_v1.y),
H=E.position.y+(B.col1.y*this.m_v1.x+B.col2.y*this.m_v1.y),O=E.position.x+(B.col1.x*this.m_v2.x+B.col2.x*this.m_v2.y);E=E.position.y+(B.col1.y*this.m_v2.x+B.col2.y*this.m_v2.y);G<O?(r.lowerBound.x=G,r.upperBound.x=O):(r.lowerBound.x=O,r.upperBound.x=G);H<E?(r.lowerBound.y=H,r.upperBound.y=E):(r.lowerBound.y=E,r.upperBound.y=H)};d.prototype.ComputeMass=function(r,E){r.mass=0;r.center.SetV(this.m_v1);r.I=0};d.prototype.ComputeSubmergedArea=function(r,E,B,G){void 0===E&&(E=0);var H=new n(r.x*E,r.y*E),
O=l.MulX(B,this.m_v1);B=l.MulX(B,this.m_v2);var N=l.Dot(r,O)-E;r=l.Dot(r,B)-E;if(0<N){if(0<r)return 0;O.x=-r/(N-r)*O.x+N/(N-r)*B.x;O.y=-r/(N-r)*O.y+N/(N-r)*B.y}else 0<r&&(B.x=-r/(N-r)*O.x+N/(N-r)*B.x,B.y=-r/(N-r)*O.y+N/(N-r)*B.y);G.x=(H.x+O.x+B.x)/3;G.y=(H.y+O.y+B.y)/3;return.5*((O.x-H.x)*(B.y-H.y)-(O.y-H.y)*(B.x-H.x))};d.prototype.GetLength=function(){return this.m_length};d.prototype.GetVertex1=function(){return this.m_v1};d.prototype.GetVertex2=function(){return this.m_v2};d.prototype.GetCoreVertex1=
function(){return this.m_coreV1};d.prototype.GetCoreVertex2=function(){return this.m_coreV2};d.prototype.GetNormalVector=function(){return this.m_normal};d.prototype.GetDirectionVector=function(){return this.m_direction};d.prototype.GetCorner1Vector=function(){return this.m_cornerDir1};d.prototype.GetCorner2Vector=function(){return this.m_cornerDir2};d.prototype.Corner1IsConvex=function(){return this.m_cornerConvex1};d.prototype.Corner2IsConvex=function(){return this.m_cornerConvex2};d.prototype.GetFirstVertex=
function(r){var E=r.R;return new n(r.position.x+(E.col1.x*this.m_coreV1.x+E.col2.x*this.m_coreV1.y),r.position.y+(E.col1.y*this.m_coreV1.x+E.col2.y*this.m_coreV1.y))};d.prototype.GetNextEdge=function(){return this.m_nextEdge};d.prototype.GetPrevEdge=function(){return this.m_prevEdge};d.prototype.Support=function(r,E,B){void 0===E&&(E=0);void 0===B&&(B=0);var G=r.R,H=r.position.x+(G.col1.x*this.m_coreV1.x+G.col2.x*this.m_coreV1.y),O=r.position.y+(G.col1.y*this.m_coreV1.x+G.col2.y*this.m_coreV1.y),
N=r.position.x+(G.col1.x*this.m_coreV2.x+G.col2.x*this.m_coreV2.y);r=r.position.y+(G.col1.y*this.m_coreV2.x+G.col2.y*this.m_coreV2.y);H*E+O*B>N*E+r*B?(this.s_supportVec.x=H,this.s_supportVec.y=O):(this.s_supportVec.x=N,this.s_supportVec.y=r);return this.s_supportVec};d.prototype.b2EdgeShape=function(r,E){this.__super.b2Shape.call(this);this.m_type=h.e_edgeShape;this.m_nextEdge=this.m_prevEdge=null;this.m_v1=r;this.m_v2=E;this.m_direction.Set(this.m_v2.x-this.m_v1.x,this.m_v2.y-this.m_v1.y);this.m_length=
this.m_direction.Normalize();this.m_normal.Set(this.m_direction.y,-this.m_direction.x);this.m_coreV1.Set(-a.b2_toiSlop*(this.m_normal.x-this.m_direction.x)+this.m_v1.x,-a.b2_toiSlop*(this.m_normal.y-this.m_direction.y)+this.m_v1.y);this.m_coreV2.Set(-a.b2_toiSlop*(this.m_normal.x+this.m_direction.x)+this.m_v2.x,-a.b2_toiSlop*(this.m_normal.y+this.m_direction.y)+this.m_v2.y);this.m_cornerDir1=this.m_normal;this.m_cornerDir2.Set(-this.m_normal.x,-this.m_normal.y)};d.prototype.SetPrevEdge=function(r,
E,B,G){this.m_prevEdge=r;this.m_coreV1=E;this.m_cornerDir1=B;this.m_cornerConvex1=G};d.prototype.SetNextEdge=function(r,E,B,G){this.m_nextEdge=r;this.m_coreV2=E;this.m_cornerDir2=B;this.m_cornerConvex2=G};e.b2MassData=function(){this.mass=0;this.center=new n(0,0);this.I=0};Box2D$$module$js$box2d$Box2D.inherit(g,Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape);g.prototype.__super=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape.prototype;g.b2PolygonShape=function(){Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape.b2Shape.apply(this,
arguments)};g.prototype.Copy=function(){var r=new g;r.Set(this);return r};g.prototype.Set=function(r){this.__super.Set.call(this,r);if(Box2D$$module$js$box2d$Box2D.is(r,g)){r=r instanceof g?r:null;this.m_centroid.SetV(r.m_centroid);this.m_vertexCount=r.m_vertexCount;this.Reserve(this.m_vertexCount);for(var E=0;E<this.m_vertexCount;E++)this.m_vertices[E].SetV(r.m_vertices[E]),this.m_normals[E].SetV(r.m_normals[E])}};g.prototype.SetAsArray=function(r,E){void 0===E&&(E=0);var B=new Vector$$module$js$box2d$Box2D,
G;for(G=0;G<r.length;++G){var H=r[G];B.push(H)}this.SetAsVector(B,E)};g.AsArray=function(r,E){void 0===E&&(E=0);var B=new g;B.SetAsArray(r,E);return B};g.prototype.SetAsVector=function(r,E){void 0===E&&(E=0);0==E&&(E=r.length);a.b2Assert(2<=E);this.m_vertexCount=E;this.Reserve(E);for(E=0;E<this.m_vertexCount;E++)this.m_vertices[E].SetV(r[E]);for(E=0;E<this.m_vertexCount;++E)r=l.SubtractVV(this.m_vertices[E+1<this.m_vertexCount?E+1:0],this.m_vertices[E]),a.b2Assert(r.LengthSquared()>Number.MIN_VALUE),
this.m_normals[E].SetV(l.CrossVF(r,1)),this.m_normals[E].Normalize();this.m_centroid=g.ComputeCentroid(this.m_vertices,this.m_vertexCount)};g.AsVector=function(r,E){void 0===E&&(E=0);var B=new g;B.SetAsVector(r,E);return B};g.prototype.SetAsBox=function(r,E){void 0===r&&(r=0);void 0===E&&(E=0);this.m_vertexCount=4;this.Reserve(4);this.m_vertices[0].Set(-r,-E);this.m_vertices[1].Set(r,-E);this.m_vertices[2].Set(r,E);this.m_vertices[3].Set(-r,E);this.m_normals[0].Set(0,-1);this.m_normals[1].Set(1,0);
this.m_normals[2].Set(0,1);this.m_normals[3].Set(-1,0);this.m_centroid.SetZero()};g.AsBox=function(r,E){void 0===r&&(r=0);void 0===E&&(E=0);var B=new g;B.SetAsBox(r,E);return B};g.prototype.SetAsOrientedBox=function(r,E,B,G){void 0===r&&(r=0);void 0===E&&(E=0);void 0===B&&(B=null);void 0===G&&(G=0);this.m_vertexCount=4;this.Reserve(4);this.m_vertices[0].Set(-r,-E);this.m_vertices[1].Set(r,-E);this.m_vertices[2].Set(r,E);this.m_vertices[3].Set(-r,E);this.m_normals[0].Set(0,-1);this.m_normals[1].Set(1,
0);this.m_normals[2].Set(0,1);this.m_normals[3].Set(-1,0);this.m_centroid=B;r=new m;r.position=B;r.R.Set(G);for(B=0;B<this.m_vertexCount;++B)this.m_vertices[B]=l.MulX(r,this.m_vertices[B]),this.m_normals[B]=l.MulMV(r.R,this.m_normals[B])};g.AsOrientedBox=function(r,E,B,G){void 0===r&&(r=0);void 0===E&&(E=0);void 0===B&&(B=null);void 0===G&&(G=0);var H=new g;H.SetAsOrientedBox(r,E,B,G);return H};g.prototype.SetAsEdge=function(r,E){this.m_vertexCount=2;this.Reserve(2);this.m_vertices[0].SetV(r);this.m_vertices[1].SetV(E);
this.m_centroid.x=.5*(r.x+E.x);this.m_centroid.y=.5*(r.y+E.y);this.m_normals[0]=l.CrossVF(l.SubtractVV(E,r),1);this.m_normals[0].Normalize();this.m_normals[1].x=-this.m_normals[0].x;this.m_normals[1].y=-this.m_normals[0].y};g.AsEdge=function(r,E){var B=new g;B.SetAsEdge(r,E);return B};g.prototype.TestPoint=function(r,E){var B=r.R;var G=E.x-r.position.x;r=E.y-r.position.y;E=G*B.col1.x+r*B.col1.y;for(var H=G*B.col2.x+r*B.col2.y,O=0;O<this.m_vertexCount;++O)if(B=this.m_vertices[O],G=E-B.x,r=H-B.y,B=
this.m_normals[O],0<B.x*G+B.y*r)return!1;return!0};g.prototype.RayCast=function(r,E,B){var G=0,H=E.maxFraction;var O=E.p1.x-B.position.x;var N=E.p1.y-B.position.y;var U=B.R;var W=O*U.col1.x+N*U.col1.y,J=O*U.col2.x+N*U.col2.y;O=E.p2.x-B.position.x;N=E.p2.y-B.position.y;U=B.R;E=O*U.col1.x+N*U.col1.y-W;U=O*U.col2.x+N*U.col2.y-J;for(var aa=-1,ba=0;ba<this.m_vertexCount;++ba){var z=this.m_vertices[ba];O=z.x-W;N=z.y-J;z=this.m_normals[ba];O=z.x*O+z.y*N;N=z.x*E+z.y*U;if(0==N){if(0>O)return!1}else 0>N&&O<
G*N?(G=O/N,aa=ba):0<N&&O<H*N&&(H=O/N);if(H<G-Number.MIN_VALUE)return!1}return 0<=aa?(r.fraction=G,U=B.R,z=this.m_normals[aa],r.normal.x=U.col1.x*z.x+U.col2.x*z.y,r.normal.y=U.col1.y*z.x+U.col2.y*z.y,!0):!1};g.prototype.ComputeAABB=function(r,E){for(var B=E.R,G=this.m_vertices[0],H=E.position.x+(B.col1.x*G.x+B.col2.x*G.y),O=E.position.y+(B.col1.y*G.x+B.col2.y*G.y),N=H,U=O,W=1;W<this.m_vertexCount;++W){G=this.m_vertices[W];var J=E.position.x+(B.col1.x*G.x+B.col2.x*G.y);G=E.position.y+(B.col1.y*G.x+
B.col2.y*G.y);H=H<J?H:J;O=O<G?O:G;N=N>J?N:J;U=U>G?U:G}r.lowerBound.x=H-this.m_radius;r.lowerBound.y=O-this.m_radius;r.upperBound.x=N+this.m_radius;r.upperBound.y=U+this.m_radius};g.prototype.ComputeMass=function(r,E){void 0===E&&(E=0);if(2==this.m_vertexCount)r.center.x=.5*(this.m_vertices[0].x+this.m_vertices[1].x),r.center.y=.5*(this.m_vertices[0].y+this.m_vertices[1].y),r.mass=0,r.I=0;else{for(var B=0,G=0,H=0,O=0,N=1/3,U=0;U<this.m_vertexCount;++U){var W=this.m_vertices[U],J=U+1<this.m_vertexCount?
this.m_vertices[U+1]:this.m_vertices[0],aa=W.x-0,ba=W.y-0,z=J.x-0,K=J.y-0,Q=aa*K-ba*z,M=.5*Q;H+=M;B+=M*N*(0+W.x+J.x);G+=M*N*(0+W.y+J.y);W=aa;O+=Q*(N*(.25*(W*W+z*W+z*z)+(0*W+0*z))+N*(.25*(ba*ba+K*ba+K*K)+(0*ba+0*K)))}r.mass=E*H;r.center.Set(1/H*B,1/H*G);r.I=E*O}};g.prototype.ComputeSubmergedArea=function(r,E,B,G){void 0===E&&(E=0);var H=l.MulTMV(B.R,r),O=E-l.Dot(r,B.position),N=new Vector_a2j_Number$$module$js$box2d$Box2D,U=0,W=-1;E=-1;var J=!1;for(r=0;r<this.m_vertexCount;++r){N[r]=l.Dot(H,this.m_vertices[r])-
O;var aa=N[r]<-Number.MIN_VALUE;0<r&&(aa?J||(W=r-1,U++):J&&(E=r-1,U++));J=aa}switch(U){case 0:return J?(r=new e,this.ComputeMass(r,1),G.SetV(l.MulX(B,r.center)),r.mass):0;case 1:-1==W?W=this.m_vertexCount-1:E=this.m_vertexCount-1}r=(W+1)%this.m_vertexCount;H=(E+1)%this.m_vertexCount;O=(0-N[W])/(N[r]-N[W]);N=(0-N[E])/(N[H]-N[E]);W=new n(this.m_vertices[W].x*(1-O)+this.m_vertices[r].x*O,this.m_vertices[W].y*(1-O)+this.m_vertices[r].y*O);E=new n(this.m_vertices[E].x*(1-N)+this.m_vertices[H].x*N,this.m_vertices[E].y*
(1-N)+this.m_vertices[H].y*N);N=0;O=new n;for(U=this.m_vertices[r];r!=H;)r=(r+1)%this.m_vertexCount,J=r==H?E:this.m_vertices[r],aa=.5*((U.x-W.x)*(J.y-W.y)-(U.y-W.y)*(J.x-W.x)),N+=aa,O.x+=aa*(W.x+U.x+J.x)/3,O.y+=aa*(W.y+U.y+J.y)/3,U=J;O.Multiply(1/N);G.SetV(l.MulX(B,O));return N};g.prototype.GetVertexCount=function(){return this.m_vertexCount};g.prototype.GetVertices=function(){return this.m_vertices};g.prototype.GetNormals=function(){return this.m_normals};g.prototype.GetSupport=function(r){for(var E=
0,B=this.m_vertices[0].x*r.x+this.m_vertices[0].y*r.y,G=1;G<this.m_vertexCount;++G){var H=this.m_vertices[G].x*r.x+this.m_vertices[G].y*r.y;H>B&&(E=G,B=H)}return E};g.prototype.GetSupportVertex=function(r){for(var E=0,B=this.m_vertices[0].x*r.x+this.m_vertices[0].y*r.y,G=1;G<this.m_vertexCount;++G){var H=this.m_vertices[G].x*r.x+this.m_vertices[G].y*r.y;H>B&&(E=G,B=H)}return this.m_vertices[E]};g.prototype.Validate=function(){return!1};g.prototype.b2PolygonShape=function(){this.__super.b2Shape.call(this);
this.m_type=h.e_polygonShape;this.m_centroid=new n;this.m_vertices=new Vector$$module$js$box2d$Box2D;this.m_normals=new Vector$$module$js$box2d$Box2D};g.prototype.Reserve=function(r){void 0===r&&(r=0);for(var E=this.m_vertices.length;E<r;E++)this.m_vertices[E]=new n,this.m_normals[E]=new n};g.ComputeCentroid=function(r,E){void 0===E&&(E=0);for(var B=new n,G=0,H=1/3,O=0;O<E;++O){var N=r[O],U=O+1<E?r[O+1]:r[0],W=.5*((N.x-0)*(U.y-0)-(N.y-0)*(U.x-0));G+=W;B.x+=W*H*(0+N.x+U.x);B.y+=W*H*(0+N.y+U.y)}B.x*=
1/G;B.y*=1/G;return B};g.ComputeOBB=function(r,E,B){void 0===B&&(B=0);var G,H=new Vector$$module$js$box2d$Box2D(B+1);for(G=0;G<B;++G)H[G]=E[G];H[B]=H[0];E=Number.MAX_VALUE;for(G=1;G<=B;++G){var O=H[G-1],N=H[G].x-O.x,U=H[G].y-O.y,W=Math.sqrt(N*N+U*U);N/=W;U/=W;for(var J=-U,aa=N,ba=W=Number.MAX_VALUE,z=-Number.MAX_VALUE,K=-Number.MAX_VALUE,Q=0;Q<B;++Q){var M=H[Q].x-O.x,L=H[Q].y-O.y,T=N*M+U*L;M=J*M+aa*L;T<W&&(W=T);M<ba&&(ba=M);T>z&&(z=T);M>K&&(K=M)}Q=(z-W)*(K-ba);Q<.95*E&&(E=Q,r.R.col1.x=N,r.R.col1.y=
U,r.R.col2.x=J,r.R.col2.y=aa,N=.5*(W+z),U=.5*(ba+K),J=r.R,r.center.x=O.x+(J.col1.x*N+J.col2.x*U),r.center.y=O.y+(J.col1.y*N+J.col2.y*U),r.extents.x=.5*(z-W),r.extents.y=.5*(K-ba))}};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2PolygonShape.s_mat=new k});h.b2Shape=function(){};h.prototype.Copy=function(){return null};h.prototype.Set=function(r){this.m_radius=r.m_radius};h.prototype.GetType=function(){return this.m_type};h.prototype.TestPoint=
function(r,E){return!1};h.prototype.RayCast=function(r,E,B){return!1};h.prototype.ComputeAABB=function(r,E){};h.prototype.ComputeMass=function(r,E){};h.prototype.ComputeSubmergedArea=function(r,E,B,G){return 0};h.TestOverlap=function(r,E,B,G){var H=new t;H.proxyA=new x;H.proxyA.Set(r);H.proxyB=new x;H.proxyB.Set(B);H.transformA=E;H.transformB=G;H.useRadii=!0;r=new A;r.count=0;E=new w;p.Distance(E,r,H);return E.distance<10*Number.MIN_VALUE};h.prototype.b2Shape=function(){this.m_type=h.e_unknownShape;
this.m_radius=a.b2_linearSlop};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape.e_unknownShape=-1;Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape.e_circleShape=0;Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape.e_polygonShape=1;Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape.e_edgeShape=2;Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape.e_shapeTypeCount=3;Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape.e_hitCollide=
1;Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape.e_missCollide=0;Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape.e_startsInsideCollide=-1})})();
(function(){var a=Box2D$$module$js$box2d$Box2D.Common.b2Color,b=Box2D$$module$js$box2d$Box2D.Common.b2Settings,c=Box2D$$module$js$box2d$Box2D.Common.Math.b2Math;a.b2Color=function(){this._b=this._g=this._r=0};a.prototype.b2Color=function(d,e,g){void 0===d&&(d=0);void 0===e&&(e=0);void 0===g&&(g=0);this._r=Box2D$$module$js$box2d$Box2D.parseUInt(255*c.Clamp(d,0,1));this._g=Box2D$$module$js$box2d$Box2D.parseUInt(255*c.Clamp(e,0,1));this._b=Box2D$$module$js$box2d$Box2D.parseUInt(255*c.Clamp(g,0,1))};
a.prototype.Set=function(d,e,g){void 0===d&&(d=0);void 0===e&&(e=0);void 0===g&&(g=0);this._r=Box2D$$module$js$box2d$Box2D.parseUInt(255*c.Clamp(d,0,1));this._g=Box2D$$module$js$box2d$Box2D.parseUInt(255*c.Clamp(e,0,1));this._b=Box2D$$module$js$box2d$Box2D.parseUInt(255*c.Clamp(g,0,1))};Object.defineProperty(a.prototype,"r",{enumerable:!1,configurable:!0,set:function(d){void 0===d&&(d=0);this._r=Box2D$$module$js$box2d$Box2D.parseUInt(255*c.Clamp(d,0,1))}});Object.defineProperty(a.prototype,"g",{enumerable:!1,
configurable:!0,set:function(d){void 0===d&&(d=0);this._g=Box2D$$module$js$box2d$Box2D.parseUInt(255*c.Clamp(d,0,1))}});Object.defineProperty(a.prototype,"b",{enumerable:!1,configurable:!0,set:function(d){void 0===d&&(d=0);this._b=Box2D$$module$js$box2d$Box2D.parseUInt(255*c.Clamp(d,0,1))}});Object.defineProperty(a.prototype,"color",{enumerable:!1,configurable:!0,get:function(){return this._r<<16|this._g<<8|this._b}});b.b2Settings=function(){};b.b2MixFriction=function(d,e){void 0===d&&(d=0);void 0===
e&&(e=0);return Math.sqrt(d*e)};b.b2MixRestitution=function(d,e){void 0===d&&(d=0);void 0===e&&(e=0);return d>e?d:e};b.b2Assert=function(d){if(!d)throw"Assertion Failed";};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Common.b2Settings.VERSION="2.1alpha";Box2D$$module$js$box2d$Box2D.Common.b2Settings.USHRT_MAX=65535;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_pi=Math.PI;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_maxManifoldPoints=2;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_aabbExtension=
.1;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_aabbMultiplier=2;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_polygonRadius=2*b.b2_linearSlop;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_linearSlop=.005;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_angularSlop=2/180*b.b2_pi;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_toiSlop=8*b.b2_linearSlop;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_maxTOIContactsPerIsland=32;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_maxTOIJointsPerIsland=
32;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_velocityThreshold=1;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_maxLinearCorrection=.2;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_maxAngularCorrection=8/180*b.b2_pi;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_maxTranslation=2;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_maxTranslationSquared=b.b2_maxTranslation*b.b2_maxTranslation;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_maxRotation=.5*b.b2_pi;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_maxRotationSquared=
b.b2_maxRotation*b.b2_maxRotation;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_contactBaumgarte=.2;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_timeToSleep=.5;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_linearSleepTolerance=.01;Box2D$$module$js$box2d$Box2D.Common.b2Settings.b2_angularSleepTolerance=2/180*b.b2_pi})})();
(function(){var a=Box2D$$module$js$box2d$Box2D.Common.Math.b2Mat22,b=Box2D$$module$js$box2d$Box2D.Common.Math.b2Mat33,c=Box2D$$module$js$box2d$Box2D.Common.Math.b2Math,d=Box2D$$module$js$box2d$Box2D.Common.Math.b2Sweep,e=Box2D$$module$js$box2d$Box2D.Common.Math.b2Transform,g=Box2D$$module$js$box2d$Box2D.Common.Math.b2Vec2,h=Box2D$$module$js$box2d$Box2D.Common.Math.b2Vec3;a.b2Mat22=function(){this.col1=new g;this.col2=new g};a.prototype.b2Mat22=function(){this.SetIdentity()};a.FromAngle=function(k){void 0===
k&&(k=0);var l=new a;l.Set(k);return l};a.FromVV=function(k,l){var m=new a;m.SetVV(k,l);return m};a.prototype.Set=function(k){void 0===k&&(k=0);var l=Math.cos(k);k=Math.sin(k);this.col1.x=l;this.col2.x=-k;this.col1.y=k;this.col2.y=l};a.prototype.SetVV=function(k,l){this.col1.SetV(k);this.col2.SetV(l)};a.prototype.Copy=function(){var k=new a;k.SetM(this);return k};a.prototype.SetM=function(k){this.col1.SetV(k.col1);this.col2.SetV(k.col2)};a.prototype.AddM=function(k){this.col1.x+=k.col1.x;this.col1.y+=
k.col1.y;this.col2.x+=k.col2.x;this.col2.y+=k.col2.y};a.prototype.SetIdentity=function(){this.col1.x=1;this.col2.x=0;this.col1.y=0;this.col2.y=1};a.prototype.SetZero=function(){this.col1.x=0;this.col2.x=0;this.col1.y=0;this.col2.y=0};a.prototype.GetAngle=function(){return Math.atan2(this.col1.y,this.col1.x)};a.prototype.GetInverse=function(k){var l=this.col1.x,m=this.col2.x,n=this.col1.y,p=this.col2.y,t=l*p-m*n;0!=t&&(t=1/t);k.col1.x=t*p;k.col2.x=-t*m;k.col1.y=-t*n;k.col2.y=t*l;return k};a.prototype.Solve=
function(k,l,m){void 0===l&&(l=0);void 0===m&&(m=0);var n=this.col1.x,p=this.col2.x,t=this.col1.y,w=this.col2.y,x=n*w-p*t;0!=x&&(x=1/x);k.x=x*(w*l-p*m);k.y=x*(n*m-t*l);return k};a.prototype.Abs=function(){this.col1.Abs();this.col2.Abs()};b.b2Mat33=function(){this.col1=new h;this.col2=new h;this.col3=new h};b.prototype.b2Mat33=function(k,l,m){void 0===k&&(k=null);void 0===l&&(l=null);void 0===m&&(m=null);k||l||m?(this.col1.SetV(k),this.col2.SetV(l),this.col3.SetV(m)):(this.col1.SetZero(),this.col2.SetZero(),
this.col3.SetZero())};b.prototype.SetVVV=function(k,l,m){this.col1.SetV(k);this.col2.SetV(l);this.col3.SetV(m)};b.prototype.Copy=function(){return new b(this.col1,this.col2,this.col3)};b.prototype.SetM=function(k){this.col1.SetV(k.col1);this.col2.SetV(k.col2);this.col3.SetV(k.col3)};b.prototype.AddM=function(k){this.col1.x+=k.col1.x;this.col1.y+=k.col1.y;this.col1.z+=k.col1.z;this.col2.x+=k.col2.x;this.col2.y+=k.col2.y;this.col2.z+=k.col2.z;this.col3.x+=k.col3.x;this.col3.y+=k.col3.y;this.col3.z+=
k.col3.z};b.prototype.SetIdentity=function(){this.col1.x=1;this.col2.x=0;this.col3.x=0;this.col1.y=0;this.col2.y=1;this.col3.y=0;this.col1.z=0;this.col2.z=0;this.col3.z=1};b.prototype.SetZero=function(){this.col1.x=0;this.col2.x=0;this.col3.x=0;this.col1.y=0;this.col2.y=0;this.col3.y=0;this.col1.z=0;this.col2.z=0;this.col3.z=0};b.prototype.Solve22=function(k,l,m){void 0===l&&(l=0);void 0===m&&(m=0);var n=this.col1.x,p=this.col2.x,t=this.col1.y,w=this.col2.y,x=n*w-p*t;0!=x&&(x=1/x);k.x=x*(w*l-p*m);
k.y=x*(n*m-t*l);return k};b.prototype.Solve33=function(k,l,m,n){void 0===l&&(l=0);void 0===m&&(m=0);void 0===n&&(n=0);var p=this.col1.x,t=this.col1.y,w=this.col1.z,x=this.col2.x,A=this.col2.y,r=this.col2.z,E=this.col3.x,B=this.col3.y,G=this.col3.z,H=p*(A*G-r*B)+t*(r*E-x*G)+w*(x*B-A*E);0!=H&&(H=1/H);k.x=H*(l*(A*G-r*B)+m*(r*E-x*G)+n*(x*B-A*E));k.y=H*(p*(m*G-n*B)+t*(n*E-l*G)+w*(l*B-m*E));k.z=H*(p*(A*n-r*m)+t*(r*l-x*n)+w*(x*m-A*l));return k};c.b2Math=function(){};c.IsValid=function(k){void 0===k&&(k=
0);return isFinite(k)};c.Dot=function(k,l){return k.x*l.x+k.y*l.y};c.CrossVV=function(k,l){return k.x*l.y-k.y*l.x};c.CrossVF=function(k,l){void 0===l&&(l=0);return new g(l*k.y,-l*k.x)};c.CrossFV=function(k,l){void 0===k&&(k=0);return new g(-k*l.y,k*l.x)};c.MulMV=function(k,l){return new g(k.col1.x*l.x+k.col2.x*l.y,k.col1.y*l.x+k.col2.y*l.y)};c.MulTMV=function(k,l){return new g(c.Dot(l,k.col1),c.Dot(l,k.col2))};c.MulX=function(k,l){l=c.MulMV(k.R,l);l.x+=k.position.x;l.y+=k.position.y;return l};c.MulXT=
function(k,l){l=c.SubtractVV(l,k.position);var m=l.x*k.R.col1.x+l.y*k.R.col1.y;l.y=l.x*k.R.col2.x+l.y*k.R.col2.y;l.x=m;return l};c.AddVV=function(k,l){return new g(k.x+l.x,k.y+l.y)};c.SubtractVV=function(k,l){return new g(k.x-l.x,k.y-l.y)};c.Distance=function(k,l){var m=k.x-l.x;k=k.y-l.y;return Math.sqrt(m*m+k*k)};c.DistanceSquared=function(k,l){var m=k.x-l.x;k=k.y-l.y;return m*m+k*k};c.MulFV=function(k,l){void 0===k&&(k=0);return new g(k*l.x,k*l.y)};c.AddMM=function(k,l){return a.FromVV(c.AddVV(k.col1,
l.col1),c.AddVV(k.col2,l.col2))};c.MulMM=function(k,l){return a.FromVV(c.MulMV(k,l.col1),c.MulMV(k,l.col2))};c.MulTMM=function(k,l){var m=new g(c.Dot(k.col1,l.col1),c.Dot(k.col2,l.col1));k=new g(c.Dot(k.col1,l.col2),c.Dot(k.col2,l.col2));return a.FromVV(m,k)};c.Abs=function(k){void 0===k&&(k=0);return 0<k?k:-k};c.AbsV=function(k){return new g(c.Abs(k.x),c.Abs(k.y))};c.AbsM=function(k){return a.FromVV(c.AbsV(k.col1),c.AbsV(k.col2))};c.Min=function(k,l){void 0===k&&(k=0);void 0===l&&(l=0);return k<
l?k:l};c.MinV=function(k,l){return new g(c.Min(k.x,l.x),c.Min(k.y,l.y))};c.Max=function(k,l){void 0===k&&(k=0);void 0===l&&(l=0);return k>l?k:l};c.MaxV=function(k,l){return new g(c.Max(k.x,l.x),c.Max(k.y,l.y))};c.Clamp=function(k,l,m){void 0===k&&(k=0);void 0===l&&(l=0);void 0===m&&(m=0);return k<l?l:k>m?m:k};c.ClampV=function(k,l,m){return c.MaxV(l,c.MinV(k,m))};c.Swap=function(k,l){var m=k[0];k[0]=l[0];l[0]=m};c.Random=function(){return 2*Math.random()-1};c.RandomRange=function(k,l){void 0===k&&
(k=0);void 0===l&&(l=0);return(l-k)*Math.random()+k};c.NextPowerOfTwo=function(k){void 0===k&&(k=0);k|=k>>1&2147483647;k|=k>>2&1073741823;k|=k>>4&268435455;k|=k>>8&16777215;return(k|k>>16&65535)+1};c.IsPowerOfTwo=function(k){void 0===k&&(k=0);return 0<k&&0==(k&k-1)};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Common.Math.b2Math.b2Vec2_zero=new g(0,0);Box2D$$module$js$box2d$Box2D.Common.Math.b2Math.b2Mat22_identity=a.FromVV(new g(1,0),new g(0,1));Box2D$$module$js$box2d$Box2D.Common.Math.b2Math.b2Transform_identity=
new e(c.b2Vec2_zero,c.b2Mat22_identity)});d.b2Sweep=function(){this.localCenter=new g;this.c0=new g;this.c=new g};d.prototype.Set=function(k){this.localCenter.SetV(k.localCenter);this.c0.SetV(k.c0);this.c.SetV(k.c);this.a0=k.a0;this.a=k.a;this.t0=k.t0};d.prototype.Copy=function(){var k=new d;k.localCenter.SetV(this.localCenter);k.c0.SetV(this.c0);k.c.SetV(this.c);k.a0=this.a0;k.a=this.a;k.t0=this.t0;return k};d.prototype.GetTransform=function(k,l){void 0===l&&(l=0);k.position.x=(1-l)*this.c0.x+l*
this.c.x;k.position.y=(1-l)*this.c0.y+l*this.c.y;k.R.Set((1-l)*this.a0+l*this.a);l=k.R;k.position.x-=l.col1.x*this.localCenter.x+l.col2.x*this.localCenter.y;k.position.y-=l.col1.y*this.localCenter.x+l.col2.y*this.localCenter.y};d.prototype.Advance=function(k){void 0===k&&(k=0);if(this.t0<k&&1-this.t0>Number.MIN_VALUE){var l=(k-this.t0)/(1-this.t0);this.c0.x=(1-l)*this.c0.x+l*this.c.x;this.c0.y=(1-l)*this.c0.y+l*this.c.y;this.a0=(1-l)*this.a0+l*this.a;this.t0=k}};e.b2Transform=function(){this.position=
new g;this.R=new a};e.prototype.b2Transform=function(k,l){void 0===k&&(k=null);void 0===l&&(l=null);k&&(this.position.SetV(k),this.R.SetM(l))};e.prototype.Initialize=function(k,l){this.position.SetV(k);this.R.SetM(l)};e.prototype.SetIdentity=function(){this.position.SetZero();this.R.SetIdentity()};e.prototype.Set=function(k){this.position.SetV(k.position);this.R.SetM(k.R)};e.prototype.GetAngle=function(){return Math.atan2(this.R.col1.y,this.R.col1.x)};g.b2Vec2=function(){};g.prototype.b2Vec2=function(k,
l){void 0===k&&(k=0);void 0===l&&(l=0);this.x=k;this.y=l};g.prototype.SetZero=function(){this.y=this.x=0};g.prototype.Set=function(k,l){void 0===k&&(k=0);void 0===l&&(l=0);this.x=k;this.y=l};g.prototype.SetV=function(k){this.x=k.x;this.y=k.y};g.prototype.GetNegative=function(){return new g(-this.x,-this.y)};g.prototype.NegativeSelf=function(){this.x=-this.x;this.y=-this.y};g.Make=function(k,l){void 0===k&&(k=0);void 0===l&&(l=0);return new g(k,l)};g.prototype.Copy=function(){return new g(this.x,this.y)};
g.prototype.Add=function(k){this.x+=k.x;this.y+=k.y};g.prototype.Subtract=function(k){this.x-=k.x;this.y-=k.y};g.prototype.Multiply=function(k){void 0===k&&(k=0);this.x*=k;this.y*=k};g.prototype.MulM=function(k){var l=this.x;this.x=k.col1.x*l+k.col2.x*this.y;this.y=k.col1.y*l+k.col2.y*this.y};g.prototype.MulTM=function(k){var l=c.Dot(this,k.col1);this.y=c.Dot(this,k.col2);this.x=l};g.prototype.CrossVF=function(k){void 0===k&&(k=0);var l=this.x;this.x=k*this.y;this.y=-k*l};g.prototype.CrossFV=function(k){void 0===
k&&(k=0);var l=this.x;this.x=-k*this.y;this.y=k*l};g.prototype.MinV=function(k){this.x=this.x<k.x?this.x:k.x;this.y=this.y<k.y?this.y:k.y};g.prototype.MaxV=function(k){this.x=this.x>k.x?this.x:k.x;this.y=this.y>k.y?this.y:k.y};g.prototype.Abs=function(){0>this.x&&(this.x=-this.x);0>this.y&&(this.y=-this.y)};g.prototype.Length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};g.prototype.LengthSquared=function(){return this.x*this.x+this.y*this.y};g.prototype.Normalize=function(){var k=Math.sqrt(this.x*
this.x+this.y*this.y);if(k<Number.MIN_VALUE)return 0;var l=1/k;this.x*=l;this.y*=l;return k};g.prototype.IsValid=function(){return c.IsValid(this.x)&&c.IsValid(this.y)};h.b2Vec3=function(){};h.prototype.b2Vec3=function(k,l,m){void 0===k&&(k=0);void 0===l&&(l=0);void 0===m&&(m=0);this.x=k;this.y=l;this.z=m};h.prototype.SetZero=function(){this.x=this.y=this.z=0};h.prototype.Set=function(k,l,m){void 0===k&&(k=0);void 0===l&&(l=0);void 0===m&&(m=0);this.x=k;this.y=l;this.z=m};h.prototype.SetV=function(k){this.x=
k.x;this.y=k.y;this.z=k.z};h.prototype.GetNegative=function(){return new h(-this.x,-this.y,-this.z)};h.prototype.NegativeSelf=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};h.prototype.Copy=function(){return new h(this.x,this.y,this.z)};h.prototype.Add=function(k){this.x+=k.x;this.y+=k.y;this.z+=k.z};h.prototype.Subtract=function(k){this.x-=k.x;this.y-=k.y;this.z-=k.z};h.prototype.Multiply=function(k){void 0===k&&(k=0);this.x*=k;this.y*=k;this.z*=k}})();
(function(){var a=Box2D$$module$js$box2d$Box2D.Common.Math.b2Math,b=Box2D$$module$js$box2d$Box2D.Common.Math.b2Sweep,c=Box2D$$module$js$box2d$Box2D.Common.Math.b2Transform,d=Box2D$$module$js$box2d$Box2D.Common.Math.b2Vec2,e=Box2D$$module$js$box2d$Box2D.Common.b2Color,g=Box2D$$module$js$box2d$Box2D.Common.b2Settings,h=Box2D$$module$js$box2d$Box2D.Collision.b2AABB,k=Box2D$$module$js$box2d$Box2D.Collision.b2ContactPoint,l=Box2D$$module$js$box2d$Box2D.Collision.b2DynamicTreeBroadPhase,m=Box2D$$module$js$box2d$Box2D.Collision.b2RayCastInput,
n=Box2D$$module$js$box2d$Box2D.Collision.b2RayCastOutput,p=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2CircleShape,t=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2EdgeShape,w=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2MassData,x=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2PolygonShape,A=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape,r=Box2D$$module$js$box2d$Box2D.Dynamics.b2Body,E=Box2D$$module$js$box2d$Box2D.Dynamics.b2BodyDef,B=Box2D$$module$js$box2d$Box2D.Dynamics.b2ContactFilter,
G=Box2D$$module$js$box2d$Box2D.Dynamics.b2ContactImpulse,H=Box2D$$module$js$box2d$Box2D.Dynamics.b2ContactListener,O=Box2D$$module$js$box2d$Box2D.Dynamics.b2ContactManager,N=Box2D$$module$js$box2d$Box2D.Dynamics.b2DebugDraw,U=Box2D$$module$js$box2d$Box2D.Dynamics.b2DestructionListener,W=Box2D$$module$js$box2d$Box2D.Dynamics.b2FilterData,J=Box2D$$module$js$box2d$Box2D.Dynamics.b2Fixture,aa=Box2D$$module$js$box2d$Box2D.Dynamics.b2FixtureDef,ba=Box2D$$module$js$box2d$Box2D.Dynamics.b2Island,z=Box2D$$module$js$box2d$Box2D.Dynamics.b2TimeStep,
K=Box2D$$module$js$box2d$Box2D.Dynamics.b2World,Q=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact,M=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2ContactFactory,L=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2ContactSolver,T=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint,X=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2PulleyJoint;r.b2Body=function(){this.m_xf=new c;this.m_sweep=new b;this.m_linearVelocity=new d;this.m_force=new d};r.prototype.connectEdges=function(y,F,R){void 0===
R&&(R=0);var q=Math.atan2(F.GetDirectionVector().y,F.GetDirectionVector().x);R=a.MulFV(Math.tan(.5*(q-R)),F.GetDirectionVector());R=a.SubtractVV(R,F.GetNormalVector());R=a.MulFV(g.b2_toiSlop,R);R=a.AddVV(R,F.GetVertex1());var v=a.AddVV(y.GetDirectionVector(),F.GetDirectionVector());v.Normalize();var u=0<a.Dot(y.GetDirectionVector(),F.GetNormalVector());y.SetNextEdge(F,R,v,u);F.SetPrevEdge(y,R,v,u);return q};r.prototype.CreateFixture=function(y){if(1==this.m_world.IsLocked())return null;var F=new J;
F.Create(this,this.m_xf,y);this.m_flags&r.e_activeFlag&&F.CreateProxy(this.m_world.m_contactManager.m_broadPhase,this.m_xf);F.m_next=this.m_fixtureList;this.m_fixtureList=F;++this.m_fixtureCount;F.m_body=this;0<F.m_density&&this.ResetMassData();this.m_world.m_flags|=K.e_newFixture;return F};r.prototype.CreateFixture2=function(y,F){void 0===F&&(F=0);var R=new aa;R.shape=y;R.density=F;return this.CreateFixture(R)};r.prototype.DestroyFixture=function(y){if(1!=this.m_world.IsLocked()){for(var F=this.m_fixtureList,
R=null;null!=F;){if(F==y){R?R.m_next=y.m_next:this.m_fixtureList=y.m_next;break}R=F;F=F.m_next}for(F=this.m_contactList;F;){R=F.contact;F=F.next;var q=R.GetFixtureA(),v=R.GetFixtureB();y!=q&&y!=v||this.m_world.m_contactManager.Destroy(R)}this.m_flags&r.e_activeFlag&&y.DestroyProxy(this.m_world.m_contactManager.m_broadPhase);y.Destroy();y.m_body=null;y.m_next=null;--this.m_fixtureCount;this.ResetMassData()}};r.prototype.SetPositionAndAngle=function(y,F){void 0===F&&(F=0);if(1!=this.m_world.IsLocked()){this.m_xf.R.Set(F);
this.m_xf.position.SetV(y);y=this.m_xf.R;var R=this.m_sweep.localCenter;this.m_sweep.c.x=y.col1.x*R.x+y.col2.x*R.y;this.m_sweep.c.y=y.col1.y*R.x+y.col2.y*R.y;this.m_sweep.c.x+=this.m_xf.position.x;this.m_sweep.c.y+=this.m_xf.position.y;this.m_sweep.c0.SetV(this.m_sweep.c);this.m_sweep.a0=this.m_sweep.a=F;y=this.m_world.m_contactManager.m_broadPhase;for(F=this.m_fixtureList;F;F=F.m_next)F.Synchronize(y,this.m_xf,this.m_xf);this.m_world.m_contactManager.FindNewContacts()}};r.prototype.SetTransform=
function(y){this.SetPositionAndAngle(y.position,y.GetAngle())};r.prototype.GetTransform=function(){return this.m_xf};r.prototype.GetPosition=function(){return this.m_xf.position};r.prototype.SetPosition=function(y){this.SetPositionAndAngle(y,this.GetAngle())};r.prototype.GetAngle=function(){return this.m_sweep.a};r.prototype.SetAngle=function(y){void 0===y&&(y=0);this.SetPositionAndAngle(this.GetPosition(),y)};r.prototype.GetWorldCenter=function(){return this.m_sweep.c};r.prototype.GetLocalCenter=
function(){return this.m_sweep.localCenter};r.prototype.SetLinearVelocity=function(y){this.m_type!=r.b2_staticBody&&this.m_linearVelocity.SetV(y)};r.prototype.GetLinearVelocity=function(){return this.m_linearVelocity};r.prototype.SetAngularVelocity=function(y){void 0===y&&(y=0);this.m_type!=r.b2_staticBody&&(this.m_angularVelocity=y)};r.prototype.GetAngularVelocity=function(){return this.m_angularVelocity};r.prototype.GetDefinition=function(){var y=new E;y.type=this.GetType();y.allowSleep=(this.m_flags&
r.e_allowSleepFlag)==r.e_allowSleepFlag;y.angle=this.GetAngle();y.angularDamping=this.m_angularDamping;y.angularVelocity=this.m_angularVelocity;y.fixedRotation=(this.m_flags&r.e_fixedRotationFlag)==r.e_fixedRotationFlag;y.bullet=(this.m_flags&r.e_bulletFlag)==r.e_bulletFlag;y.awake=(this.m_flags&r.e_awakeFlag)==r.e_awakeFlag;y.linearDamping=this.m_linearDamping;y.linearVelocity.SetV(this.GetLinearVelocity());y.position=this.GetPosition();y.userData=this.GetUserData();return y};r.prototype.ApplyForce=
function(y,F){this.m_type==r.b2_dynamicBody&&(0==this.IsAwake()&&this.SetAwake(!0),this.m_force.x+=y.x,this.m_force.y+=y.y,this.m_torque+=(F.x-this.m_sweep.c.x)*y.y-(F.y-this.m_sweep.c.y)*y.x)};r.prototype.ApplyTorque=function(y){void 0===y&&(y=0);this.m_type==r.b2_dynamicBody&&(0==this.IsAwake()&&this.SetAwake(!0),this.m_torque+=y)};r.prototype.ApplyImpulse=function(y,F){this.m_type==r.b2_dynamicBody&&(0==this.IsAwake()&&this.SetAwake(!0),this.m_linearVelocity.x+=this.m_invMass*y.x,this.m_linearVelocity.y+=
this.m_invMass*y.y,this.m_angularVelocity+=this.m_invI*((F.x-this.m_sweep.c.x)*y.y-(F.y-this.m_sweep.c.y)*y.x))};r.prototype.Split=function(y){for(var F=this.GetLinearVelocity().Copy(),R=this.GetAngularVelocity(),q=this.GetWorldCenter(),v=this.m_world.CreateBody(this.GetDefinition()),u,D=this.m_fixtureList;D;)if(y(D)){var I=D.m_next;u?u.m_next=I:this.m_fixtureList=I;this.m_fixtureCount--;D.m_next=v.m_fixtureList;v.m_fixtureList=D;v.m_fixtureCount++;D.m_body=v;D=I}else u=D,D=D.m_next;this.ResetMassData();
v.ResetMassData();u=this.GetWorldCenter();y=v.GetWorldCenter();u=a.AddVV(F,a.CrossFV(R,a.SubtractVV(u,q)));F=a.AddVV(F,a.CrossFV(R,a.SubtractVV(y,q)));this.SetLinearVelocity(u);v.SetLinearVelocity(F);this.SetAngularVelocity(R);v.SetAngularVelocity(R);this.SynchronizeFixtures();v.SynchronizeFixtures();return v};r.prototype.Merge=function(y){for(var F=y.m_fixtureList;F;){var R=F.m_next;y.m_fixtureCount--;F.m_next=this.m_fixtureList;this.m_fixtureList=F;this.m_fixtureCount++;F.m_body=y;F=R}this.m_fixtureCount=
0;this.GetWorldCenter();y.GetWorldCenter();this.GetLinearVelocity().Copy();y.GetLinearVelocity().Copy();this.GetAngularVelocity();y.GetAngularVelocity();this.ResetMassData();this.SynchronizeFixtures()};r.prototype.GetMass=function(){return this.m_mass};r.prototype.GetInertia=function(){return this.m_I};r.prototype.GetMassData=function(y){y.mass=this.m_mass;y.I=this.m_I;y.center.SetV(this.m_sweep.localCenter)};r.prototype.SetMassData=function(y){g.b2Assert(0==this.m_world.IsLocked());if(1!=this.m_world.IsLocked()&&
this.m_type==r.b2_dynamicBody){this.m_invI=this.m_I=this.m_invMass=0;this.m_mass=y.mass;0>=this.m_mass&&(this.m_mass=1);this.m_invMass=1/this.m_mass;0<y.I&&0==(this.m_flags&r.e_fixedRotationFlag)&&(this.m_I=y.I-this.m_mass*(y.center.x*y.center.x+y.center.y*y.center.y),this.m_invI=1/this.m_I);var F=this.m_sweep.c.Copy();this.m_sweep.localCenter.SetV(y.center);this.m_sweep.c0.SetV(a.MulX(this.m_xf,this.m_sweep.localCenter));this.m_sweep.c.SetV(this.m_sweep.c0);this.m_linearVelocity.x+=this.m_angularVelocity*
-(this.m_sweep.c.y-F.y);this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-F.x)}};r.prototype.ResetMassData=function(){this.m_invI=this.m_I=this.m_invMass=this.m_mass=0;this.m_sweep.localCenter.SetZero();if(this.m_type!=r.b2_staticBody&&this.m_type!=r.b2_kinematicBody){for(var y=d.Make(0,0),F=this.m_fixtureList;F;F=F.m_next)if(0!=F.m_density){var R=F.GetMassData();this.m_mass+=R.mass;y.x+=R.center.x*R.mass;y.y+=R.center.y*R.mass;this.m_I+=R.I}0<this.m_mass?(this.m_invMass=1/this.m_mass,
y.x*=this.m_invMass,y.y*=this.m_invMass):this.m_invMass=this.m_mass=1;0<this.m_I&&0==(this.m_flags&r.e_fixedRotationFlag)?(this.m_I-=this.m_mass*(y.x*y.x+y.y*y.y),this.m_I*=this.m_inertiaScale,g.b2Assert(0<this.m_I),this.m_invI=1/this.m_I):this.m_invI=this.m_I=0;F=this.m_sweep.c.Copy();this.m_sweep.localCenter.SetV(y);this.m_sweep.c0.SetV(a.MulX(this.m_xf,this.m_sweep.localCenter));this.m_sweep.c.SetV(this.m_sweep.c0);this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-F.y);this.m_linearVelocity.y+=
this.m_angularVelocity*+(this.m_sweep.c.x-F.x)}};r.prototype.GetWorldPoint=function(y){var F=this.m_xf.R;y=new d(F.col1.x*y.x+F.col2.x*y.y,F.col1.y*y.x+F.col2.y*y.y);y.x+=this.m_xf.position.x;y.y+=this.m_xf.position.y;return y};r.prototype.GetWorldVector=function(y){return a.MulMV(this.m_xf.R,y)};r.prototype.GetLocalPoint=function(y){return a.MulXT(this.m_xf,y)};r.prototype.GetLocalVector=function(y){return a.MulTMV(this.m_xf.R,y)};r.prototype.GetLinearVelocityFromWorldPoint=function(y){return new d(this.m_linearVelocity.x-
this.m_angularVelocity*(y.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(y.x-this.m_sweep.c.x))};r.prototype.GetLinearVelocityFromLocalPoint=function(y){var F=this.m_xf.R;y=new d(F.col1.x*y.x+F.col2.x*y.y,F.col1.y*y.x+F.col2.y*y.y);y.x+=this.m_xf.position.x;y.y+=this.m_xf.position.y;return new d(this.m_linearVelocity.x-this.m_angularVelocity*(y.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(y.x-this.m_sweep.c.x))};r.prototype.GetLinearDamping=function(){return this.m_linearDamping};
r.prototype.SetLinearDamping=function(y){void 0===y&&(y=0);this.m_linearDamping=y};r.prototype.GetAngularDamping=function(){return this.m_angularDamping};r.prototype.SetAngularDamping=function(y){void 0===y&&(y=0);this.m_angularDamping=y};r.prototype.SetType=function(y){void 0===y&&(y=0);if(this.m_type!=y)for(this.m_type=y,this.ResetMassData(),this.m_type==r.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0,y=this.m_contactList;y;y=
y.next)y.contact.FlagForFiltering()};r.prototype.GetType=function(){return this.m_type};r.prototype.SetBullet=function(y){this.m_flags=y?this.m_flags|r.e_bulletFlag:this.m_flags&~r.e_bulletFlag};r.prototype.IsBullet=function(){return(this.m_flags&r.e_bulletFlag)==r.e_bulletFlag};r.prototype.SetSleepingAllowed=function(y){y?this.m_flags|=r.e_allowSleepFlag:(this.m_flags&=~r.e_allowSleepFlag,this.SetAwake(!0))};r.prototype.SetAwake=function(y){y?(this.m_flags|=r.e_awakeFlag,this.m_sleepTime=0):(this.m_flags&=
~r.e_awakeFlag,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0)};r.prototype.IsAwake=function(){return(this.m_flags&r.e_awakeFlag)==r.e_awakeFlag};r.prototype.SetFixedRotation=function(y){this.m_flags=y?this.m_flags|r.e_fixedRotationFlag:this.m_flags&~r.e_fixedRotationFlag;this.ResetMassData()};r.prototype.IsFixedRotation=function(){return(this.m_flags&r.e_fixedRotationFlag)==r.e_fixedRotationFlag};r.prototype.SetActive=function(y){if(y!=
this.IsActive()){var F;if(y)for(this.m_flags|=r.e_activeFlag,y=this.m_world.m_contactManager.m_broadPhase,F=this.m_fixtureList;F;F=F.m_next)F.CreateProxy(y,this.m_xf);else{this.m_flags&=~r.e_activeFlag;y=this.m_world.m_contactManager.m_broadPhase;for(F=this.m_fixtureList;F;F=F.m_next)F.DestroyProxy(y);for(y=this.m_contactList;y;)F=y,y=y.next,this.m_world.m_contactManager.Destroy(F.contact);this.m_contactList=null}}};r.prototype.IsActive=function(){return(this.m_flags&r.e_activeFlag)==r.e_activeFlag};
r.prototype.IsSleepingAllowed=function(){return(this.m_flags&r.e_allowSleepFlag)==r.e_allowSleepFlag};r.prototype.GetFixtureList=function(){return this.m_fixtureList};r.prototype.GetJointList=function(){return this.m_jointList};r.prototype.GetControllerList=function(){return this.m_controllerList};r.prototype.GetContactList=function(){return this.m_contactList};r.prototype.GetNext=function(){return this.m_next};r.prototype.GetUserData=function(){return this.m_userData};r.prototype.SetUserData=function(y){this.m_userData=
y};r.prototype.GetWorld=function(){return this.m_world};r.prototype.b2Body=function(y,F){this.m_flags=0;y.bullet&&(this.m_flags|=r.e_bulletFlag);y.fixedRotation&&(this.m_flags|=r.e_fixedRotationFlag);y.allowSleep&&(this.m_flags|=r.e_allowSleepFlag);y.awake&&(this.m_flags|=r.e_awakeFlag);y.active&&(this.m_flags|=r.e_activeFlag);this.m_world=F;this.m_xf.position.SetV(y.position);this.m_xf.R.Set(y.angle);this.m_sweep.localCenter.SetZero();this.m_sweep.t0=1;this.m_sweep.a0=this.m_sweep.a=y.angle;F=this.m_xf.R;
var R=this.m_sweep.localCenter;this.m_sweep.c.x=F.col1.x*R.x+F.col2.x*R.y;this.m_sweep.c.y=F.col1.y*R.x+F.col2.y*R.y;this.m_sweep.c.x+=this.m_xf.position.x;this.m_sweep.c.y+=this.m_xf.position.y;this.m_sweep.c0.SetV(this.m_sweep.c);this.m_contactList=this.m_controllerList=this.m_jointList=null;this.m_controllerCount=0;this.m_next=this.m_prev=null;this.m_linearVelocity.SetV(y.linearVelocity);this.m_angularVelocity=y.angularVelocity;this.m_linearDamping=y.linearDamping;this.m_angularDamping=y.angularDamping;
this.m_force.Set(0,0);this.m_sleepTime=this.m_torque=0;this.m_type=y.type;this.m_invMass=this.m_type==r.b2_dynamicBody?this.m_mass=1:this.m_mass=0;this.m_invI=this.m_I=0;this.m_inertiaScale=y.inertiaScale;this.m_userData=y.userData;this.m_fixtureList=null;this.m_fixtureCount=0};r.prototype.SynchronizeFixtures=function(){var y=r.s_xf1;y.R.Set(this.m_sweep.a0);var F=y.R,R=this.m_sweep.localCenter;y.position.x=this.m_sweep.c0.x-(F.col1.x*R.x+F.col2.x*R.y);y.position.y=this.m_sweep.c0.y-(F.col1.y*R.x+
F.col2.y*R.y);R=this.m_world.m_contactManager.m_broadPhase;for(F=this.m_fixtureList;F;F=F.m_next)F.Synchronize(R,y,this.m_xf)};r.prototype.SynchronizeTransform=function(){this.m_xf.R.Set(this.m_sweep.a);var y=this.m_xf.R,F=this.m_sweep.localCenter;this.m_xf.position.x=this.m_sweep.c.x-(y.col1.x*F.x+y.col2.x*F.y);this.m_xf.position.y=this.m_sweep.c.y-(y.col1.y*F.x+y.col2.y*F.y)};r.prototype.ShouldCollide=function(y){if(this.m_type!=r.b2_dynamicBody&&y.m_type!=r.b2_dynamicBody)return!1;for(var F=this.m_jointList;F;F=
F.next)if(F.other==y&&0==F.joint.m_collideConnected)return!1;return!0};r.prototype.Advance=function(y){void 0===y&&(y=0);this.m_sweep.Advance(y);this.m_sweep.c.SetV(this.m_sweep.c0);this.m_sweep.a=this.m_sweep.a0;this.SynchronizeTransform()};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Dynamics.b2Body.s_xf1=new c;Box2D$$module$js$box2d$Box2D.Dynamics.b2Body.e_islandFlag=1;Box2D$$module$js$box2d$Box2D.Dynamics.b2Body.e_awakeFlag=2;Box2D$$module$js$box2d$Box2D.Dynamics.b2Body.e_allowSleepFlag=
4;Box2D$$module$js$box2d$Box2D.Dynamics.b2Body.e_bulletFlag=8;Box2D$$module$js$box2d$Box2D.Dynamics.b2Body.e_fixedRotationFlag=16;Box2D$$module$js$box2d$Box2D.Dynamics.b2Body.e_activeFlag=32;Box2D$$module$js$box2d$Box2D.Dynamics.b2Body.b2_staticBody=0;Box2D$$module$js$box2d$Box2D.Dynamics.b2Body.b2_kinematicBody=1;Box2D$$module$js$box2d$Box2D.Dynamics.b2Body.b2_dynamicBody=2});E.b2BodyDef=function(){this.position=new d;this.linearVelocity=new d};E.prototype.b2BodyDef=function(){this.userData=null;
this.position.Set(0,0);this.angle=0;this.linearVelocity.Set(0,0);this.angularDamping=this.linearDamping=this.angularVelocity=0;this.awake=this.allowSleep=!0;this.bullet=this.fixedRotation=!1;this.type=r.b2_staticBody;this.active=!0;this.inertiaScale=1};B.b2ContactFilter=function(){};B.prototype.ShouldCollide=function(y,F){y=y.GetFilterData();F=F.GetFilterData();return y.groupIndex==F.groupIndex&&0!=y.groupIndex?0<y.groupIndex:0!=(y.maskBits&F.categoryBits)&&0!=(y.categoryBits&F.maskBits)};B.prototype.RayCollide=
function(y,F){return y?this.ShouldCollide(y instanceof J?y:null,F):!0};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Dynamics.b2ContactFilter.b2_defaultFilter=new B});G.b2ContactImpulse=function(){this.normalImpulses=new Vector_a2j_Number$$module$js$box2d$Box2D(g.b2_maxManifoldPoints);this.tangentImpulses=new Vector_a2j_Number$$module$js$box2d$Box2D(g.b2_maxManifoldPoints)};H.b2ContactListener=function(){};H.prototype.BeginContact=function(y){};H.prototype.EndContact=
function(y){};H.prototype.PreSolve=function(y,F){};H.prototype.PostSolve=function(y,F){};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Dynamics.b2ContactListener.b2_defaultListener=new H});O.b2ContactManager=function(){};O.prototype.b2ContactManager=function(){this.m_world=null;this.m_contactCount=0;this.m_contactFilter=B.b2_defaultFilter;this.m_contactListener=H.b2_defaultListener;this.m_contactFactory=new M(this.m_allocator);this.m_broadPhase=new l};O.prototype.AddPair=
function(y,F){y=y instanceof J?y:null;F=F instanceof J?F:null;var R=y.GetBody(),q=F.GetBody();if(R!=q){for(var v=q.GetContactList();v;){if(v.other==R){var u=v.contact.GetFixtureA(),D=v.contact.GetFixtureB();if(u==y&&D==F||u==F&&D==y)return}v=v.next}0!=q.ShouldCollide(R)&&0!=this.m_contactFilter.ShouldCollide(y,F)&&(v=this.m_contactFactory.Create(y,F),y=v.GetFixtureA(),F=v.GetFixtureB(),R=y.m_body,q=F.m_body,v.m_prev=null,v.m_next=this.m_world.m_contactList,null!=this.m_world.m_contactList&&(this.m_world.m_contactList.m_prev=
v),this.m_world.m_contactList=v,v.m_nodeA.contact=v,v.m_nodeA.other=q,v.m_nodeA.prev=null,v.m_nodeA.next=R.m_contactList,null!=R.m_contactList&&(R.m_contactList.prev=v.m_nodeA),R.m_contactList=v.m_nodeA,v.m_nodeB.contact=v,v.m_nodeB.other=R,v.m_nodeB.prev=null,v.m_nodeB.next=q.m_contactList,null!=q.m_contactList&&(q.m_contactList.prev=v.m_nodeB),q.m_contactList=v.m_nodeB,++this.m_world.m_contactCount)}};O.prototype.FindNewContacts=function(){this.m_broadPhase.UpdatePairs(Box2D$$module$js$box2d$Box2D.generateCallback(this,
this.AddPair))};O.prototype.Destroy=function(y){var F=y.GetFixtureA(),R=y.GetFixtureB();F=F.GetBody();R=R.GetBody();y.IsTouching()&&this.m_contactListener.EndContact(y);y.m_prev&&(y.m_prev.m_next=y.m_next);y.m_next&&(y.m_next.m_prev=y.m_prev);y==this.m_world.m_contactList&&(this.m_world.m_contactList=y.m_next);y.m_nodeA.prev&&(y.m_nodeA.prev.next=y.m_nodeA.next);y.m_nodeA.next&&(y.m_nodeA.next.prev=y.m_nodeA.prev);y.m_nodeA==F.m_contactList&&(F.m_contactList=y.m_nodeA.next);y.m_nodeB.prev&&(y.m_nodeB.prev.next=
y.m_nodeB.next);y.m_nodeB.next&&(y.m_nodeB.next.prev=y.m_nodeB.prev);y.m_nodeB==R.m_contactList&&(R.m_contactList=y.m_nodeB.next);this.m_contactFactory.Destroy(y);--this.m_contactCount};O.prototype.Collide=function(){for(var y=this.m_world.m_contactList;y;){var F=y.GetFixtureA(),R=y.GetFixtureB(),q=F.GetBody(),v=R.GetBody();if(0==q.IsAwake()&&0==v.IsAwake())y=y.GetNext();else{if(y.m_flags&Q.e_filterFlag){if(0==v.ShouldCollide(q)){F=y;y=F.GetNext();this.Destroy(F);continue}if(0==this.m_contactFilter.ShouldCollide(F,
R)){F=y;y=F.GetNext();this.Destroy(F);continue}y.m_flags&=~Q.e_filterFlag}0==this.m_broadPhase.TestOverlap(F.m_proxy,R.m_proxy)?(F=y,y=F.GetNext(),this.Destroy(F)):(y.Update(this.m_contactListener),y=y.GetNext())}}};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Dynamics.b2ContactManager.s_evalCP=new k});N.b2DebugDraw=function(){};N.prototype.b2DebugDraw=function(){};N.prototype.SetFlags=function(y){};N.prototype.GetFlags=function(){};N.prototype.AppendFlags=function(y){};
N.prototype.ClearFlags=function(y){};N.prototype.SetSprite=function(y){};N.prototype.GetSprite=function(){};N.prototype.SetDrawScale=function(y){};N.prototype.GetDrawScale=function(){};N.prototype.SetLineThickness=function(y){};N.prototype.GetLineThickness=function(){};N.prototype.SetAlpha=function(y){};N.prototype.GetAlpha=function(){};N.prototype.SetFillAlpha=function(y){};N.prototype.GetFillAlpha=function(){};N.prototype.SetXFormScale=function(y){};N.prototype.GetXFormScale=function(){};N.prototype.DrawPolygon=
function(y,F,R){};N.prototype.DrawSolidPolygon=function(y,F,R){};N.prototype.DrawCircle=function(y,F,R){};N.prototype.DrawSolidCircle=function(y,F,R,q){};N.prototype.DrawSegment=function(y,F,R){};N.prototype.DrawTransform=function(y){};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Dynamics.b2DebugDraw.e_shapeBit=1;Box2D$$module$js$box2d$Box2D.Dynamics.b2DebugDraw.e_jointBit=2;Box2D$$module$js$box2d$Box2D.Dynamics.b2DebugDraw.e_aabbBit=4;Box2D$$module$js$box2d$Box2D.Dynamics.b2DebugDraw.e_pairBit=
8;Box2D$$module$js$box2d$Box2D.Dynamics.b2DebugDraw.e_centerOfMassBit=16;Box2D$$module$js$box2d$Box2D.Dynamics.b2DebugDraw.e_controllerBit=32});U.b2DestructionListener=function(){};U.prototype.SayGoodbyeJoint=function(y){};U.prototype.SayGoodbyeFixture=function(y){};W.b2FilterData=function(){this.categoryBits=1;this.maskBits=65535;this.groupIndex=0};W.prototype.Copy=function(){var y=new W;y.categoryBits=this.categoryBits;y.maskBits=this.maskBits;y.groupIndex=this.groupIndex;return y};J.b2Fixture=
function(){this.m_filter=new W};J.prototype.GetType=function(){return this.m_shape.GetType()};J.prototype.GetShape=function(){return this.m_shape};J.prototype.SetSensor=function(y){if(this.m_isSensor!=y&&(this.m_isSensor=y,null!=this.m_body))for(y=this.m_body.GetContactList();y;){var F=y.contact,R=F.GetFixtureA(),q=F.GetFixtureB();R!=this&&q!=this||F.SetSensor(R.IsSensor()||q.IsSensor());y=y.next}};J.prototype.IsSensor=function(){return this.m_isSensor};J.prototype.SetFilterData=function(y){this.m_filter=
y.Copy();if(!this.m_body)for(y=this.m_body.GetContactList();y;){var F=y.contact,R=F.GetFixtureA(),q=F.GetFixtureB();R!=this&&q!=this||F.FlagForFiltering();y=y.next}};J.prototype.GetFilterData=function(){return this.m_filter.Copy()};J.prototype.GetBody=function(){return this.m_body};J.prototype.GetNext=function(){return this.m_next};J.prototype.GetUserData=function(){return this.m_userData};J.prototype.SetUserData=function(y){this.m_userData=y};J.prototype.TestPoint=function(y){return this.m_shape.TestPoint(this.m_body.GetTransform(),
y)};J.prototype.RayCast=function(y,F){return this.m_shape.RayCast(y,F,this.m_body.GetTransform())};J.prototype.GetMassData=function(y){void 0===y&&(y=null);null==y&&(y=new w);this.m_shape.ComputeMass(y,this.m_density);return y};J.prototype.SetDensity=function(y){void 0===y&&(y=0);this.m_density=y};J.prototype.GetDensity=function(){return this.m_density};J.prototype.GetFriction=function(){return this.m_friction};J.prototype.SetFriction=function(y){void 0===y&&(y=0);this.m_friction=y};J.prototype.GetRestitution=
function(){return this.m_restitution};J.prototype.SetRestitution=function(y){void 0===y&&(y=0);this.m_restitution=y};J.prototype.GetAABB=function(){return this.m_aabb};J.prototype.b2Fixture=function(){this.m_aabb=new h;this.m_shape=this.m_next=this.m_body=this.m_userData=null;this.m_restitution=this.m_friction=this.m_density=0};J.prototype.Create=function(y,F,R){this.m_userData=R.userData;this.m_friction=R.friction;this.m_restitution=R.restitution;this.m_body=y;this.m_next=null;this.m_filter=R.filter.Copy();
this.m_isSensor=R.isSensor;this.m_shape=R.shape.Copy();this.m_density=R.density};J.prototype.Destroy=function(){this.m_shape=null};J.prototype.CreateProxy=function(y,F){this.m_shape.ComputeAABB(this.m_aabb,F);this.m_proxy=y.CreateProxy(this.m_aabb,this)};J.prototype.DestroyProxy=function(y){null!=this.m_proxy&&(y.DestroyProxy(this.m_proxy),this.m_proxy=null)};J.prototype.Synchronize=function(y,F,R){if(this.m_proxy){var q=new h,v=new h;this.m_shape.ComputeAABB(q,F);this.m_shape.ComputeAABB(v,R);this.m_aabb.Combine(q,
v);F=a.SubtractVV(R.position,F.position);y.MoveProxy(this.m_proxy,this.m_aabb,F)}};aa.b2FixtureDef=function(){this.filter=new W};aa.prototype.b2FixtureDef=function(){this.userData=this.shape=null;this.friction=.2;this.density=this.restitution=0;this.filter.categoryBits=1;this.filter.maskBits=65535;this.filter.groupIndex=0;this.isSensor=!1};ba.b2Island=function(){};ba.prototype.b2Island=function(){this.m_bodies=new Vector$$module$js$box2d$Box2D;this.m_contacts=new Vector$$module$js$box2d$Box2D;this.m_joints=
new Vector$$module$js$box2d$Box2D};ba.prototype.Initialize=function(y,F,R,q,v,u){void 0===y&&(y=0);void 0===F&&(F=0);void 0===R&&(R=0);this.m_bodyCapacity=y;this.m_contactCapacity=F;this.m_jointCapacity=R;this.m_jointCount=this.m_contactCount=this.m_bodyCount=0;this.m_allocator=q;this.m_listener=v;this.m_contactSolver=u;for(q=this.m_bodies.length;q<y;q++)this.m_bodies[q]=null;for(q=this.m_contacts.length;q<F;q++)this.m_contacts[q]=null;for(q=this.m_joints.length;q<R;q++)this.m_joints[q]=null};ba.prototype.Clear=
function(){this.m_jointCount=this.m_contactCount=this.m_bodyCount=0};ba.prototype.Solve=function(y,F,R){var q;for(q=0;q<this.m_bodyCount;++q){var v=this.m_bodies[q];v.GetType()==r.b2_dynamicBody&&(v.m_linearVelocity.x+=y.dt*(F.x+v.m_invMass*v.m_force.x),v.m_linearVelocity.y+=y.dt*(F.y+v.m_invMass*v.m_force.y),v.m_angularVelocity+=y.dt*v.m_invI*v.m_torque,v.m_linearVelocity.Multiply(a.Clamp(1-y.dt*v.m_linearDamping,0,1)),v.m_angularVelocity*=a.Clamp(1-y.dt*v.m_angularDamping,0,1))}this.m_contactSolver.Initialize(y,
this.m_contacts,this.m_contactCount,this.m_allocator);F=this.m_contactSolver;F.InitVelocityConstraints(y);for(q=0;q<this.m_jointCount;++q){var u=this.m_joints[q];u.InitVelocityConstraints(y)}for(q=0;q<y.velocityIterations;++q){for(v=0;v<this.m_jointCount;++v)u=this.m_joints[v],u.SolveVelocityConstraints(y);F.SolveVelocityConstraints()}for(q=0;q<this.m_jointCount;++q)u=this.m_joints[q],u.FinalizeVelocityConstraints();F.FinalizeVelocityConstraints();for(q=0;q<this.m_bodyCount;++q)if(v=this.m_bodies[q],
v.GetType()!=r.b2_staticBody){var D=y.dt*v.m_linearVelocity.x,I=y.dt*v.m_linearVelocity.y;D*D+I*I>g.b2_maxTranslationSquared&&(v.m_linearVelocity.Normalize(),v.m_linearVelocity.x=v.m_linearVelocity.x*g.b2_maxTranslation*y.inv_dt,v.m_linearVelocity.y=v.m_linearVelocity.y*g.b2_maxTranslation*y.inv_dt);D=y.dt*v.m_angularVelocity;D*D>g.b2_maxRotationSquared&&(v.m_angularVelocity=0>v.m_angularVelocity?-g.b2_maxRotation*y.inv_dt:g.b2_maxRotation*y.inv_dt);v.m_sweep.c0.SetV(v.m_sweep.c);v.m_sweep.a0=v.m_sweep.a;
v.m_sweep.c.x+=y.dt*v.m_linearVelocity.x;v.m_sweep.c.y+=y.dt*v.m_linearVelocity.y;v.m_sweep.a+=y.dt*v.m_angularVelocity;v.SynchronizeTransform()}for(q=0;q<y.positionIterations;++q){D=F.SolvePositionConstraints(g.b2_contactBaumgarte);I=!0;for(v=0;v<this.m_jointCount;++v)u=this.m_joints[v],u=u.SolvePositionConstraints(g.b2_contactBaumgarte),I=I&&u;if(D&&I)break}this.Report(F.m_constraints);if(R){R=Number.MAX_VALUE;F=g.b2_linearSleepTolerance*g.b2_linearSleepTolerance;D=g.b2_angularSleepTolerance*g.b2_angularSleepTolerance;
for(q=0;q<this.m_bodyCount;++q)v=this.m_bodies[q],v.GetType()!=r.b2_staticBody&&(0==(v.m_flags&r.e_allowSleepFlag)&&(R=v.m_sleepTime=0),0==(v.m_flags&r.e_allowSleepFlag)||v.m_angularVelocity*v.m_angularVelocity>D||a.Dot(v.m_linearVelocity,v.m_linearVelocity)>F?R=v.m_sleepTime=0:(v.m_sleepTime+=y.dt,R=a.Min(R,v.m_sleepTime)));if(R>=g.b2_timeToSleep)for(q=0;q<this.m_bodyCount;++q)v=this.m_bodies[q],v.SetAwake(!1)}};ba.prototype.SolveTOI=function(y){var F,R;this.m_contactSolver.Initialize(y,this.m_contacts,
this.m_contactCount,this.m_allocator);var q=this.m_contactSolver;for(F=0;F<this.m_jointCount;++F)this.m_joints[F].InitVelocityConstraints(y);for(F=0;F<y.velocityIterations;++F)for(q.SolveVelocityConstraints(),R=0;R<this.m_jointCount;++R)this.m_joints[R].SolveVelocityConstraints(y);for(F=0;F<this.m_bodyCount;++F)if(R=this.m_bodies[F],R.GetType()!=r.b2_staticBody){var v=y.dt*R.m_linearVelocity.x,u=y.dt*R.m_linearVelocity.y;v*v+u*u>g.b2_maxTranslationSquared&&(R.m_linearVelocity.Normalize(),R.m_linearVelocity.x=
R.m_linearVelocity.x*g.b2_maxTranslation*y.inv_dt,R.m_linearVelocity.y=R.m_linearVelocity.y*g.b2_maxTranslation*y.inv_dt);v=y.dt*R.m_angularVelocity;v*v>g.b2_maxRotationSquared&&(R.m_angularVelocity=0>R.m_angularVelocity?-g.b2_maxRotation*y.inv_dt:g.b2_maxRotation*y.inv_dt);R.m_sweep.c0.SetV(R.m_sweep.c);R.m_sweep.a0=R.m_sweep.a;R.m_sweep.c.x+=y.dt*R.m_linearVelocity.x;R.m_sweep.c.y+=y.dt*R.m_linearVelocity.y;R.m_sweep.a+=y.dt*R.m_angularVelocity;R.SynchronizeTransform()}for(F=0;F<y.positionIterations;++F){v=
q.SolvePositionConstraints(.75);u=!0;for(R=0;R<this.m_jointCount;++R){var D=this.m_joints[R].SolvePositionConstraints(g.b2_contactBaumgarte);u=u&&D}if(v&&u)break}this.Report(q.m_constraints)};ba.prototype.Report=function(y){if(null!=this.m_listener)for(var F=0;F<this.m_contactCount;++F){for(var R=this.m_contacts[F],q=y[F],v=0;v<q.pointCount;++v)ba.s_impulse.normalImpulses[v]=q.points[v].normalImpulse,ba.s_impulse.tangentImpulses[v]=q.points[v].tangentImpulse;this.m_listener.PostSolve(R,ba.s_impulse)}};
ba.prototype.AddBody=function(y){y.m_islandIndex=this.m_bodyCount;this.m_bodies[this.m_bodyCount++]=y};ba.prototype.AddContact=function(y){this.m_contacts[this.m_contactCount++]=y};ba.prototype.AddJoint=function(y){this.m_joints[this.m_jointCount++]=y};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Dynamics.b2Island.s_impulse=new G});z.b2TimeStep=function(){};z.prototype.Set=function(y){this.dt=y.dt;this.inv_dt=y.inv_dt;this.positionIterations=y.positionIterations;
this.velocityIterations=y.velocityIterations;this.warmStarting=y.warmStarting};K.b2World=function(){this.s_stack=new Vector$$module$js$box2d$Box2D;this.m_contactManager=new O;this.m_contactSolver=new L;this.m_island=new ba};K.prototype.b2World=function(y,F){this.m_controllerList=this.m_jointList=this.m_contactList=this.m_bodyList=this.m_debugDraw=this.m_destructionListener=null;this.m_controllerCount=this.m_jointCount=this.m_contactCount=this.m_bodyCount=0;K.m_warmStarting=!0;K.m_continuousPhysics=
!0;this.m_allowSleep=F;this.m_gravity=y;this.m_inv_dt0=0;this.m_contactManager.m_world=this;y=new E;this.m_groundBody=this.CreateBody(y)};K.prototype.SetDestructionListener=function(y){this.m_destructionListener=y};K.prototype.SetContactFilter=function(y){this.m_contactManager.m_contactFilter=y};K.prototype.SetContactListener=function(y){this.m_contactManager.m_contactListener=y};K.prototype.SetDebugDraw=function(y){this.m_debugDraw=y};K.prototype.SetBroadPhase=function(y){var F=this.m_contactManager.m_broadPhase;
this.m_contactManager.m_broadPhase=y;for(var R=this.m_bodyList;R;R=R.m_next)for(var q=R.m_fixtureList;q;q=q.m_next)q.m_proxy=y.CreateProxy(F.GetFatAABB(q.m_proxy),q)};K.prototype.Validate=function(){this.m_contactManager.m_broadPhase.Validate()};K.prototype.GetProxyCount=function(){return this.m_contactManager.m_broadPhase.GetProxyCount()};K.prototype.CreateBody=function(y){if(1==this.IsLocked())return null;y=new r(y,this);y.m_prev=null;if(y.m_next=this.m_bodyList)this.m_bodyList.m_prev=y;this.m_bodyList=
y;++this.m_bodyCount;return y};K.prototype.DestroyBody=function(y){if(1!=this.IsLocked()){for(var F=y.m_jointList;F;){var R=F;F=F.next;this.m_destructionListener&&this.m_destructionListener.SayGoodbyeJoint(R.joint);this.DestroyJoint(R.joint)}for(F=y.m_controllerList;F;)R=F,F=F.nextController,R.controller.RemoveBody(y);for(F=y.m_contactList;F;)R=F,F=F.next,this.m_contactManager.Destroy(R.contact);y.m_contactList=null;for(F=y.m_fixtureList;F;)R=F,F=F.m_next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeFixture(R),
R.DestroyProxy(this.m_contactManager.m_broadPhase),R.Destroy();y.m_fixtureList=null;y.m_fixtureCount=0;y.m_prev&&(y.m_prev.m_next=y.m_next);y.m_next&&(y.m_next.m_prev=y.m_prev);y==this.m_bodyList&&(this.m_bodyList=y.m_next);--this.m_bodyCount}};K.prototype.CreateJoint=function(y){var F=T.Create(y,null);F.m_prev=null;if(F.m_next=this.m_jointList)this.m_jointList.m_prev=F;this.m_jointList=F;++this.m_jointCount;F.m_edgeA.joint=F;F.m_edgeA.other=F.m_bodyB;F.m_edgeA.prev=null;if(F.m_edgeA.next=F.m_bodyA.m_jointList)F.m_bodyA.m_jointList.prev=
F.m_edgeA;F.m_bodyA.m_jointList=F.m_edgeA;F.m_edgeB.joint=F;F.m_edgeB.other=F.m_bodyA;F.m_edgeB.prev=null;if(F.m_edgeB.next=F.m_bodyB.m_jointList)F.m_bodyB.m_jointList.prev=F.m_edgeB;F.m_bodyB.m_jointList=F.m_edgeB;var R=y.bodyA,q=y.bodyB;if(0==y.collideConnected)for(y=q.GetContactList();y;)y.other==R&&y.contact.FlagForFiltering(),y=y.next;return F};K.prototype.DestroyJoint=function(y){var F=y.m_collideConnected;y.m_prev&&(y.m_prev.m_next=y.m_next);y.m_next&&(y.m_next.m_prev=y.m_prev);y==this.m_jointList&&
(this.m_jointList=y.m_next);var R=y.m_bodyA,q=y.m_bodyB;R.SetAwake(!0);q.SetAwake(!0);y.m_edgeA.prev&&(y.m_edgeA.prev.next=y.m_edgeA.next);y.m_edgeA.next&&(y.m_edgeA.next.prev=y.m_edgeA.prev);y.m_edgeA==R.m_jointList&&(R.m_jointList=y.m_edgeA.next);y.m_edgeA.prev=null;y.m_edgeA.next=null;y.m_edgeB.prev&&(y.m_edgeB.prev.next=y.m_edgeB.next);y.m_edgeB.next&&(y.m_edgeB.next.prev=y.m_edgeB.prev);y.m_edgeB==q.m_jointList&&(q.m_jointList=y.m_edgeB.next);y.m_edgeB.prev=null;y.m_edgeB.next=null;T.Destroy(y,
null);--this.m_jointCount;if(0==F)for(y=q.GetContactList();y;)y.other==R&&y.contact.FlagForFiltering(),y=y.next};K.prototype.AddController=function(y){y.m_next=this.m_controllerList;y.m_prev=null;this.m_controllerList=y;y.m_world=this;this.m_controllerCount++;return y};K.prototype.RemoveController=function(y){y.m_prev&&(y.m_prev.m_next=y.m_next);y.m_next&&(y.m_next.m_prev=y.m_prev);this.m_controllerList==y&&(this.m_controllerList=y.m_next);this.m_controllerCount--};K.prototype.CreateController=function(y){if(y.m_world!=
this)throw Error("Controller can only be a member of one world");y.m_next=this.m_controllerList;y.m_prev=null;this.m_controllerList&&(this.m_controllerList.m_prev=y);this.m_controllerList=y;++this.m_controllerCount;y.m_world=this;return y};K.prototype.DestroyController=function(y){y.Clear();y.m_next&&(y.m_next.m_prev=y.m_prev);y.m_prev&&(y.m_prev.m_next=y.m_next);y==this.m_controllerList&&(this.m_controllerList=y.m_next);--this.m_controllerCount};K.prototype.SetWarmStarting=function(y){K.m_warmStarting=
y};K.prototype.SetContinuousPhysics=function(y){K.m_continuousPhysics=y};K.prototype.GetBodyCount=function(){return this.m_bodyCount};K.prototype.GetJointCount=function(){return this.m_jointCount};K.prototype.GetContactCount=function(){return this.m_contactCount};K.prototype.SetGravity=function(y){this.m_gravity=y};K.prototype.GetGravity=function(){return this.m_gravity};K.prototype.GetGroundBody=function(){return this.m_groundBody};K.prototype.Step=function(y,F,R){void 0===y&&(y=0);void 0===F&&(F=
0);void 0===R&&(R=0);this.m_flags&K.e_newFixture&&(this.m_contactManager.FindNewContacts(),this.m_flags&=~K.e_newFixture);this.m_flags|=K.e_locked;var q=K.s_timestep2;q.dt=y;q.velocityIterations=F;q.positionIterations=R;q.inv_dt=0<y?1/y:0;q.dtRatio=this.m_inv_dt0*y;q.warmStarting=K.m_warmStarting;this.m_contactManager.Collide();0<q.dt&&this.Solve(q);K.m_continuousPhysics&&0<q.dt&&this.SolveTOI(q);0<q.dt&&(this.m_inv_dt0=q.inv_dt);this.m_flags&=~K.e_locked};K.prototype.ClearForces=function(){for(var y=
this.m_bodyList;y;y=y.m_next)y.m_force.SetZero(),y.m_torque=0};K.prototype.DrawDebugData=function(){if(null!=this.m_debugDraw){this.m_debugDraw.m_sprite.graphics.clear();var y=this.m_debugDraw.GetFlags(),F,R;new d;new d;new d;new h;new h;new d;new d;new d;new d;var q=new e(0,0,0);if(y&N.e_shapeBit)for(F=this.m_bodyList;F;F=F.m_next){var v=F.m_xf;for(R=F.GetFixtureList();R;R=R.m_next){var u=R.GetShape();0==F.IsActive()?q.Set(.5,.5,.3):F.GetType()==r.b2_staticBody?q.Set(.5,.9,.5):F.GetType()==r.b2_kinematicBody?
q.Set(.5,.5,.9):0==F.IsAwake()?q.Set(.6,.6,.6):q.Set(.9,.7,.7);this.DrawShape(u,v,q)}}if(y&N.e_jointBit)for(F=this.m_jointList;F;F=F.m_next)this.DrawJoint(F);if(y&N.e_controllerBit)for(F=this.m_controllerList;F;F=F.m_next)F.Draw(this.m_debugDraw);if(y&N.e_pairBit)for(q.Set(.3,.9,.9),F=this.m_contactManager.m_contactList;F;F=F.GetNext())u=F.GetFixtureA(),R=F.GetFixtureB(),u=u.GetAABB().GetCenter(),R=R.GetAABB().GetCenter(),this.m_debugDraw.DrawSegment(u,R,q);if(y&N.e_aabbBit)for(u=this.m_contactManager.m_broadPhase,
v=[new d,new d,new d,new d],F=this.m_bodyList;F;F=F.GetNext())if(0!=F.IsActive())for(R=F.GetFixtureList();R;R=R.GetNext()){var D=u.GetFatAABB(R.m_proxy);v[0].Set(D.lowerBound.x,D.lowerBound.y);v[1].Set(D.upperBound.x,D.lowerBound.y);v[2].Set(D.upperBound.x,D.upperBound.y);v[3].Set(D.lowerBound.x,D.upperBound.y);this.m_debugDraw.DrawPolygon(v,4,q)}if(y&N.e_centerOfMassBit)for(F=this.m_bodyList;F;F=F.m_next)v=K.s_xf,v.R=F.m_xf.R,v.position=F.GetWorldCenter(),this.m_debugDraw.DrawTransform(v)}};K.prototype.QueryAABB=
function(y,F){var R=this.m_contactManager.m_broadPhase;R.Query(function(q){return y(R.GetUserData(q))},F)};K.prototype.QueryShape=function(y,F,R){void 0===R&&(R=null);null==R&&(R=new c,R.SetIdentity());var q=this.m_contactManager.m_broadPhase,v=new h;F.ComputeAABB(v,R);q.Query(function(u){u=q.GetUserData(u)instanceof J?q.GetUserData(u):null;return A.TestOverlap(F,R,u.GetShape(),u.GetBody().GetTransform())?y(u):!0},v)};K.prototype.QueryPoint=function(y,F){var R=this.m_contactManager.m_broadPhase,q=
new h;q.lowerBound.Set(F.x-g.b2_linearSlop,F.y-g.b2_linearSlop);q.upperBound.Set(F.x+g.b2_linearSlop,F.y+g.b2_linearSlop);R.Query(function(v){v=R.GetUserData(v)instanceof J?R.GetUserData(v):null;return v.TestPoint(F)?y(v):!0},q)};K.prototype.RayCast=function(y,F,R){var q=this.m_contactManager.m_broadPhase,v=new n,u=new m(F,R);q.RayCast(function(D,I){I=q.GetUserData(I);I=I instanceof J?I:null;if(I.RayCast(v,D)){D=v.fraction;var S=new d((1-D)*F.x+D*R.x,(1-D)*F.y+D*R.y);return y(I,S,v.normal,D)}return D.maxFraction},
u)};K.prototype.RayCastOne=function(y,F){var R;this.RayCast(function(q,v,u,D){void 0===D&&(D=0);R=q;return D},y,F);return R};K.prototype.RayCastAll=function(y,F){var R=new Vector$$module$js$box2d$Box2D;this.RayCast(function(q,v,u,D){R[R.length]=q;return 1},y,F);return R};K.prototype.GetBodyList=function(){return this.m_bodyList};K.prototype.GetJointList=function(){return this.m_jointList};K.prototype.GetContactList=function(){return this.m_contactList};K.prototype.IsLocked=function(){return 0<(this.m_flags&
K.e_locked)};K.prototype.Solve=function(y){for(var F,R=this.m_controllerList;R;R=R.m_next)R.Step(y);R=this.m_island;R.Initialize(this.m_bodyCount,this.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener,this.m_contactSolver);for(F=this.m_bodyList;F;F=F.m_next)F.m_flags&=~r.e_islandFlag;for(var q=this.m_contactList;q;q=q.m_next)q.m_flags&=~Q.e_islandFlag;for(q=this.m_jointList;q;q=q.m_next)q.m_islandFlag=!1;q=this.s_stack;for(var v=this.m_bodyList;v;v=v.m_next)if(!(v.m_flags&
r.e_islandFlag)&&0!=v.IsAwake()&&0!=v.IsActive()&&v.GetType()!=r.b2_staticBody){R.Clear();var u=0;q[u++]=v;for(v.m_flags|=r.e_islandFlag;0<u;)if(F=q[--u],R.AddBody(F),0==F.IsAwake()&&F.SetAwake(!0),F.GetType()!=r.b2_staticBody){for(var D,I=F.m_contactList;I;I=I.next)I.contact.m_flags&Q.e_islandFlag||1==I.contact.IsSensor()||0==I.contact.IsEnabled()||0==I.contact.IsTouching()||(R.AddContact(I.contact),I.contact.m_flags|=Q.e_islandFlag,D=I.other,D.m_flags&r.e_islandFlag||(q[u++]=D,D.m_flags|=r.e_islandFlag));
for(F=F.m_jointList;F;F=F.next)1!=F.joint.m_islandFlag&&(D=F.other,0!=D.IsActive()&&(R.AddJoint(F.joint),F.joint.m_islandFlag=!0,D.m_flags&r.e_islandFlag||(q[u++]=D,D.m_flags|=r.e_islandFlag)))}R.Solve(y,this.m_gravity,this.m_allowSleep);for(u=0;u<R.m_bodyCount;++u)F=R.m_bodies[u],F.GetType()==r.b2_staticBody&&(F.m_flags&=~r.e_islandFlag)}for(u=0;u<q.length&&q[u];++u)q[u]=null;for(F=this.m_bodyList;F;F=F.m_next)0!=F.IsAwake()&&0!=F.IsActive()&&F.GetType()!=r.b2_staticBody&&F.SynchronizeFixtures();
this.m_contactManager.FindNewContacts()};K.prototype.SolveTOI=function(y){var F,R,q=this.m_island;q.Initialize(this.m_bodyCount,g.b2_maxTOIContactsPerIsland,g.b2_maxTOIJointsPerIsland,null,this.m_contactManager.m_contactListener,this.m_contactSolver);var v=K.s_queue;for(F=this.m_bodyList;F;F=F.m_next)F.m_flags&=~r.e_islandFlag,F.m_sweep.t0=0;for(R=this.m_contactList;R;R=R.m_next)R.m_flags&=~(Q.e_toiFlag|Q.e_islandFlag);for(R=this.m_jointList;R;R=R.m_next)R.m_islandFlag=!1;for(;;){var u=null,D=1;for(R=
this.m_contactList;R;R=R.m_next)if(1!=R.IsSensor()&&0!=R.IsEnabled()&&0!=R.IsContinuous()){if(R.m_flags&Q.e_toiFlag)F=R.m_toi;else{F=R.m_fixtureA;var I=R.m_fixtureB;F=F.m_body;I=I.m_body;if(!(F.GetType()==r.b2_dynamicBody&&0!=F.IsAwake()||I.GetType()==r.b2_dynamicBody&&0!=I.IsAwake()))continue;var S=F.m_sweep.t0;F.m_sweep.t0<I.m_sweep.t0?(S=I.m_sweep.t0,F.m_sweep.Advance(S)):I.m_sweep.t0<F.m_sweep.t0&&(S=F.m_sweep.t0,I.m_sweep.Advance(S));F=R.ComputeTOI(F.m_sweep,I.m_sweep);g.b2Assert(0<=F&&1>=F);
0<F&&1>F&&(F=(1-F)*S+F,1<F&&(F=1));R.m_toi=F;R.m_flags|=Q.e_toiFlag}Number.MIN_VALUE<F&&F<D&&(u=R,D=F)}if(null==u||1-100*Number.MIN_VALUE<D)break;F=u.m_fixtureA;I=u.m_fixtureB;F=F.m_body;I=I.m_body;K.s_backupA.Set(F.m_sweep);K.s_backupB.Set(I.m_sweep);F.Advance(D);I.Advance(D);u.Update(this.m_contactManager.m_contactListener);u.m_flags&=~Q.e_toiFlag;if(1==u.IsSensor()||0==u.IsEnabled())F.m_sweep.Set(K.s_backupA),I.m_sweep.Set(K.s_backupB),F.SynchronizeTransform(),I.SynchronizeTransform();else if(0!=
u.IsTouching()){F.GetType()!=r.b2_dynamicBody&&(F=I);q.Clear();u=R=0;v[R+u++]=F;for(F.m_flags|=r.e_islandFlag;0<u;)if(F=v[R++],--u,q.AddBody(F),0==F.IsAwake()&&F.SetAwake(!0),F.GetType()==r.b2_dynamicBody){for(I=F.m_contactList;I&&q.m_contactCount!=q.m_contactCapacity;I=I.next)I.contact.m_flags&Q.e_islandFlag||1==I.contact.IsSensor()||0==I.contact.IsEnabled()||0==I.contact.IsTouching()||(q.AddContact(I.contact),I.contact.m_flags|=Q.e_islandFlag,S=I.other,S.m_flags&r.e_islandFlag||(S.GetType()!=r.b2_staticBody&&
(S.Advance(D),S.SetAwake(!0)),v[R+u]=S,++u,S.m_flags|=r.e_islandFlag));for(F=F.m_jointList;F;F=F.next)q.m_jointCount!=q.m_jointCapacity&&1!=F.joint.m_islandFlag&&(S=F.other,0!=S.IsActive()&&(q.AddJoint(F.joint),F.joint.m_islandFlag=!0,S.m_flags&r.e_islandFlag||(S.GetType()!=r.b2_staticBody&&(S.Advance(D),S.SetAwake(!0)),v[R+u]=S,++u,S.m_flags|=r.e_islandFlag)))}R=K.s_timestep;R.warmStarting=!1;R.dt=(1-D)*y.dt;R.inv_dt=1/R.dt;R.dtRatio=0;R.velocityIterations=y.velocityIterations;R.positionIterations=
y.positionIterations;q.SolveTOI(R);for(D=0;D<q.m_bodyCount;++D)if(F=q.m_bodies[D],F.m_flags&=~r.e_islandFlag,0!=F.IsAwake()&&F.GetType()==r.b2_dynamicBody)for(F.SynchronizeFixtures(),I=F.m_contactList;I;I=I.next)I.contact.m_flags&=~Q.e_toiFlag;for(D=0;D<q.m_contactCount;++D)R=q.m_contacts[D],R.m_flags&=~(Q.e_toiFlag|Q.e_islandFlag);for(D=0;D<q.m_jointCount;++D)R=q.m_joints[D],R.m_islandFlag=!1;this.m_contactManager.FindNewContacts()}}};K.prototype.DrawJoint=function(y){var F=y.GetBodyA(),R=y.GetBodyB(),
q=F.m_xf.position,v=R.m_xf.position,u=y.GetAnchorA(),D=y.GetAnchorB(),I=K.s_jointColor;switch(y.m_type){case T.e_distanceJoint:this.m_debugDraw.DrawSegment(u,D,I);break;case T.e_pulleyJoint:F=y instanceof X?y:null;y=F.GetGroundAnchorA();F=F.GetGroundAnchorB();this.m_debugDraw.DrawSegment(y,u,I);this.m_debugDraw.DrawSegment(F,D,I);this.m_debugDraw.DrawSegment(y,F,I);break;case T.e_mouseJoint:this.m_debugDraw.DrawSegment(u,D,I);break;default:F!=this.m_groundBody&&this.m_debugDraw.DrawSegment(q,u,I),
this.m_debugDraw.DrawSegment(u,D,I),R!=this.m_groundBody&&this.m_debugDraw.DrawSegment(v,D,I)}};K.prototype.DrawShape=function(y,F,R){switch(y.m_type){case A.e_circleShape:y=y instanceof p?y:null;var q=a.MulX(F,y.m_p);this.m_debugDraw.DrawSolidCircle(q,y.m_radius,F.R.col1,R);break;case A.e_polygonShape:q=y instanceof x?y:null;y=q.GetVertexCount();var v=q.GetVertices(),u=new Vector$$module$js$box2d$Box2D(y);for(q=0;q<y;++q)u[q]=a.MulX(F,v[q]);this.m_debugDraw.DrawSolidPolygon(u,y,R);break;case A.e_edgeShape:y=
y instanceof t?y:null,this.m_debugDraw.DrawSegment(a.MulX(F,y.GetVertex1()),a.MulX(F,y.GetVertex2()),R)}};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Dynamics.b2World.s_timestep2=new z;Box2D$$module$js$box2d$Box2D.Dynamics.b2World.s_xf=new c;Box2D$$module$js$box2d$Box2D.Dynamics.b2World.s_backupA=new b;Box2D$$module$js$box2d$Box2D.Dynamics.b2World.s_backupB=new b;Box2D$$module$js$box2d$Box2D.Dynamics.b2World.s_timestep=new z;Box2D$$module$js$box2d$Box2D.Dynamics.b2World.s_queue=
new Vector$$module$js$box2d$Box2D;Box2D$$module$js$box2d$Box2D.Dynamics.b2World.s_jointColor=new e(.5,.8,.8);Box2D$$module$js$box2d$Box2D.Dynamics.b2World.e_newFixture=1;Box2D$$module$js$box2d$Box2D.Dynamics.b2World.e_locked=2})})();
(function(){var a=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2CircleShape,b=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2EdgeShape,c=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2PolygonShape,d=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2Shape,e=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2CircleContact,g=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact,h=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2ContactConstraint,k=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2ContactConstraintPoint,
l=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2ContactEdge,m=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2ContactFactory,n=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2ContactRegister,p=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2ContactResult,t=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2ContactSolver,w=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2EdgeAndCircleContact,x=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2NullContact,A=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2PolyAndCircleContact,
r=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2PolyAndEdgeContact,E=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2PolygonContact,B=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2PositionSolverManifold,G=Box2D$$module$js$box2d$Box2D.Dynamics.b2Body,H=Box2D$$module$js$box2d$Box2D.Dynamics.b2TimeStep,O=Box2D$$module$js$box2d$Box2D.Common.b2Settings,N=Box2D$$module$js$box2d$Box2D.Common.Math.b2Mat22,U=Box2D$$module$js$box2d$Box2D.Common.Math.b2Math,W=Box2D$$module$js$box2d$Box2D.Common.Math.b2Vec2,
J=Box2D$$module$js$box2d$Box2D.Collision.b2Collision,aa=Box2D$$module$js$box2d$Box2D.Collision.b2ContactID,ba=Box2D$$module$js$box2d$Box2D.Collision.b2Manifold,z=Box2D$$module$js$box2d$Box2D.Collision.b2TimeOfImpact,K=Box2D$$module$js$box2d$Box2D.Collision.b2TOIInput,Q=Box2D$$module$js$box2d$Box2D.Collision.b2WorldManifold;Box2D$$module$js$box2d$Box2D.inherit(e,Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact);e.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.prototype;
e.b2CircleContact=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};e.Create=function(M){return new e};e.Destroy=function(M,L){};e.prototype.Reset=function(M,L){this.__super.Reset.call(this,M,L)};e.prototype.Evaluate=function(){var M=this.m_fixtureA.GetBody(),L=this.m_fixtureB.GetBody();J.CollideCircles(this.m_manifold,this.m_fixtureA.GetShape()instanceof a?this.m_fixtureA.GetShape():null,M.m_xf,this.m_fixtureB.GetShape()instanceof a?this.m_fixtureB.GetShape():
null,L.m_xf)};g.b2Contact=function(){this.m_nodeA=new l;this.m_nodeB=new l;this.m_manifold=new ba;this.m_oldManifold=new ba};g.prototype.GetManifold=function(){return this.m_manifold};g.prototype.GetWorldManifold=function(M){var L=this.m_fixtureA.GetBody(),T=this.m_fixtureB.GetBody(),X=this.m_fixtureA.GetShape(),y=this.m_fixtureB.GetShape();M.Initialize(this.m_manifold,L.GetTransform(),X.m_radius,T.GetTransform(),y.m_radius)};g.prototype.IsTouching=function(){return(this.m_flags&g.e_touchingFlag)==
g.e_touchingFlag};g.prototype.IsContinuous=function(){return(this.m_flags&g.e_continuousFlag)==g.e_continuousFlag};g.prototype.SetSensor=function(M){this.m_flags=M?this.m_flags|g.e_sensorFlag:this.m_flags&~g.e_sensorFlag};g.prototype.IsSensor=function(){return(this.m_flags&g.e_sensorFlag)==g.e_sensorFlag};g.prototype.SetEnabled=function(M){this.m_flags=M?this.m_flags|g.e_enabledFlag:this.m_flags&~g.e_enabledFlag};g.prototype.IsEnabled=function(){return(this.m_flags&g.e_enabledFlag)==g.e_enabledFlag};
g.prototype.GetNext=function(){return this.m_next};g.prototype.GetFixtureA=function(){return this.m_fixtureA};g.prototype.GetFixtureB=function(){return this.m_fixtureB};g.prototype.FlagForFiltering=function(){this.m_flags|=g.e_filterFlag};g.prototype.b2Contact=function(){};g.prototype.Reset=function(M,L){void 0===M&&(M=null);void 0===L&&(L=null);this.m_flags=g.e_enabledFlag;if(M&&L){if(M.IsSensor()||L.IsSensor())this.m_flags|=g.e_sensorFlag;var T=M.GetBody(),X=L.GetBody();if(T.GetType()!=G.b2_dynamicBody||
T.IsBullet()||X.GetType()!=G.b2_dynamicBody||X.IsBullet())this.m_flags|=g.e_continuousFlag;this.m_fixtureA=M;this.m_fixtureB=L;this.m_manifold.m_pointCount=0;this.m_next=this.m_prev=null;this.m_nodeA.contact=null;this.m_nodeA.prev=null;this.m_nodeA.next=null;this.m_nodeA.other=null;this.m_nodeB.contact=null;this.m_nodeB.prev=null;this.m_nodeB.next=null;this.m_nodeB.other=null}else this.m_fixtureB=this.m_fixtureA=null};g.prototype.Update=function(M){var L=this.m_oldManifold;this.m_oldManifold=this.m_manifold;
this.m_manifold=L;this.m_flags|=g.e_enabledFlag;var T=!1;L=(this.m_flags&g.e_touchingFlag)==g.e_touchingFlag;var X=this.m_fixtureA.m_body,y=this.m_fixtureB.m_body,F=this.m_fixtureA.m_aabb.TestOverlap(this.m_fixtureB.m_aabb);if(this.m_flags&g.e_sensorFlag)F&&(T=this.m_fixtureA.GetShape(),F=this.m_fixtureB.GetShape(),X=X.GetTransform(),y=y.GetTransform(),T=d.TestOverlap(T,X,F,y)),this.m_manifold.m_pointCount=0;else{X.GetType()!=G.b2_dynamicBody||X.IsBullet()||y.GetType()!=G.b2_dynamicBody||y.IsBullet()?
this.m_flags|=g.e_continuousFlag:this.m_flags&=~g.e_continuousFlag;if(F)for(this.Evaluate(),T=0<this.m_manifold.m_pointCount,F=0;F<this.m_manifold.m_pointCount;++F){var R=this.m_manifold.m_points[F];R.m_normalImpulse=0;R.m_tangentImpulse=0;for(var q=R.m_id,v=0;v<this.m_oldManifold.m_pointCount;++v){var u=this.m_oldManifold.m_points[v];if(u.m_id.key==q.key){R.m_normalImpulse=u.m_normalImpulse;R.m_tangentImpulse=u.m_tangentImpulse;break}}}else this.m_manifold.m_pointCount=0;T!=L&&(X.SetAwake(!0),y.SetAwake(!0))}this.m_flags=
T?this.m_flags|g.e_touchingFlag:this.m_flags&~g.e_touchingFlag;0==L&&1==T&&M.BeginContact(this);1==L&&0==T&&M.EndContact(this);0==(this.m_flags&g.e_sensorFlag)&&M.PreSolve(this,this.m_oldManifold)};g.prototype.Evaluate=function(){};g.prototype.ComputeTOI=function(M,L){g.s_input.proxyA.Set(this.m_fixtureA.GetShape());g.s_input.proxyB.Set(this.m_fixtureB.GetShape());g.s_input.sweepA=M;g.s_input.sweepB=L;g.s_input.tolerance=O.b2_linearSlop;return z.TimeOfImpact(g.s_input)};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.e_sensorFlag=
1;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.e_continuousFlag=2;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.e_islandFlag=4;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.e_toiFlag=8;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.e_touchingFlag=16;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.e_enabledFlag=32;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.e_filterFlag=64;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.s_input=
new K});h.b2ContactConstraint=function(){this.localPlaneNormal=new W;this.localPoint=new W;this.normal=new W;this.normalMass=new N;this.K=new N};h.prototype.b2ContactConstraint=function(){this.points=new Vector$$module$js$box2d$Box2D(O.b2_maxManifoldPoints);for(var M=0;M<O.b2_maxManifoldPoints;M++)this.points[M]=new k};k.b2ContactConstraintPoint=function(){this.localPoint=new W;this.rA=new W;this.rB=new W};l.b2ContactEdge=function(){};m.b2ContactFactory=function(){};m.prototype.b2ContactFactory=function(M){this.m_allocator=
M;this.InitializeRegisters()};m.prototype.AddType=function(M,L,T,X){void 0===T&&(T=0);void 0===X&&(X=0);this.m_registers[T][X].createFcn=M;this.m_registers[T][X].destroyFcn=L;this.m_registers[T][X].primary=!0;T!=X&&(this.m_registers[X][T].createFcn=M,this.m_registers[X][T].destroyFcn=L,this.m_registers[X][T].primary=!1)};m.prototype.InitializeRegisters=function(){this.m_registers=new Vector$$module$js$box2d$Box2D(d.e_shapeTypeCount);for(var M=0;M<d.e_shapeTypeCount;M++){this.m_registers[M]=new Vector$$module$js$box2d$Box2D(d.e_shapeTypeCount);
for(var L=0;L<d.e_shapeTypeCount;L++)this.m_registers[M][L]=new n}this.AddType(e.Create,e.Destroy,d.e_circleShape,d.e_circleShape);this.AddType(A.Create,A.Destroy,d.e_polygonShape,d.e_circleShape);this.AddType(E.Create,E.Destroy,d.e_polygonShape,d.e_polygonShape);this.AddType(w.Create,w.Destroy,d.e_edgeShape,d.e_circleShape);this.AddType(r.Create,r.Destroy,d.e_polygonShape,d.e_edgeShape)};m.prototype.Create=function(M,L){var T=M.GetType(),X=L.GetType();T=this.m_registers[T][X];if(T.pool)return X=
T.pool,T.pool=X.m_next,T.poolCount--,X.Reset(M,L),X;X=T.createFcn;return null!=X?(T.primary?(X=X(this.m_allocator),X.Reset(M,L)):(X=X(this.m_allocator),X.Reset(L,M)),X):null};m.prototype.Destroy=function(M){0<M.m_manifold.m_pointCount&&(M.m_fixtureA.m_body.SetAwake(!0),M.m_fixtureB.m_body.SetAwake(!0));var L=M.m_fixtureA.GetType(),T=M.m_fixtureB.GetType();L=this.m_registers[L][T];L.poolCount++;M.m_next=L.pool;L.pool=M;L=L.destroyFcn;L(M,this.m_allocator)};n.b2ContactRegister=function(){};p.b2ContactResult=
function(){this.position=new W;this.normal=new W;this.id=new aa};t.b2ContactSolver=function(){this.m_step=new H;this.m_constraints=new Vector$$module$js$box2d$Box2D};t.prototype.b2ContactSolver=function(){};t.prototype.Initialize=function(M,L,T,X){void 0===T&&(T=0);this.m_step.Set(M);this.m_allocator=X;for(this.m_constraintCount=T;this.m_constraints.length<this.m_constraintCount;)this.m_constraints[this.m_constraints.length]=new h;for(M=0;M<T;++M){var y=L[M];X=y.m_fixtureA;var F=y.m_fixtureB,R=X.m_shape.m_radius,
q=F.m_shape.m_radius,v=X.m_body,u=F.m_body,D=y.GetManifold(),I=O.b2MixFriction(X.GetFriction(),F.GetFriction()),S=O.b2MixRestitution(X.GetRestitution(),F.GetRestitution()),P=v.m_linearVelocity.x,Y=v.m_linearVelocity.y,Z=u.m_linearVelocity.x,ea=u.m_linearVelocity.y,ja=v.m_angularVelocity,ha=u.m_angularVelocity;O.b2Assert(0<D.m_pointCount);t.s_worldManifold.Initialize(D,v.m_xf,R,u.m_xf,q);F=t.s_worldManifold.m_normal.x;y=t.s_worldManifold.m_normal.y;X=this.m_constraints[M];X.bodyA=v;X.bodyB=u;X.manifold=
D;X.normal.x=F;X.normal.y=y;X.pointCount=D.m_pointCount;X.friction=I;X.restitution=S;X.localPlaneNormal.x=D.m_localPlaneNormal.x;X.localPlaneNormal.y=D.m_localPlaneNormal.y;X.localPoint.x=D.m_localPoint.x;X.localPoint.y=D.m_localPoint.y;X.radius=R+q;X.type=D.m_type;for(R=0;R<X.pointCount;++R){I=D.m_points[R];q=X.points[R];q.normalImpulse=I.m_normalImpulse;q.tangentImpulse=I.m_tangentImpulse;q.localPoint.SetV(I.m_localPoint);I=q.rA.x=t.s_worldManifold.m_points[R].x-v.m_sweep.c.x;S=q.rA.y=t.s_worldManifold.m_points[R].y-
v.m_sweep.c.y;var ka=q.rB.x=t.s_worldManifold.m_points[R].x-u.m_sweep.c.x,oa=q.rB.y=t.s_worldManifold.m_points[R].y-u.m_sweep.c.y,fa=I*y-S*F,na=ka*y-oa*F;fa*=fa;na*=na;q.normalMass=1/(v.m_invMass+u.m_invMass+v.m_invI*fa+u.m_invI*na);var ta=v.m_mass*v.m_invMass+u.m_mass*u.m_invMass;ta+=v.m_mass*v.m_invI*fa+u.m_mass*u.m_invI*na;q.equalizedMass=1/ta;na=y;ta=-F;fa=I*ta-S*na;na=ka*ta-oa*na;fa*=fa;na*=na;q.tangentMass=1/(v.m_invMass+u.m_invMass+v.m_invI*fa+u.m_invI*na);q.velocityBias=0;I=X.normal.x*(Z+
-ha*oa-P- -ja*S)+X.normal.y*(ea+ha*ka-Y-ja*I);I<-O.b2_velocityThreshold&&(q.velocityBias+=-X.restitution*I)}2==X.pointCount&&(ea=X.points[0],Z=X.points[1],D=v.m_invMass,v=v.m_invI,P=u.m_invMass,u=u.m_invI,Y=ea.rA.x*y-ea.rA.y*F,ea=ea.rB.x*y-ea.rB.y*F,ja=Z.rA.x*y-Z.rA.y*F,Z=Z.rB.x*y-Z.rB.y*F,F=D+P+v*Y*Y+u*ea*ea,y=D+P+v*ja*ja+u*Z*Z,u=D+P+v*Y*ja+u*ea*Z,F*F<100*(F*y-u*u)?(X.K.col1.Set(F,u),X.K.col2.Set(u,y),X.K.GetInverse(X.normalMass)):X.pointCount=1)}};t.prototype.InitVelocityConstraints=function(M){for(var L=
0;L<this.m_constraintCount;++L){var T=this.m_constraints[L],X=T.bodyA,y=T.bodyB,F=X.m_invMass,R=X.m_invI,q=y.m_invMass,v=y.m_invI,u=T.normal.x,D=T.normal.y,I=D,S=-u,P;if(M.warmStarting){var Y=T.pointCount;for(P=0;P<Y;++P){var Z=T.points[P];Z.normalImpulse*=M.dtRatio;Z.tangentImpulse*=M.dtRatio;var ea=Z.normalImpulse*u+Z.tangentImpulse*I,ja=Z.normalImpulse*D+Z.tangentImpulse*S;X.m_angularVelocity-=R*(Z.rA.x*ja-Z.rA.y*ea);X.m_linearVelocity.x-=F*ea;X.m_linearVelocity.y-=F*ja;y.m_angularVelocity+=v*
(Z.rB.x*ja-Z.rB.y*ea);y.m_linearVelocity.x+=q*ea;y.m_linearVelocity.y+=q*ja}}else for(Y=T.pointCount,P=0;P<Y;++P)X=T.points[P],X.normalImpulse=0,X.tangentImpulse=0}};t.prototype.SolveVelocityConstraints=function(){for(var M,L,T,X,y,F,R,q,v,u,D=0;D<this.m_constraintCount;++D){y=this.m_constraints[D];var I=y.bodyA,S=y.bodyB,P=I.m_angularVelocity,Y=S.m_angularVelocity,Z=I.m_linearVelocity,ea=S.m_linearVelocity,ja=I.m_invMass,ha=I.m_invI,ka=S.m_invMass,oa=S.m_invI;q=y.normal.x;var fa=v=y.normal.y;u=-q;
R=y.friction;for(M=0;M<y.pointCount;M++)L=y.points[M],T=ea.x-Y*L.rB.y-Z.x+P*L.rA.y,X=ea.y+Y*L.rB.x-Z.y-P*L.rA.x,T=T*fa+X*u,T=L.tangentMass*-T,X=R*L.normalImpulse,X=U.Clamp(L.tangentImpulse+T,-X,X),T=X-L.tangentImpulse,F=T*fa,T*=u,Z.x-=ja*F,Z.y-=ja*T,P-=ha*(L.rA.x*T-L.rA.y*F),ea.x+=ka*F,ea.y+=ka*T,Y+=oa*(L.rB.x*T-L.rB.y*F),L.tangentImpulse=X;if(1==y.pointCount)L=y.points[0],T=ea.x+-Y*L.rB.y-Z.x- -P*L.rA.y,X=ea.y+Y*L.rB.x-Z.y-P*L.rA.x,y=T*q+X*v,T=-L.normalMass*(y-L.velocityBias),X=L.normalImpulse+T,
X=0<X?X:0,T=X-L.normalImpulse,F=T*q,T*=v,Z.x-=ja*F,Z.y-=ja*T,P-=ha*(L.rA.x*T-L.rA.y*F),ea.x+=ka*F,ea.y+=ka*T,Y+=oa*(L.rB.x*T-L.rB.y*F),L.normalImpulse=X;else{L=y.points[0];M=y.points[1];T=L.normalImpulse;R=M.normalImpulse;var na=(ea.x-Y*L.rB.y-Z.x+P*L.rA.y)*q+(ea.y+Y*L.rB.x-Z.y-P*L.rA.x)*v,ta=(ea.x-Y*M.rB.y-Z.x+P*M.rA.y)*q+(ea.y+Y*M.rB.x-Z.y-P*M.rA.x)*v;X=na-L.velocityBias;F=ta-M.velocityBias;u=y.K;X-=u.col1.x*T+u.col2.x*R;for(F-=u.col1.y*T+u.col2.y*R;;){u=y.normalMass;fa=-(u.col1.x*X+u.col2.x*F);
u=-(u.col1.y*X+u.col2.y*F);if(0<=fa&&0<=u){T=fa-T;R=u-R;y=T*q;T*=v;q*=R;v*=R;Z.x-=ja*(y+q);Z.y-=ja*(T+v);P-=ha*(L.rA.x*T-L.rA.y*y+M.rA.x*v-M.rA.y*q);ea.x+=ka*(y+q);ea.y+=ka*(T+v);Y+=oa*(L.rB.x*T-L.rB.y*y+M.rB.x*v-M.rB.y*q);L.normalImpulse=fa;M.normalImpulse=u;break}fa=-L.normalMass*X;u=0;ta=y.K.col1.y*fa+F;if(0<=fa&&0<=ta){T=fa-T;R=u-R;y=T*q;T*=v;q*=R;v*=R;Z.x-=ja*(y+q);Z.y-=ja*(T+v);P-=ha*(L.rA.x*T-L.rA.y*y+M.rA.x*v-M.rA.y*q);ea.x+=ka*(y+q);ea.y+=ka*(T+v);Y+=oa*(L.rB.x*T-L.rB.y*y+M.rB.x*v-M.rB.y*
q);L.normalImpulse=fa;M.normalImpulse=u;break}fa=0;u=-M.normalMass*F;na=y.K.col2.x*u+X;if(0<=u&&0<=na){T=fa-T;R=u-R;y=T*q;T*=v;q*=R;v*=R;Z.x-=ja*(y+q);Z.y-=ja*(T+v);P-=ha*(L.rA.x*T-L.rA.y*y+M.rA.x*v-M.rA.y*q);ea.x+=ka*(y+q);ea.y+=ka*(T+v);Y+=oa*(L.rB.x*T-L.rB.y*y+M.rB.x*v-M.rB.y*q);L.normalImpulse=fa;M.normalImpulse=u;break}u=fa=0;na=X;ta=F;if(0<=na&&0<=ta){T=fa-T;R=u-R;y=T*q;T*=v;q*=R;v*=R;Z.x-=ja*(y+q);Z.y-=ja*(T+v);P-=ha*(L.rA.x*T-L.rA.y*y+M.rA.x*v-M.rA.y*q);ea.x+=ka*(y+q);ea.y+=ka*(T+v);Y+=oa*
(L.rB.x*T-L.rB.y*y+M.rB.x*v-M.rB.y*q);L.normalImpulse=fa;M.normalImpulse=u;break}break}}I.m_angularVelocity=P;S.m_angularVelocity=Y}};t.prototype.FinalizeVelocityConstraints=function(){for(var M=0;M<this.m_constraintCount;++M)for(var L=this.m_constraints[M],T=L.manifold,X=0;X<L.pointCount;++X){var y=T.m_points[X],F=L.points[X];y.m_normalImpulse=F.normalImpulse;y.m_tangentImpulse=F.tangentImpulse}};t.prototype.SolvePositionConstraints=function(M){void 0===M&&(M=0);for(var L=0,T=0;T<this.m_constraintCount;T++){var X=
this.m_constraints[T],y=X.bodyA,F=X.bodyB,R=y.m_mass*y.m_invMass,q=y.m_mass*y.m_invI,v=F.m_mass*F.m_invMass,u=F.m_mass*F.m_invI;t.s_psm.Initialize(X);for(var D=t.s_psm.m_normal,I=0;I<X.pointCount;I++){var S=X.points[I],P=t.s_psm.m_points[I],Y=t.s_psm.m_separations[I],Z=P.x-y.m_sweep.c.x,ea=P.y-y.m_sweep.c.y,ja=P.x-F.m_sweep.c.x;P=P.y-F.m_sweep.c.y;L=L<Y?L:Y;Y=U.Clamp(M*(Y+O.b2_linearSlop),-O.b2_maxLinearCorrection,0);Y*=-S.equalizedMass;S=Y*D.x;Y*=D.y;y.m_sweep.c.x-=R*S;y.m_sweep.c.y-=R*Y;y.m_sweep.a-=
q*(Z*Y-ea*S);y.SynchronizeTransform();F.m_sweep.c.x+=v*S;F.m_sweep.c.y+=v*Y;F.m_sweep.a+=u*(ja*Y-P*S);F.SynchronizeTransform()}}return L>-1.5*O.b2_linearSlop};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2ContactSolver.s_worldManifold=new Q;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2ContactSolver.s_psm=new B});Box2D$$module$js$box2d$Box2D.inherit(w,Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact);w.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.prototype;
w.b2EdgeAndCircleContact=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};w.Create=function(M){return new w};w.Destroy=function(M,L){};w.prototype.Reset=function(M,L){this.__super.Reset.call(this,M,L)};w.prototype.Evaluate=function(){var M=this.m_fixtureA.GetBody(),L=this.m_fixtureB.GetBody();this.b2CollideEdgeAndCircle(this.m_manifold,this.m_fixtureA.GetShape()instanceof b?this.m_fixtureA.GetShape():null,M.m_xf,this.m_fixtureB.GetShape()instanceof
a?this.m_fixtureB.GetShape():null,L.m_xf)};w.prototype.b2CollideEdgeAndCircle=function(M,L,T,X,y){};Box2D$$module$js$box2d$Box2D.inherit(x,Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact);x.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.prototype;x.b2NullContact=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};x.prototype.b2NullContact=function(){this.__super.b2Contact.call(this)};x.prototype.Evaluate=function(){};
Box2D$$module$js$box2d$Box2D.inherit(A,Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact);A.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.prototype;A.b2PolyAndCircleContact=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};A.Create=function(M){return new A};A.Destroy=function(M,L){};A.prototype.Reset=function(M,L){this.__super.Reset.call(this,M,L);O.b2Assert(M.GetType()==d.e_polygonShape);O.b2Assert(L.GetType()==
d.e_circleShape)};A.prototype.Evaluate=function(){var M=this.m_fixtureA.m_body,L=this.m_fixtureB.m_body;J.CollidePolygonAndCircle(this.m_manifold,this.m_fixtureA.GetShape()instanceof c?this.m_fixtureA.GetShape():null,M.m_xf,this.m_fixtureB.GetShape()instanceof a?this.m_fixtureB.GetShape():null,L.m_xf)};Box2D$$module$js$box2d$Box2D.inherit(r,Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact);r.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.prototype;r.b2PolyAndEdgeContact=
function(){Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};r.Create=function(M){return new r};r.Destroy=function(M,L){};r.prototype.Reset=function(M,L){this.__super.Reset.call(this,M,L);O.b2Assert(M.GetType()==d.e_polygonShape);O.b2Assert(L.GetType()==d.e_edgeShape)};r.prototype.Evaluate=function(){var M=this.m_fixtureA.GetBody(),L=this.m_fixtureB.GetBody();this.b2CollidePolyAndEdge(this.m_manifold,this.m_fixtureA.GetShape()instanceof c?this.m_fixtureA.GetShape():
null,M.m_xf,this.m_fixtureB.GetShape()instanceof b?this.m_fixtureB.GetShape():null,L.m_xf)};r.prototype.b2CollidePolyAndEdge=function(M,L,T,X,y){};Box2D$$module$js$box2d$Box2D.inherit(E,Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact);E.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.prototype;E.b2PolygonContact=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};E.Create=function(M){return new E};E.Destroy=function(M,
L){};E.prototype.Reset=function(M,L){this.__super.Reset.call(this,M,L)};E.prototype.Evaluate=function(){var M=this.m_fixtureA.GetBody(),L=this.m_fixtureB.GetBody();J.CollidePolygons(this.m_manifold,this.m_fixtureA.GetShape()instanceof c?this.m_fixtureA.GetShape():null,M.m_xf,this.m_fixtureB.GetShape()instanceof c?this.m_fixtureB.GetShape():null,L.m_xf)};B.b2PositionSolverManifold=function(){};B.prototype.b2PositionSolverManifold=function(){this.m_normal=new W;this.m_separations=new Vector_a2j_Number$$module$js$box2d$Box2D(O.b2_maxManifoldPoints);
this.m_points=new Vector$$module$js$box2d$Box2D(O.b2_maxManifoldPoints);for(var M=0;M<O.b2_maxManifoldPoints;M++)this.m_points[M]=new W};B.prototype.Initialize=function(M){O.b2Assert(0<M.pointCount);switch(M.type){case ba.e_circles:var L=M.bodyA.m_xf.R;var T=M.localPoint;var X=M.bodyA.m_xf.position.x+(L.col1.x*T.x+L.col2.x*T.y);var y=M.bodyA.m_xf.position.y+(L.col1.y*T.x+L.col2.y*T.y);L=M.bodyB.m_xf.R;T=M.points[0].localPoint;var F=M.bodyB.m_xf.position.x+(L.col1.x*T.x+L.col2.x*T.y);L=M.bodyB.m_xf.position.y+
(L.col1.y*T.x+L.col2.y*T.y);T=F-X;var R=L-y;var q=T*T+R*R;q>Number.MIN_VALUE*Number.MIN_VALUE?(q=Math.sqrt(q),this.m_normal.x=T/q,this.m_normal.y=R/q):(this.m_normal.x=1,this.m_normal.y=0);this.m_points[0].x=.5*(X+F);this.m_points[0].y=.5*(y+L);this.m_separations[0]=T*this.m_normal.x+R*this.m_normal.y-M.radius;break;case ba.e_faceA:L=M.bodyA.m_xf.R;T=M.localPlaneNormal;this.m_normal.x=L.col1.x*T.x+L.col2.x*T.y;this.m_normal.y=L.col1.y*T.x+L.col2.y*T.y;L=M.bodyA.m_xf.R;T=M.localPoint;F=M.bodyA.m_xf.position.x+
(L.col1.x*T.x+L.col2.x*T.y);R=M.bodyA.m_xf.position.y+(L.col1.y*T.x+L.col2.y*T.y);L=M.bodyB.m_xf.R;for(X=0;X<M.pointCount;++X)T=M.points[X].localPoint,y=M.bodyB.m_xf.position.x+(L.col1.x*T.x+L.col2.x*T.y),T=M.bodyB.m_xf.position.y+(L.col1.y*T.x+L.col2.y*T.y),this.m_separations[X]=(y-F)*this.m_normal.x+(T-R)*this.m_normal.y-M.radius,this.m_points[X].x=y,this.m_points[X].y=T;break;case ba.e_faceB:L=M.bodyB.m_xf.R;T=M.localPlaneNormal;this.m_normal.x=L.col1.x*T.x+L.col2.x*T.y;this.m_normal.y=L.col1.y*
T.x+L.col2.y*T.y;L=M.bodyB.m_xf.R;T=M.localPoint;F=M.bodyB.m_xf.position.x+(L.col1.x*T.x+L.col2.x*T.y);R=M.bodyB.m_xf.position.y+(L.col1.y*T.x+L.col2.y*T.y);L=M.bodyA.m_xf.R;for(X=0;X<M.pointCount;++X)T=M.points[X].localPoint,y=M.bodyA.m_xf.position.x+(L.col1.x*T.x+L.col2.x*T.y),T=M.bodyA.m_xf.position.y+(L.col1.y*T.x+L.col2.y*T.y),this.m_separations[X]=(y-F)*this.m_normal.x+(T-R)*this.m_normal.y-M.radius,this.m_points[X].Set(y,T);this.m_normal.x*=-1;this.m_normal.y*=-1}};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2PositionSolverManifold.circlePointA=
new W;Box2D$$module$js$box2d$Box2D.Dynamics.Contacts.b2PositionSolverManifold.circlePointB=new W})})();
(function(){var a=Box2D$$module$js$box2d$Box2D.Common.Math.b2Mat22,b=Box2D$$module$js$box2d$Box2D.Common.Math.b2Math,c=Box2D$$module$js$box2d$Box2D.Common.Math.b2Vec2,d=Box2D$$module$js$box2d$Box2D.Common.b2Color,e=Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2BuoyancyController,g=Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2ConstantAccelController,h=Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2ConstantForceController,k=Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2Controller,
l=Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2ControllerEdge,m=Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2GravityController,n=Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2TensorDampingController;Box2D$$module$js$box2d$Box2D.inherit(e,Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2Controller);e.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2Controller.prototype;e.b2BuoyancyController=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,
arguments);this.normal=new c(0,-1);this.density=this.offset=0;this.velocity=new c(0,0);this.linearDrag=2;this.angularDrag=1;this.useDensity=!1;this.useWorldGravity=!0;this.gravity=null};e.prototype.Step=function(p){if(this.m_bodyList)for(this.useWorldGravity&&(this.gravity=this.GetWorld().GetGravity().Copy()),p=this.m_bodyList;p;p=p.nextBody){var t=p.body;if(0!=t.IsAwake()){for(var w=new c,x=new c,A=0,r=0,E=t.GetFixtureList();E;E=E.GetNext()){var B=new c,G=E.GetShape().ComputeSubmergedArea(this.normal,
this.offset,t.GetTransform(),B);A+=G;w.x+=G*B.x;w.y+=G*B.y;r+=1*G;x.x+=G*B.x;x.y+=G*B.y}w.x/=A;w.y/=A;x.x/=r;x.y/=r;A<Number.MIN_VALUE||(r=this.gravity.GetNegative(),r.Multiply(this.density*A),t.ApplyForce(r,x),x=t.GetLinearVelocityFromWorldPoint(w),x.Subtract(this.velocity),x.Multiply(-this.linearDrag*A),t.ApplyForce(x,w),t.ApplyTorque(-t.GetInertia()/t.GetMass()*A*t.GetAngularVelocity()*this.angularDrag))}}};e.prototype.Draw=function(p){var t=new c,w=new c;t.x=this.normal.x*this.offset+1E3*this.normal.y;
t.y=this.normal.y*this.offset-1E3*this.normal.x;w.x=this.normal.x*this.offset-1E3*this.normal.y;w.y=this.normal.y*this.offset+1E3*this.normal.x;var x=new d(0,0,1);p.DrawSegment(t,w,x)};Box2D$$module$js$box2d$Box2D.inherit(g,Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2Controller);g.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2Controller.prototype;g.b2ConstantAccelController=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,
arguments);this.A=new c(0,0)};g.prototype.Step=function(p){p=new c(this.A.x*p.dt,this.A.y*p.dt);for(var t=this.m_bodyList;t;t=t.nextBody){var w=t.body;w.IsAwake()&&w.SetLinearVelocity(new c(w.GetLinearVelocity().x+p.x,w.GetLinearVelocity().y+p.y))}};Box2D$$module$js$box2d$Box2D.inherit(h,Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2Controller);h.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2Controller.prototype;h.b2ConstantForceController=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,
arguments);this.F=new c(0,0)};h.prototype.Step=function(p){for(p=this.m_bodyList;p;p=p.nextBody){var t=p.body;t.IsAwake()&&t.ApplyForce(this.F,t.GetWorldCenter())}};k.b2Controller=function(){};k.prototype.Step=function(p){};k.prototype.Draw=function(p){};k.prototype.AddBody=function(p){var t=new l;t.controller=this;t.body=p;t.nextBody=this.m_bodyList;t.prevBody=null;this.m_bodyList=t;t.nextBody&&(t.nextBody.prevBody=t);this.m_bodyCount++;t.nextController=p.m_controllerList;t.prevController=null;p.m_controllerList=
t;t.nextController&&(t.nextController.prevController=t);p.m_controllerCount++};k.prototype.RemoveBody=function(p){for(var t=p.m_controllerList;t&&t.controller!=this;)t=t.nextController;t.prevBody&&(t.prevBody.nextBody=t.nextBody);t.nextBody&&(t.nextBody.prevBody=t.prevBody);t.nextController&&(t.nextController.prevController=t.prevController);t.prevController&&(t.prevController.nextController=t.nextController);this.m_bodyList==t&&(this.m_bodyList=t.nextBody);p.m_controllerList==t&&(p.m_controllerList=
t.nextController);p.m_controllerCount--;this.m_bodyCount--};k.prototype.Clear=function(){for(;this.m_bodyList;)this.RemoveBody(this.m_bodyList.body)};k.prototype.GetNext=function(){return this.m_next};k.prototype.GetWorld=function(){return this.m_world};k.prototype.GetBodyList=function(){return this.m_bodyList};l.b2ControllerEdge=function(){};Box2D$$module$js$box2d$Box2D.inherit(m,Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2Controller);m.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2Controller.prototype;
m.b2GravityController=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments);this.G=1;this.invSqr=!0};m.prototype.Step=function(p){var t;if(this.invSqr)for(p=this.m_bodyList;p;p=p.nextBody){var w=p.body;var x=w.GetWorldCenter();var A=w.GetMass();for(t=this.m_bodyList;t!=p;t=t.nextBody){var r=t.body;var E=r.GetWorldCenter();var B=E.x-x.x;var G=E.y-x.y;var H=B*B+G*G;H<Number.MIN_VALUE||(B=new c(B,G),B.Multiply(this.G/H/Math.sqrt(H)*A*r.GetMass()),
w.IsAwake()&&w.ApplyForce(B,x),B.Multiply(-1),r.IsAwake()&&r.ApplyForce(B,E))}}else for(p=this.m_bodyList;p;p=p.nextBody)for(w=p.body,x=w.GetWorldCenter(),A=w.GetMass(),t=this.m_bodyList;t!=p;t=t.nextBody)r=t.body,E=r.GetWorldCenter(),B=E.x-x.x,G=E.y-x.y,H=B*B+G*G,H<Number.MIN_VALUE||(B=new c(B,G),B.Multiply(this.G/H*A*r.GetMass()),w.IsAwake()&&w.ApplyForce(B,x),B.Multiply(-1),r.IsAwake()&&r.ApplyForce(B,E))};Box2D$$module$js$box2d$Box2D.inherit(n,Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2Controller);
n.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2Controller.prototype;n.b2TensorDampingController=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments);this.T=new a;this.maxTimestep=0};n.prototype.SetAxisAligned=function(p,t){void 0===p&&(p=0);void 0===t&&(t=0);this.T.col1.x=-p;this.T.col1.y=0;this.T.col2.x=0;this.T.col2.y=-t;this.maxTimestep=0<p||0<t?1/Math.max(p,t):0};n.prototype.Step=function(p){p=p.dt;if(!(p<=Number.MIN_VALUE)){p>
this.maxTimestep&&0<this.maxTimestep&&(p=this.maxTimestep);for(var t=this.m_bodyList;t;t=t.nextBody){var w=t.body;if(w.IsAwake()){var x=w.GetWorldVector(b.MulMV(this.T,w.GetLocalVector(w.GetLinearVelocity())));w.SetLinearVelocity(new c(w.GetLinearVelocity().x+x.x*p,w.GetLinearVelocity().y+x.y*p))}}}}})();
(function(){var a=Box2D$$module$js$box2d$Box2D.Common.b2Settings,b=Box2D$$module$js$box2d$Box2D.Common.Math.b2Mat22,c=Box2D$$module$js$box2d$Box2D.Common.Math.b2Mat33,d=Box2D$$module$js$box2d$Box2D.Common.Math.b2Math,e=Box2D$$module$js$box2d$Box2D.Common.Math.b2Vec2,g=Box2D$$module$js$box2d$Box2D.Common.Math.b2Vec3,h=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2DistanceJoint,k=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2DistanceJointDef,l=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2FrictionJoint,
m=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2FrictionJointDef,n=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2GearJoint,p=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2GearJointDef,t=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Jacobian,w=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint,x=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef,A=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointEdge,r=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2LineJoint,E=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2LineJointDef,
B=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2MouseJoint,G=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2MouseJointDef,H=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2PrismaticJoint,O=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2PrismaticJointDef,N=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2PulleyJoint,U=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2PulleyJointDef,W=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2RevoluteJoint,J=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2RevoluteJointDef,
aa=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2WeldJoint,ba=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2WeldJointDef;Box2D$$module$js$box2d$Box2D.inherit(h,Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint);h.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.prototype;h.b2DistanceJoint=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_localAnchor1=new e;this.m_localAnchor2=new e;this.m_u=new e};h.prototype.GetAnchorA=
function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};h.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};h.prototype.GetReactionForce=function(z){void 0===z&&(z=0);return new e(z*this.m_impulse*this.m_u.x,z*this.m_impulse*this.m_u.y)};h.prototype.GetReactionTorque=function(z){return 0};h.prototype.GetLength=function(){return this.m_length};h.prototype.SetLength=function(z){void 0===z&&(z=0);this.m_length=z};h.prototype.GetFrequency=function(){return this.m_frequencyHz};
h.prototype.SetFrequency=function(z){void 0===z&&(z=0);this.m_frequencyHz=z};h.prototype.GetDampingRatio=function(){return this.m_dampingRatio};h.prototype.SetDampingRatio=function(z){void 0===z&&(z=0);this.m_dampingRatio=z};h.prototype.b2DistanceJoint=function(z){this.__super.b2Joint.call(this,z);this.m_localAnchor1.SetV(z.localAnchorA);this.m_localAnchor2.SetV(z.localAnchorB);this.m_length=z.length;this.m_frequencyHz=z.frequencyHz;this.m_dampingRatio=z.dampingRatio;this.m_bias=this.m_gamma=this.m_impulse=
0};h.prototype.InitVelocityConstraints=function(z){var K=this.m_bodyA,Q=this.m_bodyB;var M=K.m_xf.R;var L=this.m_localAnchor1.x-K.m_sweep.localCenter.x,T=this.m_localAnchor1.y-K.m_sweep.localCenter.y;var X=M.col1.x*L+M.col2.x*T;T=M.col1.y*L+M.col2.y*T;L=X;M=Q.m_xf.R;var y=this.m_localAnchor2.x-Q.m_sweep.localCenter.x,F=this.m_localAnchor2.y-Q.m_sweep.localCenter.y;X=M.col1.x*y+M.col2.x*F;F=M.col1.y*y+M.col2.y*F;y=X;this.m_u.x=Q.m_sweep.c.x+y-K.m_sweep.c.x-L;this.m_u.y=Q.m_sweep.c.y+F-K.m_sweep.c.y-
T;X=Math.sqrt(this.m_u.x*this.m_u.x+this.m_u.y*this.m_u.y);X>a.b2_linearSlop?this.m_u.Multiply(1/X):this.m_u.SetZero();M=L*this.m_u.y-T*this.m_u.x;var R=y*this.m_u.y-F*this.m_u.x;M=K.m_invMass+K.m_invI*M*M+Q.m_invMass+Q.m_invI*R*R;this.m_mass=0!=M?1/M:0;if(0<this.m_frequencyHz){X-=this.m_length;R=2*Math.PI*this.m_frequencyHz;var q=this.m_mass*R*R;this.m_gamma=z.dt*(2*this.m_mass*this.m_dampingRatio*R+z.dt*q);this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0;this.m_bias=X*z.dt*q*this.m_gamma;this.m_mass=
M+this.m_gamma;this.m_mass=0!=this.m_mass?1/this.m_mass:0}z.warmStarting?(this.m_impulse*=z.dtRatio,z=this.m_impulse*this.m_u.x,M=this.m_impulse*this.m_u.y,K.m_linearVelocity.x-=K.m_invMass*z,K.m_linearVelocity.y-=K.m_invMass*M,K.m_angularVelocity-=K.m_invI*(L*M-T*z),Q.m_linearVelocity.x+=Q.m_invMass*z,Q.m_linearVelocity.y+=Q.m_invMass*M,Q.m_angularVelocity+=Q.m_invI*(y*M-F*z)):this.m_impulse=0};h.prototype.SolveVelocityConstraints=function(z){z=this.m_bodyA;var K=this.m_bodyB;var Q=z.m_xf.R;var M=
this.m_localAnchor1.x-z.m_sweep.localCenter.x,L=this.m_localAnchor1.y-z.m_sweep.localCenter.y,T=Q.col1.x*M+Q.col2.x*L;L=Q.col1.y*M+Q.col2.y*L;M=T;Q=K.m_xf.R;var X=this.m_localAnchor2.x-K.m_sweep.localCenter.x,y=this.m_localAnchor2.y-K.m_sweep.localCenter.y;T=Q.col1.x*X+Q.col2.x*y;y=Q.col1.y*X+Q.col2.y*y;X=T;T=-this.m_mass*(this.m_u.x*(K.m_linearVelocity.x+-K.m_angularVelocity*y-(z.m_linearVelocity.x+-z.m_angularVelocity*L))+this.m_u.y*(K.m_linearVelocity.y+K.m_angularVelocity*X-(z.m_linearVelocity.y+
z.m_angularVelocity*M))+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=T;Q=T*this.m_u.x;T*=this.m_u.y;z.m_linearVelocity.x-=z.m_invMass*Q;z.m_linearVelocity.y-=z.m_invMass*T;z.m_angularVelocity-=z.m_invI*(M*T-L*Q);K.m_linearVelocity.x+=K.m_invMass*Q;K.m_linearVelocity.y+=K.m_invMass*T;K.m_angularVelocity+=K.m_invI*(X*T-y*Q)};h.prototype.SolvePositionConstraints=function(z){if(0<this.m_frequencyHz)return!0;z=this.m_bodyA;var K=this.m_bodyB;var Q=z.m_xf.R;var M=this.m_localAnchor1.x-z.m_sweep.localCenter.x,
L=this.m_localAnchor1.y-z.m_sweep.localCenter.y,T=Q.col1.x*M+Q.col2.x*L;L=Q.col1.y*M+Q.col2.y*L;M=T;Q=K.m_xf.R;var X=this.m_localAnchor2.x-K.m_sweep.localCenter.x,y=this.m_localAnchor2.y-K.m_sweep.localCenter.y;T=Q.col1.x*X+Q.col2.x*y;y=Q.col1.y*X+Q.col2.y*y;X=T;T=K.m_sweep.c.x+X-z.m_sweep.c.x-M;var F=K.m_sweep.c.y+y-z.m_sweep.c.y-L;Q=Math.sqrt(T*T+F*F);T/=Q;F/=Q;Q-=this.m_length;Q=d.Clamp(Q,-a.b2_maxLinearCorrection,a.b2_maxLinearCorrection);var R=-this.m_mass*Q;this.m_u.Set(T,F);T=R*this.m_u.x;
F=R*this.m_u.y;z.m_sweep.c.x-=z.m_invMass*T;z.m_sweep.c.y-=z.m_invMass*F;z.m_sweep.a-=z.m_invI*(M*F-L*T);K.m_sweep.c.x+=K.m_invMass*T;K.m_sweep.c.y+=K.m_invMass*F;K.m_sweep.a+=K.m_invI*(X*F-y*T);z.SynchronizeTransform();K.SynchronizeTransform();return d.Abs(Q)<a.b2_linearSlop};Box2D$$module$js$box2d$Box2D.inherit(k,Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef);k.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef.prototype;k.b2DistanceJointDef=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,
arguments);this.localAnchorA=new e;this.localAnchorB=new e};k.prototype.b2DistanceJointDef=function(){this.__super.b2JointDef.call(this);this.type=w.e_distanceJoint;this.length=1;this.dampingRatio=this.frequencyHz=0};k.prototype.Initialize=function(z,K,Q,M){this.bodyA=z;this.bodyB=K;this.localAnchorA.SetV(this.bodyA.GetLocalPoint(Q));this.localAnchorB.SetV(this.bodyB.GetLocalPoint(M));z=M.x-Q.x;Q=M.y-Q.y;this.length=Math.sqrt(z*z+Q*Q);this.dampingRatio=this.frequencyHz=0};Box2D$$module$js$box2d$Box2D.inherit(l,
Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint);l.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.prototype;l.b2FrictionJoint=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_localAnchorA=new e;this.m_localAnchorB=new e;this.m_linearMass=new b;this.m_linearImpulse=new e};l.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA)};l.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB)};
l.prototype.GetReactionForce=function(z){void 0===z&&(z=0);return new e(z*this.m_linearImpulse.x,z*this.m_linearImpulse.y)};l.prototype.GetReactionTorque=function(z){void 0===z&&(z=0);return z*this.m_angularImpulse};l.prototype.SetMaxForce=function(z){void 0===z&&(z=0);this.m_maxForce=z};l.prototype.GetMaxForce=function(){return this.m_maxForce};l.prototype.SetMaxTorque=function(z){void 0===z&&(z=0);this.m_maxTorque=z};l.prototype.GetMaxTorque=function(){return this.m_maxTorque};l.prototype.b2FrictionJoint=
function(z){this.__super.b2Joint.call(this,z);this.m_localAnchorA.SetV(z.localAnchorA);this.m_localAnchorB.SetV(z.localAnchorB);this.m_linearMass.SetZero();this.m_angularMass=0;this.m_linearImpulse.SetZero();this.m_angularImpulse=0;this.m_maxForce=z.maxForce;this.m_maxTorque=z.maxTorque};l.prototype.InitVelocityConstraints=function(z){var K=this.m_bodyA,Q=this.m_bodyB;var M=K.m_xf.R;var L=this.m_localAnchorA.x-K.m_sweep.localCenter.x,T=this.m_localAnchorA.y-K.m_sweep.localCenter.y;var X=M.col1.x*
L+M.col2.x*T;T=M.col1.y*L+M.col2.y*T;L=X;M=Q.m_xf.R;var y=this.m_localAnchorB.x-Q.m_sweep.localCenter.x,F=this.m_localAnchorB.y-Q.m_sweep.localCenter.y;X=M.col1.x*y+M.col2.x*F;F=M.col1.y*y+M.col2.y*F;y=X;M=K.m_invMass;X=Q.m_invMass;var R=K.m_invI,q=Q.m_invI,v=new b;v.col1.x=M+X;v.col2.x=0;v.col1.y=0;v.col2.y=M+X;v.col1.x+=R*T*T;v.col2.x+=-R*L*T;v.col1.y+=-R*L*T;v.col2.y+=R*L*L;v.col1.x+=q*F*F;v.col2.x+=-q*y*F;v.col1.y+=-q*y*F;v.col2.y+=q*y*y;v.GetInverse(this.m_linearMass);this.m_angularMass=R+q;
0<this.m_angularMass&&(this.m_angularMass=1/this.m_angularMass);z.warmStarting?(this.m_linearImpulse.x*=z.dtRatio,this.m_linearImpulse.y*=z.dtRatio,this.m_angularImpulse*=z.dtRatio,z=this.m_linearImpulse,K.m_linearVelocity.x-=M*z.x,K.m_linearVelocity.y-=M*z.y,K.m_angularVelocity-=R*(L*z.y-T*z.x+this.m_angularImpulse),Q.m_linearVelocity.x+=X*z.x,Q.m_linearVelocity.y+=X*z.y,Q.m_angularVelocity+=q*(y*z.y-F*z.x+this.m_angularImpulse)):(this.m_linearImpulse.SetZero(),this.m_angularImpulse=0)};l.prototype.SolveVelocityConstraints=
function(z){var K=this.m_bodyA,Q=this.m_bodyB,M=K.m_linearVelocity,L=K.m_angularVelocity,T=Q.m_linearVelocity,X=Q.m_angularVelocity,y=K.m_invMass,F=Q.m_invMass,R=K.m_invI,q=Q.m_invI;var v=K.m_xf.R;var u=this.m_localAnchorA.x-K.m_sweep.localCenter.x,D=this.m_localAnchorA.y-K.m_sweep.localCenter.y;var I=v.col1.x*u+v.col2.x*D;D=v.col1.y*u+v.col2.y*D;u=I;v=Q.m_xf.R;var S=this.m_localAnchorB.x-Q.m_sweep.localCenter.x,P=this.m_localAnchorB.y-Q.m_sweep.localCenter.y;I=v.col1.x*S+v.col2.x*P;P=v.col1.y*S+
v.col2.y*P;S=I;I=-this.m_angularMass*(X-L);var Y=this.m_angularImpulse;v=z.dt*this.m_maxTorque;this.m_angularImpulse=d.Clamp(this.m_angularImpulse+I,-v,v);I=this.m_angularImpulse-Y;L-=R*I;X+=q*I;v=d.MulMV(this.m_linearMass,new e(-(T.x-X*P-M.x+L*D),-(T.y+X*S-M.y-L*u)));I=this.m_linearImpulse.Copy();this.m_linearImpulse.Add(v);v=z.dt*this.m_maxForce;this.m_linearImpulse.LengthSquared()>v*v&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.Multiply(v));v=d.SubtractVV(this.m_linearImpulse,I);M.x-=
y*v.x;M.y-=y*v.y;L-=R*(u*v.y-D*v.x);T.x+=F*v.x;T.y+=F*v.y;X+=q*(S*v.y-P*v.x);K.m_angularVelocity=L;Q.m_angularVelocity=X};l.prototype.SolvePositionConstraints=function(z){return!0};Box2D$$module$js$box2d$Box2D.inherit(m,Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef);m.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef.prototype;m.b2FrictionJointDef=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.localAnchorA=
new e;this.localAnchorB=new e};m.prototype.b2FrictionJointDef=function(){this.__super.b2JointDef.call(this);this.type=w.e_frictionJoint;this.maxTorque=this.maxForce=0};m.prototype.Initialize=function(z,K,Q){this.bodyA=z;this.bodyB=K;this.localAnchorA.SetV(this.bodyA.GetLocalPoint(Q));this.localAnchorB.SetV(this.bodyB.GetLocalPoint(Q))};Box2D$$module$js$box2d$Box2D.inherit(n,Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint);n.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.prototype;
n.b2GearJoint=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_groundAnchor1=new e;this.m_groundAnchor2=new e;this.m_localAnchor1=new e;this.m_localAnchor2=new e;this.m_J=new t};n.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};n.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};n.prototype.GetReactionForce=function(z){void 0===z&&(z=0);return new e(z*this.m_impulse*this.m_J.linearB.x,
z*this.m_impulse*this.m_J.linearB.y)};n.prototype.GetReactionTorque=function(z){void 0===z&&(z=0);var K=this.m_bodyB.m_xf.R,Q=this.m_localAnchor1.x-this.m_bodyB.m_sweep.localCenter.x,M=this.m_localAnchor1.y-this.m_bodyB.m_sweep.localCenter.y,L=K.col1.x*Q+K.col2.x*M;M=K.col1.y*Q+K.col2.y*M;return z*(this.m_impulse*this.m_J.angularB-L*this.m_impulse*this.m_J.linearB.y+M*this.m_impulse*this.m_J.linearB.x)};n.prototype.GetRatio=function(){return this.m_ratio};n.prototype.SetRatio=function(z){void 0===
z&&(z=0);this.m_ratio=z};n.prototype.b2GearJoint=function(z){this.__super.b2Joint.call(this,z);var K=z.joint1.m_type,Q=z.joint2.m_type;this.m_prismatic2=this.m_revolute2=this.m_prismatic1=this.m_revolute1=null;this.m_ground1=z.joint1.GetBodyA();this.m_bodyA=z.joint1.GetBodyB();K==w.e_revoluteJoint?(this.m_revolute1=z.joint1 instanceof W?z.joint1:null,this.m_groundAnchor1.SetV(this.m_revolute1.m_localAnchor1),this.m_localAnchor1.SetV(this.m_revolute1.m_localAnchor2),K=this.m_revolute1.GetJointAngle()):
(this.m_prismatic1=z.joint1 instanceof H?z.joint1:null,this.m_groundAnchor1.SetV(this.m_prismatic1.m_localAnchor1),this.m_localAnchor1.SetV(this.m_prismatic1.m_localAnchor2),K=this.m_prismatic1.GetJointTranslation());this.m_ground2=z.joint2.GetBodyA();this.m_bodyB=z.joint2.GetBodyB();Q==w.e_revoluteJoint?(this.m_revolute2=z.joint2 instanceof W?z.joint2:null,this.m_groundAnchor2.SetV(this.m_revolute2.m_localAnchor1),this.m_localAnchor2.SetV(this.m_revolute2.m_localAnchor2),Q=this.m_revolute2.GetJointAngle()):
(this.m_prismatic2=z.joint2 instanceof H?z.joint2:null,this.m_groundAnchor2.SetV(this.m_prismatic2.m_localAnchor1),this.m_localAnchor2.SetV(this.m_prismatic2.m_localAnchor2),Q=this.m_prismatic2.GetJointTranslation());this.m_ratio=z.ratio;this.m_constant=K+this.m_ratio*Q;this.m_impulse=0};n.prototype.InitVelocityConstraints=function(z){var K=this.m_ground1,Q=this.m_ground2,M=this.m_bodyA,L=this.m_bodyB,T=0;this.m_J.SetZero();if(this.m_revolute1)this.m_J.angularA=-1,T+=M.m_invI;else{var X=K.m_xf.R;
var y=this.m_prismatic1.m_localXAxis1;K=X.col1.x*y.x+X.col2.x*y.y;y=X.col1.y*y.x+X.col2.y*y.y;X=M.m_xf.R;var F=this.m_localAnchor1.x-M.m_sweep.localCenter.x;var R=this.m_localAnchor1.y-M.m_sweep.localCenter.y;var q=X.col1.x*F+X.col2.x*R;R=X.col1.y*F+X.col2.y*R;X=q*y-R*K;this.m_J.linearA.Set(-K,-y);this.m_J.angularA=-X;T+=M.m_invMass+M.m_invI*X*X}this.m_revolute2?(this.m_J.angularB=-this.m_ratio,T+=this.m_ratio*this.m_ratio*L.m_invI):(X=Q.m_xf.R,y=this.m_prismatic2.m_localXAxis1,K=X.col1.x*y.x+X.col2.x*
y.y,y=X.col1.y*y.x+X.col2.y*y.y,X=L.m_xf.R,F=this.m_localAnchor2.x-L.m_sweep.localCenter.x,R=this.m_localAnchor2.y-L.m_sweep.localCenter.y,q=X.col1.x*F+X.col2.x*R,R=X.col1.y*F+X.col2.y*R,X=q*y-R*K,this.m_J.linearB.Set(-this.m_ratio*K,-this.m_ratio*y),this.m_J.angularB=-this.m_ratio*X,T+=this.m_ratio*this.m_ratio*(L.m_invMass+L.m_invI*X*X));this.m_mass=0<T?1/T:0;z.warmStarting?(M.m_linearVelocity.x+=M.m_invMass*this.m_impulse*this.m_J.linearA.x,M.m_linearVelocity.y+=M.m_invMass*this.m_impulse*this.m_J.linearA.y,
M.m_angularVelocity+=M.m_invI*this.m_impulse*this.m_J.angularA,L.m_linearVelocity.x+=L.m_invMass*this.m_impulse*this.m_J.linearB.x,L.m_linearVelocity.y+=L.m_invMass*this.m_impulse*this.m_J.linearB.y,L.m_angularVelocity+=L.m_invI*this.m_impulse*this.m_J.angularB):this.m_impulse=0};n.prototype.SolveVelocityConstraints=function(z){z=this.m_bodyA;var K=this.m_bodyB,Q=this.m_J.Compute(z.m_linearVelocity,z.m_angularVelocity,K.m_linearVelocity,K.m_angularVelocity);Q*=-this.m_mass;this.m_impulse+=Q;z.m_linearVelocity.x+=
z.m_invMass*Q*this.m_J.linearA.x;z.m_linearVelocity.y+=z.m_invMass*Q*this.m_J.linearA.y;z.m_angularVelocity+=z.m_invI*Q*this.m_J.angularA;K.m_linearVelocity.x+=K.m_invMass*Q*this.m_J.linearB.x;K.m_linearVelocity.y+=K.m_invMass*Q*this.m_J.linearB.y;K.m_angularVelocity+=K.m_invI*Q*this.m_J.angularB};n.prototype.SolvePositionConstraints=function(z){z=this.m_bodyA;var K=this.m_bodyB;var Q=this.m_revolute1?this.m_revolute1.GetJointAngle():this.m_prismatic1.GetJointTranslation();var M=this.m_revolute2?
this.m_revolute2.GetJointAngle():this.m_prismatic2.GetJointTranslation();Q=-this.m_mass*(this.m_constant-(Q+this.m_ratio*M));z.m_sweep.c.x+=z.m_invMass*Q*this.m_J.linearA.x;z.m_sweep.c.y+=z.m_invMass*Q*this.m_J.linearA.y;z.m_sweep.a+=z.m_invI*Q*this.m_J.angularA;K.m_sweep.c.x+=K.m_invMass*Q*this.m_J.linearB.x;K.m_sweep.c.y+=K.m_invMass*Q*this.m_J.linearB.y;K.m_sweep.a+=K.m_invI*Q*this.m_J.angularB;z.SynchronizeTransform();K.SynchronizeTransform();return 0<a.b2_linearSlop};Box2D$$module$js$box2d$Box2D.inherit(p,
Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef);p.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef.prototype;p.b2GearJointDef=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments)};p.prototype.b2GearJointDef=function(){this.__super.b2JointDef.call(this);this.type=w.e_gearJoint;this.joint2=this.joint1=null;this.ratio=1};t.b2Jacobian=function(){this.linearA=new e;this.linearB=new e};t.prototype.SetZero=function(){this.linearA.SetZero();
this.angularA=0;this.linearB.SetZero();this.angularB=0};t.prototype.Set=function(z,K,Q,M){void 0===K&&(K=0);void 0===M&&(M=0);this.linearA.SetV(z);this.angularA=K;this.linearB.SetV(Q);this.angularB=M};t.prototype.Compute=function(z,K,Q,M){void 0===K&&(K=0);void 0===M&&(M=0);return this.linearA.x*z.x+this.linearA.y*z.y+this.angularA*K+(this.linearB.x*Q.x+this.linearB.y*Q.y)+this.angularB*M};w.b2Joint=function(){this.m_edgeA=new A;this.m_edgeB=new A;this.m_localCenterA=new e;this.m_localCenterB=new e};
w.prototype.GetType=function(){return this.m_type};w.prototype.GetAnchorA=function(){return null};w.prototype.GetAnchorB=function(){return null};w.prototype.GetReactionForce=function(z){return null};w.prototype.GetReactionTorque=function(z){return 0};w.prototype.GetBodyA=function(){return this.m_bodyA};w.prototype.GetBodyB=function(){return this.m_bodyB};w.prototype.GetNext=function(){return this.m_next};w.prototype.GetUserData=function(){return this.m_userData};w.prototype.SetUserData=function(z){this.m_userData=
z};w.prototype.IsActive=function(){return this.m_bodyA.IsActive()&&this.m_bodyB.IsActive()};w.Create=function(z,K){K=null;switch(z.type){case w.e_distanceJoint:K=new h(z instanceof k?z:null);break;case w.e_mouseJoint:K=new B(z instanceof G?z:null);break;case w.e_prismaticJoint:K=new H(z instanceof O?z:null);break;case w.e_revoluteJoint:K=new W(z instanceof J?z:null);break;case w.e_pulleyJoint:K=new N(z instanceof U?z:null);break;case w.e_gearJoint:K=new n(z instanceof p?z:null);break;case w.e_lineJoint:K=
new r(z instanceof E?z:null);break;case w.e_weldJoint:K=new aa(z instanceof ba?z:null);break;case w.e_frictionJoint:K=new l(z instanceof m?z:null)}return K};w.Destroy=function(z,K){};w.prototype.b2Joint=function(z){a.b2Assert(z.bodyA!=z.bodyB);this.m_type=z.type;this.m_next=this.m_prev=null;this.m_bodyA=z.bodyA;this.m_bodyB=z.bodyB;this.m_collideConnected=z.collideConnected;this.m_islandFlag=!1;this.m_userData=z.userData};w.prototype.InitVelocityConstraints=function(z){};w.prototype.SolveVelocityConstraints=
function(z){};w.prototype.FinalizeVelocityConstraints=function(){};w.prototype.SolvePositionConstraints=function(z){return!1};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.e_unknownJoint=0;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.e_revoluteJoint=1;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.e_prismaticJoint=2;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.e_distanceJoint=3;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.e_pulleyJoint=
4;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.e_mouseJoint=5;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.e_gearJoint=6;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.e_lineJoint=7;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.e_weldJoint=8;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.e_frictionJoint=9;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.e_inactiveLimit=0;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.e_atLowerLimit=1;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.e_atUpperLimit=
2;Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.e_equalLimits=3});x.b2JointDef=function(){};x.prototype.b2JointDef=function(){this.type=w.e_unknownJoint;this.bodyB=this.bodyA=this.userData=null;this.collideConnected=!1};A.b2JointEdge=function(){};Box2D$$module$js$box2d$Box2D.inherit(r,Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint);r.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.prototype;r.b2LineJoint=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,
arguments);this.m_localAnchor1=new e;this.m_localAnchor2=new e;this.m_localXAxis1=new e;this.m_localYAxis1=new e;this.m_axis=new e;this.m_perp=new e;this.m_K=new b;this.m_impulse=new e};r.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};r.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};r.prototype.GetReactionForce=function(z){void 0===z&&(z=0);return new e(z*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*
this.m_axis.x),z*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y))};r.prototype.GetReactionTorque=function(z){void 0===z&&(z=0);return z*this.m_impulse.y};r.prototype.GetJointTranslation=function(){var z=this.m_bodyA,K=this.m_bodyB,Q=z.GetWorldPoint(this.m_localAnchor1),M=K.GetWorldPoint(this.m_localAnchor2);K=M.x-Q.x;Q=M.y-Q.y;z=z.GetWorldVector(this.m_localXAxis1);return z.x*K+z.y*Q};r.prototype.GetJointSpeed=function(){var z=this.m_bodyA,K=this.m_bodyB;var Q=
z.m_xf.R;var M=this.m_localAnchor1.x-z.m_sweep.localCenter.x,L=this.m_localAnchor1.y-z.m_sweep.localCenter.y,T=Q.col1.x*M+Q.col2.x*L;L=Q.col1.y*M+Q.col2.y*L;M=T;Q=K.m_xf.R;var X=this.m_localAnchor2.x-K.m_sweep.localCenter.x,y=this.m_localAnchor2.y-K.m_sweep.localCenter.y;T=Q.col1.x*X+Q.col2.x*y;y=Q.col1.y*X+Q.col2.y*y;X=T;Q=K.m_sweep.c.x+X-(z.m_sweep.c.x+M);T=K.m_sweep.c.y+y-(z.m_sweep.c.y+L);var F=z.GetWorldVector(this.m_localXAxis1),R=z.m_linearVelocity,q=K.m_linearVelocity;z=z.m_angularVelocity;
K=K.m_angularVelocity;return Q*-z*F.y+T*z*F.x+(F.x*(q.x+-K*y-R.x- -z*L)+F.y*(q.y+K*X-R.y-z*M))};r.prototype.IsLimitEnabled=function(){return this.m_enableLimit};r.prototype.EnableLimit=function(z){this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_enableLimit=z};r.prototype.GetLowerLimit=function(){return this.m_lowerTranslation};r.prototype.GetUpperLimit=function(){return this.m_upperTranslation};r.prototype.SetLimits=function(z,K){void 0===z&&(z=0);void 0===K&&(K=0);this.m_bodyA.SetAwake(!0);
this.m_bodyB.SetAwake(!0);this.m_lowerTranslation=z;this.m_upperTranslation=K};r.prototype.IsMotorEnabled=function(){return this.m_enableMotor};r.prototype.EnableMotor=function(z){this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_enableMotor=z};r.prototype.SetMotorSpeed=function(z){void 0===z&&(z=0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_motorSpeed=z};r.prototype.GetMotorSpeed=function(){return this.m_motorSpeed};r.prototype.SetMaxMotorForce=function(z){void 0===z&&(z=
0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_maxMotorForce=z};r.prototype.GetMaxMotorForce=function(){return this.m_maxMotorForce};r.prototype.GetMotorForce=function(){return this.m_motorImpulse};r.prototype.b2LineJoint=function(z){this.__super.b2Joint.call(this,z);this.m_localAnchor1.SetV(z.localAnchorA);this.m_localAnchor2.SetV(z.localAnchorB);this.m_localXAxis1.SetV(z.localAxisA);this.m_localYAxis1.x=-this.m_localXAxis1.y;this.m_localYAxis1.y=this.m_localXAxis1.x;this.m_impulse.SetZero();
this.m_motorImpulse=this.m_motorMass=0;this.m_lowerTranslation=z.lowerTranslation;this.m_upperTranslation=z.upperTranslation;this.m_maxMotorForce=z.maxMotorForce;this.m_motorSpeed=z.motorSpeed;this.m_enableLimit=z.enableLimit;this.m_enableMotor=z.enableMotor;this.m_limitState=w.e_inactiveLimit;this.m_axis.SetZero();this.m_perp.SetZero()};r.prototype.InitVelocityConstraints=function(z){var K=this.m_bodyA,Q=this.m_bodyB;this.m_localCenterA.SetV(K.GetLocalCenter());this.m_localCenterB.SetV(Q.GetLocalCenter());
var M=K.GetTransform();Q.GetTransform();var L=K.m_xf.R;var T=this.m_localAnchor1.x-this.m_localCenterA.x,X=this.m_localAnchor1.y-this.m_localCenterA.y;var y=L.col1.x*T+L.col2.x*X;X=L.col1.y*T+L.col2.y*X;T=y;L=Q.m_xf.R;var F=this.m_localAnchor2.x-this.m_localCenterB.x,R=this.m_localAnchor2.y-this.m_localCenterB.y;y=L.col1.x*F+L.col2.x*R;R=L.col1.y*F+L.col2.y*R;F=y;L=Q.m_sweep.c.x+F-K.m_sweep.c.x-T;y=Q.m_sweep.c.y+R-K.m_sweep.c.y-X;this.m_invMassA=K.m_invMass;this.m_invMassB=Q.m_invMass;this.m_invIA=
K.m_invI;this.m_invIB=Q.m_invI;this.m_axis.SetV(d.MulMV(M.R,this.m_localXAxis1));this.m_a1=(L+T)*this.m_axis.y-(y+X)*this.m_axis.x;this.m_a2=F*this.m_axis.y-R*this.m_axis.x;this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2;this.m_motorMass=this.m_motorMass>Number.MIN_VALUE?1/this.m_motorMass:0;this.m_perp.SetV(d.MulMV(M.R,this.m_localYAxis1));this.m_s1=(L+T)*this.m_perp.y-(y+X)*this.m_perp.x;this.m_s2=F*this.m_perp.y-R*this.m_perp.x;
M=this.m_invMassA;T=this.m_invMassB;X=this.m_invIA;F=this.m_invIB;this.m_K.col1.x=M+T+X*this.m_s1*this.m_s1+F*this.m_s2*this.m_s2;this.m_K.col1.y=X*this.m_s1*this.m_a1+F*this.m_s2*this.m_a2;this.m_K.col2.x=this.m_K.col1.y;this.m_K.col2.y=M+T+X*this.m_a1*this.m_a1+F*this.m_a2*this.m_a2;this.m_enableLimit?(L=this.m_axis.x*L+this.m_axis.y*y,d.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*a.b2_linearSlop?this.m_limitState=w.e_equalLimits:L<=this.m_lowerTranslation?this.m_limitState!=w.e_atLowerLimit&&
(this.m_limitState=w.e_atLowerLimit,this.m_impulse.y=0):L>=this.m_upperTranslation?this.m_limitState!=w.e_atUpperLimit&&(this.m_limitState=w.e_atUpperLimit,this.m_impulse.y=0):(this.m_limitState=w.e_inactiveLimit,this.m_impulse.y=0)):this.m_limitState=w.e_inactiveLimit;0==this.m_enableMotor&&(this.m_motorImpulse=0);z.warmStarting?(this.m_impulse.x*=z.dtRatio,this.m_impulse.y*=z.dtRatio,this.m_motorImpulse*=z.dtRatio,z=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x,
L=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y,y=this.m_impulse.x*this.m_s1+(this.m_motorImpulse+this.m_impulse.y)*this.m_a1,M=this.m_impulse.x*this.m_s2+(this.m_motorImpulse+this.m_impulse.y)*this.m_a2,K.m_linearVelocity.x-=this.m_invMassA*z,K.m_linearVelocity.y-=this.m_invMassA*L,K.m_angularVelocity-=this.m_invIA*y,Q.m_linearVelocity.x+=this.m_invMassB*z,Q.m_linearVelocity.y+=this.m_invMassB*L,Q.m_angularVelocity+=this.m_invIB*M):(this.m_impulse.SetZero(),
this.m_motorImpulse=0)};r.prototype.SolveVelocityConstraints=function(z){var K=this.m_bodyA,Q=this.m_bodyB,M=K.m_linearVelocity,L=K.m_angularVelocity,T=Q.m_linearVelocity,X=Q.m_angularVelocity;if(this.m_enableMotor&&this.m_limitState!=w.e_equalLimits){var y=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*(T.x-M.x)+this.m_axis.y*(T.y-M.y)+this.m_a2*X-this.m_a1*L));var F=this.m_motorImpulse;z=z.dt*this.m_maxMotorForce;this.m_motorImpulse=d.Clamp(this.m_motorImpulse+y,-z,z);y=this.m_motorImpulse-
F;F=y*this.m_axis.x;z=y*this.m_axis.y;var R=y*this.m_a1;y*=this.m_a2;M.x-=this.m_invMassA*F;M.y-=this.m_invMassA*z;L-=this.m_invIA*R;T.x+=this.m_invMassB*F;T.y+=this.m_invMassB*z;X+=this.m_invIB*y}z=this.m_perp.x*(T.x-M.x)+this.m_perp.y*(T.y-M.y)+this.m_s2*X-this.m_s1*L;this.m_enableLimit&&this.m_limitState!=w.e_inactiveLimit?(R=this.m_axis.x*(T.x-M.x)+this.m_axis.y*(T.y-M.y)+this.m_a2*X-this.m_a1*L,F=this.m_impulse.Copy(),y=this.m_K.Solve(new e,-z,-R),this.m_impulse.Add(y),this.m_limitState==w.e_atLowerLimit?
this.m_impulse.y=d.Max(this.m_impulse.y,0):this.m_limitState==w.e_atUpperLimit&&(this.m_impulse.y=d.Min(this.m_impulse.y,0)),z=-z-(this.m_impulse.y-F.y)*this.m_K.col2.x,this.m_impulse.x=0!=this.m_K.col1.x?z/this.m_K.col1.x+F.x:F.x,y.x=this.m_impulse.x-F.x,y.y=this.m_impulse.y-F.y,F=y.x*this.m_perp.x+y.y*this.m_axis.x,z=y.x*this.m_perp.y+y.y*this.m_axis.y,R=y.x*this.m_s1+y.y*this.m_a1,y=y.x*this.m_s2+y.y*this.m_a2):(y=0!=this.m_K.col1.x?-z/this.m_K.col1.x:0,this.m_impulse.x+=y,F=y*this.m_perp.x,z=
y*this.m_perp.y,R=y*this.m_s1,y*=this.m_s2);M.x-=this.m_invMassA*F;M.y-=this.m_invMassA*z;L-=this.m_invIA*R;T.x+=this.m_invMassB*F;T.y+=this.m_invMassB*z;X+=this.m_invIB*y;K.m_linearVelocity.SetV(M);K.m_angularVelocity=L;Q.m_linearVelocity.SetV(T);Q.m_angularVelocity=X};r.prototype.SolvePositionConstraints=function(z){z=this.m_bodyA;var K=this.m_bodyB,Q=z.m_sweep.c,M=z.m_sweep.a,L=K.m_sweep.c,T=K.m_sweep.a,X=0;var y=!1;var F=0,R=b.FromAngle(M);var q=b.FromAngle(T);var v=R;var u=this.m_localAnchor1.x-
this.m_localCenterA.x;var D=this.m_localAnchor1.y-this.m_localCenterA.y;var I=v.col1.x*u+v.col2.x*D;D=v.col1.y*u+v.col2.y*D;u=I;v=q;q=this.m_localAnchor2.x-this.m_localCenterB.x;var S=this.m_localAnchor2.y-this.m_localCenterB.y;I=v.col1.x*q+v.col2.x*S;S=v.col1.y*q+v.col2.y*S;q=I;v=L.x+q-Q.x-u;I=L.y+S-Q.y-D;if(this.m_enableLimit){this.m_axis=d.MulMV(R,this.m_localXAxis1);this.m_a1=(v+u)*this.m_axis.y-(I+D)*this.m_axis.x;this.m_a2=q*this.m_axis.y-S*this.m_axis.x;var P=this.m_axis.x*v+this.m_axis.y*
I;d.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*a.b2_linearSlop?(F=d.Clamp(P,-a.b2_maxLinearCorrection,a.b2_maxLinearCorrection),X=d.Abs(P),y=!0):P<=this.m_lowerTranslation?(F=d.Clamp(P-this.m_lowerTranslation+a.b2_linearSlop,-a.b2_maxLinearCorrection,0),X=this.m_lowerTranslation-P,y=!0):P>=this.m_upperTranslation&&(F=d.Clamp(P-this.m_upperTranslation+a.b2_linearSlop,0,a.b2_maxLinearCorrection),X=P-this.m_upperTranslation,y=!0)}this.m_perp=d.MulMV(R,this.m_localYAxis1);this.m_s1=(v+u)*
this.m_perp.y-(I+D)*this.m_perp.x;this.m_s2=q*this.m_perp.y-S*this.m_perp.x;R=new e;u=this.m_perp.x*v+this.m_perp.y*I;X=d.Max(X,d.Abs(u));y?(y=this.m_invMassA,D=this.m_invMassB,q=this.m_invIA,S=this.m_invIB,this.m_K.col1.x=y+D+q*this.m_s1*this.m_s1+S*this.m_s2*this.m_s2,this.m_K.col1.y=q*this.m_s1*this.m_a1+S*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=y+D+q*this.m_a1*this.m_a1+S*this.m_a2*this.m_a2,this.m_K.Solve(R,-u,-F)):(y=this.m_invMassA,D=this.m_invMassB,q=this.m_invIA,
S=this.m_invIB,F=y+D+q*this.m_s1*this.m_s1+S*this.m_s2*this.m_s2,R.x=0!=F?-u/F:0,R.y=0);F=R.x*this.m_perp.x+R.y*this.m_axis.x;y=R.x*this.m_perp.y+R.y*this.m_axis.y;u=R.x*this.m_s1+R.y*this.m_a1;R=R.x*this.m_s2+R.y*this.m_a2;Q.x-=this.m_invMassA*F;Q.y-=this.m_invMassA*y;M-=this.m_invIA*u;L.x+=this.m_invMassB*F;L.y+=this.m_invMassB*y;T+=this.m_invIB*R;z.m_sweep.a=M;K.m_sweep.a=T;z.SynchronizeTransform();K.SynchronizeTransform();return X<=a.b2_linearSlop&&0<=a.b2_angularSlop};Box2D$$module$js$box2d$Box2D.inherit(E,
Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef);E.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef.prototype;E.b2LineJointDef=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.localAnchorA=new e;this.localAnchorB=new e;this.localAxisA=new e};E.prototype.b2LineJointDef=function(){this.__super.b2JointDef.call(this);this.type=w.e_lineJoint;this.localAxisA.Set(1,0);this.enableLimit=!1;this.upperTranslation=this.lowerTranslation=
0;this.enableMotor=!1;this.motorSpeed=this.maxMotorForce=0};E.prototype.Initialize=function(z,K,Q,M){this.bodyA=z;this.bodyB=K;this.localAnchorA=this.bodyA.GetLocalPoint(Q);this.localAnchorB=this.bodyB.GetLocalPoint(Q);this.localAxisA=this.bodyA.GetLocalVector(M)};Box2D$$module$js$box2d$Box2D.inherit(B,Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint);B.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.prototype;B.b2MouseJoint=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,
arguments);this.K=new b;this.K1=new b;this.K2=new b;this.m_localAnchor=new e;this.m_target=new e;this.m_impulse=new e;this.m_mass=new b;this.m_C=new e};B.prototype.GetAnchorA=function(){return this.m_target};B.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor)};B.prototype.GetReactionForce=function(z){void 0===z&&(z=0);return new e(z*this.m_impulse.x,z*this.m_impulse.y)};B.prototype.GetReactionTorque=function(z){return 0};B.prototype.GetTarget=function(){return this.m_target};
B.prototype.SetTarget=function(z){0==this.m_bodyB.IsAwake()&&this.m_bodyB.SetAwake(!0);this.m_target=z};B.prototype.GetMaxForce=function(){return this.m_maxForce};B.prototype.SetMaxForce=function(z){void 0===z&&(z=0);this.m_maxForce=z};B.prototype.GetFrequency=function(){return this.m_frequencyHz};B.prototype.SetFrequency=function(z){void 0===z&&(z=0);this.m_frequencyHz=z};B.prototype.GetDampingRatio=function(){return this.m_dampingRatio};B.prototype.SetDampingRatio=function(z){void 0===z&&(z=0);
this.m_dampingRatio=z};B.prototype.b2MouseJoint=function(z){this.__super.b2Joint.call(this,z);this.m_target.SetV(z.target);var K=this.m_target.x-this.m_bodyB.m_xf.position.x,Q=this.m_target.y-this.m_bodyB.m_xf.position.y,M=this.m_bodyB.m_xf.R;this.m_localAnchor.x=K*M.col1.x+Q*M.col1.y;this.m_localAnchor.y=K*M.col2.x+Q*M.col2.y;this.m_maxForce=z.maxForce;this.m_impulse.SetZero();this.m_frequencyHz=z.frequencyHz;this.m_dampingRatio=z.dampingRatio;this.m_gamma=this.m_beta=0};B.prototype.InitVelocityConstraints=
function(z){var K=this.m_bodyB,Q=K.GetMass(),M=2*Math.PI*this.m_frequencyHz,L=Q*M*M;this.m_gamma=z.dt*(2*Q*this.m_dampingRatio*M+z.dt*L);this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0;this.m_beta=z.dt*L*this.m_gamma;L=K.m_xf.R;Q=this.m_localAnchor.x-K.m_sweep.localCenter.x;M=this.m_localAnchor.y-K.m_sweep.localCenter.y;var T=L.col1.x*Q+L.col2.x*M;M=L.col1.y*Q+L.col2.y*M;Q=T;L=K.m_invMass;T=K.m_invI;this.K1.col1.x=L;this.K1.col2.x=0;this.K1.col1.y=0;this.K1.col2.y=L;this.K2.col1.x=T*M*M;this.K2.col2.x=
-T*Q*M;this.K2.col1.y=-T*Q*M;this.K2.col2.y=T*Q*Q;this.K.SetM(this.K1);this.K.AddM(this.K2);this.K.col1.x+=this.m_gamma;this.K.col2.y+=this.m_gamma;this.K.GetInverse(this.m_mass);this.m_C.x=K.m_sweep.c.x+Q-this.m_target.x;this.m_C.y=K.m_sweep.c.y+M-this.m_target.y;K.m_angularVelocity*=.98;this.m_impulse.x*=z.dtRatio;this.m_impulse.y*=z.dtRatio;K.m_linearVelocity.x+=L*this.m_impulse.x;K.m_linearVelocity.y+=L*this.m_impulse.y;K.m_angularVelocity+=T*(Q*this.m_impulse.y-M*this.m_impulse.x)};B.prototype.SolveVelocityConstraints=
function(z){var K=this.m_bodyB;var Q=K.m_xf.R;var M=this.m_localAnchor.x-K.m_sweep.localCenter.x,L=this.m_localAnchor.y-K.m_sweep.localCenter.y;var T=Q.col1.x*M+Q.col2.x*L;L=Q.col1.y*M+Q.col2.y*L;M=T;T=K.m_linearVelocity.x+-K.m_angularVelocity*L;var X=K.m_linearVelocity.y+K.m_angularVelocity*M;Q=this.m_mass;T=T+this.m_beta*this.m_C.x+this.m_gamma*this.m_impulse.x;var y=X+this.m_beta*this.m_C.y+this.m_gamma*this.m_impulse.y;X=-(Q.col1.x*T+Q.col2.x*y);y=-(Q.col1.y*T+Q.col2.y*y);Q=this.m_impulse.x;T=
this.m_impulse.y;this.m_impulse.x+=X;this.m_impulse.y+=y;z=z.dt*this.m_maxForce;this.m_impulse.LengthSquared()>z*z&&this.m_impulse.Multiply(z/this.m_impulse.Length());X=this.m_impulse.x-Q;y=this.m_impulse.y-T;K.m_linearVelocity.x+=K.m_invMass*X;K.m_linearVelocity.y+=K.m_invMass*y;K.m_angularVelocity+=K.m_invI*(M*y-L*X)};B.prototype.SolvePositionConstraints=function(z){return!0};Box2D$$module$js$box2d$Box2D.inherit(G,Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef);G.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef.prototype;
G.b2MouseJointDef=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.target=new e};G.prototype.b2MouseJointDef=function(){this.__super.b2JointDef.call(this);this.type=w.e_mouseJoint;this.maxForce=0;this.frequencyHz=5;this.dampingRatio=.7};Box2D$$module$js$box2d$Box2D.inherit(H,Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint);H.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.prototype;H.b2PrismaticJoint=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,
arguments);this.m_localAnchor1=new e;this.m_localAnchor2=new e;this.m_localXAxis1=new e;this.m_localYAxis1=new e;this.m_axis=new e;this.m_perp=new e;this.m_K=new c;this.m_impulse=new g};H.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};H.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};H.prototype.GetReactionForce=function(z){void 0===z&&(z=0);return new e(z*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*
this.m_axis.x),z*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y))};H.prototype.GetReactionTorque=function(z){void 0===z&&(z=0);return z*this.m_impulse.y};H.prototype.GetJointTranslation=function(){var z=this.m_bodyA,K=this.m_bodyB,Q=z.GetWorldPoint(this.m_localAnchor1),M=K.GetWorldPoint(this.m_localAnchor2);K=M.x-Q.x;Q=M.y-Q.y;z=z.GetWorldVector(this.m_localXAxis1);return z.x*K+z.y*Q};H.prototype.GetJointSpeed=function(){var z=this.m_bodyA,K=this.m_bodyB;var Q=
z.m_xf.R;var M=this.m_localAnchor1.x-z.m_sweep.localCenter.x,L=this.m_localAnchor1.y-z.m_sweep.localCenter.y,T=Q.col1.x*M+Q.col2.x*L;L=Q.col1.y*M+Q.col2.y*L;M=T;Q=K.m_xf.R;var X=this.m_localAnchor2.x-K.m_sweep.localCenter.x,y=this.m_localAnchor2.y-K.m_sweep.localCenter.y;T=Q.col1.x*X+Q.col2.x*y;y=Q.col1.y*X+Q.col2.y*y;X=T;Q=K.m_sweep.c.x+X-(z.m_sweep.c.x+M);T=K.m_sweep.c.y+y-(z.m_sweep.c.y+L);var F=z.GetWorldVector(this.m_localXAxis1),R=z.m_linearVelocity,q=K.m_linearVelocity;z=z.m_angularVelocity;
K=K.m_angularVelocity;return Q*-z*F.y+T*z*F.x+(F.x*(q.x+-K*y-R.x- -z*L)+F.y*(q.y+K*X-R.y-z*M))};H.prototype.IsLimitEnabled=function(){return this.m_enableLimit};H.prototype.EnableLimit=function(z){this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_enableLimit=z};H.prototype.GetLowerLimit=function(){return this.m_lowerTranslation};H.prototype.GetUpperLimit=function(){return this.m_upperTranslation};H.prototype.SetLimits=function(z,K){void 0===z&&(z=0);void 0===K&&(K=0);this.m_bodyA.SetAwake(!0);
this.m_bodyB.SetAwake(!0);this.m_lowerTranslation=z;this.m_upperTranslation=K};H.prototype.IsMotorEnabled=function(){return this.m_enableMotor};H.prototype.EnableMotor=function(z){this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_enableMotor=z};H.prototype.SetMotorSpeed=function(z){void 0===z&&(z=0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_motorSpeed=z};H.prototype.GetMotorSpeed=function(){return this.m_motorSpeed};H.prototype.SetMaxMotorForce=function(z){void 0===z&&(z=
0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_maxMotorForce=z};H.prototype.GetMotorForce=function(){return this.m_motorImpulse};H.prototype.b2PrismaticJoint=function(z){this.__super.b2Joint.call(this,z);this.m_localAnchor1.SetV(z.localAnchorA);this.m_localAnchor2.SetV(z.localAnchorB);this.m_localXAxis1.SetV(z.localAxisA);this.m_localYAxis1.x=-this.m_localXAxis1.y;this.m_localYAxis1.y=this.m_localXAxis1.x;this.m_refAngle=z.referenceAngle;this.m_impulse.SetZero();this.m_motorImpulse=
this.m_motorMass=0;this.m_lowerTranslation=z.lowerTranslation;this.m_upperTranslation=z.upperTranslation;this.m_maxMotorForce=z.maxMotorForce;this.m_motorSpeed=z.motorSpeed;this.m_enableLimit=z.enableLimit;this.m_enableMotor=z.enableMotor;this.m_limitState=w.e_inactiveLimit;this.m_axis.SetZero();this.m_perp.SetZero()};H.prototype.InitVelocityConstraints=function(z){var K=this.m_bodyA,Q=this.m_bodyB;this.m_localCenterA.SetV(K.GetLocalCenter());this.m_localCenterB.SetV(Q.GetLocalCenter());var M=K.GetTransform();
Q.GetTransform();var L=K.m_xf.R;var T=this.m_localAnchor1.x-this.m_localCenterA.x,X=this.m_localAnchor1.y-this.m_localCenterA.y;var y=L.col1.x*T+L.col2.x*X;X=L.col1.y*T+L.col2.y*X;T=y;L=Q.m_xf.R;var F=this.m_localAnchor2.x-this.m_localCenterB.x,R=this.m_localAnchor2.y-this.m_localCenterB.y;y=L.col1.x*F+L.col2.x*R;R=L.col1.y*F+L.col2.y*R;F=y;L=Q.m_sweep.c.x+F-K.m_sweep.c.x-T;y=Q.m_sweep.c.y+R-K.m_sweep.c.y-X;this.m_invMassA=K.m_invMass;this.m_invMassB=Q.m_invMass;this.m_invIA=K.m_invI;this.m_invIB=
Q.m_invI;this.m_axis.SetV(d.MulMV(M.R,this.m_localXAxis1));this.m_a1=(L+T)*this.m_axis.y-(y+X)*this.m_axis.x;this.m_a2=F*this.m_axis.y-R*this.m_axis.x;this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2;this.m_motorMass>Number.MIN_VALUE&&(this.m_motorMass=1/this.m_motorMass);this.m_perp.SetV(d.MulMV(M.R,this.m_localYAxis1));this.m_s1=(L+T)*this.m_perp.y-(y+X)*this.m_perp.x;this.m_s2=F*this.m_perp.y-R*this.m_perp.x;M=this.m_invMassA;T=
this.m_invMassB;X=this.m_invIA;F=this.m_invIB;this.m_K.col1.x=M+T+X*this.m_s1*this.m_s1+F*this.m_s2*this.m_s2;this.m_K.col1.y=X*this.m_s1+F*this.m_s2;this.m_K.col1.z=X*this.m_s1*this.m_a1+F*this.m_s2*this.m_a2;this.m_K.col2.x=this.m_K.col1.y;this.m_K.col2.y=X+F;this.m_K.col2.z=X*this.m_a1+F*this.m_a2;this.m_K.col3.x=this.m_K.col1.z;this.m_K.col3.y=this.m_K.col2.z;this.m_K.col3.z=M+T+X*this.m_a1*this.m_a1+F*this.m_a2*this.m_a2;this.m_enableLimit?(L=this.m_axis.x*L+this.m_axis.y*y,d.Abs(this.m_upperTranslation-
this.m_lowerTranslation)<2*a.b2_linearSlop?this.m_limitState=w.e_equalLimits:L<=this.m_lowerTranslation?this.m_limitState!=w.e_atLowerLimit&&(this.m_limitState=w.e_atLowerLimit,this.m_impulse.z=0):L>=this.m_upperTranslation?this.m_limitState!=w.e_atUpperLimit&&(this.m_limitState=w.e_atUpperLimit,this.m_impulse.z=0):(this.m_limitState=w.e_inactiveLimit,this.m_impulse.z=0)):this.m_limitState=w.e_inactiveLimit;0==this.m_enableMotor&&(this.m_motorImpulse=0);z.warmStarting?(this.m_impulse.x*=z.dtRatio,
this.m_impulse.y*=z.dtRatio,this.m_motorImpulse*=z.dtRatio,z=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x,L=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y,y=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,M=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2,K.m_linearVelocity.x-=this.m_invMassA*z,K.m_linearVelocity.y-=this.m_invMassA*L,
K.m_angularVelocity-=this.m_invIA*y,Q.m_linearVelocity.x+=this.m_invMassB*z,Q.m_linearVelocity.y+=this.m_invMassB*L,Q.m_angularVelocity+=this.m_invIB*M):(this.m_impulse.SetZero(),this.m_motorImpulse=0)};H.prototype.SolveVelocityConstraints=function(z){var K=this.m_bodyA,Q=this.m_bodyB,M=K.m_linearVelocity,L=K.m_angularVelocity,T=Q.m_linearVelocity,X=Q.m_angularVelocity;if(this.m_enableMotor&&this.m_limitState!=w.e_equalLimits){var y=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*(T.x-M.x)+this.m_axis.y*
(T.y-M.y)+this.m_a2*X-this.m_a1*L));var F=this.m_motorImpulse;z=z.dt*this.m_maxMotorForce;this.m_motorImpulse=d.Clamp(this.m_motorImpulse+y,-z,z);y=this.m_motorImpulse-F;F=y*this.m_axis.x;z=y*this.m_axis.y;var R=y*this.m_a1;y*=this.m_a2;M.x-=this.m_invMassA*F;M.y-=this.m_invMassA*z;L-=this.m_invIA*R;T.x+=this.m_invMassB*F;T.y+=this.m_invMassB*z;X+=this.m_invIB*y}R=this.m_perp.x*(T.x-M.x)+this.m_perp.y*(T.y-M.y)+this.m_s2*X-this.m_s1*L;z=X-L;this.m_enableLimit&&this.m_limitState!=w.e_inactiveLimit?
(y=this.m_axis.x*(T.x-M.x)+this.m_axis.y*(T.y-M.y)+this.m_a2*X-this.m_a1*L,F=this.m_impulse.Copy(),y=this.m_K.Solve33(new g,-R,-z,-y),this.m_impulse.Add(y),this.m_limitState==w.e_atLowerLimit?this.m_impulse.z=d.Max(this.m_impulse.z,0):this.m_limitState==w.e_atUpperLimit&&(this.m_impulse.z=d.Min(this.m_impulse.z,0)),R=-R-(this.m_impulse.z-F.z)*this.m_K.col3.x,z=-z-(this.m_impulse.z-F.z)*this.m_K.col3.y,z=this.m_K.Solve22(new e,R,z),z.x+=F.x,z.y+=F.y,this.m_impulse.x=z.x,this.m_impulse.y=z.y,y.x=this.m_impulse.x-
F.x,y.y=this.m_impulse.y-F.y,y.z=this.m_impulse.z-F.z,F=y.x*this.m_perp.x+y.z*this.m_axis.x,z=y.x*this.m_perp.y+y.z*this.m_axis.y,R=y.x*this.m_s1+y.y+y.z*this.m_a1,y=y.x*this.m_s2+y.y+y.z*this.m_a2):(y=this.m_K.Solve22(new e,-R,-z),this.m_impulse.x+=y.x,this.m_impulse.y+=y.y,F=y.x*this.m_perp.x,z=y.x*this.m_perp.y,R=y.x*this.m_s1+y.y,y=y.x*this.m_s2+y.y);M.x-=this.m_invMassA*F;M.y-=this.m_invMassA*z;L-=this.m_invIA*R;T.x+=this.m_invMassB*F;T.y+=this.m_invMassB*z;X+=this.m_invIB*y;K.m_linearVelocity.SetV(M);
K.m_angularVelocity=L;Q.m_linearVelocity.SetV(T);Q.m_angularVelocity=X};H.prototype.SolvePositionConstraints=function(z){z=this.m_bodyA;var K=this.m_bodyB,Q=z.m_sweep.c,M=z.m_sweep.a,L=K.m_sweep.c,T=K.m_sweep.a,X=0;var y=!1;var F=0,R=b.FromAngle(M),q=b.FromAngle(T);var v=R;var u=this.m_localAnchor1.x-this.m_localCenterA.x;var D=this.m_localAnchor1.y-this.m_localCenterA.y;var I=v.col1.x*u+v.col2.x*D;D=v.col1.y*u+v.col2.y*D;u=I;v=q;q=this.m_localAnchor2.x-this.m_localCenterB.x;var S=this.m_localAnchor2.y-
this.m_localCenterB.y;I=v.col1.x*q+v.col2.x*S;S=v.col1.y*q+v.col2.y*S;q=I;v=L.x+q-Q.x-u;I=L.y+S-Q.y-D;if(this.m_enableLimit){this.m_axis=d.MulMV(R,this.m_localXAxis1);this.m_a1=(v+u)*this.m_axis.y-(I+D)*this.m_axis.x;this.m_a2=q*this.m_axis.y-S*this.m_axis.x;var P=this.m_axis.x*v+this.m_axis.y*I;d.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*a.b2_linearSlop?(F=d.Clamp(P,-a.b2_maxLinearCorrection,a.b2_maxLinearCorrection),X=d.Abs(P),y=!0):P<=this.m_lowerTranslation?(F=d.Clamp(P-this.m_lowerTranslation+
a.b2_linearSlop,-a.b2_maxLinearCorrection,0),X=this.m_lowerTranslation-P,y=!0):P>=this.m_upperTranslation&&(F=d.Clamp(P-this.m_upperTranslation+a.b2_linearSlop,0,a.b2_maxLinearCorrection),X=P-this.m_upperTranslation,y=!0)}this.m_perp=d.MulMV(R,this.m_localYAxis1);this.m_s1=(v+u)*this.m_perp.y-(I+D)*this.m_perp.x;this.m_s2=q*this.m_perp.y-S*this.m_perp.x;R=new g;D=this.m_perp.x*v+this.m_perp.y*I;q=T-M-this.m_refAngle;X=d.Max(X,d.Abs(D));u=d.Abs(q);y?(y=this.m_invMassA,S=this.m_invMassB,v=this.m_invIA,
I=this.m_invIB,this.m_K.col1.x=y+S+v*this.m_s1*this.m_s1+I*this.m_s2*this.m_s2,this.m_K.col1.y=v*this.m_s1+I*this.m_s2,this.m_K.col1.z=v*this.m_s1*this.m_a1+I*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=v+I,this.m_K.col2.z=v*this.m_a1+I*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=y+S+v*this.m_a1*this.m_a1+I*this.m_a2*this.m_a2,this.m_K.Solve33(R,-D,-q,-F)):(y=this.m_invMassA,S=this.m_invMassB,v=this.m_invIA,I=this.m_invIB,F=v*this.m_s1+
I*this.m_s2,P=v+I,this.m_K.col1.Set(y+S+v*this.m_s1*this.m_s1+I*this.m_s2*this.m_s2,F,0),this.m_K.col2.Set(F,P,0),F=this.m_K.Solve22(new e,-D,-q),R.x=F.x,R.y=F.y,R.z=0);F=R.x*this.m_perp.x+R.z*this.m_axis.x;y=R.x*this.m_perp.y+R.z*this.m_axis.y;D=R.x*this.m_s1+R.y+R.z*this.m_a1;R=R.x*this.m_s2+R.y+R.z*this.m_a2;Q.x-=this.m_invMassA*F;Q.y-=this.m_invMassA*y;M-=this.m_invIA*D;L.x+=this.m_invMassB*F;L.y+=this.m_invMassB*y;T+=this.m_invIB*R;z.m_sweep.a=M;K.m_sweep.a=T;z.SynchronizeTransform();K.SynchronizeTransform();
return X<=a.b2_linearSlop&&u<=a.b2_angularSlop};Box2D$$module$js$box2d$Box2D.inherit(O,Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef);O.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef.prototype;O.b2PrismaticJointDef=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.localAnchorA=new e;this.localAnchorB=new e;this.localAxisA=new e};O.prototype.b2PrismaticJointDef=function(){this.__super.b2JointDef.call(this);
this.type=w.e_prismaticJoint;this.localAxisA.Set(1,0);this.referenceAngle=0;this.enableLimit=!1;this.upperTranslation=this.lowerTranslation=0;this.enableMotor=!1;this.motorSpeed=this.maxMotorForce=0};O.prototype.Initialize=function(z,K,Q,M){this.bodyA=z;this.bodyB=K;this.localAnchorA=this.bodyA.GetLocalPoint(Q);this.localAnchorB=this.bodyB.GetLocalPoint(Q);this.localAxisA=this.bodyA.GetLocalVector(M);this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()};Box2D$$module$js$box2d$Box2D.inherit(N,
Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint);N.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.prototype;N.b2PulleyJoint=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_groundAnchor1=new e;this.m_groundAnchor2=new e;this.m_localAnchor1=new e;this.m_localAnchor2=new e;this.m_u1=new e;this.m_u2=new e};N.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};N.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};
N.prototype.GetReactionForce=function(z){void 0===z&&(z=0);return new e(z*this.m_impulse*this.m_u2.x,z*this.m_impulse*this.m_u2.y)};N.prototype.GetReactionTorque=function(z){return 0};N.prototype.GetGroundAnchorA=function(){var z=this.m_ground.m_xf.position.Copy();z.Add(this.m_groundAnchor1);return z};N.prototype.GetGroundAnchorB=function(){var z=this.m_ground.m_xf.position.Copy();z.Add(this.m_groundAnchor2);return z};N.prototype.GetLength1=function(){var z=this.m_bodyA.GetWorldPoint(this.m_localAnchor1),
K=z.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x);z=z.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y);return Math.sqrt(K*K+z*z)};N.prototype.GetLength2=function(){var z=this.m_bodyB.GetWorldPoint(this.m_localAnchor2),K=z.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor2.x);z=z.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor2.y);return Math.sqrt(K*K+z*z)};N.prototype.GetRatio=function(){return this.m_ratio};N.prototype.b2PulleyJoint=function(z){this.__super.b2Joint.call(this,
z);this.m_ground=this.m_bodyA.m_world.m_groundBody;this.m_groundAnchor1.x=z.groundAnchorA.x-this.m_ground.m_xf.position.x;this.m_groundAnchor1.y=z.groundAnchorA.y-this.m_ground.m_xf.position.y;this.m_groundAnchor2.x=z.groundAnchorB.x-this.m_ground.m_xf.position.x;this.m_groundAnchor2.y=z.groundAnchorB.y-this.m_ground.m_xf.position.y;this.m_localAnchor1.SetV(z.localAnchorA);this.m_localAnchor2.SetV(z.localAnchorB);this.m_ratio=z.ratio;this.m_constant=z.lengthA+this.m_ratio*z.lengthB;this.m_maxLength1=
d.Min(z.maxLengthA,this.m_constant-this.m_ratio*N.b2_minPulleyLength);this.m_maxLength2=d.Min(z.maxLengthB,(this.m_constant-N.b2_minPulleyLength)/this.m_ratio);this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0};N.prototype.InitVelocityConstraints=function(z){var K=this.m_bodyA,Q=this.m_bodyB;var M=K.m_xf.R;var L=this.m_localAnchor1.x-K.m_sweep.localCenter.x,T=this.m_localAnchor1.y-K.m_sweep.localCenter.y,X=M.col1.x*L+M.col2.x*T;T=M.col1.y*L+M.col2.y*T;L=X;M=Q.m_xf.R;var y=this.m_localAnchor2.x-
Q.m_sweep.localCenter.x,F=this.m_localAnchor2.y-Q.m_sweep.localCenter.y;X=M.col1.x*y+M.col2.x*F;F=M.col1.y*y+M.col2.y*F;y=X;M=Q.m_sweep.c.x+y;X=Q.m_sweep.c.y+F;var R=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,q=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y;this.m_u1.Set(K.m_sweep.c.x+L-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x),K.m_sweep.c.y+T-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y));this.m_u2.Set(M-R,X-q);M=this.m_u1.Length();X=this.m_u2.Length();M>a.b2_linearSlop?
this.m_u1.Multiply(1/M):this.m_u1.SetZero();X>a.b2_linearSlop?this.m_u2.Multiply(1/X):this.m_u2.SetZero();0<this.m_constant-M-this.m_ratio*X?(this.m_state=w.e_inactiveLimit,this.m_impulse=0):this.m_state=w.e_atUpperLimit;M<this.m_maxLength1?(this.m_limitState1=w.e_inactiveLimit,this.m_limitImpulse1=0):this.m_limitState1=w.e_atUpperLimit;X<this.m_maxLength2?(this.m_limitState2=w.e_inactiveLimit,this.m_limitImpulse2=0):this.m_limitState2=w.e_atUpperLimit;M=L*this.m_u1.y-T*this.m_u1.x;X=y*this.m_u2.y-
F*this.m_u2.x;this.m_limitMass1=K.m_invMass+K.m_invI*M*M;this.m_limitMass2=Q.m_invMass+Q.m_invI*X*X;this.m_pulleyMass=this.m_limitMass1+this.m_ratio*this.m_ratio*this.m_limitMass2;this.m_limitMass1=1/this.m_limitMass1;this.m_limitMass2=1/this.m_limitMass2;this.m_pulleyMass=1/this.m_pulleyMass;z.warmStarting?(this.m_impulse*=z.dtRatio,this.m_limitImpulse1*=z.dtRatio,this.m_limitImpulse2*=z.dtRatio,z=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.x,M=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.y,
X=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.x,R=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.y,K.m_linearVelocity.x+=K.m_invMass*z,K.m_linearVelocity.y+=K.m_invMass*M,K.m_angularVelocity+=K.m_invI*(L*M-T*z),Q.m_linearVelocity.x+=Q.m_invMass*X,Q.m_linearVelocity.y+=Q.m_invMass*R,Q.m_angularVelocity+=Q.m_invI*(y*R-F*X)):this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0};N.prototype.SolveVelocityConstraints=function(z){z=this.m_bodyA;var K=this.m_bodyB;var Q=
z.m_xf.R;var M=this.m_localAnchor1.x-z.m_sweep.localCenter.x,L=this.m_localAnchor1.y-z.m_sweep.localCenter.y,T=Q.col1.x*M+Q.col2.x*L;L=Q.col1.y*M+Q.col2.y*L;M=T;Q=K.m_xf.R;var X=this.m_localAnchor2.x-K.m_sweep.localCenter.x,y=this.m_localAnchor2.y-K.m_sweep.localCenter.y;T=Q.col1.x*X+Q.col2.x*y;y=Q.col1.y*X+Q.col2.y*y;X=T;if(this.m_state==w.e_atUpperLimit){Q=z.m_linearVelocity.x+-z.m_angularVelocity*L;T=z.m_linearVelocity.y+z.m_angularVelocity*M;var F=K.m_linearVelocity.x+-K.m_angularVelocity*y;var R=
K.m_linearVelocity.y+K.m_angularVelocity*X;Q=-(this.m_u1.x*Q+this.m_u1.y*T)-this.m_ratio*(this.m_u2.x*F+this.m_u2.y*R);R=this.m_pulleyMass*-Q;Q=this.m_impulse;this.m_impulse=d.Max(0,this.m_impulse+R);R=this.m_impulse-Q;Q=-R*this.m_u1.x;T=-R*this.m_u1.y;F=-this.m_ratio*R*this.m_u2.x;R=-this.m_ratio*R*this.m_u2.y;z.m_linearVelocity.x+=z.m_invMass*Q;z.m_linearVelocity.y+=z.m_invMass*T;z.m_angularVelocity+=z.m_invI*(M*T-L*Q);K.m_linearVelocity.x+=K.m_invMass*F;K.m_linearVelocity.y+=K.m_invMass*R;K.m_angularVelocity+=
K.m_invI*(X*R-y*F)}this.m_limitState1==w.e_atUpperLimit&&(Q=z.m_linearVelocity.x+-z.m_angularVelocity*L,T=z.m_linearVelocity.y+z.m_angularVelocity*M,Q=-(this.m_u1.x*Q+this.m_u1.y*T),R=-this.m_limitMass1*Q,Q=this.m_limitImpulse1,this.m_limitImpulse1=d.Max(0,this.m_limitImpulse1+R),R=this.m_limitImpulse1-Q,Q=-R*this.m_u1.x,T=-R*this.m_u1.y,z.m_linearVelocity.x+=z.m_invMass*Q,z.m_linearVelocity.y+=z.m_invMass*T,z.m_angularVelocity+=z.m_invI*(M*T-L*Q));this.m_limitState2==w.e_atUpperLimit&&(F=K.m_linearVelocity.x+
-K.m_angularVelocity*y,R=K.m_linearVelocity.y+K.m_angularVelocity*X,Q=-(this.m_u2.x*F+this.m_u2.y*R),R=-this.m_limitMass2*Q,Q=this.m_limitImpulse2,this.m_limitImpulse2=d.Max(0,this.m_limitImpulse2+R),R=this.m_limitImpulse2-Q,F=-R*this.m_u2.x,R=-R*this.m_u2.y,K.m_linearVelocity.x+=K.m_invMass*F,K.m_linearVelocity.y+=K.m_invMass*R,K.m_angularVelocity+=K.m_invI*(X*R-y*F))};N.prototype.SolvePositionConstraints=function(z){z=this.m_bodyA;var K=this.m_bodyB,Q=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,
M=this.m_ground.m_xf.position.y+this.m_groundAnchor1.y,L=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,T=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y,X=0;if(this.m_state==w.e_atUpperLimit){var y=z.m_xf.R;var F=this.m_localAnchor1.x-z.m_sweep.localCenter.x;var R=this.m_localAnchor1.y-z.m_sweep.localCenter.y;var q=y.col1.x*F+y.col2.x*R;R=y.col1.y*F+y.col2.y*R;F=q;y=K.m_xf.R;var v=this.m_localAnchor2.x-K.m_sweep.localCenter.x;var u=this.m_localAnchor2.y-K.m_sweep.localCenter.y;q=y.col1.x*
v+y.col2.x*u;u=y.col1.y*v+y.col2.y*u;v=q;y=z.m_sweep.c.x+F;q=z.m_sweep.c.y+R;var D=K.m_sweep.c.x+v;var I=K.m_sweep.c.y+u;this.m_u1.Set(y-Q,q-M);this.m_u2.Set(D-L,I-T);y=this.m_u1.Length();q=this.m_u2.Length();y>a.b2_linearSlop?this.m_u1.Multiply(1/y):this.m_u1.SetZero();q>a.b2_linearSlop?this.m_u2.Multiply(1/q):this.m_u2.SetZero();y=this.m_constant-y-this.m_ratio*q;X=d.Max(X,-y);y=d.Clamp(y+a.b2_linearSlop,-a.b2_maxLinearCorrection,0);I=-this.m_pulleyMass*y;y=-I*this.m_u1.x;q=-I*this.m_u1.y;D=-this.m_ratio*
I*this.m_u2.x;I=-this.m_ratio*I*this.m_u2.y;z.m_sweep.c.x+=z.m_invMass*y;z.m_sweep.c.y+=z.m_invMass*q;z.m_sweep.a+=z.m_invI*(F*q-R*y);K.m_sweep.c.x+=K.m_invMass*D;K.m_sweep.c.y+=K.m_invMass*I;K.m_sweep.a+=K.m_invI*(v*I-u*D);z.SynchronizeTransform();K.SynchronizeTransform()}this.m_limitState1==w.e_atUpperLimit&&(y=z.m_xf.R,F=this.m_localAnchor1.x-z.m_sweep.localCenter.x,R=this.m_localAnchor1.y-z.m_sweep.localCenter.y,q=y.col1.x*F+y.col2.x*R,R=y.col1.y*F+y.col2.y*R,F=q,y=z.m_sweep.c.x+F,q=z.m_sweep.c.y+
R,this.m_u1.Set(y-Q,q-M),y=this.m_u1.Length(),y>a.b2_linearSlop?(this.m_u1.x*=1/y,this.m_u1.y*=1/y):this.m_u1.SetZero(),y=this.m_maxLength1-y,X=d.Max(X,-y),y=d.Clamp(y+a.b2_linearSlop,-a.b2_maxLinearCorrection,0),I=-this.m_limitMass1*y,y=-I*this.m_u1.x,q=-I*this.m_u1.y,z.m_sweep.c.x+=z.m_invMass*y,z.m_sweep.c.y+=z.m_invMass*q,z.m_sweep.a+=z.m_invI*(F*q-R*y),z.SynchronizeTransform());this.m_limitState2==w.e_atUpperLimit&&(y=K.m_xf.R,v=this.m_localAnchor2.x-K.m_sweep.localCenter.x,u=this.m_localAnchor2.y-
K.m_sweep.localCenter.y,q=y.col1.x*v+y.col2.x*u,u=y.col1.y*v+y.col2.y*u,v=q,D=K.m_sweep.c.x+v,I=K.m_sweep.c.y+u,this.m_u2.Set(D-L,I-T),q=this.m_u2.Length(),q>a.b2_linearSlop?(this.m_u2.x*=1/q,this.m_u2.y*=1/q):this.m_u2.SetZero(),y=this.m_maxLength2-q,X=d.Max(X,-y),y=d.Clamp(y+a.b2_linearSlop,-a.b2_maxLinearCorrection,0),I=-this.m_limitMass2*y,D=-I*this.m_u2.x,I=-I*this.m_u2.y,K.m_sweep.c.x+=K.m_invMass*D,K.m_sweep.c.y+=K.m_invMass*I,K.m_sweep.a+=K.m_invI*(v*I-u*D),K.SynchronizeTransform());return X<
a.b2_linearSlop};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2PulleyJoint.b2_minPulleyLength=2});Box2D$$module$js$box2d$Box2D.inherit(U,Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef);U.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef.prototype;U.b2PulleyJointDef=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.groundAnchorA=new e;this.groundAnchorB=new e;
this.localAnchorA=new e;this.localAnchorB=new e};U.prototype.b2PulleyJointDef=function(){this.__super.b2JointDef.call(this);this.type=w.e_pulleyJoint;this.groundAnchorA.Set(-1,1);this.groundAnchorB.Set(1,1);this.localAnchorA.Set(-1,0);this.localAnchorB.Set(1,0);this.maxLengthB=this.lengthB=this.maxLengthA=this.lengthA=0;this.ratio=1;this.collideConnected=!0};U.prototype.Initialize=function(z,K,Q,M,L,T,X){void 0===X&&(X=0);this.bodyA=z;this.bodyB=K;this.groundAnchorA.SetV(Q);this.groundAnchorB.SetV(M);
this.localAnchorA=this.bodyA.GetLocalPoint(L);this.localAnchorB=this.bodyB.GetLocalPoint(T);z=L.x-Q.x;Q=L.y-Q.y;this.lengthA=Math.sqrt(z*z+Q*Q);Q=T.x-M.x;M=T.y-M.y;this.lengthB=Math.sqrt(Q*Q+M*M);this.ratio=X;X=this.lengthA+this.ratio*this.lengthB;this.maxLengthA=X-this.ratio*N.b2_minPulleyLength;this.maxLengthB=(X-N.b2_minPulleyLength)/this.ratio};Box2D$$module$js$box2d$Box2D.inherit(W,Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint);W.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.prototype;
W.b2RevoluteJoint=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.K=new b;this.K1=new b;this.K2=new b;this.K3=new b;this.impulse3=new g;this.impulse2=new e;this.reduced=new e;this.m_localAnchor1=new e;this.m_localAnchor2=new e;this.m_impulse=new g;this.m_mass=new c};W.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};W.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};W.prototype.GetReactionForce=
function(z){void 0===z&&(z=0);return new e(z*this.m_impulse.x,z*this.m_impulse.y)};W.prototype.GetReactionTorque=function(z){void 0===z&&(z=0);return z*this.m_impulse.z};W.prototype.GetJointAngle=function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle};W.prototype.GetJointSpeed=function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity};W.prototype.IsLimitEnabled=function(){return this.m_enableLimit};W.prototype.EnableLimit=function(z){this.m_enableLimit=
z};W.prototype.GetLowerLimit=function(){return this.m_lowerAngle};W.prototype.GetUpperLimit=function(){return this.m_upperAngle};W.prototype.SetLimits=function(z,K){void 0===z&&(z=0);void 0===K&&(K=0);this.m_lowerAngle=z;this.m_upperAngle=K};W.prototype.IsMotorEnabled=function(){this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);return this.m_enableMotor};W.prototype.EnableMotor=function(z){this.m_enableMotor=z};W.prototype.SetMotorSpeed=function(z){void 0===z&&(z=0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);
this.m_motorSpeed=z};W.prototype.GetMotorSpeed=function(){return this.m_motorSpeed};W.prototype.SetMaxMotorTorque=function(z){void 0===z&&(z=0);this.m_maxMotorTorque=z};W.prototype.GetMotorTorque=function(){return this.m_maxMotorTorque};W.prototype.b2RevoluteJoint=function(z){this.__super.b2Joint.call(this,z);this.m_localAnchor1.SetV(z.localAnchorA);this.m_localAnchor2.SetV(z.localAnchorB);this.m_referenceAngle=z.referenceAngle;this.m_impulse.SetZero();this.m_motorImpulse=0;this.m_lowerAngle=z.lowerAngle;
this.m_upperAngle=z.upperAngle;this.m_maxMotorTorque=z.maxMotorTorque;this.m_motorSpeed=z.motorSpeed;this.m_enableLimit=z.enableLimit;this.m_enableMotor=z.enableMotor;this.m_limitState=w.e_inactiveLimit};W.prototype.InitVelocityConstraints=function(z){var K=this.m_bodyA,Q=this.m_bodyB;var M=K.m_xf.R;var L=this.m_localAnchor1.x-K.m_sweep.localCenter.x,T=this.m_localAnchor1.y-K.m_sweep.localCenter.y;var X=M.col1.x*L+M.col2.x*T;T=M.col1.y*L+M.col2.y*T;L=X;M=Q.m_xf.R;var y=this.m_localAnchor2.x-Q.m_sweep.localCenter.x,
F=this.m_localAnchor2.y-Q.m_sweep.localCenter.y;X=M.col1.x*y+M.col2.x*F;F=M.col1.y*y+M.col2.y*F;y=X;M=K.m_invMass;X=Q.m_invMass;var R=K.m_invI,q=Q.m_invI;this.m_mass.col1.x=M+X+T*T*R+F*F*q;this.m_mass.col2.x=-T*L*R-F*y*q;this.m_mass.col3.x=-T*R-F*q;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=M+X+L*L*R+y*y*q;this.m_mass.col3.y=L*R+y*q;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=R+q;this.m_motorMass=1/(R+q);0==this.m_enableMotor&&(this.m_motorImpulse=
0);if(this.m_enableLimit){var v=Q.m_sweep.a-K.m_sweep.a-this.m_referenceAngle;d.Abs(this.m_upperAngle-this.m_lowerAngle)<2*a.b2_angularSlop?this.m_limitState=w.e_equalLimits:v<=this.m_lowerAngle?(this.m_limitState!=w.e_atLowerLimit&&(this.m_impulse.z=0),this.m_limitState=w.e_atLowerLimit):v>=this.m_upperAngle?(this.m_limitState!=w.e_atUpperLimit&&(this.m_impulse.z=0),this.m_limitState=w.e_atUpperLimit):(this.m_limitState=w.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=w.e_inactiveLimit;
z.warmStarting?(this.m_impulse.x*=z.dtRatio,this.m_impulse.y*=z.dtRatio,this.m_motorImpulse*=z.dtRatio,z=this.m_impulse.x,v=this.m_impulse.y,K.m_linearVelocity.x-=M*z,K.m_linearVelocity.y-=M*v,K.m_angularVelocity-=R*(L*v-T*z+this.m_motorImpulse+this.m_impulse.z),Q.m_linearVelocity.x+=X*z,Q.m_linearVelocity.y+=X*v,Q.m_angularVelocity+=q*(y*v-F*z+this.m_motorImpulse+this.m_impulse.z)):(this.m_impulse.SetZero(),this.m_motorImpulse=0)};W.prototype.SolveVelocityConstraints=function(z){var K=this.m_bodyA,
Q=this.m_bodyB,M=K.m_linearVelocity,L=K.m_angularVelocity,T=Q.m_linearVelocity,X=Q.m_angularVelocity,y=K.m_invMass,F=Q.m_invMass,R=K.m_invI,q=Q.m_invI;if(this.m_enableMotor&&this.m_limitState!=w.e_equalLimits){var v=this.m_motorMass*-(X-L-this.m_motorSpeed);var u=this.m_motorImpulse;z=z.dt*this.m_maxMotorTorque;this.m_motorImpulse=d.Clamp(this.m_motorImpulse+v,-z,z);v=this.m_motorImpulse-u;L-=R*v;X+=q*v}if(this.m_enableLimit&&this.m_limitState!=w.e_inactiveLimit){var D=K.m_xf.R;v=this.m_localAnchor1.x-
K.m_sweep.localCenter.x;u=this.m_localAnchor1.y-K.m_sweep.localCenter.y;var I=D.col1.x*v+D.col2.x*u;u=D.col1.y*v+D.col2.y*u;v=I;D=Q.m_xf.R;z=this.m_localAnchor2.x-Q.m_sweep.localCenter.x;var S=this.m_localAnchor2.y-Q.m_sweep.localCenter.y;I=D.col1.x*z+D.col2.x*S;S=D.col1.y*z+D.col2.y*S;z=I;I=T.x+-X*S-M.x- -L*u;var P=T.y+X*z-M.y-L*v;this.m_mass.Solve33(this.impulse3,-I,-P,-(X-L));this.m_limitState==w.e_equalLimits?this.m_impulse.Add(this.impulse3):this.m_limitState==w.e_atLowerLimit?(D=this.m_impulse.z+
this.impulse3.z,0>D&&(this.m_mass.Solve22(this.reduced,-I,-P),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0)):this.m_limitState==w.e_atUpperLimit&&(D=this.m_impulse.z+this.impulse3.z,0<D&&(this.m_mass.Solve22(this.reduced,-I,-P),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=
this.reduced.y,this.m_impulse.z=0));M.x-=y*this.impulse3.x;M.y-=y*this.impulse3.y;L-=R*(v*this.impulse3.y-u*this.impulse3.x+this.impulse3.z);T.x+=F*this.impulse3.x;T.y+=F*this.impulse3.y;X+=q*(z*this.impulse3.y-S*this.impulse3.x+this.impulse3.z)}else D=K.m_xf.R,v=this.m_localAnchor1.x-K.m_sweep.localCenter.x,u=this.m_localAnchor1.y-K.m_sweep.localCenter.y,I=D.col1.x*v+D.col2.x*u,u=D.col1.y*v+D.col2.y*u,v=I,D=Q.m_xf.R,z=this.m_localAnchor2.x-Q.m_sweep.localCenter.x,S=this.m_localAnchor2.y-Q.m_sweep.localCenter.y,
I=D.col1.x*z+D.col2.x*S,S=D.col1.y*z+D.col2.y*S,z=I,this.m_mass.Solve22(this.impulse2,-(T.x+-X*S-M.x- -L*u),-(T.y+X*z-M.y-L*v)),this.m_impulse.x+=this.impulse2.x,this.m_impulse.y+=this.impulse2.y,M.x-=y*this.impulse2.x,M.y-=y*this.impulse2.y,L-=R*(v*this.impulse2.y-u*this.impulse2.x),T.x+=F*this.impulse2.x,T.y+=F*this.impulse2.y,X+=q*(z*this.impulse2.y-S*this.impulse2.x);K.m_linearVelocity.SetV(M);K.m_angularVelocity=L;Q.m_linearVelocity.SetV(T);Q.m_angularVelocity=X};W.prototype.SolvePositionConstraints=
function(z){z=this.m_bodyA;var K=this.m_bodyB,Q=0;if(this.m_enableLimit&&this.m_limitState!=w.e_inactiveLimit){var M=K.m_sweep.a-z.m_sweep.a-this.m_referenceAngle;var L=0;this.m_limitState==w.e_equalLimits?(M=d.Clamp(M-this.m_lowerAngle,-a.b2_maxAngularCorrection,a.b2_maxAngularCorrection),L=-this.m_motorMass*M,Q=d.Abs(M)):this.m_limitState==w.e_atLowerLimit?(M-=this.m_lowerAngle,Q=-M,M=d.Clamp(M+a.b2_angularSlop,-a.b2_maxAngularCorrection,0),L=-this.m_motorMass*M):this.m_limitState==w.e_atUpperLimit&&
(Q=M-=this.m_upperAngle,M=d.Clamp(M-a.b2_angularSlop,0,a.b2_maxAngularCorrection),L=-this.m_motorMass*M);z.m_sweep.a-=z.m_invI*L;K.m_sweep.a+=K.m_invI*L;z.SynchronizeTransform();K.SynchronizeTransform()}var T=z.m_xf.R;L=this.m_localAnchor1.x-z.m_sweep.localCenter.x;M=this.m_localAnchor1.y-z.m_sweep.localCenter.y;var X=T.col1.x*L+T.col2.x*M;M=T.col1.y*L+T.col2.y*M;L=X;T=K.m_xf.R;var y=this.m_localAnchor2.x-K.m_sweep.localCenter.x,F=this.m_localAnchor2.y-K.m_sweep.localCenter.y;X=T.col1.x*y+T.col2.x*
F;F=T.col1.y*y+T.col2.y*F;y=X;var R=K.m_sweep.c.x+y-z.m_sweep.c.x-L;var q=K.m_sweep.c.y+F-z.m_sweep.c.y-M;var v=R*R+q*q;T=Math.sqrt(v);X=z.m_invMass;var u=K.m_invMass,D=z.m_invI,I=K.m_invI,S=10*a.b2_linearSlop;v>S*S&&(v=1/(X+u),R=v*-R,q=v*-q,z.m_sweep.c.x-=.5*X*R,z.m_sweep.c.y-=.5*X*q,K.m_sweep.c.x+=.5*u*R,K.m_sweep.c.y+=.5*u*q,R=K.m_sweep.c.x+y-z.m_sweep.c.x-L,q=K.m_sweep.c.y+F-z.m_sweep.c.y-M);this.K1.col1.x=X+u;this.K1.col2.x=0;this.K1.col1.y=0;this.K1.col2.y=X+u;this.K2.col1.x=D*M*M;this.K2.col2.x=
-D*L*M;this.K2.col1.y=-D*L*M;this.K2.col2.y=D*L*L;this.K3.col1.x=I*F*F;this.K3.col2.x=-I*y*F;this.K3.col1.y=-I*y*F;this.K3.col2.y=I*y*y;this.K.SetM(this.K1);this.K.AddM(this.K2);this.K.AddM(this.K3);this.K.Solve(W.tImpulse,-R,-q);R=W.tImpulse.x;q=W.tImpulse.y;z.m_sweep.c.x-=z.m_invMass*R;z.m_sweep.c.y-=z.m_invMass*q;z.m_sweep.a-=z.m_invI*(L*q-M*R);K.m_sweep.c.x+=K.m_invMass*R;K.m_sweep.c.y+=K.m_invMass*q;K.m_sweep.a+=K.m_invI*(y*q-F*R);z.SynchronizeTransform();K.SynchronizeTransform();return T<=a.b2_linearSlop&&
Q<=a.b2_angularSlop};Box2D$$module$js$box2d$Box2D.postDefs.push(function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2RevoluteJoint.tImpulse=new e});Box2D$$module$js$box2d$Box2D.inherit(J,Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef);J.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef.prototype;J.b2RevoluteJointDef=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.localAnchorA=new e;this.localAnchorB=new e};
J.prototype.b2RevoluteJointDef=function(){this.__super.b2JointDef.call(this);this.type=w.e_revoluteJoint;this.localAnchorA.Set(0,0);this.localAnchorB.Set(0,0);this.motorSpeed=this.maxMotorTorque=this.upperAngle=this.lowerAngle=this.referenceAngle=0;this.enableMotor=this.enableLimit=!1};J.prototype.Initialize=function(z,K,Q){this.bodyA=z;this.bodyB=K;this.localAnchorA=this.bodyA.GetLocalPoint(Q);this.localAnchorB=this.bodyB.GetLocalPoint(Q);this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()};
Box2D$$module$js$box2d$Box2D.inherit(aa,Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint);aa.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.prototype;aa.b2WeldJoint=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_localAnchorA=new e;this.m_localAnchorB=new e;this.m_impulse=new g;this.m_mass=new c};aa.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA)};aa.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB)};
aa.prototype.GetReactionForce=function(z){void 0===z&&(z=0);return new e(z*this.m_impulse.x,z*this.m_impulse.y)};aa.prototype.GetReactionTorque=function(z){void 0===z&&(z=0);return z*this.m_impulse.z};aa.prototype.b2WeldJoint=function(z){this.__super.b2Joint.call(this,z);this.m_localAnchorA.SetV(z.localAnchorA);this.m_localAnchorB.SetV(z.localAnchorB);this.m_referenceAngle=z.referenceAngle;this.m_impulse.SetZero();this.m_mass=new c};aa.prototype.InitVelocityConstraints=function(z){var K=this.m_bodyA,
Q=this.m_bodyB;var M=K.m_xf.R;var L=this.m_localAnchorA.x-K.m_sweep.localCenter.x,T=this.m_localAnchorA.y-K.m_sweep.localCenter.y;var X=M.col1.x*L+M.col2.x*T;T=M.col1.y*L+M.col2.y*T;L=X;M=Q.m_xf.R;var y=this.m_localAnchorB.x-Q.m_sweep.localCenter.x,F=this.m_localAnchorB.y-Q.m_sweep.localCenter.y;X=M.col1.x*y+M.col2.x*F;F=M.col1.y*y+M.col2.y*F;y=X;M=K.m_invMass;X=Q.m_invMass;var R=K.m_invI,q=Q.m_invI;this.m_mass.col1.x=M+X+T*T*R+F*F*q;this.m_mass.col2.x=-T*L*R-F*y*q;this.m_mass.col3.x=-T*R-F*q;this.m_mass.col1.y=
this.m_mass.col2.x;this.m_mass.col2.y=M+X+L*L*R+y*y*q;this.m_mass.col3.y=L*R+y*q;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=R+q;z.warmStarting?(this.m_impulse.x*=z.dtRatio,this.m_impulse.y*=z.dtRatio,this.m_impulse.z*=z.dtRatio,K.m_linearVelocity.x-=M*this.m_impulse.x,K.m_linearVelocity.y-=M*this.m_impulse.y,K.m_angularVelocity-=R*(L*this.m_impulse.y-T*this.m_impulse.x+this.m_impulse.z),Q.m_linearVelocity.x+=X*this.m_impulse.x,Q.m_linearVelocity.y+=
X*this.m_impulse.y,Q.m_angularVelocity+=q*(y*this.m_impulse.y-F*this.m_impulse.x+this.m_impulse.z)):this.m_impulse.SetZero()};aa.prototype.SolveVelocityConstraints=function(z){z=this.m_bodyA;var K=this.m_bodyB,Q=z.m_linearVelocity,M=z.m_angularVelocity,L=K.m_linearVelocity,T=K.m_angularVelocity,X=z.m_invMass,y=K.m_invMass,F=z.m_invI,R=K.m_invI;var q=z.m_xf.R;var v=this.m_localAnchorA.x-z.m_sweep.localCenter.x,u=this.m_localAnchorA.y-z.m_sweep.localCenter.y;var D=q.col1.x*v+q.col2.x*u;u=q.col1.y*v+
q.col2.y*u;v=D;q=K.m_xf.R;var I=this.m_localAnchorB.x-K.m_sweep.localCenter.x,S=this.m_localAnchorB.y-K.m_sweep.localCenter.y;D=q.col1.x*I+q.col2.x*S;S=q.col1.y*I+q.col2.y*S;I=D;q=L.x-T*S-Q.x+M*u;D=L.y+T*I-Q.y-M*v;var P=T-M,Y=new g;this.m_mass.Solve33(Y,-q,-D,-P);this.m_impulse.Add(Y);Q.x-=X*Y.x;Q.y-=X*Y.y;M-=F*(v*Y.y-u*Y.x+Y.z);L.x+=y*Y.x;L.y+=y*Y.y;T+=R*(I*Y.y-S*Y.x+Y.z);z.m_angularVelocity=M;K.m_angularVelocity=T};aa.prototype.SolvePositionConstraints=function(z){z=this.m_bodyA;var K=this.m_bodyB;
var Q=z.m_xf.R;var M=this.m_localAnchorA.x-z.m_sweep.localCenter.x,L=this.m_localAnchorA.y-z.m_sweep.localCenter.y;var T=Q.col1.x*M+Q.col2.x*L;L=Q.col1.y*M+Q.col2.y*L;M=T;Q=K.m_xf.R;var X=this.m_localAnchorB.x-K.m_sweep.localCenter.x,y=this.m_localAnchorB.y-K.m_sweep.localCenter.y;T=Q.col1.x*X+Q.col2.x*y;y=Q.col1.y*X+Q.col2.y*y;X=T;Q=z.m_invMass;T=K.m_invMass;var F=z.m_invI,R=K.m_invI,q=K.m_sweep.c.x+X-z.m_sweep.c.x-M,v=K.m_sweep.c.y+y-z.m_sweep.c.y-L,u=K.m_sweep.a-z.m_sweep.a-this.m_referenceAngle,
D=10*a.b2_linearSlop,I=Math.sqrt(q*q+v*v),S=d.Abs(u);I>D&&(F*=1,R*=1);this.m_mass.col1.x=Q+T+L*L*F+y*y*R;this.m_mass.col2.x=-L*M*F-y*X*R;this.m_mass.col3.x=-L*F-y*R;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=Q+T+M*M*F+X*X*R;this.m_mass.col3.y=M*F+X*R;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=F+R;D=new g;this.m_mass.Solve33(D,-q,-v,-u);z.m_sweep.c.x-=Q*D.x;z.m_sweep.c.y-=Q*D.y;z.m_sweep.a-=F*(M*D.y-L*D.x+D.z);K.m_sweep.c.x+=T*D.x;K.m_sweep.c.y+=
T*D.y;K.m_sweep.a+=R*(X*D.y-y*D.x+D.z);z.SynchronizeTransform();K.SynchronizeTransform();return I<=a.b2_linearSlop&&S<=a.b2_angularSlop};Box2D$$module$js$box2d$Box2D.inherit(ba,Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef);ba.prototype.__super=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef.prototype;ba.b2WeldJointDef=function(){Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.localAnchorA=new e;this.localAnchorB=new e};ba.prototype.b2WeldJointDef=
function(){this.__super.b2JointDef.call(this);this.type=w.e_weldJoint;this.referenceAngle=0};ba.prototype.Initialize=function(z,K,Q){this.bodyA=z;this.bodyB=K;this.localAnchorA.SetV(this.bodyA.GetLocalPoint(Q));this.localAnchorB.SetV(this.bodyB.GetLocalPoint(Q));this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}})();
(function(){var a=Box2D$$module$js$box2d$Box2D.Dynamics.b2DebugDraw;a.b2DebugDraw=function(){this.m_xformScale=this.m_fillAlpha=this.m_alpha=this.m_lineThickness=this.m_drawScale=1;var b=this;this.m_sprite={graphics:{clear:function(){b.m_ctx.clearRect(0,0,b.m_ctx.canvas.width,b.m_ctx.canvas.height)}}}};a.prototype._color=function(b,c){return"rgba("+((b&16711680)>>16)+","+((b&65280)>>8)+","+(b&255)+","+c+")"};a.prototype.b2DebugDraw=function(){this.m_drawFlags=0};a.prototype.SetFlags=function(b){void 0===
b&&(b=0);this.m_drawFlags=b};a.prototype.GetFlags=function(){return this.m_drawFlags};a.prototype.AppendFlags=function(b){void 0===b&&(b=0);this.m_drawFlags|=b};a.prototype.ClearFlags=function(b){void 0===b&&(b=0);this.m_drawFlags&=~b};a.prototype.SetSprite=function(b){this.m_ctx=b};a.prototype.GetSprite=function(){return this.m_ctx};a.prototype.SetDrawScale=function(b){void 0===b&&(b=0);this.m_drawScale=b};a.prototype.GetDrawScale=function(){return this.m_drawScale};a.prototype.SetLineThickness=
function(b){void 0===b&&(b=0);this.m_lineThickness=b;this.m_ctx.strokeWidth=b};a.prototype.GetLineThickness=function(){return this.m_lineThickness};a.prototype.SetAlpha=function(b){void 0===b&&(b=0);this.m_alpha=b};a.prototype.GetAlpha=function(){return this.m_alpha};a.prototype.SetFillAlpha=function(b){void 0===b&&(b=0);this.m_fillAlpha=b};a.prototype.GetFillAlpha=function(){return this.m_fillAlpha};a.prototype.SetXFormScale=function(b){void 0===b&&(b=0);this.m_xformScale=b};a.prototype.GetXFormScale=
function(){return this.m_xformScale};a.prototype.DrawPolygon=function(b,c,d){if(c){var e=this.m_ctx,g=this.m_drawScale;e.beginPath();e.strokeStyle=this._color(d.color,this.m_alpha);e.moveTo(b[0].x*g,b[0].y*g);for(d=1;d<c;d++)e.lineTo(b[d].x*g,b[d].y*g);e.lineTo(b[0].x*g,b[0].y*g);e.closePath();e.stroke()}};a.prototype.DrawSolidPolygon=function(b,c,d){if(c){var e=this.m_ctx,g=this.m_drawScale;e.beginPath();e.strokeStyle=this._color(d.color,this.m_alpha);e.fillStyle=this._color(d.color,this.m_fillAlpha);
e.moveTo(b[0].x*g,b[0].y*g);for(d=1;d<c;d++)e.lineTo(b[d].x*g,b[d].y*g);e.lineTo(b[0].x*g,b[0].y*g);e.closePath();e.fill();e.stroke()}};a.prototype.DrawCircle=function(b,c,d){if(c){var e=this.m_ctx,g=this.m_drawScale;e.beginPath();e.strokeStyle=this._color(d.color,this.m_alpha);e.arc(b.x*g,b.y*g,c*g,0,2*Math.PI,!0);e.closePath();e.stroke()}};a.prototype.DrawSolidCircle=function(b,c,d,e){if(c){var g=this.m_ctx,h=this.m_drawScale,k=b.x*h,l=b.y*h;g.moveTo(0,0);g.beginPath();g.strokeStyle=this._color(e.color,
this.m_alpha);g.fillStyle=this._color(e.color,this.m_fillAlpha);g.arc(k,l,c*h,0,2*Math.PI,!0);g.moveTo(k,l);g.lineTo((b.x+d.x*c)*h,(b.y+d.y*c)*h);g.closePath();g.fill();g.stroke()}};a.prototype.DrawSegment=function(b,c,d){var e=this.m_ctx,g=this.m_drawScale;e.strokeStyle=this._color(d.color,this.m_alpha);e.beginPath();e.moveTo(b.x*g,b.y*g);e.lineTo(c.x*g,c.y*g);e.closePath();e.stroke()};a.prototype.DrawTransform=function(b){var c=this.m_ctx,d=this.m_drawScale;c.beginPath();c.strokeStyle=this._color(16711680,
this.m_alpha);c.moveTo(b.position.x*d,b.position.y*d);c.lineTo((b.position.x+this.m_xformScale*b.R.col1.x)*d,(b.position.y+this.m_xformScale*b.R.col1.y)*d);c.strokeStyle=this._color(65280,this.m_alpha);c.moveTo(b.position.x*d,b.position.y*d);c.lineTo((b.position.x+this.m_xformScale*b.R.col2.x)*d,(b.position.y+this.m_xformScale*b.R.col2.y)*d);c.closePath();c.stroke()}})();var i$$module$js$box2d$Box2D;for(i$$module$js$box2d$Box2D=0;i$$module$js$box2d$Box2D<Box2D$$module$js$box2d$Box2D.postDefs.length;++i$$module$js$box2d$Box2D)Box2D$$module$js$box2d$Box2D.postDefs[i$$module$js$box2d$Box2D]();
delete Box2D$$module$js$box2d$Box2D.postDefs;
const Collision$$module$js$box2d$Box2D=Box2D$$module$js$box2d$Box2D.Collision,Shapes$$module$js$box2d$Box2D=Box2D$$module$js$box2d$Box2D.Collision.Shapes,b2CircleShape$$module$js$box2d$Box2D=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2CircleShape,b2PolygonShape$$module$js$box2d$Box2D=Box2D$$module$js$box2d$Box2D.Collision.Shapes.b2PolygonShape,Common$$module$js$box2d$Box2D=Box2D$$module$js$box2d$Box2D.Common,b2Vec2$$module$js$box2d$Box2D=Box2D$$module$js$box2d$Box2D.Common.Math.b2Vec2,Dynamics$$module$js$box2d$Box2D=
Box2D$$module$js$box2d$Box2D.Dynamics,Contacts$$module$js$box2d$Box2D=Box2D$$module$js$box2d$Box2D.Dynamics.Contacts,Controllers$$module$js$box2d$Box2D=Box2D$$module$js$box2d$Box2D.Dynamics.Controllers,b2World$$module$js$box2d$Box2D=Box2D$$module$js$box2d$Box2D.Dynamics.b2World,b2FixtureDef$$module$js$box2d$Box2D=Box2D$$module$js$box2d$Box2D.Dynamics.b2FixtureDef,b2Body$$module$js$box2d$Box2D=Box2D$$module$js$box2d$Box2D.Dynamics.b2Body,b2BodyDef$$module$js$box2d$Box2D=Box2D$$module$js$box2d$Box2D.Dynamics.b2BodyDef,
Joints$$module$js$box2d$Box2D=Box2D$$module$js$box2d$Box2D.Dynamics.Joints,b2RevoluteJointDef$$module$js$box2d$Box2D=Box2D$$module$js$box2d$Box2D.Dynamics.Joints.b2RevoluteJointDef;var module$js$box2d$Box2D={};module$js$box2d$Box2D.Box2D=Box2D$$module$js$box2d$Box2D;module$js$box2d$Box2D.Collision=Collision$$module$js$box2d$Box2D;module$js$box2d$Box2D.Common=Common$$module$js$box2d$Box2D;module$js$box2d$Box2D.Contacts=Contacts$$module$js$box2d$Box2D;module$js$box2d$Box2D.Controllers=Controllers$$module$js$box2d$Box2D;
module$js$box2d$Box2D.Dynamics=Dynamics$$module$js$box2d$Box2D;module$js$box2d$Box2D.Joints=Joints$$module$js$box2d$Box2D;module$js$box2d$Box2D.Shapes=Shapes$$module$js$box2d$Box2D;module$js$box2d$Box2D.b2Body=b2Body$$module$js$box2d$Box2D;module$js$box2d$Box2D.b2BodyDef=b2BodyDef$$module$js$box2d$Box2D;module$js$box2d$Box2D.b2CircleShape=b2CircleShape$$module$js$box2d$Box2D;module$js$box2d$Box2D.b2FixtureDef=b2FixtureDef$$module$js$box2d$Box2D;module$js$box2d$Box2D.b2PolygonShape=b2PolygonShape$$module$js$box2d$Box2D;
module$js$box2d$Box2D.b2RevoluteJointDef=b2RevoluteJointDef$$module$js$box2d$Box2D;module$js$box2d$Box2D.b2Vec2=b2Vec2$$module$js$box2d$Box2D;module$js$box2d$Box2D.b2World=b2World$$module$js$box2d$Box2D;class KeyPress$$module$js$KeyPress{constructor(a){this.elm=a;this.oKeyCodeStates={};this.oKeyStates={};this.oListeners={onKey:{},onKeyCode:{},onKeyCodeChange:{},onKeyChange:{},onKeyCodePress:{},onKeyPress:{}};this._keydown=this._onKeyDown.bind(this);a.addEventListener("keydown",this._keydown);this._keyup=this._onKeyUp.bind(this);a.addEventListener("keyup",this._keyup)}processKeys(){for(let a in this.oListeners.onKeyCode)for(let b of this.oListeners.onKeyCode[a]||[])b(this.oKeyCodeStates[a],a);for(let a in this.oListeners.onKey)for(let b of this.oListeners.onKey[a]||
[])b(this.oKeyStates[a],a)}onKey(a,b){this._bindKeyCodeEvent("onKey",a,b);return this}onKeyCode(a,b){this._bindKeyCodeEvent("onKeyCode",a,b);return this}onKeyCodeChange(a,b){this._bindKeyCodeEvent("onKeyCodeChange",a,b);return this}onKeyChange(a,b){this._bindKeyEvent("onKeyChange",a,b);return this}onKeyPress(a,b){this._bindKeyEvent("onKeyPress",a,b);return this}onKeyCodePress(a,b){this._bindKeyCodeEvent("onKeyCodePress",a,b);return this}getKeyState(a){return this.oKeyStates[a]}getKeyCodeState(a){return this.oKeyCodeStates[a]}unBind(){this.elm.removeEventListener("keyup",
this._keyup);this.elm.removeEventListener("keydown",this._keydown)}_onKeyDown(a){this._keyActivity(a,KeyPress$$module$js$KeyPress.DOWN)}_onKeyUp(a){let b=a.keyCode||a.code;if(this.oKeyCodeStates[b]!==KeyPress$$module$js$KeyPress.UP)for(let c of this.oListeners.onKeyCodePress[b]||[])c(KeyPress$$module$js$KeyPress.UP,b);if(this.oKeyStates[a.key]!==KeyPress$$module$js$KeyPress.UP)for(let c of this.oListeners.onKeyPress[a.key]||[])c(KeyPress$$module$js$KeyPress.UP,a.key);this._keyActivity(a,KeyPress$$module$js$KeyPress.UP)}_keyActivity(a,
b){let c=a.keyCode||a.code;if(this.oKeyCodeStates[c]!==b)for(let d of this.oListeners.onKeyCodeChange[c]||[])d(b,c);if(this.oKeyStates[a.key]!==b)for(let d of this.oListeners.onKeyChange[a.key]||[])d(b,a.key);this.oKeyCodeStates[c]=b;this.oKeyStates[a.key]=b}_bindKeyEvent(a,b,c){this.oListeners[a][b]?this.oListeners[a][b].push(c):this.oListeners[a][b]=[c];return()=>{let d=this.oListeners[a][b].indexOf(c);this.oListeners[a][b].splice(d,1);return this}}_bindKeyCodeEvent(a,b,c){this.oListeners[a][b]?
this.oListeners[a][b].push(c):this.oListeners[a][b]=[c];return()=>{let d=this.oListeners[a][b].indexOf(c);this.oListeners[a][b].splice(d,1);return this}}static bindKeys(a){let b=new KeyPress$$module$js$KeyPress;a.forEach(c=>{b._bindKeyEvent.apply(b,c)});return b}static bindKeyCodes(a){let b=new KeyPress$$module$js$KeyPress;a.forEach(c=>{b._bindKeyCodeEvent.apply(b,c)});return b}}KeyPress$$module$js$KeyPress.DOWN=!0;KeyPress$$module$js$KeyPress.UP=!1;
function BindKeyWord$$module$js$KeyPress(a,b){this.setElement(a);this.nTimeMS=parseInt(b)||BindKeyWord$$module$js$KeyPress.DELAY_DEFAULT}BindKeyWord$$module$js$KeyPress.DELAY_DEFAULT=500;BindKeyWord$$module$js$KeyPress.WAIT_TIME=BindKeyWord$$module$js$KeyPress.DELAY_DEFAULT+100;
BindKeyWord$$module$js$KeyPress.prototype={bindCharsToKeyPresses:function(a,b,c,d){function e(){var l=BindKeyWord$$module$js$KeyPress.WAIT_TIME;clearTimeout(k);k=setTimeout(function(){g=[];clearTimeout(k)},l)}var g=[],h=this,k=0;this.oElm.addEventListener("keypress",function(l){var m=g.length;if(l.charCode===a.charCodeAt(m)){g.push({pressedAt:(new Date).getTime(),key:String.fromCharCode(l.charCode)});m=g.length;if(2<=m){l=parseInt(g[m-1].pressedAt-g[m-2].pressedAt);if(isNaN(l)||l>h.nTimeMS)clearTimeout(k),
g=[];if(g.length===a.length){d?b.apply(d,c):b(c);clearTimeout(k);g=[];return}}e()}else g=[],clearTimeout(k)})},setElement:function(a){if(a.addEventListener)this.oElm=a;else throw"Can not attach event listener to this element."+a;}};var module$js$KeyPress={};module$js$KeyPress.BindKeyWord=BindKeyWord$$module$js$KeyPress;module$js$KeyPress.KeyPress=KeyPress$$module$js$KeyPress;var module$js$threejs$three_min={default:{}},r$$module$js$threejs$three_min=module$js$threejs$three_min.default;function wb$$module$js$threejs$three_min(){}
function Oa$$module$js$threejs$three_min(a,b,c,d,e,g,h,k,l,m){Object.defineProperty(this,"id",{value:hk$$module$js$threejs$three_min++});this.uuid=xa$$module$js$threejs$three_min.generateUUID();this.name="";this.image=void 0!==a?a:Oa$$module$js$threejs$three_min.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==b?b:Oa$$module$js$threejs$three_min.DEFAULT_MAPPING;this.wrapS=void 0!==c?c:1001;this.wrapT=void 0!==d?d:1001;this.magFilter=void 0!==e?e:1006;this.minFilter=void 0!==g?g:1008;this.anisotropy=
void 0!==l?l:1;this.format=void 0!==h?h:1023;this.internalFormat=null;this.type=void 0!==k?k:1009;this.offset=new L$$module$js$threejs$three_min(0,0);this.repeat=new L$$module$js$threejs$three_min(1,1);this.center=new L$$module$js$threejs$three_min(0,0);this.rotation=0;this.matrixAutoUpdate=!0;this.matrix=new Da$$module$js$threejs$three_min;this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==m?m:3E3;this.version=0;this.onUpdate=null}
function Db$$module$js$threejs$three_min(a,b,c){this.width=a;this.height=b;this.scissor=new ca$$module$js$threejs$three_min(0,0,a,b);this.scissorTest=!1;this.viewport=new ca$$module$js$threejs$three_min(0,0,a,b);c=c||{};this.texture=new Oa$$module$js$threejs$three_min(void 0,c.mapping,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding);this.texture.image={};this.texture.image.width=a;this.texture.image.height=b;this.texture.generateMipmaps=void 0!==c.generateMipmaps?c.generateMipmaps:
!1;this.texture.minFilter=void 0!==c.minFilter?c.minFilter:1006;this.depthBuffer=void 0!==c.depthBuffer?c.depthBuffer:!0;this.stencilBuffer=void 0!==c.stencilBuffer?c.stencilBuffer:!1;this.depthTexture=void 0!==c.depthTexture?c.depthTexture:null}function dh$$module$js$threejs$three_min(a,b,c){Db$$module$js$threejs$three_min.call(this,a,b,c);this.samples=4}
function eh$$module$js$threejs$three_min(a,b,c,d,e){for(var g=0,h=a.length-3;g<=h;g+=3){Yc$$module$js$threejs$three_min.fromArray(a,g);var k=e.x*Math.abs(Yc$$module$js$threejs$three_min.x)+e.y*Math.abs(Yc$$module$js$threejs$three_min.y)+e.z*Math.abs(Yc$$module$js$threejs$three_min.z),l=b.dot(Yc$$module$js$threejs$three_min),m=c.dot(Yc$$module$js$threejs$three_min),n=d.dot(Yc$$module$js$threejs$three_min);if(Math.max(-Math.max(l,m,n),Math.min(l,m,n))>k)return!1}return!0}
function ha$$module$js$threejs$three_min(){Object.defineProperty(this,"id",{value:ik$$module$js$threejs$three_min++});this.uuid=xa$$module$js$threejs$three_min.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=ha$$module$js$threejs$three_min.DefaultUp.clone();var a=new w$$module$js$threejs$three_min,b=new hb$$module$js$threejs$three_min,c=new ua$$module$js$threejs$three_min,d=new w$$module$js$threejs$three_min(1,1,1);b._onChange(function(){c.setFromEuler(b,
!1)});c._onChange(function(){b.setFromQuaternion(c,void 0,!1)});Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:a},rotation:{configurable:!0,enumerable:!0,value:b},quaternion:{configurable:!0,enumerable:!0,value:c},scale:{configurable:!0,enumerable:!0,value:d},modelViewMatrix:{value:new da$$module$js$threejs$three_min},normalMatrix:{value:new Da$$module$js$threejs$three_min}});this.matrix=new da$$module$js$threejs$three_min;this.matrixWorld=new da$$module$js$threejs$three_min;
this.matrixAutoUpdate=ha$$module$js$threejs$three_min.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new $b$$module$js$threejs$three_min;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={}}function fh$$module$js$threejs$three_min(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+6*(b-a)*(2/3-c):a}
function gh$$module$js$threejs$three_min(a){return.04045>a?.0773993808*a:Math.pow(.9478672986*a+.0521327014,2.4)}function hh$$module$js$threejs$three_min(a){return.0031308>a?12.92*a:1.055*Math.pow(a,.41666)-.055}
function ra$$module$js$threejs$three_min(){Object.defineProperty(this,"id",{value:jk$$module$js$threejs$three_min++});this.uuid=xa$$module$js$threejs$three_min.generateUUID();this.name="";this.type="Material";this.fog=!0;this.blending=1;this.side=0;this.vertexColors=this.flatShading=!1;this.opacity=1;this.transparent=!1;this.blendSrc=204;this.blendDst=205;this.blendEquation=100;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=3;this.depthWrite=this.depthTest=!0;this.stencilWriteMask=
255;this.stencilFunc=519;this.stencilRef=0;this.stencilFuncMask=255;this.stencilZPass=this.stencilZFail=this.stencilFail=7680;this.stencilWrite=!1;this.clippingPlanes=null;this.clipShadows=this.clipIntersection=!1;this.shadowSide=null;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.dithering=!1;this.alphaTest=0;this.premultipliedAlpha=!1;this.toneMapped=this.visible=!0;this.userData={};this.version=0}
function Kb$$module$js$threejs$three_min(a){ra$$module$js$threejs$three_min.call(this);this.type="MeshBasicMaterial";this.color=new S$$module$js$threejs$three_min(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphTargets=this.skinning=
!1;this.setValues(a)}function pa$$module$js$threejs$three_min(a,b,c){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="";this.array=a;this.itemSize=b;this.count=void 0!==a?a.length/b:0;this.normalized=!0===c;this.usage=35044;this.updateRange={offset:0,count:-1};this.version=0}function Ce$$module$js$threejs$three_min(a,b,c){pa$$module$js$threejs$three_min.call(this,new Int8Array(a),b,c)}
function De$$module$js$threejs$three_min(a,b,c){pa$$module$js$threejs$three_min.call(this,new Uint8Array(a),b,c)}function Ee$$module$js$threejs$three_min(a,b,c){pa$$module$js$threejs$three_min.call(this,new Uint8ClampedArray(a),b,c)}function Fe$$module$js$threejs$three_min(a,b,c){pa$$module$js$threejs$three_min.call(this,new Int16Array(a),b,c)}function Zc$$module$js$threejs$three_min(a,b,c){pa$$module$js$threejs$three_min.call(this,new Uint16Array(a),b,c)}
function Ge$$module$js$threejs$three_min(a,b,c){pa$$module$js$threejs$three_min.call(this,new Int32Array(a),b,c)}function $c$$module$js$threejs$three_min(a,b,c){pa$$module$js$threejs$three_min.call(this,new Uint32Array(a),b,c)}function ea$$module$js$threejs$three_min(a,b,c){pa$$module$js$threejs$three_min.call(this,new Float32Array(a),b,c)}function He$$module$js$threejs$three_min(a,b,c){pa$$module$js$threejs$three_min.call(this,new Float64Array(a),b,c)}
function vi$$module$js$threejs$three_min(a){if(0===a.length)return-Infinity;for(var b=a[0],c=1,d=a.length;c<d;++c)a[c]>b&&(b=a[c]);return b}
function ka$$module$js$threejs$three_min(){Object.defineProperty(this,"id",{value:kk$$module$js$threejs$three_min+=2});this.uuid=xa$$module$js$threejs$three_min.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.morphTargetsRelative=!1;this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity};this.userData={}}
function Qa$$module$js$threejs$three_min(a,b){ha$$module$js$threejs$three_min.call(this);this.type="Mesh";this.geometry=void 0!==a?a:new ka$$module$js$threejs$three_min;this.material=void 0!==b?b:new Kb$$module$js$threejs$three_min;this.updateMorphTargets()}
function wi$$module$js$threejs$three_min(a,b,c,d,e,g,h,k){if(null===(1===b.side?d.intersectTriangle(h,g,e,!0,k):d.intersectTriangle(e,g,h,2!==b.side,k)))return null;Of$$module$js$threejs$three_min.copy(k);Of$$module$js$threejs$three_min.applyMatrix4(a.matrixWorld);b=c.ray.origin.distanceTo(Of$$module$js$threejs$three_min);return b<c.near||b>c.far?null:{distance:b,point:Of$$module$js$threejs$three_min.clone(),object:a}}
function Pf$$module$js$threejs$three_min(a,b,c,d,e,g,h,k,l,m,n,p){yc$$module$js$threejs$three_min.fromBufferAttribute(e,m);zc$$module$js$threejs$three_min.fromBufferAttribute(e,n);Ac$$module$js$threejs$three_min.fromBufferAttribute(e,p);e=a.morphTargetInfluences;if(b.morphTargets&&g&&e){Qf$$module$js$threejs$three_min.set(0,0,0);Rf$$module$js$threejs$three_min.set(0,0,0);Sf$$module$js$threejs$three_min.set(0,0,0);for(var t=0,w=g.length;t<w;t++){var x=e[t],A=g[t];0!==x&&(ih$$module$js$threejs$three_min.fromBufferAttribute(A,
m),jh$$module$js$threejs$three_min.fromBufferAttribute(A,n),kh$$module$js$threejs$three_min.fromBufferAttribute(A,p),h?(Qf$$module$js$threejs$three_min.addScaledVector(ih$$module$js$threejs$three_min,x),Rf$$module$js$threejs$three_min.addScaledVector(jh$$module$js$threejs$three_min,x),Sf$$module$js$threejs$three_min.addScaledVector(kh$$module$js$threejs$three_min,x)):(Qf$$module$js$threejs$three_min.addScaledVector(ih$$module$js$threejs$three_min.sub(yc$$module$js$threejs$three_min),x),Rf$$module$js$threejs$three_min.addScaledVector(jh$$module$js$threejs$three_min.sub(zc$$module$js$threejs$three_min),
x),Sf$$module$js$threejs$three_min.addScaledVector(kh$$module$js$threejs$three_min.sub(Ac$$module$js$threejs$three_min),x)))}yc$$module$js$threejs$three_min.add(Qf$$module$js$threejs$three_min);zc$$module$js$threejs$three_min.add(Rf$$module$js$threejs$three_min);Ac$$module$js$threejs$three_min.add(Sf$$module$js$threejs$three_min)}a.isSkinnedMesh&&(a.boneTransform(m,yc$$module$js$threejs$three_min),a.boneTransform(n,zc$$module$js$threejs$three_min),a.boneTransform(p,Ac$$module$js$threejs$three_min));
if(a=wi$$module$js$threejs$three_min(a,b,c,d,yc$$module$js$threejs$three_min,zc$$module$js$threejs$three_min,Ac$$module$js$threejs$three_min,Ie$$module$js$threejs$three_min))k&&(Cd$$module$js$threejs$three_min.fromBufferAttribute(k,m),Dd$$module$js$threejs$three_min.fromBufferAttribute(k,n),Ed$$module$js$threejs$three_min.fromBufferAttribute(k,p),a.uv=Ga$$module$js$threejs$three_min.getUV(Ie$$module$js$threejs$three_min,yc$$module$js$threejs$three_min,zc$$module$js$threejs$three_min,Ac$$module$js$threejs$three_min,
Cd$$module$js$threejs$three_min,Dd$$module$js$threejs$three_min,Ed$$module$js$threejs$three_min,new L$$module$js$threejs$three_min)),l&&(Cd$$module$js$threejs$three_min.fromBufferAttribute(l,m),Dd$$module$js$threejs$three_min.fromBufferAttribute(l,n),Ed$$module$js$threejs$three_min.fromBufferAttribute(l,p),a.uv2=Ga$$module$js$threejs$three_min.getUV(Ie$$module$js$threejs$three_min,yc$$module$js$threejs$three_min,zc$$module$js$threejs$three_min,Ac$$module$js$threejs$three_min,Cd$$module$js$threejs$three_min,
Dd$$module$js$threejs$three_min,Ed$$module$js$threejs$three_min,new L$$module$js$threejs$three_min)),k=new ad$$module$js$threejs$three_min(m,n,p),Ga$$module$js$threejs$three_min.getNormal(yc$$module$js$threejs$three_min,zc$$module$js$threejs$three_min,Ac$$module$js$threejs$three_min,k.normal),a.face=k;return a}
function sa$$module$js$threejs$three_min(){Object.defineProperty(this,"id",{value:lk$$module$js$threejs$three_min+=2});this.uuid=xa$$module$js$threejs$three_min.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=
this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function Fd$$module$js$threejs$three_min(a,b,c,d,e,g){sa$$module$js$threejs$three_min.call(this);this.type="BoxGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:g};this.fromBufferGeometry(new Bc$$module$js$threejs$three_min(a,b,c,d,e,g));this.mergeVertices()}
function Bc$$module$js$threejs$three_min(a,b,c,d,e,g){function h(x,A,r,E,B,G,H,O,N,U,W){var J=G/N,aa=H/U,ba=G/2,z=H/2,K=O/2;H=N+1;for(var Q=U+1,M=G=0,L=new w$$module$js$threejs$three_min,T=0;T<Q;T++)for(var X=T*aa-z,y=0;y<H;y++)L[x]=(y*J-ba)*E,L[A]=X*B,L[r]=K,m.push(L.x,L.y,L.z),L[x]=0,L[A]=0,L[r]=0<O?1:-1,n.push(L.x,L.y,L.z),p.push(y/N),p.push(1-T/U),G+=1;for(x=0;x<U;x++)for(A=0;A<N;A++)r=t+A+H*(x+1),E=t+(A+1)+H*(x+1),B=t+(A+1)+H*x,l.push(t+A+H*x,r,B),l.push(r,E,B),M+=6;k.addGroup(w,M,W);w+=M;t+=
G}void 0===a&&(a=1);void 0===b&&(b=1);void 0===c&&(c=1);void 0===d&&(d=1);void 0===e&&(e=1);void 0===g&&(g=1);ka$$module$js$threejs$three_min.call(this);this.type="BoxBufferGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:g};var k=this;d=Math.floor(d);e=Math.floor(e);g=Math.floor(g);var l=[],m=[],n=[],p=[],t=0,w=0;h("z","y","x",-1,-1,c,b,a,g,e,0);h("z","y","x",1,-1,c,b,-a,g,e,1);h("x","z","y",1,1,a,c,b,d,g,2);h("x","z","y",1,-1,a,c,-b,d,g,3);h("x",
"y","z",1,-1,a,b,c,d,e,4);h("x","y","z",-1,-1,a,b,-c,d,e,5);this.setIndex(l);this.setAttribute("position",new ea$$module$js$threejs$three_min(m,3));this.setAttribute("normal",new ea$$module$js$threejs$three_min(n,3));this.setAttribute("uv",new ea$$module$js$threejs$three_min(p,2))}
function Gd$$module$js$threejs$three_min(a){var b={},c;for(c in a){b[c]={};for(var d in a[c]){var e=a[c][d];e&&(e.isColor||e.isMatrix3||e.isMatrix4||e.isVector2||e.isVector3||e.isVector4||e.isTexture)?b[c][d]=e.clone():Array.isArray(e)?b[c][d]=e.slice():b[c][d]=e}}return b}function nb$$module$js$threejs$three_min(a){for(var b={},c=0;c<a.length;c++){var d=Gd$$module$js$threejs$three_min(a[c]),e;for(e in d)b[e]=d[e]}return b}
function sb$$module$js$threejs$three_min(a){ra$$module$js$threejs$three_min.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1;this.extensions=
{derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;this.uniformsNeedUpdate=!1;this.glslVersion=null;void 0!==a&&(void 0!==a.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(a))}
function ac$$module$js$threejs$three_min(){ha$$module$js$threejs$three_min.call(this);this.type="Camera";this.matrixWorldInverse=new da$$module$js$threejs$three_min;this.projectionMatrix=new da$$module$js$threejs$three_min;this.projectionMatrixInverse=new da$$module$js$threejs$three_min}
function eb$$module$js$threejs$three_min(a,b,c,d){ac$$module$js$threejs$three_min.call(this);this.type="PerspectiveCamera";this.fov=void 0!==a?a:50;this.zoom=1;this.near=void 0!==c?c:.1;this.far=void 0!==d?d:2E3;this.focus=10;this.aspect=void 0!==b?b:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}
function Hd$$module$js$threejs$three_min(a,b,c){ha$$module$js$threejs$three_min.call(this);this.type="CubeCamera";if(!0!==c.isWebGLCubeRenderTarget)console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");else{this.renderTarget=c;var d=new eb$$module$js$threejs$three_min(90,1,a,b);d.layers=this.layers;d.up.set(0,-1,0);d.lookAt(new w$$module$js$threejs$three_min(1,0,0));this.add(d);var e=new eb$$module$js$threejs$three_min(90,1,a,b);e.layers=
this.layers;e.up.set(0,-1,0);e.lookAt(new w$$module$js$threejs$three_min(-1,0,0));this.add(e);var g=new eb$$module$js$threejs$three_min(90,1,a,b);g.layers=this.layers;g.up.set(0,0,1);g.lookAt(new w$$module$js$threejs$three_min(0,1,0));this.add(g);var h=new eb$$module$js$threejs$three_min(90,1,a,b);h.layers=this.layers;h.up.set(0,0,-1);h.lookAt(new w$$module$js$threejs$three_min(0,-1,0));this.add(h);var k=new eb$$module$js$threejs$three_min(90,1,a,b);k.layers=this.layers;k.up.set(0,-1,0);k.lookAt(new w$$module$js$threejs$three_min(0,
0,1));this.add(k);var l=new eb$$module$js$threejs$three_min(90,1,a,b);l.layers=this.layers;l.up.set(0,-1,0);l.lookAt(new w$$module$js$threejs$three_min(0,0,-1));this.add(l);this.update=function(m,n){null===this.parent&&this.updateMatrixWorld();var p=m.xr.enabled,t=m.getRenderTarget();m.xr.enabled=!1;var w=c.texture.generateMipmaps;c.texture.generateMipmaps=!1;m.setRenderTarget(c,0);m.render(n,d);m.setRenderTarget(c,1);m.render(n,e);m.setRenderTarget(c,2);m.render(n,g);m.setRenderTarget(c,3);m.render(n,
h);m.setRenderTarget(c,4);m.render(n,k);c.texture.generateMipmaps=w;m.setRenderTarget(c,5);m.render(n,l);m.setRenderTarget(t);m.xr.enabled=p};this.clear=function(m,n,p,t){for(var w=m.getRenderTarget(),x=0;6>x;x++)m.setRenderTarget(c,x),m.clear(n,p,t);m.setRenderTarget(w)}}}
function Cc$$module$js$threejs$three_min(a,b,c){Number.isInteger(b)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),b=c);Db$$module$js$threejs$three_min.call(this,a,a,b);this.texture.isWebGLCubeRenderTargetTexture=!0}
function bd$$module$js$threejs$three_min(a,b,c,d,e,g,h,k,l,m,n,p){Oa$$module$js$threejs$three_min.call(this,null,g,h,k,l,m,d,e,n,p);this.image={data:a||null,width:b||1,height:c||1};this.magFilter=void 0!==l?l:1003;this.minFilter=void 0!==m?m:1003;this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1;this.needsUpdate=!0}
function xi$$module$js$threejs$three_min(){function a(g,h){d(g,h);e=b.requestAnimationFrame(a)}var b=null,c=!1,d=null,e=null;return{start:function(){!0!==c&&null!==d&&(e=b.requestAnimationFrame(a),c=!0)},stop:function(){b.cancelAnimationFrame(e);c=!1},setAnimationLoop:function(g){d=g},setContext:function(g){b=g}}}
function mk$$module$js$threejs$three_min(a,b){function c(g,h){var k=g.array,l=g.usage,m=a.createBuffer();a.bindBuffer(h,m);a.bufferData(h,k,l);g.onUploadCallback();h=5126;k instanceof Float32Array?h=5126:k instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):k instanceof Uint16Array?h=5123:k instanceof Int16Array?h=5122:k instanceof Uint32Array?h=5125:k instanceof Int32Array?h=5124:k instanceof Int8Array?h=5120:k instanceof Uint8Array&&(h=5121);
return{buffer:m,type:h,bytesPerElement:k.BYTES_PER_ELEMENT,version:g.version}}var d=b.isWebGL2,e=new WeakMap;return{get:function(g){g.isInterleavedBufferAttribute&&(g=g.data);return e.get(g)},remove:function(g){g.isInterleavedBufferAttribute&&(g=g.data);var h=e.get(g);h&&(a.deleteBuffer(h.buffer),e.delete(g))},update:function(g,h){if(g.isGLBufferAttribute)h=e.get(g),(!h||h.version<g.version)&&e.set(g,{buffer:g.buffer,type:g.type,bytesPerElement:g.elementSize,version:g.version});else{g.isInterleavedBufferAttribute&&
(g=g.data);var k=e.get(g);if(void 0===k)e.set(g,c(g,h));else if(k.version<g.version){var l=g.array,m=g.updateRange;a.bindBuffer(h,k.buffer);-1===m.count?a.bufferSubData(h,0,l):(d?a.bufferSubData(h,m.offset*l.BYTES_PER_ELEMENT,l,m.offset,m.count):a.bufferSubData(h,m.offset*l.BYTES_PER_ELEMENT,l.subarray(m.offset,m.offset+m.count)),m.count=-1);k.version=g.version}}}}}
function Je$$module$js$threejs$three_min(a,b,c,d){sa$$module$js$threejs$three_min.call(this);this.type="PlaneGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};this.fromBufferGeometry(new cd$$module$js$threejs$three_min(a,b,c,d));this.mergeVertices()}
function cd$$module$js$threejs$three_min(a,b,c,d){ka$$module$js$threejs$three_min.call(this);this.type="PlaneBufferGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};a=a||1;b=b||1;var e=a/2,g=b/2;c=Math.floor(c)||1;d=Math.floor(d)||1;var h=c+1,k=d+1,l=a/c,m=b/d;b=[];a=[];for(var n=[],p=[],t=0;t<k;t++)for(var w=t*m-g,x=0;x<h;x++)a.push(x*l-e,-w,0),n.push(0,0,1),p.push(x/c),p.push(1-t/d);for(e=0;e<d;e++)for(g=0;g<c;g++)k=g+h*(e+1),l=g+1+h*(e+1),m=g+1+h*e,b.push(g+h*e,k,m),
b.push(k,l,m);this.setIndex(b);this.setAttribute("position",new ea$$module$js$threejs$three_min(a,3));this.setAttribute("normal",new ea$$module$js$threejs$three_min(n,3));this.setAttribute("uv",new ea$$module$js$threejs$three_min(p,2))}
function nk$$module$js$threejs$three_min(a,b,c,d,e){function g(w,x){c.buffers.color.setClear(w.r,w.g,w.b,x,e)}var h=new S$$module$js$threejs$three_min(0),k=0,l,m,n=null,p=0,t=null;return{getClearColor:function(){return h},setClearColor:function(w,x){h.set(w);k=void 0!==x?x:1;g(h,k)},getClearAlpha:function(){return k},setClearAlpha:function(w){k=w;g(h,k)},render:function(w,x,A,r){(x=!0===x.isScene?x.background:null)&&x.isTexture&&(x=b.get(x));A=a.xr;(A=A.getSession&&A.getSession())&&"additive"===A.environmentBlendMode&&
(x=null);null===x?g(h,k):x&&x.isColor&&(g(x,1),r=!0);(a.autoClear||r)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil);if(x&&(x.isCubeTexture||x.isWebGLCubeRenderTarget||x.isWebGLCubeRenderTargetTexture||306===x.mapping)){void 0===m&&(m=new Qa$$module$js$threejs$three_min(new Bc$$module$js$threejs$three_min(1,1,1),new sb$$module$js$threejs$three_min({name:"BackgroundCubeMaterial",uniforms:Gd$$module$js$threejs$three_min(Pb$$module$js$threejs$three_min.cube.uniforms),vertexShader:Pb$$module$js$threejs$three_min.cube.vertexShader,
fragmentShader:Pb$$module$js$threejs$three_min.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(E,B,G){this.matrixWorld.copyPosition(G.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),d.update(m));x.isWebGLCubeRenderTarget&&(x=x.texture);m.material.uniforms.envMap.value=x;m.material.uniforms.flipEnvMap.value=x.isCubeTexture?-1:1;
if(n!==x||p!==x.version||t!==a.toneMapping)m.material.needsUpdate=!0,n=x,p=x.version,t=a.toneMapping;w.unshift(m,m.geometry,m.material,0,0,null)}else if(x&&x.isTexture){void 0===l&&(l=new Qa$$module$js$threejs$three_min(new cd$$module$js$threejs$three_min(2,2),new sb$$module$js$threejs$three_min({name:"BackgroundMaterial",uniforms:Gd$$module$js$threejs$three_min(Pb$$module$js$threejs$three_min.background.uniforms),vertexShader:Pb$$module$js$threejs$three_min.background.vertexShader,fragmentShader:Pb$$module$js$threejs$three_min.background.fragmentShader,
side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),d.update(l));l.material.uniforms.t2D.value=x;!0===x.matrixAutoUpdate&&x.updateMatrix();l.material.uniforms.uvTransform.value.copy(x.matrix);if(n!==x||p!==x.version||t!==a.toneMapping)l.material.needsUpdate=!0,n=x,p=x.version,t=a.toneMapping;w.unshift(l,l.geometry,l.material,0,0,null)}}}}
function ok$$module$js$threejs$three_min(a,b,c,d){function e(G){return d.isWebGL2?a.bindVertexArray(G):x.bindVertexArrayOES(G)}function g(G){return d.isWebGL2?a.deleteVertexArray(G):x.deleteVertexArrayOES(G)}function h(G){for(var H=[],O=[],N=[],U=0;U<w;U++)H[U]=0,O[U]=0,N[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:O,attributeDivisors:N,object:G,attributes:{},index:null}}function k(){for(var G=B.newAttributes,H=0,O=G.length;H<O;H++)G[H]=0}function l(G){m(G,
0)}function m(G,H){var O=B.enabledAttributes,N=B.attributeDivisors;B.newAttributes[G]=1;0===O[G]&&(a.enableVertexAttribArray(G),O[G]=1);N[G]!==H&&((d.isWebGL2?a:b.get("ANGLE_instanced_arrays"))[d.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](G,H),N[G]=H)}function n(){for(var G=B.newAttributes,H=B.enabledAttributes,O=0,N=H.length;O<N;O++)H[O]!==G[O]&&(a.disableVertexAttribArray(O),H[O]=0)}function p(){t();B!==E&&(B=E,e(B.object))}function t(){E.geometry=null;E.program=null;E.wireframe=
!1}var w=a.getParameter(34921),x=d.isWebGL2?null:b.get("OES_vertex_array_object"),A=d.isWebGL2||null!==x,r={},E=h(null),B=E;return{setup:function(G,H,O,N,U){var W=!1;if(A){W=!0===H.wireframe;var J=r[N.id];void 0===J&&(J={},r[N.id]=J);var aa=J[O.id];void 0===aa&&(aa={},J[O.id]=aa);J=aa[W];void 0===J&&(J=h(d.isWebGL2?a.createVertexArray():x.createVertexArrayOES()),aa[W]=J);W=J;B!==W&&(B=W,e(B.object));a:if(W=B.attributes,aa=N.attributes,Object.keys(W).length!==Object.keys(aa).length)W=!0;else{for(var ba in aa){J=
W[ba];var z=aa[ba];if(void 0===J||J.attribute!==z||J.data!==z.data){W=!0;break a}}W=B.index!==U?!0:!1}if(W){ba={};aa=N.attributes;for(var K in aa)J=aa[K],z={},z.attribute=J,J.data&&(z.data=J.data),ba[K]=z;B.attributes=ba;B.index=U}}else if(K=!0===H.wireframe,B.geometry!==N.id||B.program!==O.id||B.wireframe!==K)B.geometry=N.id,B.program=O.id,B.wireframe=K,W=!0;!0===G.isInstancedMesh&&(W=!0);null!==U&&c.update(U,34963);if(W){if(!1!==d.isWebGL2||!G.isInstancedMesh&&!N.isInstancedBufferGeometry||null!==
b.get("ANGLE_instanced_arrays")){k();K=N.attributes;O=O.getAttributes();H=H.defaultAttributeValues;for(var Q in O)if(W=O[Q],0<=W){var M=K[Q];if(void 0!==M){if(ba=M.normalized,z=M.itemSize,J=c.get(M),void 0!==J){var L=J.buffer;aa=J.type;J=J.bytesPerElement;if(M.isInterleavedBufferAttribute){var T=M.data,X=T.stride;M=M.offset;T&&T.isInstancedInterleavedBuffer?(m(W,T.meshPerAttribute),void 0===N._maxInstanceCount&&(N._maxInstanceCount=T.meshPerAttribute*T.count)):l(W);a.bindBuffer(34962,L);X*=J;J*=M;
!0!==d.isWebGL2||5124!==aa&&5125!==aa?a.vertexAttribPointer(W,z,aa,ba,X,J):a.vertexAttribIPointer(W,z,aa,X,J)}else M.isInstancedBufferAttribute?(m(W,M.meshPerAttribute),void 0===N._maxInstanceCount&&(N._maxInstanceCount=M.meshPerAttribute*M.count)):l(W),a.bindBuffer(34962,L),J=z,!0!==d.isWebGL2||5124!==aa&&5125!==aa?a.vertexAttribPointer(W,J,aa,ba,0,0):a.vertexAttribIPointer(W,J,aa,0,0)}}else if("instanceMatrix"===Q)aa=c.get(G.instanceMatrix),void 0!==aa&&(ba=aa.buffer,aa=aa.type,m(W+0,1),m(W+1,1),
m(W+2,1),m(W+3,1),a.bindBuffer(34962,ba),a.vertexAttribPointer(W+0,4,aa,!1,64,0),a.vertexAttribPointer(W+1,4,aa,!1,64,16),a.vertexAttribPointer(W+2,4,aa,!1,64,32),a.vertexAttribPointer(W+3,4,aa,!1,64,48));else if("instanceColor"===Q)aa=c.get(G.instanceColor),void 0!==aa&&(ba=aa.buffer,aa=aa.type,m(W,1),a.bindBuffer(34962,ba),a.vertexAttribPointer(W,3,aa,!1,12,0));else if(void 0!==H&&(ba=H[Q],void 0!==ba))switch(ba.length){case 2:a.vertexAttrib2fv(W,ba);break;case 3:a.vertexAttrib3fv(W,ba);break;case 4:a.vertexAttrib4fv(W,
ba);break;default:a.vertexAttrib1fv(W,ba)}}n()}null!==U&&a.bindBuffer(34963,c.get(U).buffer)}},reset:p,resetDefaultState:t,dispose:function(){p();for(var G in r){var H=r[G],O;for(O in H){var N=H[O],U;for(U in N)g(N[U].object),delete N[U];delete H[O]}delete r[G]}},releaseStatesOfGeometry:function(G){if(void 0!==r[G.id]){var H=r[G.id],O;for(O in H){var N=H[O],U;for(U in N)g(N[U].object),delete N[U];delete H[O]}delete r[G.id]}},releaseStatesOfProgram:function(G){for(var H in r){var O=r[H];if(void 0!==
O[G.id]){var N=O[G.id],U;for(U in N)g(N[U].object),delete N[U];delete O[G.id]}}},initAttributes:k,enableAttribute:l,disableUnusedAttributes:n}}
function pk$$module$js$threejs$three_min(a,b,c,d){var e=d.isWebGL2,g;this.setMode=function(h){g=h};this.render=function(h,k){a.drawArrays(g,h,k);c.update(k,g,1)};this.renderInstances=function(h,k,l){if(0!==l){if(e)var m=a,n="drawArraysInstanced";else if(m=b.get("ANGLE_instanced_arrays"),n="drawArraysInstancedANGLE",null===m){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[n](g,h,k,l);c.update(k,
g,l)}}}
function qk$$module$js$threejs$three_min(a,b,c){function d(G){if("highp"===G){if(0<a.getShaderPrecisionFormat(35633,36338).precision&&0<a.getShaderPrecisionFormat(35632,36338).precision)return"highp";G="mediump"}return"mediump"===G&&0<a.getShaderPrecisionFormat(35633,36337).precision&&0<a.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var e,g="undefined"!==typeof WebGL2RenderingContext&&a instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&a instanceof
WebGL2ComputeRenderingContext,h=void 0!==c.precision?c.precision:"highp",k=d(h);k!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",k,"instead."),h=k);c=!0===c.logarithmicDepthBuffer;k=a.getParameter(34930);var l=a.getParameter(35660),m=a.getParameter(3379),n=a.getParameter(34076),p=a.getParameter(34921),t=a.getParameter(36347),w=a.getParameter(36348),x=a.getParameter(36349),A=0<l,r=g||!!b.get("OES_texture_float"),E=A&&r,B=g?a.getParameter(36183):0;return{isWebGL2:g,getMaxAnisotropy:function(){if(void 0!==
e)return e;var G=b.get("EXT_texture_filter_anisotropic");return e=null!==G?a.getParameter(G.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:d,precision:h,logarithmicDepthBuffer:c,maxTextures:k,maxVertexTextures:l,maxTextureSize:m,maxCubemapSize:n,maxAttributes:p,maxVertexUniforms:t,maxVaryings:w,maxFragmentUniforms:x,vertexTextures:A,floatFragmentTextures:r,floatVertexTextures:E,maxSamples:B}}
function rk$$module$js$threejs$three_min(a){function b(){n.value!==e&&(n.value=e,n.needsUpdate=0<g);d.numPlanes=g;d.numIntersection=0}function c(p,t,w,x){var A=null!==p?p.length:0,r=null;if(0!==A){r=n.value;if(!0!==x||null===r){x=w+4*A;t=t.matrixWorldInverse;m.getNormalMatrix(t);if(null===r||r.length<x)r=new Float32Array(x);for(x=0;x!==A;++x,w+=4)l.copy(p[x]).applyMatrix4(t,m),l.normal.toArray(r,w),r[w+3]=l.constant}n.value=r;n.needsUpdate=!0}d.numPlanes=A;d.numIntersection=0;return r}var d=this,
e=null,g=0,h=!1,k=!1,l=new Na$$module$js$threejs$three_min,m=new Da$$module$js$threejs$three_min,n={value:null,needsUpdate:!1};this.uniform=n;this.numIntersection=this.numPlanes=0;this.init=function(p,t,w){var x=0!==p.length||t||0!==g||h;h=t;e=c(p,w,0);g=p.length;return x};this.beginShadows=function(){k=!0;c(null)};this.endShadows=function(){k=!1;b()};this.setState=function(p,t,w){var x=p.clippingPlanes,A=p.clipIntersection,r=p.clipShadows;p=a.get(p);if(!h||null===x||0===x.length||k&&!r)k?c(null):
b();else{r=k?0:g;var E=4*r,B=p.clippingState||null;n.value=B;B=c(x,t,E,w);for(t=0;t!==E;++t)B[t]=e[t];p.clippingState=B;this.numIntersection=A?this.numPlanes:0;this.numPlanes+=r}}}
function sk$$module$js$threejs$three_min(a){function b(d,e){303===e?d.mapping=301:304===e&&(d.mapping=302);return d}var c=new WeakMap;return{get:function(d){if(d&&d.isTexture){var e=d.mapping;if(303===e||304===e){if(c.has(d))return e=c.get(d).texture,b(e,d.mapping);var g=d.image;if(g&&0<g.height){e=a.getRenderList();var h=a.getRenderTarget(),k=a.getRenderState();g=new Cc$$module$js$threejs$three_min(g.height/2);g.fromEquirectangularTexture(a,d);c.set(d,g);a.setRenderTarget(h);a.setRenderList(e);a.setRenderState(k);
return b(g.texture,d.mapping)}return null}}return d},dispose:function(){c=new WeakMap}}}
function tk$$module$js$threejs$three_min(a){var b={};return{has:function(c){if(void 0!==b[c])return null!==b[c];switch(c){case "WEBGL_depth_texture":var d=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case "EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case "WEBGL_compressed_texture_s3tc":d=
a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":d=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:d=a.getExtension(c)}b[c]=d;return null!==d},get:function(c){this.has(c)||console.warn("THREE.WebGLRenderer: "+c+" extension not supported.");return b[c]}}}
function uk$$module$js$threejs$three_min(a,b,c,d){function e(l){l=l.target;var m=h.get(l);null!==m.index&&b.remove(m.index);for(var n in m.attributes)b.remove(m.attributes[n]);l.removeEventListener("dispose",e);h.delete(l);if(n=k.get(m))b.remove(n),k.delete(m);d.releaseStatesOfGeometry(l);!0===l.isInstancedBufferGeometry&&delete l._maxInstanceCount;c.memory.geometries--}function g(l){var m=[],n=l.index,p=l.attributes.position;if(null!==n){p=n.array;n=n.version;for(var t=0,w=p.length;t<w;t+=3){var x=
p[t+0],A=p[t+1],r=p[t+2];m.push(x,A,A,r,r,x)}}else for(t=p.array,n=p.version,p=0,t=t.length/3-1;p<t;p+=3)w=p+0,x=p+1,A=p+2,m.push(w,x,x,A,A,w);m=new (65535<vi$$module$js$threejs$three_min(m)?$c$$module$js$threejs$three_min:Zc$$module$js$threejs$three_min)(m,1);m.version=n;(n=k.get(l))&&b.remove(n);k.set(l,m)}var h=new WeakMap,k=new WeakMap;return{get:function(l,m){var n=h.get(m);if(n)return n;m.addEventListener("dispose",e);m.isBufferGeometry?n=m:m.isGeometry&&(void 0===m._bufferGeometry&&(m._bufferGeometry=
(new ka$$module$js$threejs$three_min).setFromObject(l)),n=m._bufferGeometry);h.set(m,n);c.memory.geometries++;return n},update:function(l){var m=l.attributes;for(p in m)b.update(m[p],34962);l=l.morphAttributes;for(var n in l){m=l[n];for(var p=0,t=m.length;p<t;p++)b.update(m[p],34962)}},getWireframeAttribute:function(l){var m=k.get(l);if(m){var n=l.index;null!==n&&m.version<n.version&&g(l)}else g(l);return k.get(l)}}}
function vk$$module$js$threejs$three_min(a,b,c,d){var e=d.isWebGL2,g,h,k;this.setMode=function(l){g=l};this.setIndex=function(l){h=l.type;k=l.bytesPerElement};this.render=function(l,m){a.drawElements(g,m,h,l*k);c.update(m,g,1)};this.renderInstances=function(l,m,n){if(0!==n){if(e)var p=a,t="drawElementsInstanced";else if(p=b.get("ANGLE_instanced_arrays"),t="drawElementsInstancedANGLE",null===p){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
return}p[t](g,m,h,l*k,n);c.update(m,g,n)}}}
function wk$$module$js$threejs$three_min(a){var b={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:b,programs:null,autoReset:!0,reset:function(){b.frame++;b.calls=0;b.triangles=0;b.points=0;b.lines=0},update:function(c,d,e){b.calls++;switch(d){case 4:b.triangles+=c/3*e;break;case 1:b.lines+=c/2*e;break;case 3:b.lines+=e*(c-1);break;case 2:b.lines+=e*c;break;case 0:b.points+=e*c;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",d)}}}}
function xk$$module$js$threejs$three_min(a,b){return a[0]-b[0]}function yk$$module$js$threejs$three_min(a,b){return Math.abs(b[1])-Math.abs(a[1])}
function zk$$module$js$threejs$three_min(a){for(var b={},c=new Float32Array(8),d=[],e=0;8>e;e++)d[e]=[e,0];return{update:function(g,h,k,l){var m=g.morphTargetInfluences;g=void 0===m?0:m.length;var n=b[h.id];if(void 0===n){n=[];for(var p=0;p<g;p++)n[p]=[p,0];b[h.id]=n}for(p=0;p<g;p++){var t=n[p];t[0]=p;t[1]=m[p]}n.sort(yk$$module$js$threejs$three_min);for(m=0;8>m;m++)m<g&&n[m][1]?(d[m][0]=n[m][0],d[m][1]=n[m][1]):(d[m][0]=Number.MAX_SAFE_INTEGER,d[m][1]=0);d.sort(xk$$module$js$threejs$three_min);g=
k.morphTargets&&h.morphAttributes.position;k=k.morphNormals&&h.morphAttributes.normal;for(m=n=0;8>m;m++)t=d[m],p=t[0],t=t[1],p!==Number.MAX_SAFE_INTEGER&&t?(g&&h.getAttribute("morphTarget"+m)!==g[p]&&h.setAttribute("morphTarget"+m,g[p]),k&&h.getAttribute("morphNormal"+m)!==k[p]&&h.setAttribute("morphNormal"+m,k[p]),c[m]=t,n+=t):(g&&void 0!==h.getAttribute("morphTarget"+m)&&h.deleteAttribute("morphTarget"+m),k&&void 0!==h.getAttribute("morphNormal"+m)&&h.deleteAttribute("morphNormal"+m),c[m]=0);h=
h.morphTargetsRelative?1:1-n;l.getUniforms().setValue(a,"morphTargetBaseInfluence",h);l.getUniforms().setValue(a,"morphTargetInfluences",c)}}}
function Ak$$module$js$threejs$three_min(a,b,c,d){var e=new WeakMap;return{update:function(g){var h=d.render.frame,k=g.geometry,l=b.get(g,k);e.get(l)!==h&&(k.isGeometry&&l.updateFromObject(g),b.update(l),e.set(l,h));g.isInstancedMesh&&(c.update(g.instanceMatrix,34962),null!==g.instanceColor&&c.update(g.instanceColor,34962));return l},dispose:function(){e=new WeakMap}}}
function kc$$module$js$threejs$three_min(a,b,c,d,e,g,h,k,l,m){a=void 0!==a?a:[];Oa$$module$js$threejs$three_min.call(this,a,void 0!==b?b:301,c,d,e,g,void 0!==h?h:1022,k,l,m);this.flipY=!1}function Id$$module$js$threejs$three_min(a,b,c,d){Oa$$module$js$threejs$three_min.call(this,null);this.image={data:a||null,width:b||1,height:c||1,depth:d||1};this.minFilter=this.magFilter=1003;this.wrapR=1001;this.flipY=this.generateMipmaps=!1;this.needsUpdate=!0}
function Jd$$module$js$threejs$three_min(a,b,c,d){Oa$$module$js$threejs$three_min.call(this,null);this.image={data:a||null,width:b||1,height:c||1,depth:d||1};this.minFilter=this.magFilter=1003;this.wrapR=1001;this.flipY=this.generateMipmaps=!1;this.needsUpdate=!0}
function Kd$$module$js$threejs$three_min(a,b,c){var d=a[0];if(0>=d||0<d)return a;var e=b*c,g=yi$$module$js$threejs$three_min[e];void 0===g&&(g=new Float32Array(e),yi$$module$js$threejs$three_min[e]=g);if(0!==b)for(d.toArray(g,0),d=1,e=0;d!==b;++d)e+=c,a[d].toArray(g,e);return g}function Lb$$module$js$threejs$three_min(a,b){if(a.length!==b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}
function Eb$$module$js$threejs$three_min(a,b){for(var c=0,d=b.length;c<d;c++)a[c]=b[c]}function zi$$module$js$threejs$three_min(a,b){var c=Ai$$module$js$threejs$three_min[b];void 0===c&&(c=new Int32Array(b),Ai$$module$js$threejs$three_min[b]=c);for(var d=0;d!==b;++d)c[d]=a.allocateTextureUnit();return c}function Bk$$module$js$threejs$three_min(a,b){var c=this.cache;c[0]!==b&&(a.uniform1f(this.addr,b),c[0]=b)}
function Ck$$module$js$threejs$three_min(a,b){var c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y)a.uniform2f(this.addr,b.x,b.y),c[0]=b.x,c[1]=b.y}else Lb$$module$js$threejs$three_min(c,b)||(a.uniform2fv(this.addr,b),Eb$$module$js$threejs$three_min(c,b))}
function Dk$$module$js$threejs$three_min(a,b){var c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z)a.uniform3f(this.addr,b.x,b.y,b.z),c[0]=b.x,c[1]=b.y,c[2]=b.z}else if(void 0!==b.r){if(c[0]!==b.r||c[1]!==b.g||c[2]!==b.b)a.uniform3f(this.addr,b.r,b.g,b.b),c[0]=b.r,c[1]=b.g,c[2]=b.b}else Lb$$module$js$threejs$three_min(c,b)||(a.uniform3fv(this.addr,b),Eb$$module$js$threejs$three_min(c,b))}
function Ek$$module$js$threejs$three_min(a,b){var c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z||c[3]!==b.w)a.uniform4f(this.addr,b.x,b.y,b.z,b.w),c[0]=b.x,c[1]=b.y,c[2]=b.z,c[3]=b.w}else Lb$$module$js$threejs$three_min(c,b)||(a.uniform4fv(this.addr,b),Eb$$module$js$threejs$three_min(c,b))}
function Fk$$module$js$threejs$three_min(a,b){var c=this.cache,d=b.elements;void 0===d?Lb$$module$js$threejs$three_min(c,b)||(a.uniformMatrix2fv(this.addr,!1,b),Eb$$module$js$threejs$three_min(c,b)):Lb$$module$js$threejs$three_min(c,d)||(Bi$$module$js$threejs$three_min.set(d),a.uniformMatrix2fv(this.addr,!1,Bi$$module$js$threejs$three_min),Eb$$module$js$threejs$three_min(c,d))}
function Gk$$module$js$threejs$three_min(a,b){var c=this.cache,d=b.elements;void 0===d?Lb$$module$js$threejs$three_min(c,b)||(a.uniformMatrix3fv(this.addr,!1,b),Eb$$module$js$threejs$three_min(c,b)):Lb$$module$js$threejs$three_min(c,d)||(Ci$$module$js$threejs$three_min.set(d),a.uniformMatrix3fv(this.addr,!1,Ci$$module$js$threejs$three_min),Eb$$module$js$threejs$three_min(c,d))}
function Hk$$module$js$threejs$three_min(a,b){var c=this.cache,d=b.elements;void 0===d?Lb$$module$js$threejs$three_min(c,b)||(a.uniformMatrix4fv(this.addr,!1,b),Eb$$module$js$threejs$three_min(c,b)):Lb$$module$js$threejs$three_min(c,d)||(Di$$module$js$threejs$three_min.set(d),a.uniformMatrix4fv(this.addr,!1,Di$$module$js$threejs$three_min),Eb$$module$js$threejs$three_min(c,d))}
function Ik$$module$js$threejs$three_min(a,b,c){var d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.safeSetTexture2D(b||Ei$$module$js$threejs$three_min,e)}function Jk$$module$js$threejs$three_min(a,b,c){var d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.setTexture2DArray(b||Kk$$module$js$threejs$three_min,e)}
function Lk$$module$js$threejs$three_min(a,b,c){var d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.setTexture3D(b||Mk$$module$js$threejs$three_min,e)}function Nk$$module$js$threejs$three_min(a,b,c){var d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.safeSetTextureCube(b||Fi$$module$js$threejs$three_min,e)}function Ok$$module$js$threejs$three_min(a,b){var c=this.cache;c[0]!==b&&(a.uniform1i(this.addr,b),c[0]=b)}
function Pk$$module$js$threejs$three_min(a,b){var c=this.cache;Lb$$module$js$threejs$three_min(c,b)||(a.uniform2iv(this.addr,b),Eb$$module$js$threejs$three_min(c,b))}function Qk$$module$js$threejs$three_min(a,b){var c=this.cache;Lb$$module$js$threejs$three_min(c,b)||(a.uniform3iv(this.addr,b),Eb$$module$js$threejs$three_min(c,b))}function Rk$$module$js$threejs$three_min(a,b){var c=this.cache;Lb$$module$js$threejs$three_min(c,b)||(a.uniform4iv(this.addr,b),Eb$$module$js$threejs$three_min(c,b))}
function Sk$$module$js$threejs$three_min(a,b){var c=this.cache;c[0]!==b&&(a.uniform1ui(this.addr,b),c[0]=b)}
function Tk$$module$js$threejs$three_min(a){switch(a){case 5126:return Bk$$module$js$threejs$three_min;case 35664:return Ck$$module$js$threejs$three_min;case 35665:return Dk$$module$js$threejs$three_min;case 35666:return Ek$$module$js$threejs$three_min;case 35674:return Fk$$module$js$threejs$three_min;case 35675:return Gk$$module$js$threejs$three_min;case 35676:return Hk$$module$js$threejs$three_min;case 5124:case 35670:return Ok$$module$js$threejs$three_min;case 35667:case 35671:return Pk$$module$js$threejs$three_min;
case 35668:case 35672:return Qk$$module$js$threejs$three_min;case 35669:case 35673:return Rk$$module$js$threejs$three_min;case 5125:return Sk$$module$js$threejs$three_min;case 35678:case 36198:case 36298:case 36306:case 35682:return Ik$$module$js$threejs$three_min;case 35679:case 36299:case 36307:return Lk$$module$js$threejs$three_min;case 35680:case 36300:case 36308:case 36293:return Nk$$module$js$threejs$three_min;case 36289:case 36303:case 36311:case 36292:return Jk$$module$js$threejs$three_min}}
function Uk$$module$js$threejs$three_min(a,b){a.uniform1fv(this.addr,b)}function Vk$$module$js$threejs$three_min(a,b){a.uniform1iv(this.addr,b)}function Wk$$module$js$threejs$three_min(a,b){a.uniform2iv(this.addr,b)}function Xk$$module$js$threejs$three_min(a,b){a.uniform3iv(this.addr,b)}function Yk$$module$js$threejs$three_min(a,b){a.uniform4iv(this.addr,b)}function Zk$$module$js$threejs$three_min(a,b){b=Kd$$module$js$threejs$three_min(b,this.size,2);a.uniform2fv(this.addr,b)}
function $k$$module$js$threejs$three_min(a,b){b=Kd$$module$js$threejs$three_min(b,this.size,3);a.uniform3fv(this.addr,b)}function al$$module$js$threejs$three_min(a,b){b=Kd$$module$js$threejs$three_min(b,this.size,4);a.uniform4fv(this.addr,b)}function bl$$module$js$threejs$three_min(a,b){b=Kd$$module$js$threejs$three_min(b,this.size,4);a.uniformMatrix2fv(this.addr,!1,b)}
function cl$$module$js$threejs$three_min(a,b){b=Kd$$module$js$threejs$three_min(b,this.size,9);a.uniformMatrix3fv(this.addr,!1,b)}function dl$$module$js$threejs$three_min(a,b){b=Kd$$module$js$threejs$three_min(b,this.size,16);a.uniformMatrix4fv(this.addr,!1,b)}function el$$module$js$threejs$three_min(a,b,c){var d=b.length,e=zi$$module$js$threejs$three_min(c,d);a.uniform1iv(this.addr,e);for(a=0;a!==d;++a)c.safeSetTexture2D(b[a]||Ei$$module$js$threejs$three_min,e[a])}
function fl$$module$js$threejs$three_min(a,b,c){var d=b.length,e=zi$$module$js$threejs$three_min(c,d);a.uniform1iv(this.addr,e);for(a=0;a!==d;++a)c.safeSetTextureCube(b[a]||Fi$$module$js$threejs$three_min,e[a])}
function gl$$module$js$threejs$three_min(a){switch(a){case 5126:return Uk$$module$js$threejs$three_min;case 35664:return Zk$$module$js$threejs$three_min;case 35665:return $k$$module$js$threejs$three_min;case 35666:return al$$module$js$threejs$three_min;case 35674:return bl$$module$js$threejs$three_min;case 35675:return cl$$module$js$threejs$three_min;case 35676:return dl$$module$js$threejs$three_min;case 5124:case 35670:return Vk$$module$js$threejs$three_min;case 35667:case 35671:return Wk$$module$js$threejs$three_min;
case 35668:case 35672:return Xk$$module$js$threejs$three_min;case 35669:case 35673:return Yk$$module$js$threejs$three_min;case 35678:case 36198:case 36298:case 36306:case 35682:return el$$module$js$threejs$three_min;case 35680:case 36300:case 36308:case 36293:return fl$$module$js$threejs$three_min}}function hl$$module$js$threejs$three_min(a,b,c){this.id=a;this.addr=c;this.cache=[];this.setValue=Tk$$module$js$threejs$three_min(b.type)}
function Gi$$module$js$threejs$three_min(a,b,c){this.id=a;this.addr=c;this.cache=[];this.size=b.size;this.setValue=gl$$module$js$threejs$three_min(b.type)}function Hi$$module$js$threejs$three_min(a){this.id=a;this.seq=[];this.map={}}
function Dc$$module$js$threejs$three_min(a,b){this.seq=[];this.map={};for(var c=a.getProgramParameter(b,35718),d=0;d<c;++d){var e=a.getActiveUniform(b,d),g=a.getUniformLocation(b,e.name),h=this,k=e.name,l=k.length;for(lh$$module$js$threejs$three_min.lastIndex=0;;){var m=lh$$module$js$threejs$three_min.exec(k),n=lh$$module$js$threejs$three_min.lastIndex,p=m[1],t=m[3];"]"===m[2]&&(p|=0);if(void 0===t||"["===t&&n+2===l){k=h;e=void 0===t?new hl$$module$js$threejs$three_min(p,e,g):new Gi$$module$js$threejs$three_min(p,
e,g);k.seq.push(e);k.map[e.id]=e;break}else t=h.map[p],void 0===t&&(t=new Hi$$module$js$threejs$three_min(p),p=h,h=t,p.seq.push(h),p.map[h.id]=h),h=t}}}function Ii$$module$js$threejs$three_min(a,b,c){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return b}
function Ji$$module$js$threejs$three_min(a){switch(a){case 3E3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",a),["Linear","( value )"]}}
function Ki$$module$js$threejs$three_min(a,b,c){var d=a.getShaderParameter(b,35713),e=a.getShaderInfoLog(b).trim();if(d&&""===e)return"";a=a.getShaderSource(b).split("\n");for(b=0;b<a.length;b++)a[b]=b+1+": "+a[b];a=a.join("\n");return"THREE.WebGLShader: gl.getShaderInfoLog() "+c+"\n"+e+a}function Ke$$module$js$threejs$three_min(a,b){b=Ji$$module$js$threejs$three_min(b);return"vec4 "+a+"( vec4 value ) { return "+b[0]+"ToLinear"+b[1]+"; }"}
function il$$module$js$threejs$three_min(a,b){b=Ji$$module$js$threejs$three_min(b);return"vec4 "+a+"( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"}function jl$$module$js$threejs$three_min(a,b){switch(b){case 1:b="Linear";break;case 2:b="Reinhard";break;case 3:b="OptimizedCineon";break;case 4:b="ACESFilmic";break;case 5:b="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",b),b="Linear"}return"vec3 "+a+"( vec3 color ) { return "+b+"ToneMapping( color ); }"}
function kl$$module$js$threejs$three_min(a){var b=[],c;for(c in a){var d=a[c];!1!==d&&b.push("#define "+c+" "+d)}return b.join("\n")}function Le$$module$js$threejs$three_min(a){return""!==a}
function Li$$module$js$threejs$three_min(a,b){return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,b.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,b.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,b.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,b.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,b.numPointLightShadows)}
function Mi$$module$js$threejs$three_min(a,b){return a.replace(/NUM_CLIPPING_PLANES/g,b.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,b.numClippingPlanes-b.numClipIntersection)}function mh$$module$js$threejs$three_min(a,b){a=Ba$$module$js$threejs$three_min[b];if(void 0===a)throw Error("Can not resolve #include <"+b+">");return a.replace(nh$$module$js$threejs$three_min,mh$$module$js$threejs$three_min)}
function Ni$$module$js$threejs$three_min(a,b,c,d){console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.");return oh$$module$js$threejs$three_min(a,b,c,d)}function oh$$module$js$threejs$three_min(a,b,c,d){a="";for(b=parseInt(b);b<parseInt(c);b++)a+=d.replace(/\[\s*i\s*\]/g,"[ "+b+" ]").replace(/UNROLLED_LOOP_INDEX/g,b);return a}
function Oi$$module$js$threejs$three_min(a){var b="precision "+a.precision+" float;\nprecision "+a.precision+" int;";"highp"===a.precision?b+="\n#define HIGH_PRECISION":"mediump"===a.precision?b+="\n#define MEDIUM_PRECISION":"lowp"===a.precision&&(b+="\n#define LOW_PRECISION");return b}
function ll$$module$js$threejs$three_min(a){var b="SHADOWMAP_TYPE_BASIC";1===a.shadowMapType?b="SHADOWMAP_TYPE_PCF":2===a.shadowMapType?b="SHADOWMAP_TYPE_PCF_SOFT":3===a.shadowMapType&&(b="SHADOWMAP_TYPE_VSM");return b}function ml$$module$js$threejs$three_min(a){var b="ENVMAP_TYPE_CUBE";if(a.envMap)switch(a.envMapMode){case 301:case 302:b="ENVMAP_TYPE_CUBE";break;case 306:case 307:b="ENVMAP_TYPE_CUBE_UV"}return b}
function nl$$module$js$threejs$three_min(a){var b="ENVMAP_MODE_REFLECTION";if(a.envMap)switch(a.envMapMode){case 302:case 307:b="ENVMAP_MODE_REFRACTION"}return b}function ol$$module$js$threejs$three_min(a){var b="ENVMAP_BLENDING_NONE";if(a.envMap)switch(a.combine){case 0:b="ENVMAP_BLENDING_MULTIPLY";break;case 1:b="ENVMAP_BLENDING_MIX";break;case 2:b="ENVMAP_BLENDING_ADD"}return b}
function pl$$module$js$threejs$three_min(a,b,c,d){var e=a.getContext(),g=c.defines,h=c.vertexShader,k=c.fragmentShader,l=ll$$module$js$threejs$three_min(c),m=ml$$module$js$threejs$three_min(c),n=nl$$module$js$threejs$three_min(c),p=ol$$module$js$threejs$three_min(c),t=0<a.gammaFactor?a.gammaFactor:1,w=c.isWebGL2?"":[c.extensionDerivatives||c.envMapCubeUV||c.bumpMap||c.tangentSpaceNormalMap||c.clearcoatNormalMap||c.flatShading||"physical"===c.shaderID?"#extension GL_OES_standard_derivatives : enable":
"",(c.extensionFragDepth||c.logarithmicDepthBuffer)&&c.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",c.extensionDrawBuffers&&c.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(c.extensionShaderTextureLOD||c.envMap)&&c.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Le$$module$js$threejs$three_min).join("\n"),x=kl$$module$js$threejs$three_min(g),A=e.createProgram(),r=c.glslVersion?"#version "+c.glslVersion+
"\n":"";c.isRawShaderMaterial?(g=[x].filter(Le$$module$js$threejs$three_min).join("\n"),0<g.length&&(g+="\n"),l=[w,x].filter(Le$$module$js$threejs$three_min).join("\n"),0<l.length&&(l+="\n")):(g=[Oi$$module$js$threejs$three_min(c),"#define SHADER_NAME "+c.shaderName,x,c.instancing?"#define USE_INSTANCING":"",c.instancingColor?"#define USE_INSTANCING_COLOR":"",c.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+t,"#define MAX_BONES "+c.maxBones,c.useFog&&c.fog?"#define USE_FOG":
"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+n:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMap&&c.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",c.normalMap&&c.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":
"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.displacementMap&&c.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.vertexTangents?"#define USE_TANGENT":"",c.vertexColors?"#define USE_COLOR":"",
c.vertexUvs?"#define USE_UV":"",c.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",c.flatShading?"#define FLAT_SHADED":"",c.skinning?"#define USE_SKINNING":"",c.useVertexTexture?"#define BONE_TEXTURE":"",c.morphTargets?"#define USE_MORPHTARGETS":"",c.morphNormals&&!1===c.flatShading?"#define USE_MORPHNORMALS":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+l:"",c.sizeAttenuation?"#define USE_SIZEATTENUATION":
"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&c.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;",
"attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;",
"\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Le$$module$js$threejs$three_min).join("\n"),l=[w,Oi$$module$js$threejs$three_min(c),"#define SHADER_NAME "+c.shaderName,x,c.alphaTest?"#define ALPHATEST "+c.alphaTest+(c.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+t,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?
"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.matcap?"#define USE_MATCAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+m:"",c.envMap?"#define "+n:"",c.envMap?"#define "+p:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMap&&c.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",c.normalMap&&c.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":
"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.sheen?"#define USE_SHEEN":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.vertexTangents?"#define USE_TANGENT":"",c.vertexColors||c.instancingColor?"#define USE_COLOR":
"",c.vertexUvs?"#define USE_UV":"",c.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",c.gradientMap?"#define USE_GRADIENTMAP":"",c.flatShading?"#define FLAT_SHADED":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+l:"",c.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",c.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&
c.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(c.extensionShaderTextureLOD||c.envMap)&&c.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==c.toneMapping?"#define TONE_MAPPING":"",0!==c.toneMapping?Ba$$module$js$threejs$three_min.tonemapping_pars_fragment:"",0!==c.toneMapping?jl$$module$js$threejs$three_min("toneMapping",c.toneMapping):"",c.dithering?"#define DITHERING":"",Ba$$module$js$threejs$three_min.encodings_pars_fragment,
c.map?Ke$$module$js$threejs$three_min("mapTexelToLinear",c.mapEncoding):"",c.matcap?Ke$$module$js$threejs$three_min("matcapTexelToLinear",c.matcapEncoding):"",c.envMap?Ke$$module$js$threejs$three_min("envMapTexelToLinear",c.envMapEncoding):"",c.emissiveMap?Ke$$module$js$threejs$three_min("emissiveMapTexelToLinear",c.emissiveMapEncoding):"",c.lightMap?Ke$$module$js$threejs$three_min("lightMapTexelToLinear",c.lightMapEncoding):"",il$$module$js$threejs$three_min("linearToOutputTexel",c.outputEncoding),
c.depthPacking?"#define DEPTH_PACKING "+c.depthPacking:"","\n"].filter(Le$$module$js$threejs$three_min).join("\n"));h=h.replace(nh$$module$js$threejs$three_min,mh$$module$js$threejs$three_min);h=Li$$module$js$threejs$three_min(h,c);h=Mi$$module$js$threejs$three_min(h,c);k=k.replace(nh$$module$js$threejs$three_min,mh$$module$js$threejs$three_min);k=Li$$module$js$threejs$three_min(k,c);k=Mi$$module$js$threejs$three_min(k,c);h=h.replace(Pi$$module$js$threejs$three_min,oh$$module$js$threejs$three_min).replace(Qi$$module$js$threejs$three_min,
Ni$$module$js$threejs$three_min);k=k.replace(Pi$$module$js$threejs$three_min,oh$$module$js$threejs$three_min).replace(Qi$$module$js$threejs$three_min,Ni$$module$js$threejs$three_min);c.isWebGL2&&!0!==c.isRawShaderMaterial&&(r="#version 300 es\n",g="#define attribute in\n#define varying out\n#define texture2D texture\n"+g,l=["#define varying in","300 es"===c.glslVersion?"":"out highp vec4 pc_fragColor;","300 es"===c.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+
"\n"+l);k=r+l+k;h=Ii$$module$js$threejs$three_min(e,35633,r+g+h);k=Ii$$module$js$threejs$three_min(e,35632,k);e.attachShader(A,h);e.attachShader(A,k);void 0!==c.index0AttributeName?e.bindAttribLocation(A,0,c.index0AttributeName):!0===c.morphTargets&&e.bindAttribLocation(A,0,"position");e.linkProgram(A);if(a.debug.checkShaderErrors){a=e.getProgramInfoLog(A).trim();r=e.getShaderInfoLog(h).trim();m=e.getShaderInfoLog(k).trim();p=n=!0;if(!1===e.getProgramParameter(A,35714))n=!1,t=Ki$$module$js$threejs$three_min(e,
h,"vertex"),w=Ki$$module$js$threejs$three_min(e,k,"fragment"),console.error("THREE.WebGLProgram: shader error: ",e.getError(),"35715",e.getProgramParameter(A,35715),"gl.getProgramInfoLog",a,t,w);else if(""!==a)console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",a);else if(""===r||""===m)p=!1;p&&(this.diagnostics={runnable:n,programLog:a,vertexShader:{log:r,prefix:g},fragmentShader:{log:m,prefix:l}})}e.deleteShader(h);e.deleteShader(k);var E;this.getUniforms=function(){void 0===E&&(E=new Dc$$module$js$threejs$three_min(e,
A));return E};var B;this.getAttributes=function(){if(void 0===B){for(var G={},H=e.getProgramParameter(A,35721),O=0;O<H;O++){var N=e.getActiveAttrib(A,O).name;G[N]=e.getAttribLocation(A,N)}B=G}return B};this.destroy=function(){d.releaseStatesOfProgram(this);e.deleteProgram(A);this.program=void 0};this.name=c.shaderName;this.id=ql$$module$js$threejs$three_min++;this.cacheKey=b;this.usedTimes=1;this.program=A;this.vertexShader=h;this.fragmentShader=k;return this}
function rl$$module$js$threejs$three_min(a,b,c,d,e,g){function h(r){if(r)r.isTexture?E=r.encoding:r.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),E=r.texture.encoding);else var E=3E3;return E}var k=[],l=d.isWebGL2,m=d.logarithmicDepthBuffer,n=d.floatVertexTextures,p=d.maxVertexUniforms,t=d.vertexTextures,w=d.precision,x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",
MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},A="precision isWebGL2 supportsVertexTextures outputEncoding instancing instancingColor map mapEncoding matcap matcapEncoding envMap envMapMode envMapEncoding envMapCubeUV lightMap lightMapEncoding aoMap emissiveMap emissiveMapEncoding bumpMap normalMap objectSpaceNormalMap tangentSpaceNormalMap clearcoatMap clearcoatRoughnessMap clearcoatNormalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors vertexTangents vertexUvs uvsVertexOnly fog useFog fogExp2 flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights numDirLightShadows numPointLightShadows numSpotLightShadows shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering sheen transmissionMap".split(" ");
return{getParameters:function(r,E,B,G,H){var O=G.fog;G=r.isMeshStandardMaterial?G.environment:null;G=b.get(r.envMap||G);var N=x[r.type];if(H.isSkinnedMesh){var U=H.skeleton.bones;if(n)U=1024;else{var W=Math.min(Math.floor((p-20)/4),U.length);W<U.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+U.length+" bones. This GPU supports "+W+"."),U=0):U=W}}else U=0;null!==r.precision&&(w=d.getMaxPrecision(r.precision),w!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",
w,"instead."));if(N){var J=Pb$$module$js$threejs$three_min[N];W=J.vertexShader;J=J.fragmentShader}else W=r.vertexShader,J=r.fragmentShader;var aa=a.getRenderTarget();return{isWebGL2:l,shaderID:N,shaderName:r.type,vertexShader:W,fragmentShader:J,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:w,instancing:!0===H.isInstancedMesh,instancingColor:!0===H.isInstancedMesh&&null!==H.instanceColor,supportsVertexTextures:t,outputEncoding:null!==aa?h(aa.texture):
a.outputEncoding,map:!!r.map,mapEncoding:h(r.map),matcap:!!r.matcap,matcapEncoding:h(r.matcap),envMap:!!G,envMapMode:G&&G.mapping,envMapEncoding:h(G),envMapCubeUV:!!G&&(306===G.mapping||307===G.mapping),lightMap:!!r.lightMap,lightMapEncoding:h(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:h(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:1===r.normalMapType,tangentSpaceNormalMap:0===r.normalMapType,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,
clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!r.map||!!r.bumpMap||!!r.normalMap||!!r.specularMap||!!r.alphaMap||!!r.emissiveMap||!!r.roughnessMap||!!r.metalnessMap||!!r.clearcoatMap||
!!r.clearcoatRoughnessMap||!!r.clearcoatNormalMap||!!r.displacementMap||!!r.transmissionMap,uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap)&&!!r.displacementMap,fog:!!O,useFog:r.fog,fogExp2:O&&O.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:m,skinning:r.skinning&&0<U,maxBones:U,useVertexTexture:n,morphTargets:r.morphTargets,morphNormals:r.morphNormals,
maxMorphTargets:a.maxMorphTargets,maxMorphNormals:a.maxMorphNormals,numDirLights:E.directional.length,numPointLights:E.point.length,numSpotLights:E.spot.length,numRectAreaLights:E.rectArea.length,numHemiLights:E.hemi.length,numDirLightShadows:E.directionalShadowMap.length,numPointLightShadows:E.pointShadowMap.length,numSpotLightShadows:E.spotShadowMap.length,numClippingPlanes:g.numPlanes,numClipIntersection:g.numIntersection,dithering:r.dithering,shadowMapEnabled:a.shadowMap.enabled&&0<B.length,shadowMapType:a.shadowMap.type,
toneMapping:r.toneMapped?a.toneMapping:0,physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:2===r.side,flipSided:1===r.side,depthPacking:void 0!==r.depthPacking?r.depthPacking:!1,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&
r.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||c.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||c.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||c.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(r){var E=[];r.shaderID?E.push(r.shaderID):(E.push(r.fragmentShader),E.push(r.vertexShader));if(void 0!==r.defines)for(var B in r.defines)E.push(B),E.push(r.defines[B]);if(!1===r.isRawShaderMaterial){for(B=0;B<A.length;B++)E.push(r[A[B]]);
E.push(a.outputEncoding);E.push(a.gammaFactor)}E.push(r.customProgramCacheKey);return E.join()},getUniforms:function(r){var E=x[r.type];return E?Ri$$module$js$threejs$three_min.clone(Pb$$module$js$threejs$three_min[E].uniforms):r.uniforms},acquireProgram:function(r,E){for(var B,G=0,H=k.length;G<H;G++){var O=k[G];if(O.cacheKey===E){B=O;++B.usedTimes;break}}void 0===B&&(B=new pl$$module$js$threejs$three_min(a,E,r,e),k.push(B));return B},releaseProgram:function(r){if(0===--r.usedTimes){var E=k.indexOf(r);
k[E]=k[k.length-1];k.pop();r.destroy()}},programs:k}}function sl$$module$js$threejs$three_min(){var a=new WeakMap;return{get:function(b){var c=a.get(b);void 0===c&&(c={},a.set(b,c));return c},remove:function(b){a.delete(b)},update:function(b,c,d){a.get(b)[c]=d},dispose:function(){a=new WeakMap}}}
function tl$$module$js$threejs$three_min(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.program!==b.program?a.program.id-b.program.id:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function ul$$module$js$threejs$three_min(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}
function Si$$module$js$threejs$three_min(a){function b(k,l,m,n,p,t){var w=c[d],x=a.get(m);void 0===w?(w={id:k.id,object:k,geometry:l,material:m,program:x.program||h,groupOrder:n,renderOrder:k.renderOrder,z:p,group:t},c[d]=w):(w.id=k.id,w.object=k,w.geometry=l,w.material=m,w.program=x.program||h,w.groupOrder=n,w.renderOrder=k.renderOrder,w.z=p,w.group=t);d++;return w}var c=[],d=0,e=[],g=[],h={id:-1};return{opaque:e,transparent:g,init:function(){d=0;e.length=0;g.length=0},push:function(k,l,m,n,p,t){k=
b(k,l,m,n,p,t);(!0===m.transparent?g:e).push(k)},unshift:function(k,l,m,n,p,t){k=b(k,l,m,n,p,t);(!0===m.transparent?g:e).unshift(k)},finish:function(){for(var k=d,l=c.length;k<l;k++){var m=c[k];if(null===m.id)break;m.id=null;m.object=null;m.geometry=null;m.material=null;m.program=null;m.group=null}},sort:function(k,l){1<e.length&&e.sort(k||tl$$module$js$threejs$three_min);1<g.length&&g.sort(l||ul$$module$js$threejs$three_min)}}}
function vl$$module$js$threejs$three_min(a){var b=new WeakMap;return{get:function(c,d){var e=b.get(c);if(void 0===e){var g=new Si$$module$js$threejs$three_min(a);b.set(c,new WeakMap);b.get(c).set(d,g)}else g=e.get(d),void 0===g&&(g=new Si$$module$js$threejs$three_min(a),e.set(d,g));return g},dispose:function(){b=new WeakMap}}}
function wl$$module$js$threejs$three_min(){var a={};return{get:function(b){if(void 0!==a[b.id])return a[b.id];switch(b.type){case "DirectionalLight":var c={direction:new w$$module$js$threejs$three_min,color:new S$$module$js$threejs$three_min};break;case "SpotLight":c={position:new w$$module$js$threejs$three_min,direction:new w$$module$js$threejs$three_min,color:new S$$module$js$threejs$three_min,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case "PointLight":c={position:new w$$module$js$threejs$three_min,
color:new S$$module$js$threejs$three_min,distance:0,decay:0};break;case "HemisphereLight":c={direction:new w$$module$js$threejs$three_min,skyColor:new S$$module$js$threejs$three_min,groundColor:new S$$module$js$threejs$three_min};break;case "RectAreaLight":c={color:new S$$module$js$threejs$three_min,position:new w$$module$js$threejs$three_min,halfWidth:new w$$module$js$threejs$three_min,halfHeight:new w$$module$js$threejs$three_min}}return a[b.id]=c}}}
function xl$$module$js$threejs$three_min(){var a={};return{get:function(b){if(void 0!==a[b.id])return a[b.id];switch(b.type){case "DirectionalLight":var c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new L$$module$js$threejs$three_min};break;case "SpotLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new L$$module$js$threejs$three_min};break;case "PointLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new L$$module$js$threejs$three_min,shadowCameraNear:1,
shadowCameraFar:1E3}}return a[b.id]=c}}}function yl$$module$js$threejs$three_min(a,b){return(b.castShadow?1:0)-(a.castShadow?1:0)}
function zl$$module$js$threejs$three_min(){for(var a=new wl$$module$js$threejs$three_min,b=xl$$module$js$threejs$three_min(),c={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,
point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},d=0;9>d;d++)c.probe.push(new w$$module$js$threejs$three_min);var e=new w$$module$js$threejs$three_min,g=new da$$module$js$threejs$three_min,h=new da$$module$js$threejs$three_min;return{setup:function(k,l,m){for(var n=l=0,p=0,t=0;9>t;t++)c.probe[t].set(0,0,0);var w=t=0,x=0,A=0,r=0,E=0,B=0,G=0;m=m.matrixWorldInverse;k.sort(yl$$module$js$threejs$three_min);for(var H=0,O=k.length;H<O;H++){var N=k[H],U=N.color,W=N.intensity,J=N.distance,
aa=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)l+=U.r*W,n+=U.g*W,p+=U.b*W;else if(N.isLightProbe)for(aa=0;9>aa;aa++)c.probe[aa].addScaledVector(N.sh.coefficients[aa],W);else if(N.isDirectionalLight){W=a.get(N);W.color.copy(N.color).multiplyScalar(N.intensity);W.direction.setFromMatrixPosition(N.matrixWorld);e.setFromMatrixPosition(N.target.matrixWorld);W.direction.sub(e);W.direction.transformDirection(m);if(N.castShadow){var ba=N.shadow;U=b.get(N);U.shadowBias=ba.bias;U.shadowNormalBias=
ba.normalBias;U.shadowRadius=ba.radius;U.shadowMapSize=ba.mapSize;c.directionalShadow[t]=U;c.directionalShadowMap[t]=aa;c.directionalShadowMatrix[t]=N.shadow.matrix;E++}c.directional[t]=W;t++}else N.isSpotLight?(ba=a.get(N),ba.position.setFromMatrixPosition(N.matrixWorld),ba.position.applyMatrix4(m),ba.color.copy(U).multiplyScalar(W),ba.distance=J,ba.direction.setFromMatrixPosition(N.matrixWorld),e.setFromMatrixPosition(N.target.matrixWorld),ba.direction.sub(e),ba.direction.transformDirection(m),
ba.coneCos=Math.cos(N.angle),ba.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),ba.decay=N.decay,N.castShadow&&(W=N.shadow,U=b.get(N),U.shadowBias=W.bias,U.shadowNormalBias=W.normalBias,U.shadowRadius=W.radius,U.shadowMapSize=W.mapSize,c.spotShadow[x]=U,c.spotShadowMap[x]=aa,c.spotShadowMatrix[x]=N.shadow.matrix,G++),c.spot[x]=ba,x++):N.isRectAreaLight?(aa=a.get(N),aa.color.copy(U).multiplyScalar(W),aa.position.setFromMatrixPosition(N.matrixWorld),aa.position.applyMatrix4(m),h.identity(),g.copy(N.matrixWorld),
g.premultiply(m),h.extractRotation(g),aa.halfWidth.set(.5*N.width,0,0),aa.halfHeight.set(0,.5*N.height,0),aa.halfWidth.applyMatrix4(h),aa.halfHeight.applyMatrix4(h),c.rectArea[A]=aa,A++):N.isPointLight?(W=a.get(N),W.position.setFromMatrixPosition(N.matrixWorld),W.position.applyMatrix4(m),W.color.copy(N.color).multiplyScalar(N.intensity),W.distance=N.distance,W.decay=N.decay,N.castShadow&&(ba=N.shadow,U=b.get(N),U.shadowBias=ba.bias,U.shadowNormalBias=ba.normalBias,U.shadowRadius=ba.radius,U.shadowMapSize=
ba.mapSize,U.shadowCameraNear=ba.camera.near,U.shadowCameraFar=ba.camera.far,c.pointShadow[w]=U,c.pointShadowMap[w]=aa,c.pointShadowMatrix[w]=N.shadow.matrix,B++),c.point[w]=W,w++):N.isHemisphereLight&&(aa=a.get(N),aa.direction.setFromMatrixPosition(N.matrixWorld),aa.direction.transformDirection(m),aa.direction.normalize(),aa.skyColor.copy(N.color).multiplyScalar(W),aa.groundColor.copy(N.groundColor).multiplyScalar(W),c.hemi[r]=aa,r++)}0<A&&(c.rectAreaLTC1=fa$$module$js$threejs$three_min.LTC_1,c.rectAreaLTC2=
fa$$module$js$threejs$three_min.LTC_2);c.ambient[0]=l;c.ambient[1]=n;c.ambient[2]=p;k=c.hash;if(k.directionalLength!==t||k.pointLength!==w||k.spotLength!==x||k.rectAreaLength!==A||k.hemiLength!==r||k.numDirectionalShadows!==E||k.numPointShadows!==B||k.numSpotShadows!==G)c.directional.length=t,c.spot.length=x,c.rectArea.length=A,c.point.length=w,c.hemi.length=r,c.directionalShadow.length=E,c.directionalShadowMap.length=E,c.pointShadow.length=B,c.pointShadowMap.length=B,c.spotShadow.length=G,c.spotShadowMap.length=
G,c.directionalShadowMatrix.length=E,c.pointShadowMatrix.length=B,c.spotShadowMatrix.length=G,k.directionalLength=t,k.pointLength=w,k.spotLength=x,k.rectAreaLength=A,k.hemiLength=r,k.numDirectionalShadows=E,k.numPointShadows=B,k.numSpotShadows=G,c.version=Al$$module$js$threejs$three_min++},state:c}}
function Ti$$module$js$threejs$three_min(){var a=new zl$$module$js$threejs$three_min,b=[],c=[];return{init:function(){b.length=0;c.length=0},state:{lightsArray:b,shadowsArray:c,lights:a},setupLights:function(d){a.setup(b,c,d)},pushLight:function(d){b.push(d)},pushShadow:function(d){c.push(d)}}}
function Bl$$module$js$threejs$three_min(){var a=new WeakMap;return{get:function(b,c){if(!1===a.has(b)){var d=new Ti$$module$js$threejs$three_min;a.set(b,new WeakMap);a.get(b).set(c,d)}else!1===a.get(b).has(c)?(d=new Ti$$module$js$threejs$three_min,a.get(b).set(c,d)):d=a.get(b).get(c);return d},dispose:function(){a=new WeakMap}}}
function Ec$$module$js$threejs$three_min(a){ra$$module$js$threejs$three_min.call(this);this.type="MeshDepthMaterial";this.depthPacking=3200;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.fog=!1;this.setValues(a)}
function Fc$$module$js$threejs$three_min(a){ra$$module$js$threejs$three_min.call(this);this.type="MeshDistanceMaterial";this.referencePosition=new w$$module$js$threejs$three_min;this.nearDistance=1;this.farDistance=1E3;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.fog=!1;this.setValues(a)}
function Ui$$module$js$threejs$three_min(a,b,c){function d(H,O,N){N=H<<0|O<<1|N<<2;var U=p[N];void 0===U&&(U=new Ec$$module$js$threejs$three_min({depthPacking:3201,morphTargets:H,skinning:O}),p[N]=U);return U}function e(H,O,N){N=H<<0|O<<1|N<<2;var U=t[N];void 0===U&&(U=new Fc$$module$js$threejs$three_min({morphTargets:H,skinning:O}),t[N]=U);return U}function g(H,O,N,U,W,J,aa){var ba=d,z=H.customDepthMaterial;!0===U.isPointLight&&(ba=e,z=H.customDistanceMaterial);void 0===z?(z=!1,!0===N.morphTargets&&
(z=O.morphAttributes&&O.morphAttributes.position&&0<O.morphAttributes.position.length),O=!1,!0===H.isSkinnedMesh&&(!0===N.skinning?O=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",H)),H=ba(z,O,!0===H.isInstancedMesh)):H=z;a.localClippingEnabled&&!0===N.clipShadows&&0!==N.clippingPlanes.length&&(z=H.uuid,ba=N.uuid,O=w[z],void 0===O&&(O={},w[z]=O),z=O[ba],void 0===z&&(z=H.clone(),O[ba]=z),H=z);H.visible=N.visible;H.wireframe=N.wireframe;H.side=3===aa?
null!==N.shadowSide?N.shadowSide:N.side:null!==N.shadowSide?N.shadowSide:x[N.side];H.clipShadows=N.clipShadows;H.clippingPlanes=N.clippingPlanes;H.clipIntersection=N.clipIntersection;H.wireframeLinewidth=N.wireframeLinewidth;H.linewidth=N.linewidth;!0===U.isPointLight&&!0===H.isMeshDistanceMaterial&&(H.referencePosition.setFromMatrixPosition(U.matrixWorld),H.nearDistance=W,H.farDistance=J);return H}function h(H,O,N,U,W){if(!1!==H.visible){if(H.layers.test(O.layers)&&(H.isMesh||H.isLine||H.isPoints)&&
(H.castShadow||H.receiveShadow&&3===W)&&(!H.frustumCulled||k.intersectsObject(H))){H.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,H.matrixWorld);var J=b.update(H),aa=H.material;if(Array.isArray(aa))for(var ba=J.groups,z=0,K=ba.length;z<K;z++){var Q=ba[z],M=aa[Q.materialIndex];M&&M.visible&&(M=g(H,J,M,U,N.near,N.far,W),a.renderBufferDirect(N,null,J,M,H,Q))}else aa.visible&&(aa=g(H,J,aa,U,N.near,N.far,W),a.renderBufferDirect(N,null,J,aa,H,null))}H=H.children;J=0;for(aa=H.length;J<aa;J++)h(H[J],
O,N,U,W)}}var k=new xb$$module$js$threejs$three_min,l=new L$$module$js$threejs$three_min,m=new L$$module$js$threejs$three_min,n=new ca$$module$js$threejs$three_min,p=[],t=[],w={},x={0:1,1:0,2:2},A=new sb$$module$js$threejs$three_min({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:.125},uniforms:{shadow_pass:{value:null},resolution:{value:new L$$module$js$threejs$three_min},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),
r=A.clone();r.defines.HORIZONAL_PASS=1;var E=new ka$$module$js$threejs$three_min;E.setAttribute("position",new pa$$module$js$threejs$three_min(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var B=new Qa$$module$js$threejs$three_min(E,A),G=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=1;this.render=function(H,O,N){if(!1!==G.enabled&&(!1!==G.autoUpdate||!1!==G.needsUpdate)&&0!==H.length){var U=a.getRenderTarget(),W=a.getActiveCubeFace(),J=a.getActiveMipmapLevel(),aa=a.state;
aa.setBlending(0);aa.buffers.color.setClear(1,1,1,1);aa.buffers.depth.setTest(!0);aa.setScissorTest(!1);for(var ba=0,z=H.length;ba<z;ba++){var K=H[ba],Q=K.shadow;if(!1!==Q.autoUpdate||!1!==Q.needsUpdate)if(void 0===Q)console.warn("THREE.WebGLShadowMap:",K,"has no shadow.");else{l.copy(Q.mapSize);var M=Q.getFrameExtents();l.multiply(M);m.copy(Q.mapSize);if(l.x>c||l.y>c)l.x>c&&(m.x=Math.floor(c/M.x),l.x=m.x*M.x,Q.mapSize.x=m.x),l.y>c&&(m.y=Math.floor(c/M.y),l.y=m.y*M.y,Q.mapSize.y=m.y);null!==Q.map||
Q.isPointLightShadow||3!==this.type||(M={minFilter:1006,magFilter:1006,format:1023},Q.map=new Db$$module$js$threejs$three_min(l.x,l.y,M),Q.map.texture.name=K.name+".shadowMap",Q.mapPass=new Db$$module$js$threejs$three_min(l.x,l.y,M),Q.camera.updateProjectionMatrix());null===Q.map&&(Q.map=new Db$$module$js$threejs$three_min(l.x,l.y,{minFilter:1003,magFilter:1003,format:1023}),Q.map.texture.name=K.name+".shadowMap",Q.camera.updateProjectionMatrix());a.setRenderTarget(Q.map);a.clear();M=Q.getViewportCount();
for(var L=0;L<M;L++){var T=Q.getViewport(L);n.set(m.x*T.x,m.y*T.y,m.x*T.z,m.y*T.w);aa.viewport(n);Q.updateMatrices(K,L);k=Q.getFrustum();h(O,N,Q.camera,K,this.type)}Q.isPointLightShadow||3!==this.type||(K=Q,M=N,L=b.update(B),A.uniforms.shadow_pass.value=K.map.texture,A.uniforms.resolution.value=K.mapSize,A.uniforms.radius.value=K.radius,a.setRenderTarget(K.mapPass),a.clear(),a.renderBufferDirect(M,null,L,A,B,null),r.uniforms.shadow_pass.value=K.mapPass.texture,r.uniforms.resolution.value=K.mapSize,
r.uniforms.radius.value=K.radius,a.setRenderTarget(K.map),a.clear(),a.renderBufferDirect(M,null,L,r,B,null));Q.needsUpdate=!1}}G.needsUpdate=!1;a.setRenderTarget(U,W,J)}}}
function Cl$$module$js$threejs$three_min(a,b,c){function d(u,D,I){var S=new Uint8Array(4),P=a.createTexture();a.bindTexture(u,P);a.texParameteri(u,10241,9728);a.texParameteri(u,10240,9728);for(u=0;u<I;u++)a.texImage2D(D+u,0,6408,1,1,0,6408,5121,S);return P}function e(u){!0!==x[u]&&(a.enable(u),x[u]=!0)}function g(u){!1!==x[u]&&(a.disable(u),x[u]=!1)}function h(u,D,I,S,P,Y,Z,ea){if(0===u)r&&(g(3042),r=!1);else if(r||(e(3042),r=!0),5!==u){if(u!==E||ea!==W){if(100!==B||100!==O)a.blendEquation(32774),
O=B=100;if(ea)switch(u){case 1:a.blendFuncSeparate(1,771,1,771);break;case 2:a.blendFunc(1,1);break;case 3:a.blendFuncSeparate(0,0,769,771);break;case 4:a.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",u)}else switch(u){case 1:a.blendFuncSeparate(770,771,1,771);break;case 2:a.blendFunc(770,1);break;case 3:a.blendFunc(0,769);break;case 4:a.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",u)}U=N=H=G=null;E=u;W=ea}}else{P=
P||D;Y=Y||I;Z=Z||S;if(D!==B||P!==O)a.blendEquationSeparate(q[D],q[P]),B=D,O=P;if(I!==G||S!==H||Y!==N||Z!==U)a.blendFuncSeparate(v[I],v[S],v[Y],v[Z]),G=I,H=S,N=Y,U=Z;E=u;W=null}}function k(u){J!==u&&(u?a.frontFace(2304):a.frontFace(2305),J=u)}function l(u){0!==u?(e(2884),u!==aa&&(1===u?a.cullFace(1029):2===u?a.cullFace(1028):a.cullFace(1032))):g(2884);aa=u}function m(u,D,I){if(u){if(e(32823),z!==D||K!==I)a.polygonOffset(D,I),z=D,K=I}else g(32823)}function n(u){void 0===u&&(u=33984+Q-1);T!==u&&(a.activeTexture(u),
T=u)}c=c.isWebGL2;var p=new function(){var u=!1,D=new ca$$module$js$threejs$three_min,I=null,S=new ca$$module$js$threejs$three_min(0,0,0,0);return{setMask:function(P){I===P||u||(a.colorMask(P,P,P,P),I=P)},setLocked:function(P){u=P},setClear:function(P,Y,Z,ea,ja){!0===ja&&(P*=ea,Y*=ea,Z*=ea);D.set(P,Y,Z,ea);!1===S.equals(D)&&(a.clearColor(P,Y,Z,ea),S.copy(D))},reset:function(){u=!1;I=null;S.set(-1,0,0,0)}}},t=new function(){var u=!1,D=null,I=null,S=null;return{setTest:function(P){P?e(2929):g(2929)},
setMask:function(P){D===P||u||(a.depthMask(P),D=P)},setFunc:function(P){if(I!==P){if(P)switch(P){case 0:a.depthFunc(512);break;case 1:a.depthFunc(519);break;case 2:a.depthFunc(513);break;case 3:a.depthFunc(515);break;case 4:a.depthFunc(514);break;case 5:a.depthFunc(518);break;case 6:a.depthFunc(516);break;case 7:a.depthFunc(517);break;default:a.depthFunc(515)}else a.depthFunc(515);I=P}},setLocked:function(P){u=P},setClear:function(P){S!==P&&(a.clearDepth(P),S=P)},reset:function(){u=!1;S=I=D=null}}},
w=new function(){var u=!1,D=null,I=null,S=null,P=null,Y=null,Z=null,ea=null,ja=null;return{setTest:function(ha){u||(ha?e(2960):g(2960))},setMask:function(ha){D===ha||u||(a.stencilMask(ha),D=ha)},setFunc:function(ha,ka,oa){if(I!==ha||S!==ka||P!==oa)a.stencilFunc(ha,ka,oa),I=ha,S=ka,P=oa},setOp:function(ha,ka,oa){if(Y!==ha||Z!==ka||ea!==oa)a.stencilOp(ha,ka,oa),Y=ha,Z=ka,ea=oa},setLocked:function(ha){u=ha},setClear:function(ha){ja!==ha&&(a.clearStencil(ha),ja=ha)},reset:function(){u=!1;ja=ea=Z=Y=P=
S=I=D=null}}},x={},A=null,r=null,E=null,B=null,G=null,H=null,O=null,N=null,U=null,W=!1,J=null,aa=null,ba=null,z=null,K=null,Q=a.getParameter(35661),M=!1,L=0;L=a.getParameter(7938);-1!==L.indexOf("WebGL")?(L=parseFloat(/^WebGL ([0-9])/.exec(L)[1]),M=1<=L):-1!==L.indexOf("OpenGL ES")&&(L=parseFloat(/^OpenGL ES ([0-9])/.exec(L)[1]),M=2<=L);var T=null,X={},y=new ca$$module$js$threejs$three_min,F=new ca$$module$js$threejs$three_min,R={};R[3553]=d(3553,3553,1);R[34067]=d(34067,34069,6);p.setClear(0,0,0,
1);t.setClear(1);w.setClear(0);e(2929);t.setFunc(3);k(!1);l(1);e(2884);h(0);var q={100:32774,101:32778,102:32779};c?(q[103]=32775,q[104]=32776):(b=b.get("EXT_blend_minmax"),null!==b&&(q[103]=b.MIN_EXT,q[104]=b.MAX_EXT));var v={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};return{buffers:{color:p,depth:t,stencil:w},enable:e,disable:g,useProgram:function(u){return A!==u?(a.useProgram(u),A=u,!0):!1},setBlending:h,setMaterial:function(u,D){2===u.side?g(2884):e(2884);
var I=1===u.side;D&&(I=!I);k(I);1===u.blending&&!1===u.transparent?h(0):h(u.blending,u.blendEquation,u.blendSrc,u.blendDst,u.blendEquationAlpha,u.blendSrcAlpha,u.blendDstAlpha,u.premultipliedAlpha);t.setFunc(u.depthFunc);t.setTest(u.depthTest);t.setMask(u.depthWrite);p.setMask(u.colorWrite);D=u.stencilWrite;w.setTest(D);D&&(w.setMask(u.stencilWriteMask),w.setFunc(u.stencilFunc,u.stencilRef,u.stencilFuncMask),w.setOp(u.stencilFail,u.stencilZFail,u.stencilZPass));m(u.polygonOffset,u.polygonOffsetFactor,
u.polygonOffsetUnits)},setFlipSided:k,setCullFace:l,setLineWidth:function(u){u!==ba&&(M&&a.lineWidth(u),ba=u)},setPolygonOffset:m,setScissorTest:function(u){u?e(3089):g(3089)},activeTexture:n,bindTexture:function(u,D){null===T&&n();var I=X[T];void 0===I&&(I={type:void 0,texture:void 0},X[T]=I);if(I.type!==u||I.texture!==D)a.bindTexture(u,D||R[u]),I.type=u,I.texture=D},unbindTexture:function(){var u=X[T];void 0!==u&&void 0!==u.type&&(a.bindTexture(u.type,null),u.type=void 0,u.texture=void 0)},compressedTexImage2D:function(){try{a.compressedTexImage2D.apply(a,
arguments)}catch(u){console.error("THREE.WebGLState:",u)}},texImage2D:function(){try{a.texImage2D.apply(a,arguments)}catch(u){console.error("THREE.WebGLState:",u)}},texImage3D:function(){try{a.texImage3D.apply(a,arguments)}catch(u){console.error("THREE.WebGLState:",u)}},scissor:function(u){!1===y.equals(u)&&(a.scissor(u.x,u.y,u.z,u.w),y.copy(u))},viewport:function(u){!1===F.equals(u)&&(a.viewport(u.x,u.y,u.z,u.w),F.copy(u))},reset:function(){x={};T=null;X={};aa=J=E=A=null;p.reset();t.reset();w.reset()}}}
function Dl$$module$js$threejs$three_min(a,b,c,d,e,g,h){function k(q,v){return L?new OffscreenCanvas(q,v):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function l(q,v,u,D){var I=1;if(q.width>D||q.height>D)I=D/Math.max(q.width,q.height);if(1>I||!0===v){if("undefined"!==typeof HTMLImageElement&&q instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&q instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&q instanceof ImageBitmap)return D=v?xa$$module$js$threejs$three_min.floorPowerOfTwo:
Math.floor,v=D(I*q.width),I=D(I*q.height),void 0===M&&(M=k(v,I)),u=u?k(v,I):M,u.width=v,u.height=I,u.getContext("2d").drawImage(q,0,0,v,I),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+q.width+"x"+q.height+") to ("+v+"x"+I+")."),u;"data"in q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+q.width+"x"+q.height+").")}return q}function m(q){return xa$$module$js$threejs$three_min.isPowerOfTwo(q.width)&&xa$$module$js$threejs$three_min.isPowerOfTwo(q.height)}
function n(q,v){return q.generateMipmaps&&v&&1003!==q.minFilter&&1006!==q.minFilter}function p(q,v,u,D){a.generateMipmap(q);d.get(v).__maxMipLevel=Math.log(Math.max(u,D))*Math.LOG2E}function t(q,v,u){if(!1===J)return v;if(null!==q){if(void 0!==a[q])return a[q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+q+"'")}q=v;6403===v&&(5126===u&&(q=33326),5131===u&&(q=33325),5121===u&&(q=33321));6407===v&&(5126===u&&(q=34837),5131===u&&(q=34843),5121===u&&(q=32849));
6408===v&&(5126===u&&(q=34836),5131===u&&(q=34842),5121===u&&(q=32856));33325!==q&&33326!==q&&34842!==q&&34836!==q||b.get("EXT_color_buffer_float");return q}function w(q){return 1003===q||1004===q||1005===q?9728:9729}function x(q){q=q.target;q.removeEventListener("dispose",x);var v=d.get(q);void 0!==v.__webglInit&&(a.deleteTexture(v.__webglTexture),d.remove(q));q.isVideoTexture&&Q.delete(q);h.memory.textures--}function A(q){q=q.target;q.removeEventListener("dispose",A);var v=d.get(q),u=d.get(q.texture);
if(q){void 0!==u.__webglTexture&&a.deleteTexture(u.__webglTexture);q.depthTexture&&q.depthTexture.dispose();if(q.isWebGLCubeRenderTarget)for(u=0;6>u;u++)a.deleteFramebuffer(v.__webglFramebuffer[u]),v.__webglDepthbuffer&&a.deleteRenderbuffer(v.__webglDepthbuffer[u]);else a.deleteFramebuffer(v.__webglFramebuffer),v.__webglDepthbuffer&&a.deleteRenderbuffer(v.__webglDepthbuffer),v.__webglMultisampledFramebuffer&&a.deleteFramebuffer(v.__webglMultisampledFramebuffer),v.__webglColorRenderbuffer&&a.deleteRenderbuffer(v.__webglColorRenderbuffer),
v.__webglDepthRenderbuffer&&a.deleteRenderbuffer(v.__webglDepthRenderbuffer);d.remove(q.texture);d.remove(q)}h.memory.textures--}function r(q,v){var u=d.get(q);if(q.isVideoTexture){var D=h.render.frame;Q.get(q)!==D&&(Q.set(q,D),q.update())}if(0<q.version&&u.__version!==q.version)if(D=q.image,void 0===D)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(!1===D.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");
else{O(u,q,v);return}c.activeTexture(33984+v);c.bindTexture(3553,u.__webglTexture)}function E(q,v){if(6===q.image.length){var u=d.get(q);if(0<q.version&&u.__version!==q.version){H(u,q);c.activeTexture(33984+v);c.bindTexture(34067,u.__webglTexture);a.pixelStorei(37440,q.flipY);var D=q&&(q.isCompressedTexture||q.image[0].isCompressedTexture),I=q.image[0]&&q.image[0].isDataTexture;v=[];for(var S=0;6>S;S++)v[S]=D||I?I?q.image[S].image:q.image[S]:l(q.image[S],!1,!0,ba);S=v[0];var P=m(S)||J,Y=g.convert(q.format),
Z=g.convert(q.type),ea=t(q.internalFormat,Y,Z);G(34067,q,P);if(D){for(I=0;6>I;I++){var ja=v[I].mipmaps;for(D=0;D<ja.length;D++){var ha=ja[D];1023!==q.format&&1022!==q.format?null!==Y?c.compressedTexImage2D(34069+I,D,ea,ha.width,ha.height,0,ha.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):c.texImage2D(34069+I,D,ea,ha.width,ha.height,0,Y,Z,ha.data)}}u.__maxMipLevel=ja.length-1}else{ja=q.mipmaps;for(D=0;6>D;D++)if(I)for(c.texImage2D(34069+
D,0,ea,v[D].width,v[D].height,0,Y,Z,v[D].data),ha=0;ha<ja.length;ha++){var ka=ja[ha].image[D].image;c.texImage2D(34069+D,ha+1,ea,ka.width,ka.height,0,Y,Z,ka.data)}else for(c.texImage2D(34069+D,0,ea,Y,Z,v[D]),ha=0;ha<ja.length;ha++)c.texImage2D(34069+D,ha+1,ea,Y,Z,ja[ha].image[D]);u.__maxMipLevel=ja.length}n(q,P)&&p(34067,q,S.width,S.height);u.__version=q.version;if(q.onUpdate)q.onUpdate(q)}else c.activeTexture(33984+v),c.bindTexture(34067,u.__webglTexture)}}function B(q,v){c.activeTexture(33984+v);
c.bindTexture(34067,d.get(q).__webglTexture)}function G(q,v,u){u?(a.texParameteri(q,10242,X[v.wrapS]),a.texParameteri(q,10243,X[v.wrapT]),32879!==q&&35866!==q||a.texParameteri(q,32882,X[v.wrapR]),a.texParameteri(q,10240,y[v.magFilter]),a.texParameteri(q,10241,y[v.minFilter])):(a.texParameteri(q,10242,33071),a.texParameteri(q,10243,33071),32879!==q&&35866!==q||a.texParameteri(q,32882,33071),1001===v.wrapS&&1001===v.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),
a.texParameteri(q,10240,w(v.magFilter)),a.texParameteri(q,10241,w(v.minFilter)),1003!==v.minFilter&&1006!==v.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));!(u=b.get("EXT_texture_filter_anisotropic"))||1015===v.type&&null===b.get("OES_texture_float_linear")||1016===v.type&&null===(J||b.get("OES_texture_half_float_linear"))||!(1<v.anisotropy||d.get(v).__currentAnisotropy)||(a.texParameterf(q,
u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(v.anisotropy,e.getMaxAnisotropy())),d.get(v).__currentAnisotropy=v.anisotropy)}function H(q,v){void 0===q.__webglInit&&(q.__webglInit=!0,v.addEventListener("dispose",x),q.__webglTexture=a.createTexture(),h.memory.textures++)}function O(q,v,u){var D=3553;v.isDataTexture2DArray&&(D=35866);v.isDataTexture3D&&(D=32879);H(q,v);c.activeTexture(33984+u);c.bindTexture(D,q.__webglTexture);a.pixelStorei(37440,v.flipY);a.pixelStorei(37441,v.premultiplyAlpha);a.pixelStorei(3317,
v.unpackAlignment);u=(u=J?!1:1001!==v.wrapS||1001!==v.wrapT||1003!==v.minFilter&&1006!==v.minFilter)&&!1===m(v.image);u=l(v.image,u,!1,z);var I=m(u)||J,S=g.convert(v.format),P=g.convert(v.type),Y=t(v.internalFormat,S,P);G(D,v,I);var Z=v.mipmaps;if(v.isDepthTexture)Y=6402,J?Y=1015===v.type?36012:1014===v.type?33190:1020===v.type?35056:33189:1015===v.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===v.format&&6402===Y&&1012!==v.type&&1014!==v.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),
v.type=1012,P=g.convert(v.type)),1027===v.format&&6402===Y&&(Y=34041,1020!==v.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),v.type=1020,P=g.convert(v.type))),c.texImage2D(3553,0,Y,u.width,u.height,0,S,P,null);else if(v.isDataTexture)if(0<Z.length&&I){for(var ea=0,ja=Z.length;ea<ja;ea++){var ha=Z[ea];c.texImage2D(3553,ea,Y,ha.width,ha.height,0,S,P,ha.data)}v.generateMipmaps=!1;q.__maxMipLevel=Z.length-1}else c.texImage2D(3553,0,Y,u.width,u.height,
0,S,P,u.data),q.__maxMipLevel=0;else if(v.isCompressedTexture){ea=0;for(ja=Z.length;ea<ja;ea++)ha=Z[ea],1023!==v.format&&1022!==v.format?null!==S?c.compressedTexImage2D(3553,ea,Y,ha.width,ha.height,0,ha.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):c.texImage2D(3553,ea,Y,ha.width,ha.height,0,S,P,ha.data);q.__maxMipLevel=Z.length-1}else if(v.isDataTexture2DArray)c.texImage3D(35866,0,Y,u.width,u.height,u.depth,0,S,P,u.data),q.__maxMipLevel=
0;else if(v.isDataTexture3D)c.texImage3D(32879,0,Y,u.width,u.height,u.depth,0,S,P,u.data),q.__maxMipLevel=0;else if(0<Z.length&&I){ea=0;for(ja=Z.length;ea<ja;ea++)ha=Z[ea],c.texImage2D(3553,ea,Y,S,P,ha);v.generateMipmaps=!1;q.__maxMipLevel=Z.length-1}else c.texImage2D(3553,0,Y,S,P,u),q.__maxMipLevel=0;n(v,I)&&p(D,v,u.width,u.height);q.__version=v.version;if(v.onUpdate)v.onUpdate(v)}function N(q,v,u,D){var I=g.convert(v.texture.format),S=g.convert(v.texture.type),P=t(v.texture.internalFormat,I,S);
c.texImage2D(D,0,P,v.width,v.height,0,I,S,null);a.bindFramebuffer(36160,q);a.framebufferTexture2D(36160,u,D,d.get(v.texture).__webglTexture,0);a.bindFramebuffer(36160,null)}function U(q,v,u){a.bindRenderbuffer(36161,q);if(v.depthBuffer&&!v.stencilBuffer){var D=33189;u?((u=v.depthTexture)&&u.isDepthTexture&&(1015===u.type?D=36012:1014===u.type&&(D=33190)),u=W(v),a.renderbufferStorageMultisample(36161,u,D,v.width,v.height)):a.renderbufferStorage(36161,D,v.width,v.height);a.framebufferRenderbuffer(36160,
36096,36161,q)}else v.depthBuffer&&v.stencilBuffer?(u?(u=W(v),a.renderbufferStorageMultisample(36161,u,35056,v.width,v.height)):a.renderbufferStorage(36161,34041,v.width,v.height),a.framebufferRenderbuffer(36160,33306,36161,q)):(q=g.convert(v.texture.format),D=g.convert(v.texture.type),q=t(v.texture.internalFormat,q,D),u?(u=W(v),a.renderbufferStorageMultisample(36161,u,q,v.width,v.height)):a.renderbufferStorage(36161,q,v.width,v.height));a.bindRenderbuffer(36161,null)}function W(q){return J&&q.isWebGLMultisampleRenderTarget?
Math.min(K,q.samples):0}var J=e.isWebGL2,aa=e.maxTextures,ba=e.maxCubemapSize,z=e.maxTextureSize,K=e.maxSamples,Q=new WeakMap,M,L=!1;try{L="undefined"!==typeof OffscreenCanvas&&null!==(new OffscreenCanvas(1,1)).getContext("2d")}catch(q){}var T=0,X={1E3:10497,1001:33071,1002:33648},y={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987},F=!1,R=!1;this.allocateTextureUnit=function(){var q=T;q>=aa&&console.warn("THREE.WebGLTextures: Trying to use "+q+" texture units while this GPU supports only "+
aa);T+=1;return q};this.resetTextureUnits=function(){T=0};this.setTexture2D=r;this.setTexture2DArray=function(q,v){var u=d.get(q);0<q.version&&u.__version!==q.version?O(u,q,v):(c.activeTexture(33984+v),c.bindTexture(35866,u.__webglTexture))};this.setTexture3D=function(q,v){var u=d.get(q);0<q.version&&u.__version!==q.version?O(u,q,v):(c.activeTexture(33984+v),c.bindTexture(32879,u.__webglTexture))};this.setTextureCube=E;this.setTextureCubeDynamic=B;this.setupRenderTarget=function(q){var v=d.get(q),
u=d.get(q.texture);q.addEventListener("dispose",A);u.__webglTexture=a.createTexture();h.memory.textures++;var D=!0===q.isWebGLCubeRenderTarget,I=!0===q.isWebGLMultisampleRenderTarget,S=m(q)||J;!J||1022!==q.texture.format||1015!==q.texture.type&&1016!==q.texture.type||(q.texture.format=1023,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead."));if(D)for(v.__webglFramebuffer=[],I=0;6>I;I++)v.__webglFramebuffer[I]=a.createFramebuffer();
else if(v.__webglFramebuffer=a.createFramebuffer(),I)if(J){v.__webglMultisampledFramebuffer=a.createFramebuffer();v.__webglColorRenderbuffer=a.createRenderbuffer();a.bindRenderbuffer(36161,v.__webglColorRenderbuffer);I=g.convert(q.texture.format);var P=g.convert(q.texture.type);I=t(q.texture.internalFormat,I,P);P=W(q);a.renderbufferStorageMultisample(36161,P,I,q.width,q.height);a.bindFramebuffer(36160,v.__webglMultisampledFramebuffer);a.framebufferRenderbuffer(36160,36064,36161,v.__webglColorRenderbuffer);
a.bindRenderbuffer(36161,null);q.depthBuffer&&(v.__webglDepthRenderbuffer=a.createRenderbuffer(),U(v.__webglDepthRenderbuffer,q,!0));a.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(D){c.bindTexture(34067,u.__webglTexture);G(34067,q.texture,S);for(u=0;6>u;u++)N(v.__webglFramebuffer[u],q,36064,34069+u);n(q.texture,S)&&p(34067,q.texture,q.width,q.height);c.bindTexture(34067,null)}else c.bindTexture(3553,u.__webglTexture),
G(3553,q.texture,S),N(v.__webglFramebuffer,q,36064,3553),n(q.texture,S)&&p(3553,q.texture,q.width,q.height),c.bindTexture(3553,null);if(q.depthBuffer){v=d.get(q);S=!0===q.isWebGLCubeRenderTarget;if(q.depthTexture){if(S)throw Error("target.depthTexture not supported in Cube render targets");if(q&&q.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");a.bindFramebuffer(36160,v.__webglFramebuffer);if(!q.depthTexture||!q.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
d.get(q.depthTexture).__webglTexture&&q.depthTexture.image.width===q.width&&q.depthTexture.image.height===q.height||(q.depthTexture.image.width=q.width,q.depthTexture.image.height=q.height,q.depthTexture.needsUpdate=!0);r(q.depthTexture,0);v=d.get(q.depthTexture).__webglTexture;if(1026===q.depthTexture.format)a.framebufferTexture2D(36160,36096,3553,v,0);else if(1027===q.depthTexture.format)a.framebufferTexture2D(36160,33306,3553,v,0);else throw Error("Unknown depthTexture format");}else if(S)for(v.__webglDepthbuffer=
[],S=0;6>S;S++)a.bindFramebuffer(36160,v.__webglFramebuffer[S]),v.__webglDepthbuffer[S]=a.createRenderbuffer(),U(v.__webglDepthbuffer[S],q,!1);else a.bindFramebuffer(36160,v.__webglFramebuffer),v.__webglDepthbuffer=a.createRenderbuffer(),U(v.__webglDepthbuffer,q,!1);a.bindFramebuffer(36160,null)}};this.updateRenderTargetMipmap=function(q){var v=q.texture,u=m(q)||J;if(n(v,u)){u=q.isWebGLCubeRenderTarget?34067:3553;var D=d.get(v).__webglTexture;c.bindTexture(u,D);p(u,v,q.width,q.height);c.bindTexture(u,
null)}};this.updateMultisampleRenderTarget=function(q){if(q.isWebGLMultisampleRenderTarget)if(J){var v=d.get(q);a.bindFramebuffer(36008,v.__webglMultisampledFramebuffer);a.bindFramebuffer(36009,v.__webglFramebuffer);var u=q.width,D=q.height,I=16384;q.depthBuffer&&(I|=256);q.stencilBuffer&&(I|=1024);a.blitFramebuffer(0,0,u,D,0,0,u,D,I,9728);a.bindFramebuffer(36160,v.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")};
this.safeSetTexture2D=function(q,v){q&&q.isWebGLRenderTarget&&(!1===F&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),F=!0),q=q.texture);r(q,v)};this.safeSetTextureCube=function(q,v){q&&q.isWebGLCubeRenderTarget&&(!1===R&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),R=!0),q=q.texture);q&&q.isCubeTexture||Array.isArray(q.image)&&
6===q.image.length?E(q,v):B(q,v)}}
function Vi$$module$js$threejs$three_min(a,b,c){var d=c.isWebGL2;return{convert:function(e){if(1009===e)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(1012===e)return 5123;if(1013===e)return 5124;if(1014===e)return 5125;if(1015===e)return 5126;if(1016===e){if(d)return 5131;var g=b.get("OES_texture_half_float");return null!==g?g.HALF_FLOAT_OES:null}if(1021===e)return 6406;if(1022===e)return 6407;if(1023===e)return 6408;
if(1024===e)return 6409;if(1025===e)return 6410;if(1026===e)return 6402;if(1027===e)return 34041;if(1028===e)return 6403;if(1029===e)return 36244;if(1030===e)return 33319;if(1031===e)return 33320;if(1032===e)return 36248;if(1033===e)return 36249;if(33776===e||33777===e||33778===e||33779===e)if(g=b.get("WEBGL_compressed_texture_s3tc"),null!==g){if(33776===e)return g.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return g.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return g.COMPRESSED_RGBA_S3TC_DXT3_EXT;
if(33779===e)return g.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(35840===e||35841===e||35842===e||35843===e)if(g=b.get("WEBGL_compressed_texture_pvrtc"),null!==g){if(35840===e)return g.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return g.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return g.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return g.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(36196===e)return g=b.get("WEBGL_compressed_texture_etc1"),null!==g?g.COMPRESSED_RGB_ETC1_WEBGL:
null;if(37492===e||37496===e)if(g=b.get("WEBGL_compressed_texture_etc"),null!==g){if(37492===e)return g.COMPRESSED_RGB8_ETC2;if(37496===e)return g.COMPRESSED_RGBA8_ETC2_EAC}if(37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e||37840===e||37841===e||37842===e||37843===e||37844===e||37845===e||37846===e||37847===e||37848===e||37849===e||37850===e||37851===e||37852===e||37853===e)return g=b.get("WEBGL_compressed_texture_astc"),
null!==g?e:null;if(36492===e)return g=b.get("EXT_texture_compression_bptc"),null!==g?e:null;if(1020===e){if(d)return 34042;g=b.get("WEBGL_depth_texture");return null!==g?g.UNSIGNED_INT_24_8_WEBGL:null}}}}function Tf$$module$js$threejs$three_min(a){eb$$module$js$threejs$three_min.call(this);this.cameras=a||[]}function Gc$$module$js$threejs$three_min(){ha$$module$js$threejs$three_min.call(this);this.type="Group"}function Me$$module$js$threejs$three_min(){this._hand=this._grip=this._targetRay=null}
function Wi$$module$js$threejs$three_min(a,b){function c(J){var aa=x.get(J.inputSource);aa&&aa.dispatchEvent({type:J.type})}function d(){x.forEach(function(J,aa){J.disconnect(aa)});x.clear();a.setFramebuffer(null);a.setRenderTarget(a.getRenderTarget());W.stop();k.isPresenting=!1;k.dispatchEvent({type:"sessionend"})}function e(J){n=J;W.setContext(l);W.start();k.isPresenting=!0;k.dispatchEvent({type:"sessionstart"})}function g(J){for(var aa=l.inputSources,ba=0;ba<w.length;ba++)x.set(aa[ba],w[ba]);for(aa=
0;aa<J.removed.length;aa++){ba=J.removed[aa];var z=x.get(ba);z&&(z.dispatchEvent({type:"disconnected",data:ba}),x.delete(ba))}for(aa=0;aa<J.added.length;aa++)ba=J.added[aa],(z=x.get(ba))&&z.dispatchEvent({type:"connected",data:ba})}function h(J,aa){null===aa?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(aa.matrixWorld,J.matrix);J.matrixWorldInverse.getInverse(J.matrixWorld)}var k=this,l=null,m=1,n=null,p="local-floor",t=null,w=[],x=new Map,A=new eb$$module$js$threejs$three_min;A.layers.enable(1);
A.viewport=new ca$$module$js$threejs$three_min;var r=new eb$$module$js$threejs$three_min;r.layers.enable(2);r.viewport=new ca$$module$js$threejs$three_min;var E=[A,r],B=new Tf$$module$js$threejs$three_min;B.layers.enable(1);B.layers.enable(2);var G=null,H=null;this.isPresenting=this.enabled=!1;this.getController=function(J){var aa=w[J];void 0===aa&&(aa=new Me$$module$js$threejs$three_min,w[J]=aa);return aa.getTargetRaySpace()};this.getControllerGrip=function(J){var aa=w[J];void 0===aa&&(aa=new Me$$module$js$threejs$three_min,
w[J]=aa);return aa.getGripSpace()};this.getHand=function(J){var aa=w[J];void 0===aa&&(aa=new Me$$module$js$threejs$three_min,w[J]=aa);return aa.getHandSpace()};this.setFramebufferScaleFactor=function(J){m=J;!0===k.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")};this.setReferenceSpaceType=function(J){p=J;!0===k.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")};this.getReferenceSpace=function(){return n};
this.getSession=function(){return l};this.setSession=function(J){l=J;null!==l&&(l.addEventListener("select",c),l.addEventListener("selectstart",c),l.addEventListener("selectend",c),l.addEventListener("squeeze",c),l.addEventListener("squeezestart",c),l.addEventListener("squeezeend",c),l.addEventListener("end",d),J=b.getContextAttributes(),!0!==J.xrCompatible&&b.makeXRCompatible(),J=new XRWebGLLayer(l,b,{antialias:J.antialias,alpha:J.alpha,depth:J.depth,stencil:J.stencil,framebufferScaleFactor:m}),
l.updateRenderState({baseLayer:J}),l.requestReferenceSpace(p).then(e),l.addEventListener("inputsourceschange",g))};var O=new w$$module$js$threejs$three_min,N=new w$$module$js$threejs$three_min;this.getCamera=function(J){B.near=r.near=A.near=J.near;B.far=r.far=A.far=J.far;if(G!==B.near||H!==B.far)l.updateRenderState({depthNear:B.near,depthFar:B.far}),G=B.near,H=B.far;var aa=J.parent,ba=B.cameras;h(B,aa);for(var z=0;z<ba.length;z++)h(ba[z],aa);J.matrixWorld.copy(B.matrixWorld);J=J.children;aa=0;for(z=
J.length;aa<z;aa++)J[aa].updateMatrixWorld(!0);if(2===ba.length){O.setFromMatrixPosition(A.matrixWorld);N.setFromMatrixPosition(r.matrixWorld);ba=O.distanceTo(N);var K=A.projectionMatrix.elements,Q=r.projectionMatrix.elements,M=K[14]/(K[10]-1);J=K[14]/(K[10]+1);aa=(K[9]+1)/K[5];z=(K[9]-1)/K[5];var L=(K[8]-1)/K[0],T=(Q[8]+1)/Q[0];Q=M*L;K=M*T;T=ba/(-L+T);L=T*-L;A.matrixWorld.decompose(B.position,B.quaternion,B.scale);B.translateX(L);B.translateZ(T);B.matrixWorld.compose(B.position,B.quaternion,B.scale);
B.matrixWorldInverse.getInverse(B.matrixWorld);M+=T;T=J+T;B.projectionMatrix.makePerspective(Q-L,K+(ba-L),aa*J/T*M,z*J/T*M,M,T)}else B.projectionMatrix.copy(A.projectionMatrix);return B};var U=null,W=new xi$$module$js$threejs$three_min;W.setAnimationLoop(function(J,aa){t=aa.getViewerPose(n);if(null!==t){var ba=t.views,z=l.renderState.baseLayer;a.setFramebuffer(z.framebuffer);var K=!1;ba.length!==B.cameras.length&&(B.cameras.length=0,K=!0);for(var Q=0;Q<ba.length;Q++){var M=ba[Q],L=z.getViewport(M),
T=E[Q];T.matrix.fromArray(M.transform.matrix);T.projectionMatrix.fromArray(M.projectionMatrix);T.viewport.set(L.x,L.y,L.width,L.height);0===Q&&B.matrix.copy(T.matrix);!0===K&&B.cameras.push(T)}}ba=l.inputSources;for(z=0;z<w.length;z++)w[z].update(ba[z],aa,n);U&&U(J,aa)});this.setAnimationLoop=function(J){U=J};this.dispose=function(){}}
function El$$module$js$threejs$three_min(a){function b(d,e){d.opacity.value=e.opacity;e.color&&d.diffuse.value.copy(e.color);e.emissive&&d.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity);e.map&&(d.map.value=e.map);e.alphaMap&&(d.alphaMap.value=e.alphaMap);e.specularMap&&(d.specularMap.value=e.specularMap);var g=a.get(e).envMap;g&&(d.envMap.value=g,d.flipEnvMap.value=g.isCubeTexture?-1:1,d.reflectivity.value=e.reflectivity,d.refractionRatio.value=e.refractionRatio,g=a.get(g).__maxMipLevel,
void 0!==g&&(d.maxMipLevel.value=g));e.lightMap&&(d.lightMap.value=e.lightMap,d.lightMapIntensity.value=e.lightMapIntensity);e.aoMap&&(d.aoMap.value=e.aoMap,d.aoMapIntensity.value=e.aoMapIntensity);if(e.map)var h=e.map;else e.specularMap?h=e.specularMap:e.displacementMap?h=e.displacementMap:e.normalMap?h=e.normalMap:e.bumpMap?h=e.bumpMap:e.roughnessMap?h=e.roughnessMap:e.metalnessMap?h=e.metalnessMap:e.alphaMap?h=e.alphaMap:e.emissiveMap?h=e.emissiveMap:e.clearcoatMap?h=e.clearcoatMap:e.clearcoatNormalMap?
h=e.clearcoatNormalMap:e.clearcoatRoughnessMap&&(h=e.clearcoatRoughnessMap);void 0!==h&&(h.isWebGLRenderTarget&&(h=h.texture),!0===h.matrixAutoUpdate&&h.updateMatrix(),d.uvTransform.value.copy(h.matrix));if(e.aoMap)var k=e.aoMap;else e.lightMap&&(k=e.lightMap);void 0!==k&&(k.isWebGLRenderTarget&&(k=k.texture),!0===k.matrixAutoUpdate&&k.updateMatrix(),d.uv2Transform.value.copy(k.matrix))}function c(d,e){d.roughness.value=e.roughness;d.metalness.value=e.metalness;e.roughnessMap&&(d.roughnessMap.value=
e.roughnessMap);e.metalnessMap&&(d.metalnessMap.value=e.metalnessMap);e.emissiveMap&&(d.emissiveMap.value=e.emissiveMap);e.bumpMap&&(d.bumpMap.value=e.bumpMap,d.bumpScale.value=e.bumpScale,1===e.side&&(d.bumpScale.value*=-1));e.normalMap&&(d.normalMap.value=e.normalMap,d.normalScale.value.copy(e.normalScale),1===e.side&&d.normalScale.value.negate());e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=e.displacementBias);
a.get(e).envMap&&(d.envMapIntensity.value=e.envMapIntensity)}return{refreshFogUniforms:function(d,e){d.fogColor.value.copy(e.color);e.isFog?(d.fogNear.value=e.near,d.fogFar.value=e.far):e.isFogExp2&&(d.fogDensity.value=e.density)},refreshMaterialUniforms:function(d,e,g,h){if(e.isMeshBasicMaterial)b(d,e);else if(e.isMeshLambertMaterial)b(d,e),e.emissiveMap&&(d.emissiveMap.value=e.emissiveMap);else if(e.isMeshToonMaterial)b(d,e),e.gradientMap&&(d.gradientMap.value=e.gradientMap),e.emissiveMap&&(d.emissiveMap.value=
e.emissiveMap),e.bumpMap&&(d.bumpMap.value=e.bumpMap,d.bumpScale.value=e.bumpScale,1===e.side&&(d.bumpScale.value*=-1)),e.normalMap&&(d.normalMap.value=e.normalMap,d.normalScale.value.copy(e.normalScale),1===e.side&&d.normalScale.value.negate()),e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=e.displacementBias);else if(e.isMeshPhongMaterial)b(d,e),d.specular.value.copy(e.specular),d.shininess.value=Math.max(e.shininess,
1E-4),e.emissiveMap&&(d.emissiveMap.value=e.emissiveMap),e.bumpMap&&(d.bumpMap.value=e.bumpMap,d.bumpScale.value=e.bumpScale,1===e.side&&(d.bumpScale.value*=-1)),e.normalMap&&(d.normalMap.value=e.normalMap,d.normalScale.value.copy(e.normalScale),1===e.side&&d.normalScale.value.negate()),e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=e.displacementBias);else if(e.isMeshStandardMaterial)b(d,e),e.isMeshPhysicalMaterial?
(c(d,e),d.reflectivity.value=e.reflectivity,d.clearcoat.value=e.clearcoat,d.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&d.sheen.value.copy(e.sheen),e.clearcoatMap&&(d.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(d.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(d.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),d.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&d.clearcoatNormalScale.value.negate()),d.transmission.value=e.transmission,
e.transmissionMap&&(d.transmissionMap.value=e.transmissionMap)):c(d,e);else if(e.isMeshMatcapMaterial)b(d,e),e.matcap&&(d.matcap.value=e.matcap),e.bumpMap&&(d.bumpMap.value=e.bumpMap,d.bumpScale.value=e.bumpScale,1===e.side&&(d.bumpScale.value*=-1)),e.normalMap&&(d.normalMap.value=e.normalMap,d.normalScale.value.copy(e.normalScale),1===e.side&&d.normalScale.value.negate()),e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=
e.displacementBias);else if(e.isMeshDepthMaterial)b(d,e),e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=e.displacementBias);else if(e.isMeshDistanceMaterial)b(d,e),e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=e.displacementBias),d.referencePosition.value.copy(e.referencePosition),d.nearDistance.value=e.nearDistance,d.farDistance.value=
e.farDistance;else if(e.isMeshNormalMaterial)b(d,e),e.bumpMap&&(d.bumpMap.value=e.bumpMap,d.bumpScale.value=e.bumpScale,1===e.side&&(d.bumpScale.value*=-1)),e.normalMap&&(d.normalMap.value=e.normalMap,d.normalScale.value.copy(e.normalScale),1===e.side&&d.normalScale.value.negate()),e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=e.displacementBias);else if(e.isLineBasicMaterial)d.diffuse.value.copy(e.color),d.opacity.value=
e.opacity,e.isLineDashedMaterial&&(d.dashSize.value=e.dashSize,d.totalSize.value=e.dashSize+e.gapSize,d.scale.value=e.scale);else if(e.isPointsMaterial){d.diffuse.value.copy(e.color);d.opacity.value=e.opacity;d.size.value=e.size*g;d.scale.value=.5*h;e.map&&(d.map.value=e.map);e.alphaMap&&(d.alphaMap.value=e.alphaMap);if(e.map)var k=e.map;else e.alphaMap&&(k=e.alphaMap);void 0!==k&&(!0===k.matrixAutoUpdate&&k.updateMatrix(),d.uvTransform.value.copy(k.matrix))}else if(e.isSpriteMaterial){d.diffuse.value.copy(e.color);
d.opacity.value=e.opacity;d.rotation.value=e.rotation;e.map&&(d.map.value=e.map);e.alphaMap&&(d.alphaMap.value=e.alphaMap);if(e.map)var l=e.map;else e.alphaMap&&(l=e.alphaMap);void 0!==l&&(!0===l.matrixAutoUpdate&&l.updateMatrix(),d.uvTransform.value.copy(l.matrix))}else e.isShadowMaterial?(d.color.value.copy(e.color),d.opacity.value=e.opacity):e.isShaderMaterial&&(e.uniformsNeedUpdate=!1)}}}
function Ne$$module$js$threejs$three_min(a){function b(C,ca){for(var V=0;V<C.length;V++){var da=w.getContext(C[V],ca);if(null!==da)return da}return null}function c(){na=new tk$$module$js$threejs$three_min(fa);ta=new qk$$module$js$threejs$three_min(fa,na,a);!1===ta.isWebGL2&&(na.get("WEBGL_depth_texture"),na.get("OES_texture_float"),na.get("OES_texture_half_float"),na.get("OES_texture_half_float_linear"),na.get("OES_standard_derivatives"),na.get("OES_element_index_uint"),na.get("OES_vertex_array_object"),
na.get("ANGLE_instanced_arrays"));na.get("OES_texture_float_linear");Aa=new Vi$$module$js$threejs$three_min(fa,na,ta);sa=new Cl$$module$js$threejs$three_min(fa,na,ta);sa.scissor(F.copy(P).multiplyScalar(u).floor());sa.viewport(y.copy(S).multiplyScalar(u).floor());wa=new wk$$module$js$threejs$three_min(fa);ua=new sl$$module$js$threejs$three_min;xa=new Dl$$module$js$threejs$three_min(fa,na,sa,ua,ta,Aa,wa);Ca=new sk$$module$js$threejs$three_min(J);Ia=new mk$$module$js$threejs$three_min(fa,ta);ya=new ok$$module$js$threejs$three_min(fa,
na,Ia,ta);Na=new uk$$module$js$threejs$three_min(fa,Ia,wa,ya);Ha=new Ak$$module$js$threejs$three_min(fa,Na,Ia,wa);Qa=new zk$$module$js$threejs$three_min(fa);za=new rk$$module$js$threejs$three_min(ua);Ea=new rl$$module$js$threejs$three_min(J,Ca,na,ta,ya,za);Oa=new El$$module$js$threejs$three_min(ua);La=new vl$$module$js$threejs$three_min(ua);Ga=new Bl$$module$js$threejs$three_min;Ba=new nk$$module$js$threejs$three_min(J,Ca,sa,Ha,G);Ra=new pk$$module$js$threejs$three_min(fa,na,wa,ta);Sa=new vk$$module$js$threejs$three_min(fa,
na,wa,ta);wa.programs=Ea.programs;J.capabilities=ta;J.extensions=na;J.properties=ua;J.renderLists=La;J.state=sa;J.info=wa}function d(C){C.preventDefault();console.log("THREE.WebGLRenderer: Context Lost.");aa=!0}function e(){console.log("THREE.WebGLRenderer: Context Restored.");aa=!1;c()}function g(C){C=C.target;C.removeEventListener("dispose",g);h(C);ua.remove(C)}function h(C){C=ua.get(C).program;void 0!==C&&Ea.releaseProgram(C)}function k(C,ca){C.render(function(V){J.renderBufferImmediate(V,ca)})}
function l(C,ca,V,da){if(!1!==C.visible){if(C.layers.test(ca.layers))if(C.isGroup)V=C.renderOrder;else if(C.isLOD)!0===C.autoUpdate&&C.update(ca);else if(C.isLight)W.pushLight(C),C.castShadow&&W.pushShadow(C);else if(C.isSprite){if(!C.frustumCulled||Z.intersectsSprite(C)){da&&ka.setFromMatrixPosition(C.matrixWorld).applyMatrix4(ha);var ia=Ha.update(C),la=C.material;la.visible&&U.push(C,ia,la,V,ka.z,null)}}else if(C.isImmediateRenderObject)da&&ka.setFromMatrixPosition(C.matrixWorld).applyMatrix4(ha),
U.push(C,null,C.material,V,ka.z,null);else if(C.isMesh||C.isLine||C.isPoints)if(C.isSkinnedMesh&&C.skeleton.frame!==wa.render.frame&&(C.skeleton.update(),C.skeleton.frame=wa.render.frame),!C.frustumCulled||Z.intersectsObject(C))if(da&&ka.setFromMatrixPosition(C.matrixWorld).applyMatrix4(ha),ia=Ha.update(C),la=C.material,Array.isArray(la))for(var ma=ia.groups,pa=0,qa=ma.length;pa<qa;pa++){var va=ma[pa],ra=la[va.materialIndex];ra&&ra.visible&&U.push(C,ia,ra,V,ka.z,va)}else la.visible&&U.push(C,ia,la,
V,ka.z,null);C=C.children;ia=0;for(la=C.length;ia<la;ia++)l(C[ia],ca,V,da)}}function m(C,ca,V){for(var da=!0===ca.isScene?ca.overrideMaterial:null,ia=0,la=C.length;ia<la;ia++){var ma=C[ia],pa=ma.object,qa=ma.geometry,va=null===da?ma.material:da;ma=ma.group;if(V.isArrayCamera){X=V;for(var ra=V.cameras,Fa=0,Ma=ra.length;Fa<Ma;Fa++){var Ka=ra[Fa];pa.layers.test(Ka.layers)&&(sa.viewport(y.copy(Ka.viewport)),W.setupLights(Ka),n(pa,ca,Ka,qa,va,ma))}}else X=null,n(pa,ca,V,qa,va,ma)}}function n(C,ca,V,da,
ia,la){C.onBeforeRender(J,ca,V,da,ia,la);W=Ga.get(ca,X||V);C.modelViewMatrix.multiplyMatrices(V.matrixWorldInverse,C.matrixWorld);C.normalMatrix.getNormalMatrix(C.modelViewMatrix);if(C.isImmediateRenderObject){var ma=t(V,ca,ia,C);sa.setMaterial(ia);ya.reset();k(C,ma)}else J.renderBufferDirect(V,ca,da,ia,C,la);C.onAfterRender(J,ca,V,da,ia,la);W=Ga.get(ca,X||V)}function p(C,ca,V){!0!==ca.isScene&&(ca=oa);var da=ua.get(C),ia=W.state.lights,la=ia.state.version;V=Ea.getParameters(C,ia.state,W.state.shadowsArray,
ca,V);var ma=Ea.getProgramCacheKey(V),pa=da.program,qa=!0;if(void 0===pa)C.addEventListener("dispose",g);else if(pa.cacheKey!==ma)h(C);else{if(da.lightsStateVersion===la&&void 0!==V.shaderID){ca=C.isMeshStandardMaterial?ca.environment:null;da.envMap=Ca.get(C.envMap||ca);return}qa=!1}qa&&(V.uniforms=Ea.getUniforms(C),C.onBeforeCompile(V,J),pa=Ea.acquireProgram(V,ma),da.program=pa,da.uniforms=V.uniforms,da.outputEncoding=V.outputEncoding);V=da.uniforms;if(!C.isShaderMaterial&&!C.isRawShaderMaterial||
!0===C.clipping)da.numClippingPlanes=za.numPlanes,da.numIntersection=za.numIntersection,V.clippingPlanes=za.uniform;da.environment=C.isMeshStandardMaterial?ca.environment:null;da.fog=ca.fog;da.envMap=Ca.get(C.envMap||da.environment);da.needsLights=C.isMeshLambertMaterial||C.isMeshToonMaterial||C.isMeshPhongMaterial||C.isMeshStandardMaterial||C.isShadowMaterial||C.isShaderMaterial&&!0===C.lights;da.lightsStateVersion=la;da.needsLights&&(V.ambientLightColor.value=ia.state.ambient,V.lightProbe.value=
ia.state.probe,V.directionalLights.value=ia.state.directional,V.directionalLightShadows.value=ia.state.directionalShadow,V.spotLights.value=ia.state.spot,V.spotLightShadows.value=ia.state.spotShadow,V.rectAreaLights.value=ia.state.rectArea,V.ltc_1.value=ia.state.rectAreaLTC1,V.ltc_2.value=ia.state.rectAreaLTC2,V.pointLights.value=ia.state.point,V.pointLightShadows.value=ia.state.pointShadow,V.hemisphereLights.value=ia.state.hemi,V.directionalShadowMap.value=ia.state.directionalShadowMap,V.directionalShadowMatrix.value=
ia.state.directionalShadowMatrix,V.spotShadowMap.value=ia.state.spotShadowMap,V.spotShadowMatrix.value=ia.state.spotShadowMatrix,V.pointShadowMap.value=ia.state.pointShadowMap,V.pointShadowMatrix.value=ia.state.pointShadowMatrix);C=da.program.getUniforms();C=Dc$$module$js$threejs$three_min.seqWithValue(C.seq,V);da.uniformsList=C}function t(C,ca,V,da){!0!==ca.isScene&&(ca=oa);xa.resetTextureUnits();var ia=ca.fog,la=V.isMeshStandardMaterial?ca.environment:null,ma=null===Q?J.outputEncoding:Q.texture.encoding,
pa=Ca.get(V.envMap||la),qa=ua.get(V),va=W.state.lights;!0!==ea||!0!==ja&&C===T||za.setState(V,C,C===T&&V.id===L);V.version===qa.__version?V.fog&&qa.fog!==ia?p(V,ca,da):qa.environment!==la?p(V,ca,da):qa.needsLights&&qa.lightsStateVersion!==va.state.version?p(V,ca,da):void 0===qa.numClippingPlanes||qa.numClippingPlanes===za.numPlanes&&qa.numIntersection===za.numIntersection?qa.outputEncoding!==ma?p(V,ca,da):qa.envMap!==pa&&p(V,ca,da):p(V,ca,da):(p(V,ca,da),qa.__version=V.version);var ra=!1;va=pa=!1;
ca=qa.program;la=ca.getUniforms();ma=qa.uniforms;sa.useProgram(ca.program)&&(va=pa=ra=!0);V.id!==L&&(L=V.id,pa=!0);if(ra||T!==C){la.setValue(fa,"projectionMatrix",C.projectionMatrix);ta.logarithmicDepthBuffer&&la.setValue(fa,"logDepthBufFC",2/(Math.log(C.far+1)/Math.LN2));T!==C&&(T=C,va=pa=!0);if(V.isShaderMaterial||V.isMeshPhongMaterial||V.isMeshToonMaterial||V.isMeshStandardMaterial||V.envMap)ra=la.map.cameraPosition,void 0!==ra&&ra.setValue(fa,ka.setFromMatrixPosition(C.matrixWorld));(V.isMeshPhongMaterial||
V.isMeshToonMaterial||V.isMeshLambertMaterial||V.isMeshBasicMaterial||V.isMeshStandardMaterial||V.isShaderMaterial)&&la.setValue(fa,"isOrthographic",!0===C.isOrthographicCamera);(V.isMeshPhongMaterial||V.isMeshToonMaterial||V.isMeshLambertMaterial||V.isMeshBasicMaterial||V.isMeshStandardMaterial||V.isShaderMaterial||V.isShadowMaterial||V.skinning)&&la.setValue(fa,"viewMatrix",C.matrixWorldInverse)}if(V.skinning&&(la.setOptional(fa,da,"bindMatrix"),la.setOptional(fa,da,"bindMatrixInverse"),C=da.skeleton))if(ra=
C.bones,ta.floatVertexTextures){if(void 0===C.boneTexture){ra=Math.sqrt(4*ra.length);ra=xa$$module$js$threejs$three_min.ceilPowerOfTwo(ra);ra=Math.max(ra,4);var Fa=new Float32Array(ra*ra*4);Fa.set(C.boneMatrices);var Ma=new bd$$module$js$threejs$three_min(Fa,ra,ra,1023,1015);C.boneMatrices=Fa;C.boneTexture=Ma;C.boneTextureSize=ra}la.setValue(fa,"boneTexture",C.boneTexture,xa);la.setValue(fa,"boneTextureSize",C.boneTextureSize)}else la.setOptional(fa,C,"boneMatrices");if(pa||qa.receiveShadow!==da.receiveShadow)qa.receiveShadow=
da.receiveShadow,la.setValue(fa,"receiveShadow",da.receiveShadow);pa&&(la.setValue(fa,"toneMappingExposure",J.toneMappingExposure),qa.needsLights&&(C=va,ma.ambientLightColor.needsUpdate=C,ma.lightProbe.needsUpdate=C,ma.directionalLights.needsUpdate=C,ma.directionalLightShadows.needsUpdate=C,ma.pointLights.needsUpdate=C,ma.pointLightShadows.needsUpdate=C,ma.spotLights.needsUpdate=C,ma.spotLightShadows.needsUpdate=C,ma.rectAreaLights.needsUpdate=C,ma.hemisphereLights.needsUpdate=C),ia&&V.fog&&Oa.refreshFogUniforms(ma,
ia),Oa.refreshMaterialUniforms(ma,V,u,v),Dc$$module$js$threejs$three_min.upload(fa,qa.uniformsList,ma,xa));V.isShaderMaterial&&!0===V.uniformsNeedUpdate&&(Dc$$module$js$threejs$three_min.upload(fa,qa.uniformsList,ma,xa),V.uniformsNeedUpdate=!1);V.isSpriteMaterial&&la.setValue(fa,"center",da.center);la.setValue(fa,"modelViewMatrix",da.modelViewMatrix);la.setValue(fa,"normalMatrix",da.normalMatrix);la.setValue(fa,"modelMatrix",da.matrixWorld);return ca}a=a||{};var w=void 0!==a.canvas?a.canvas:document.createElementNS("http://www.w3.org/1999/xhtml",
"canvas"),x=void 0!==a.context?a.context:null,A=void 0!==a.alpha?a.alpha:!1,r=void 0!==a.depth?a.depth:!0,E=void 0!==a.stencil?a.stencil:!0,B=void 0!==a.antialias?a.antialias:!1,G=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,H=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,O=void 0!==a.powerPreference?a.powerPreference:"default",N=void 0!==a.failIfMajorPerformanceCaveat?a.failIfMajorPerformanceCaveat:!1,U=null,W=null;this.domElement=w;this.debug={checkShaderErrors:!0};this.sortObjects=
this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.gammaFactor=2;this.outputEncoding=3E3;this.physicallyCorrectLights=!1;this.toneMapping=0;this.toneMappingExposure=1;this.maxMorphTargets=8;this.maxMorphNormals=4;var J=this,aa=!1,ba=null,z=0,K=0,Q=null,M=null,L=-1,T=null,X=null,y=new ca$$module$js$threejs$three_min,F=new ca$$module$js$threejs$three_min,R=null,q=w.width,v=w.height,u=1,D=null,I=null,S=new ca$$module$js$threejs$three_min(0,
0,q,v),P=new ca$$module$js$threejs$three_min(0,0,q,v),Y=!1,Z=new xb$$module$js$threejs$three_min,ea=!1,ja=!1,ha=new da$$module$js$threejs$three_min,ka=new w$$module$js$threejs$three_min,oa={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0},fa=x;try{x={alpha:A,depth:r,stencil:E,antialias:B,premultipliedAlpha:G,preserveDrawingBuffer:H,powerPreference:O,failIfMajorPerformanceCaveat:N};w.addEventListener("webglcontextlost",d,!1);w.addEventListener("webglcontextrestored",e,!1);
if(null===fa&&(A=["webgl2","webgl","experimental-webgl"],!0===J.isWebGL1Renderer&&A.shift(),fa=b(A,x),null===fa)){if(b(A))throw Error("Error creating WebGL context with your selected attributes.");throw Error("Error creating WebGL context.");}void 0===fa.getShaderPrecisionFormat&&(fa.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(C){throw console.error("THREE.WebGLRenderer: "+C.message),C;}var na,ta,sa,wa,ua,xa,Ca,Ia,Na,Ha,Ea,Oa,La,Ga,za,Ba,Qa,Ra,Sa,Aa,ya;c();
var Da=new Wi$$module$js$threejs$three_min(J,fa);this.xr=Da;var Ta=new Ui$$module$js$threejs$three_min(J,Ha,ta.maxTextureSize);this.shadowMap=Ta;this.getContext=function(){return fa};this.getContextAttributes=function(){return fa.getContextAttributes()};this.forceContextLoss=function(){var C=na.get("WEBGL_lose_context");C&&C.loseContext()};this.forceContextRestore=function(){var C=na.get("WEBGL_lose_context");C&&C.restoreContext()};this.getPixelRatio=function(){return u};this.setPixelRatio=function(C){void 0!==
C&&(u=C,this.setSize(q,v,!1))};this.getSize=function(C){void 0===C&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),C=new L$$module$js$threejs$three_min);return C.set(q,v)};this.setSize=function(C,ca,V){Da.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(q=C,v=ca,w.width=Math.floor(C*u),w.height=Math.floor(ca*u),!1!==V&&(w.style.width=C+"px",w.style.height=ca+"px"),this.setViewport(0,0,C,ca))};this.getDrawingBufferSize=
function(C){void 0===C&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),C=new L$$module$js$threejs$three_min);return C.set(q*u,v*u).floor()};this.setDrawingBufferSize=function(C,ca,V){q=C;v=ca;u=V;w.width=Math.floor(C*V);w.height=Math.floor(ca*V);this.setViewport(0,0,C,ca)};this.getCurrentViewport=function(C){void 0===C&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),C=new ca$$module$js$threejs$three_min);return C.copy(y)};
this.getViewport=function(C){return C.copy(S)};this.setViewport=function(C,ca,V,da){C.isVector4?S.set(C.x,C.y,C.z,C.w):S.set(C,ca,V,da);sa.viewport(y.copy(S).multiplyScalar(u).floor())};this.getScissor=function(C){return C.copy(P)};this.setScissor=function(C,ca,V,da){C.isVector4?P.set(C.x,C.y,C.z,C.w):P.set(C,ca,V,da);sa.scissor(F.copy(P).multiplyScalar(u).floor())};this.getScissorTest=function(){return Y};this.setScissorTest=function(C){sa.setScissorTest(Y=C)};this.setOpaqueSort=function(C){D=C};
this.setTransparentSort=function(C){I=C};this.getClearColor=function(){return Ba.getClearColor()};this.setClearColor=function(){Ba.setClearColor.apply(Ba,arguments)};this.getClearAlpha=function(){return Ba.getClearAlpha()};this.setClearAlpha=function(){Ba.setClearAlpha.apply(Ba,arguments)};this.clear=function(C,ca,V){var da=0;if(void 0===C||C)da|=16384;if(void 0===ca||ca)da|=256;if(void 0===V||V)da|=1024;fa.clear(da)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,
!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.dispose=function(){w.removeEventListener("webglcontextlost",d,!1);w.removeEventListener("webglcontextrestored",e,!1);La.dispose();Ga.dispose();ua.dispose();Ca.dispose();Ha.dispose();ya.dispose();Da.dispose();Ja.stop()};this.renderBufferImmediate=function(C,ca){ya.initAttributes();var V=ua.get(C);C.hasPositions&&!V.position&&(V.position=fa.createBuffer());C.hasNormals&&!V.normal&&(V.normal=fa.createBuffer());C.hasUvs&&!V.uv&&(V.uv=fa.createBuffer());
C.hasColors&&!V.color&&(V.color=fa.createBuffer());ca=ca.getAttributes();C.hasPositions&&(fa.bindBuffer(34962,V.position),fa.bufferData(34962,C.positionArray,35048),ya.enableAttribute(ca.position),fa.vertexAttribPointer(ca.position,3,5126,!1,0,0));C.hasNormals&&(fa.bindBuffer(34962,V.normal),fa.bufferData(34962,C.normalArray,35048),ya.enableAttribute(ca.normal),fa.vertexAttribPointer(ca.normal,3,5126,!1,0,0));C.hasUvs&&(fa.bindBuffer(34962,V.uv),fa.bufferData(34962,C.uvArray,35048),ya.enableAttribute(ca.uv),
fa.vertexAttribPointer(ca.uv,2,5126,!1,0,0));C.hasColors&&(fa.bindBuffer(34962,V.color),fa.bufferData(34962,C.colorArray,35048),ya.enableAttribute(ca.color),fa.vertexAttribPointer(ca.color,3,5126,!1,0,0));ya.disableUnusedAttributes();fa.drawArrays(4,0,C.count);C.count=0};this.renderBufferDirect=function(C,ca,V,da,ia,la){null===ca&&(ca=oa);var ma=ia.isMesh&&0>ia.matrixWorld.determinant();C=t(C,ca,da,ia);sa.setMaterial(da,ma);ma=V.index;ca=V.attributes.position;if(null===ma){if(void 0===ca||0===ca.count)return}else if(0===
ma.count)return;var pa=1;!0===da.wireframe&&(ma=Na.getWireframeAttribute(V),pa=2);(da.morphTargets||da.morphNormals)&&Qa.update(ia,V,da,C);ya.setup(ia,da,C,V,ma);C=Ra;if(null!==ma){var qa=Ia.get(ma);C=Sa;C.setIndex(qa)}var va=V.drawRange.start*pa,ra=null!==la?la.start*pa:0;qa=Math.max(va,ra);la=Math.max(0,Math.min(null!==ma?ma.count:ca.count,va+V.drawRange.count*pa,ra+(null!==la?la.count*pa:Infinity))-1-qa+1);0!==la&&(ia.isMesh?!0===da.wireframe?(sa.setLineWidth(da.wireframeLinewidth*(null===Q?u:
1)),C.setMode(1)):C.setMode(4):ia.isLine?(da=da.linewidth,void 0===da&&(da=1),sa.setLineWidth(da*(null===Q?u:1)),ia.isLineSegments?C.setMode(1):ia.isLineLoop?C.setMode(2):C.setMode(3)):ia.isPoints?C.setMode(0):ia.isSprite&&C.setMode(4),ia.isInstancedMesh?C.renderInstances(qa,la,ia.count):V.isInstancedBufferGeometry?C.renderInstances(qa,la,Math.min(V.instanceCount,V._maxInstanceCount)):C.render(qa,la))};this.compile=function(C,ca){W=Ga.get(C,ca);W.init();C.traverse(function(da){da.isLight&&(W.pushLight(da),
da.castShadow&&W.pushShadow(da))});W.setupLights(ca);var V=new WeakMap;C.traverse(function(da){var ia=da.material;if(ia)if(Array.isArray(ia))for(var la=0;la<ia.length;la++){var ma=ia[la];!1===V.has(ma)&&(p(ma,C,da),V.set(ma))}else!1===V.has(ia)&&(p(ia,C,da),V.set(ia))})};var Pa=null,Ja=new xi$$module$js$threejs$three_min;Ja.setAnimationLoop(function(C){Da.isPresenting||Pa&&Pa(C)});"undefined"!==typeof window&&Ja.setContext(window);this.setAnimationLoop=function(C){Pa=C;Da.setAnimationLoop(C);null===
C?Ja.stop():Ja.start()};this.render=function(C,ca,V,da){if(void 0!==V){console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.");var ia=V}if(void 0!==da){console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.");var la=da}if(void 0!==ca&&!0!==ca.isCamera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else if(!0!==aa){ya.resetDefaultState();L=
-1;T=null;!0===C.autoUpdate&&C.updateMatrixWorld();null===ca.parent&&ca.updateMatrixWorld();!0===Da.enabled&&!0===Da.isPresenting&&(ca=Da.getCamera(ca));if(!0===C.isScene)C.onBeforeRender(J,C,ca,ia||Q);W=Ga.get(C,ca);W.init();ha.multiplyMatrices(ca.projectionMatrix,ca.matrixWorldInverse);Z.setFromProjectionMatrix(ha);ja=this.localClippingEnabled;ea=za.init(this.clippingPlanes,ja,ca);U=La.get(C,ca);U.init();l(C,ca,0,J.sortObjects);U.finish();!0===J.sortObjects&&U.sort(D,I);!0===ea&&za.beginShadows();
Ta.render(W.state.shadowsArray,C,ca);W.setupLights(ca);!0===ea&&za.endShadows();!0===this.info.autoReset&&this.info.reset();void 0!==ia&&this.setRenderTarget(ia);Ba.render(U,C,ca,la);V=U.opaque;da=U.transparent;0<V.length&&m(V,C,ca);0<da.length&&m(da,C,ca);if(!0===C.isScene)C.onAfterRender(J,C,ca);null!==Q&&(xa.updateRenderTargetMipmap(Q),xa.updateMultisampleRenderTarget(Q));sa.buffers.depth.setTest(!0);sa.buffers.depth.setMask(!0);sa.buffers.color.setMask(!0);sa.setPolygonOffset(!1);W=U=null}};this.setFramebuffer=
function(C){ba!==C&&null===Q&&fa.bindFramebuffer(36160,C);ba=C};this.getActiveCubeFace=function(){return z};this.getActiveMipmapLevel=function(){return K};this.getRenderList=function(){return U};this.setRenderList=function(C){U=C};this.getRenderState=function(){return W};this.setRenderState=function(C){W=C};this.getRenderTarget=function(){return Q};this.setRenderTarget=function(C,ca,V){void 0===ca&&(ca=0);void 0===V&&(V=0);Q=C;z=ca;K=V;C&&void 0===ua.get(C).__webglFramebuffer&&xa.setupRenderTarget(C);
var da=ba,ia=!1;C?(da=ua.get(C).__webglFramebuffer,C.isWebGLCubeRenderTarget?(da=da[ca],ia=!0):da=C.isWebGLMultisampleRenderTarget?ua.get(C).__webglMultisampledFramebuffer:da,y.copy(C.viewport),F.copy(C.scissor),R=C.scissorTest):(y.copy(S).multiplyScalar(u).floor(),F.copy(P).multiplyScalar(u).floor(),R=Y);M!==da&&(fa.bindFramebuffer(36160,da),M=da);sa.viewport(y);sa.scissor(F);sa.setScissorTest(R);ia&&(C=ua.get(C.texture),fa.framebufferTexture2D(36160,36064,34069+ca,C.__webglTexture,V))};this.readRenderTargetPixels=
function(C,ca,V,da,ia,la,ma){if(C&&C.isWebGLRenderTarget){var pa=ua.get(C).__webglFramebuffer;C.isWebGLCubeRenderTarget&&void 0!==ma&&(pa=pa[ma]);if(pa){ma=!1;pa!==M&&(fa.bindFramebuffer(36160,pa),ma=!0);try{var qa=C.texture,va=qa.format,ra=qa.type;1023!==va&&Aa.convert(va)!==fa.getParameter(35739)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):1009===ra||Aa.convert(ra)===fa.getParameter(35738)||1015===ra&&(ta.isWebGL2||na.get("OES_texture_float")||
na.get("WEBGL_color_buffer_float"))||1016===ra&&(ta.isWebGL2?na.get("EXT_color_buffer_float"):na.get("EXT_color_buffer_half_float"))?36053===fa.checkFramebufferStatus(36160)?0<=ca&&ca<=C.width-da&&0<=V&&V<=C.height-ia&&fa.readPixels(ca,V,da,ia,Aa.convert(va),Aa.convert(ra),la):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{ma&&
fa.bindFramebuffer(36160,M)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")};this.copyFramebufferToTexture=function(C,ca,V){void 0===V&&(V=0);var da=Math.pow(2,-V),ia=Math.floor(ca.image.width*da);da=Math.floor(ca.image.height*da);var la=Aa.convert(ca.format);xa.setTexture2D(ca,0);fa.copyTexImage2D(3553,V,la,C.x,C.y,ia,da,0);sa.unbindTexture()};this.copyTextureToTexture=function(C,ca,V,da){void 0===da&&(da=0);var ia=ca.image.width,la=
ca.image.height,ma=Aa.convert(V.format),pa=Aa.convert(V.type);xa.setTexture2D(V,0);fa.pixelStorei(37440,V.flipY);fa.pixelStorei(37441,V.premultiplyAlpha);fa.pixelStorei(3317,V.unpackAlignment);ca.isDataTexture?fa.texSubImage2D(3553,da,C.x,C.y,ia,la,ma,pa,ca.image.data):ca.isCompressedTexture?fa.compressedTexSubImage2D(3553,da,C.x,C.y,ca.mipmaps[0].width,ca.mipmaps[0].height,ma,ca.mipmaps[0].data):fa.texSubImage2D(3553,da,C.x,C.y,ma,pa,ca.image);0===da&&V.generateMipmaps&&fa.generateMipmap(3553);sa.unbindTexture()};
this.initTexture=function(C){xa.setTexture2D(C,0);sa.unbindTexture()};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function th$$module$js$threejs$three_min(a){Ne$$module$js$threejs$three_min.call(this,a)}
function Jc$$module$js$threejs$three_min(){ha$$module$js$threejs$three_min.call(this);Object.defineProperty(this,"isScene",{value:!0});this.type="Scene";this.overrideMaterial=this.fog=this.environment=this.background=null;this.autoUpdate=!0;"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}
function Gb$$module$js$threejs$three_min(a,b){this.array=a;this.stride=b;this.count=void 0!==a?a.length/b:0;this.usage=35044;this.updateRange={offset:0,count:-1};this.version=0;this.uuid=xa$$module$js$threejs$three_min.generateUUID()}function Kc$$module$js$threejs$three_min(a,b,c,d){this.name="";this.data=a;this.itemSize=b;this.offset=c;this.normalized=!0===d}
function Lc$$module$js$threejs$three_min(a){ra$$module$js$threejs$three_min.call(this);this.type="SpriteMaterial";this.color=new S$$module$js$threejs$three_min(16777215);this.alphaMap=this.map=null;this.rotation=0;this.transparent=this.sizeAttenuation=!0;this.setValues(a)}
function Qe$$module$js$threejs$three_min(a){ha$$module$js$threejs$three_min.call(this);this.type="Sprite";if(void 0===Nd$$module$js$threejs$three_min){Nd$$module$js$threejs$three_min=new ka$$module$js$threejs$three_min;var b=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);b=new Gb$$module$js$threejs$three_min(b,5);Nd$$module$js$threejs$three_min.setIndex([0,1,2,0,2,3]);Nd$$module$js$threejs$three_min.setAttribute("position",new Kc$$module$js$threejs$three_min(b,3,0,!1));Nd$$module$js$threejs$three_min.setAttribute("uv",
new Kc$$module$js$threejs$three_min(b,2,3,!1))}this.geometry=Nd$$module$js$threejs$three_min;this.material=void 0!==a?a:new Lc$$module$js$threejs$three_min;this.center=new L$$module$js$threejs$three_min(.5,.5)}
function Wf$$module$js$threejs$three_min(a,b,c,d,e,g){Od$$module$js$threejs$three_min.subVectors(a,c).addScalar(.5).multiply(d);void 0!==e?(Re$$module$js$threejs$three_min.x=g*Od$$module$js$threejs$three_min.x-e*Od$$module$js$threejs$three_min.y,Re$$module$js$threejs$three_min.y=e*Od$$module$js$threejs$three_min.x+g*Od$$module$js$threejs$three_min.y):Re$$module$js$threejs$three_min.copy(Od$$module$js$threejs$three_min);a.copy(b);a.x+=Re$$module$js$threejs$three_min.x;a.y+=Re$$module$js$threejs$three_min.y;
a.applyMatrix4(aj$$module$js$threejs$three_min)}function Se$$module$js$threejs$three_min(){ha$$module$js$threejs$three_min.call(this);this._currentLevel=0;this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]}});this.autoUpdate=!0}
function Xf$$module$js$threejs$three_min(a,b){a&&a.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");Qa$$module$js$threejs$three_min.call(this,a,b);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new da$$module$js$threejs$three_min;this.bindMatrixInverse=new da$$module$js$threejs$three_min}
function Yf$$module$js$threejs$three_min(a,b){a=a||[];this.bones=a.slice(0);this.boneMatrices=new Float32Array(16*this.bones.length);this.frame=-1;if(void 0===b)this.calculateInverses();else if(this.bones.length===b.length)this.boneInverses=b.slice(0);else for(console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[],a=0,b=this.bones.length;a<b;a++)this.boneInverses.push(new da$$module$js$threejs$three_min)}
function uh$$module$js$threejs$three_min(){ha$$module$js$threejs$three_min.call(this);this.type="Bone"}function Zf$$module$js$threejs$three_min(a,b,c){Qa$$module$js$threejs$three_min.call(this,a,b);this.instanceMatrix=new pa$$module$js$threejs$three_min(new Float32Array(16*c),16);this.instanceColor=null;this.count=c;this.frustumCulled=!1}
function Ya$$module$js$threejs$three_min(a){ra$$module$js$threejs$three_min.call(this);this.type="LineBasicMaterial";this.color=new S$$module$js$threejs$three_min(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.morphTargets=!1;this.setValues(a)}
function yb$$module$js$threejs$three_min(a,b,c){1===c&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.");ha$$module$js$threejs$three_min.call(this);this.type="Line";this.geometry=void 0!==a?a:new ka$$module$js$threejs$three_min;this.material=void 0!==b?b:new Ya$$module$js$threejs$three_min;this.updateMorphTargets()}function Za$$module$js$threejs$three_min(a,b){yb$$module$js$threejs$three_min.call(this,a,b);this.type="LineSegments"}
function $f$$module$js$threejs$three_min(a,b){yb$$module$js$threejs$three_min.call(this,a,b);this.type="LineLoop"}function Rb$$module$js$threejs$three_min(a){ra$$module$js$threejs$three_min.call(this);this.type="PointsMaterial";this.color=new S$$module$js$threejs$three_min(16777215);this.alphaMap=this.map=null;this.size=1;this.sizeAttenuation=!0;this.morphTargets=!1;this.setValues(a)}
function Pd$$module$js$threejs$three_min(a,b){ha$$module$js$threejs$three_min.call(this);this.type="Points";this.geometry=void 0!==a?a:new ka$$module$js$threejs$three_min;this.material=void 0!==b?b:new Rb$$module$js$threejs$three_min;this.updateMorphTargets()}
function vh$$module$js$threejs$three_min(a,b,c,d,e,g,h){var k=wh$$module$js$threejs$three_min.distanceSqToPoint(a);k<c&&(c=new w$$module$js$threejs$three_min,wh$$module$js$threejs$three_min.closestPointToPoint(a,c),c.applyMatrix4(d),a=e.ray.origin.distanceTo(c),a<e.near||a>e.far||g.push({distance:a,distanceToRay:Math.sqrt(k),point:c,index:b,face:null,object:h}))}
function xh$$module$js$threejs$three_min(a,b,c,d,e,g,h,k,l){function m(){n.needsUpdate=!0;a.requestVideoFrameCallback(m)}Oa$$module$js$threejs$three_min.call(this,a,b,c,d,e,g,h,k,l);this.format=void 0!==h?h:1022;this.minFilter=void 0!==g?g:1006;this.magFilter=void 0!==e?e:1006;this.generateMipmaps=!1;var n=this;"requestVideoFrameCallback"in a&&a.requestVideoFrameCallback(m)}
function Qd$$module$js$threejs$three_min(a,b,c,d,e,g,h,k,l,m,n,p){Oa$$module$js$threejs$three_min.call(this,null,g,h,k,l,m,d,e,n,p);this.image={width:b,height:c};this.mipmaps=a;this.generateMipmaps=this.flipY=!1}function Te$$module$js$threejs$three_min(a,b,c,d,e,g,h,k,l){Oa$$module$js$threejs$three_min.call(this,a,b,c,d,e,g,h,k,l);this.needsUpdate=!0}
function Ue$$module$js$threejs$three_min(a,b,c,d,e,g,h,k,l,m){m=void 0!==m?m:1026;if(1026!==m&&1027!==m)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===c&&1026===m&&(c=1012);void 0===c&&1027===m&&(c=1020);Oa$$module$js$threejs$three_min.call(this,null,d,e,g,h,k,m,c,l);this.image={width:a,height:b};this.magFilter=void 0!==h?h:1003;this.minFilter=void 0!==k?k:1003;this.generateMipmaps=this.flipY=!1}
function Rd$$module$js$threejs$three_min(a){ka$$module$js$threejs$three_min.call(this);this.type="WireframeGeometry";var b=[],c=[0,0],d={},e=["a","b","c"];if(a&&a.isGeometry){for(var g=a.faces,h=0,k=g.length;h<k;h++)for(var l=g[h],m=0;3>m;m++){var n=l[e[m]],p=l[e[(m+1)%3]];c[0]=Math.min(n,p);c[1]=Math.max(n,p);n=c[0]+","+c[1];void 0===d[n]&&(d[n]={index1:c[0],index2:c[1]})}for(var t in d)c=d[t],g=a.vertices[c.index1],b.push(g.x,g.y,g.z),g=a.vertices[c.index2],b.push(g.x,g.y,g.z)}else if(a&&a.isBufferGeometry)if(t=
new w$$module$js$threejs$three_min,null!==a.index){e=a.attributes.position;h=a.index;a=a.groups;0===a.length&&(a=[{start:0,count:h.count,materialIndex:0}]);k=0;for(l=a.length;k<l;++k)for(n=a[k],m=p=n.start,n=p+n.count;m<n;m+=3)for(p=0;3>p;p++){var w=h.getX(m+p),x=h.getX(m+(p+1)%3);c[0]=Math.min(w,x);c[1]=Math.max(w,x);w=c[0]+","+c[1];void 0===d[w]&&(d[w]={index1:c[0],index2:c[1]})}for(g in d)c=d[g],t.fromBufferAttribute(e,c.index1),b.push(t.x,t.y,t.z),t.fromBufferAttribute(e,c.index2),b.push(t.x,
t.y,t.z)}else for(d=a.attributes.position,c=0,g=d.count/3;c<g;c++)for(a=0;3>a;a++)t.fromBufferAttribute(d,3*c+a),b.push(t.x,t.y,t.z),t.fromBufferAttribute(d,3*c+(a+1)%3),b.push(t.x,t.y,t.z);this.setAttribute("position",new ea$$module$js$threejs$three_min(b,3))}
function Ve$$module$js$threejs$three_min(a,b,c){sa$$module$js$threejs$three_min.call(this);this.type="ParametricGeometry";this.parameters={func:a,slices:b,stacks:c};this.fromBufferGeometry(new Sd$$module$js$threejs$three_min(a,b,c));this.mergeVertices()}
function Sd$$module$js$threejs$three_min(a,b,c){ka$$module$js$threejs$three_min.call(this);this.type="ParametricBufferGeometry";this.parameters={func:a,slices:b,stacks:c};var d=[],e=[],g=[],h=[],k=new w$$module$js$threejs$three_min,l=new w$$module$js$threejs$three_min,m=new w$$module$js$threejs$three_min,n=new w$$module$js$threejs$three_min,p=new w$$module$js$threejs$three_min;3>a.length&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var t=b+
1,w=0;w<=c;w++)for(var x=w/c,A=0;A<=b;A++){var r=A/b;a(r,x,l);e.push(l.x,l.y,l.z);0<=r-1E-5?(a(r-1E-5,x,m),n.subVectors(l,m)):(a(r+1E-5,x,m),n.subVectors(m,l));0<=x-1E-5?(a(r,x-1E-5,m),p.subVectors(l,m)):(a(r,x+1E-5,m),p.subVectors(m,l));k.crossVectors(n,p).normalize();g.push(k.x,k.y,k.z);h.push(r,x)}for(a=0;a<c;a++)for(k=0;k<b;k++)l=a*t+k+1,m=(a+1)*t+k+1,n=(a+1)*t+k,d.push(a*t+k,l,n),d.push(l,m,n);this.setIndex(d);this.setAttribute("position",new ea$$module$js$threejs$three_min(e,3));this.setAttribute("normal",
new ea$$module$js$threejs$three_min(g,3));this.setAttribute("uv",new ea$$module$js$threejs$three_min(h,2))}function We$$module$js$threejs$three_min(a,b,c,d){sa$$module$js$threejs$three_min.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};this.fromBufferGeometry(new zb$$module$js$threejs$three_min(a,b,c,d));this.mergeVertices()}
function zb$$module$js$threejs$three_min(a,b,c,d){function e(m){k.push(m.x,m.y,m.z)}function g(m,n){m*=3;n.x=a[m+0];n.y=a[m+1];n.z=a[m+2]}function h(m,n,p,t){0>t&&1===m.x&&(l[n]=m.x-1);0===p.x&&0===p.z&&(l[n]=t/2/Math.PI+.5)}ka$$module$js$threejs$three_min.call(this);this.type="PolyhedronBufferGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};c=c||1;d=d||0;var k=[],l=[];(function(m){for(var n=new w$$module$js$threejs$three_min,p=new w$$module$js$threejs$three_min,t=new w$$module$js$threejs$three_min,
w=0;w<b.length;w+=3){g(b[w+0],n);g(b[w+1],p);g(b[w+2],t);for(var x=n,A=p,r=t,E=Math.pow(2,m),B=[],G=0;G<=E;G++){B[G]=[];for(var H=x.clone().lerp(r,G/E),O=A.clone().lerp(r,G/E),N=E-G,U=0;U<=N;U++)B[G][U]=0===U&&G===E?H:H.clone().lerp(O,U/N)}for(x=0;x<E;x++)for(A=0;A<2*(E-x)-1;A++)r=Math.floor(A/2),0===A%2?(e(B[x][r+1]),e(B[x+1][r]),e(B[x][r])):(e(B[x][r+1]),e(B[x+1][r+1]),e(B[x+1][r]))}})(d);(function(m){for(var n=new w$$module$js$threejs$three_min,p=0;p<k.length;p+=3)n.x=k[p+0],n.y=k[p+1],n.z=k[p+
2],n.normalize().multiplyScalar(m),k[p+0]=n.x,k[p+1]=n.y,k[p+2]=n.z})(c);(function(){for(var m=new w$$module$js$threejs$three_min,n=0;n<k.length;n+=3)m.x=k[n+0],m.y=k[n+1],m.z=k[n+2],l.push(Math.atan2(m.z,-m.x)/2/Math.PI+.5,1-(Math.atan2(-m.y,Math.sqrt(m.x*m.x+m.z*m.z))/Math.PI+.5));m=new w$$module$js$threejs$three_min;n=new w$$module$js$threejs$three_min;for(var p=new w$$module$js$threejs$three_min,t=new w$$module$js$threejs$three_min,w=new L$$module$js$threejs$three_min,x=new L$$module$js$threejs$three_min,
A=new L$$module$js$threejs$three_min,r=0,E=0;r<k.length;r+=9,E+=6){m.set(k[r+0],k[r+1],k[r+2]);n.set(k[r+3],k[r+4],k[r+5]);p.set(k[r+6],k[r+7],k[r+8]);w.set(l[E+0],l[E+1]);x.set(l[E+2],l[E+3]);A.set(l[E+4],l[E+5]);t.copy(m).add(n).add(p).divideScalar(3);var B=Math.atan2(t.z,-t.x);h(w,E+0,m,B);h(x,E+2,n,B);h(A,E+4,p,B)}for(m=0;m<l.length;m+=6)n=l[m+0],p=l[m+2],t=l[m+4],w=Math.min(n,p,t),.9<Math.max(n,p,t)&&.1>w&&(.2>n&&(l[m+0]+=1),.2>p&&(l[m+2]+=1),.2>t&&(l[m+4]+=1))})();this.setAttribute("position",
new ea$$module$js$threejs$three_min(k,3));this.setAttribute("normal",new ea$$module$js$threejs$three_min(k.slice(),3));this.setAttribute("uv",new ea$$module$js$threejs$three_min(l,2));0===d?this.computeVertexNormals():this.normalizeNormals()}function Xe$$module$js$threejs$three_min(a,b){sa$$module$js$threejs$three_min.call(this);this.type="TetrahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new Td$$module$js$threejs$three_min(a,b));this.mergeVertices()}
function Td$$module$js$threejs$three_min(a,b){zb$$module$js$threejs$three_min.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Ye$$module$js$threejs$three_min(a,b){sa$$module$js$threejs$three_min.call(this);this.type="OctahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new fd$$module$js$threejs$three_min(a,b));this.mergeVertices()}
function fd$$module$js$threejs$three_min(a,b){zb$$module$js$threejs$three_min.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronBufferGeometry";this.parameters={radius:a,detail:b}}
function Ze$$module$js$threejs$three_min(a,b){sa$$module$js$threejs$three_min.call(this);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new Ud$$module$js$threejs$three_min(a,b));this.mergeVertices()}
function Ud$$module$js$threejs$three_min(a,b){var c=(1+Math.sqrt(5))/2;zb$$module$js$threejs$three_min.call(this,[-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronBufferGeometry";this.parameters={radius:a,detail:b}}
function $e$$module$js$threejs$three_min(a,b){sa$$module$js$threejs$three_min.call(this);this.type="DodecahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new Vd$$module$js$threejs$three_min(a,b));this.mergeVertices()}
function Vd$$module$js$threejs$three_min(a,b){var c=(1+Math.sqrt(5))/2,d=1/c;zb$$module$js$threejs$three_min.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,
4,19,4,17,1,12,14,1,14,5,1,5,9],a,b);this.type="DodecahedronBufferGeometry";this.parameters={radius:a,detail:b}}
function af$$module$js$threejs$three_min(a,b,c,d,e,g){sa$$module$js$threejs$three_min.call(this);this.type="TubeGeometry";this.parameters={path:a,tubularSegments:b,radius:c,radialSegments:d,closed:e};void 0!==g&&console.warn("THREE.TubeGeometry: taper has been removed.");a=new gd$$module$js$threejs$three_min(a,b,c,d,e);this.tangents=a.tangents;this.normals=a.normals;this.binormals=a.binormals;this.fromBufferGeometry(a);this.mergeVertices()}
function gd$$module$js$threejs$three_min(a,b,c,d,e){function g(A){n=a.getPointAt(A/b,n);var r=h.normals[A];A=h.binormals[A];for(var E=0;E<=d;E++){var B=E/d*Math.PI*2,G=Math.sin(B);B=-Math.cos(B);l.x=B*r.x+G*A.x;l.y=B*r.y+G*A.y;l.z=B*r.z+G*A.z;l.normalize();t.push(l.x,l.y,l.z);k.x=n.x+c*l.x;k.y=n.y+c*l.y;k.z=n.z+c*l.z;p.push(k.x,k.y,k.z)}}ka$$module$js$threejs$three_min.call(this);this.type="TubeBufferGeometry";this.parameters={path:a,tubularSegments:b,radius:c,radialSegments:d,closed:e};b=b||64;c=
c||1;d=d||8;e=e||!1;var h=a.computeFrenetFrames(b,e);this.tangents=h.tangents;this.normals=h.normals;this.binormals=h.binormals;var k=new w$$module$js$threejs$three_min,l=new w$$module$js$threejs$three_min,m=new L$$module$js$threejs$three_min,n=new w$$module$js$threejs$three_min,p=[],t=[],w=[],x=[];(function(){for(var A=0;A<b;A++)g(A);g(!1===e?b:0);for(A=0;A<=b;A++)for(var r=0;r<=d;r++)m.x=A/b,m.y=r/d,w.push(m.x,m.y);for(A=1;A<=b;A++)for(r=1;r<=d;r++){var E=(d+1)*A+(r-1),B=(d+1)*A+r,G=(d+1)*(A-1)+
r;x.push((d+1)*(A-1)+(r-1),E,G);x.push(E,B,G)}})();this.setIndex(x);this.setAttribute("position",new ea$$module$js$threejs$three_min(p,3));this.setAttribute("normal",new ea$$module$js$threejs$three_min(t,3));this.setAttribute("uv",new ea$$module$js$threejs$three_min(w,2))}
function bf$$module$js$threejs$three_min(a,b,c,d,e,g,h){sa$$module$js$threejs$three_min.call(this);this.type="TorusKnotGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:g};void 0!==h&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");this.fromBufferGeometry(new Wd$$module$js$threejs$three_min(a,b,c,d,e,g));this.mergeVertices()}
function Wd$$module$js$threejs$three_min(a,b,c,d,e,g){function h(N,U,W,J,aa){var ba=Math.sin(N);U=W/U*N;W=Math.cos(U);aa.x=J*(2+W)*.5*Math.cos(N);aa.y=J*(2+W)*ba*.5;aa.z=J*Math.sin(U)*.5}ka$$module$js$threejs$three_min.call(this);this.type="TorusKnotBufferGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:g};a=a||1;b=b||.4;c=Math.floor(c)||64;d=Math.floor(d)||8;e=e||2;g=g||3;for(var k=[],l=[],m=[],n=[],p=new w$$module$js$threejs$three_min,t=new w$$module$js$threejs$three_min,
w=new w$$module$js$threejs$three_min,x=new w$$module$js$threejs$three_min,A=new w$$module$js$threejs$three_min,r=new w$$module$js$threejs$three_min,E=new w$$module$js$threejs$three_min,B=0;B<=c;++B){var G=B/c*e*Math.PI*2;h(G,e,g,a,w);h(G+.01,e,g,a,x);r.subVectors(x,w);E.addVectors(x,w);A.crossVectors(r,E);E.crossVectors(A,r);A.normalize();E.normalize();for(G=0;G<=d;++G){var H=G/d*Math.PI*2,O=-b*Math.cos(H);H=b*Math.sin(H);p.x=w.x+(O*E.x+H*A.x);p.y=w.y+(O*E.y+H*A.y);p.z=w.z+(O*E.z+H*A.z);l.push(p.x,
p.y,p.z);t.subVectors(p,w).normalize();m.push(t.x,t.y,t.z);n.push(B/c);n.push(G/d)}}for(a=1;a<=c;a++)for(b=1;b<=d;b++)e=(d+1)*a+(b-1),g=(d+1)*a+b,p=(d+1)*(a-1)+b,k.push((d+1)*(a-1)+(b-1),e,p),k.push(e,g,p);this.setIndex(k);this.setAttribute("position",new ea$$module$js$threejs$three_min(l,3));this.setAttribute("normal",new ea$$module$js$threejs$three_min(m,3));this.setAttribute("uv",new ea$$module$js$threejs$three_min(n,2))}
function cf$$module$js$threejs$three_min(a,b,c,d,e){sa$$module$js$threejs$three_min.call(this);this.type="TorusGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};this.fromBufferGeometry(new Xd$$module$js$threejs$three_min(a,b,c,d,e));this.mergeVertices()}
function Xd$$module$js$threejs$three_min(a,b,c,d,e){ka$$module$js$threejs$three_min.call(this);this.type="TorusBufferGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};a=a||1;b=b||.4;c=Math.floor(c)||8;d=Math.floor(d)||6;e=e||2*Math.PI;for(var g=[],h=[],k=[],l=[],m=new w$$module$js$threejs$three_min,n=new w$$module$js$threejs$three_min,p=new w$$module$js$threejs$three_min,t=0;t<=c;t++)for(var w=0;w<=d;w++){var x=w/d*e,A=t/c*Math.PI*2;n.x=(a+b*Math.cos(A))*Math.cos(x);
n.y=(a+b*Math.cos(A))*Math.sin(x);n.z=b*Math.sin(A);h.push(n.x,n.y,n.z);m.x=a*Math.cos(x);m.y=a*Math.sin(x);p.subVectors(n,m).normalize();k.push(p.x,p.y,p.z);l.push(w/d);l.push(t/c)}for(a=1;a<=c;a++)for(b=1;b<=d;b++)e=(d+1)*(a-1)+b-1,m=(d+1)*(a-1)+b,n=(d+1)*a+b,g.push((d+1)*a+b-1,e,n),g.push(e,m,n);this.setIndex(g);this.setAttribute("position",new ea$$module$js$threejs$three_min(h,3));this.setAttribute("normal",new ea$$module$js$threejs$three_min(k,3));this.setAttribute("uv",new ea$$module$js$threejs$three_min(l,
2))}function bj$$module$js$threejs$three_min(a,b,c,d,e){for(var g,h=0,k=b,l=c-d;k<c;k+=d)h+=(a[l]-a[k])*(a[k+1]+a[l+1]),l=k;if(e===0<h)for(e=b;e<c;e+=d)g=cj$$module$js$threejs$three_min(e,a[e],a[e+1],g);else for(e=c-d;e>=b;e-=d)g=cj$$module$js$threejs$three_min(e,a[e],a[e+1],g);g&&ag$$module$js$threejs$three_min(g,g.next)&&(df$$module$js$threejs$three_min(g),g=g.next);return g}
function Mc$$module$js$threejs$three_min(a,b){if(!a)return a;b||(b=a);do{var c=!1;if(a.steiner||!ag$$module$js$threejs$three_min(a,a.next)&&0!==ab$$module$js$threejs$three_min(a.prev,a,a.next))a=a.next;else{df$$module$js$threejs$three_min(a);a=b=a.prev;if(a===a.next)break;c=!0}}while(c||a!==b);return b}
function ef$$module$js$threejs$three_min(a,b,c,d,e,g,h){if(a){if(!h&&g){var k=a,l=k;do null===l.z&&(l.z=yh$$module$js$threejs$three_min(l.x,l.y,d,e,g)),l.prevZ=l.prev,l=l.nextZ=l.next;while(l!==k);l.prevZ.nextZ=null;l.prevZ=null;k=l;var m,n,p,t,w=1;do{l=k;var x=k=null;for(n=0;l;){n++;var A=l;for(m=p=0;m<w&&(p++,A=A.nextZ,A);m++);for(t=w;0<p||0<t&&A;)0!==p&&(0===t||!A||l.z<=A.z)?(m=l,l=l.nextZ,p--):(m=A,A=A.nextZ,t--),x?x.nextZ=m:k=m,m.prevZ=x,x=m;l=A}x.nextZ=null;w*=2}while(1<n)}for(k=a;a.prev!==
a.next;){l=a.prev;A=a.next;if(g)x=Fl$$module$js$threejs$three_min(a,d,e,g);else a:if(x=a,n=x.prev,p=x,w=x.next,0<=ab$$module$js$threejs$three_min(n,p,w))x=!1;else{for(m=x.next.next;m!==x.prev;){if(Yd$$module$js$threejs$three_min(n.x,n.y,p.x,p.y,w.x,w.y,m.x,m.y)&&0<=ab$$module$js$threejs$three_min(m.prev,m,m.next)){x=!1;break a}m=m.next}x=!0}if(x)b.push(l.i/c),b.push(a.i/c),b.push(A.i/c),df$$module$js$threejs$three_min(a),k=a=A.next;else if(a=A,a===k){if(!h)ef$$module$js$threejs$three_min(Mc$$module$js$threejs$three_min(a),
b,c,d,e,g,1);else if(1===h){a=Mc$$module$js$threejs$three_min(a);h=b;k=c;l=a;do A=l.prev,x=l.next.next,!ag$$module$js$threejs$three_min(A,x)&&dj$$module$js$threejs$three_min(A,l,l.next,x)&&ff$$module$js$threejs$three_min(A,x)&&ff$$module$js$threejs$three_min(x,A)&&(h.push(A.i/k),h.push(l.i/k),h.push(x.i/k),df$$module$js$threejs$three_min(l),df$$module$js$threejs$three_min(l.next),l=a=x),l=l.next;while(l!==a);a=Mc$$module$js$threejs$three_min(l);ef$$module$js$threejs$three_min(a,b,c,d,e,g,2)}else if(2===
h)a:{h=a;do{for(k=h.next.next;k!==h.prev;){if(l=h.i!==k.i){l=h;A=k;if(x=l.next.i!==A.i&&l.prev.i!==A.i){b:{x=l;do{if(x.i!==l.i&&x.next.i!==l.i&&x.i!==A.i&&x.next.i!==A.i&&dj$$module$js$threejs$three_min(x,x.next,l,A)){x=!0;break b}x=x.next}while(x!==l);x=!1}x=!x}if(x){if(x=ff$$module$js$threejs$three_min(l,A)&&ff$$module$js$threejs$three_min(A,l)){x=l;n=!1;p=(l.x+A.x)/2;w=(l.y+A.y)/2;do x.y>w!==x.next.y>w&&x.next.y!==x.y&&p<(x.next.x-x.x)*(w-x.y)/(x.next.y-x.y)+x.x&&(n=!n),x=x.next;while(x!==l);x=
n}x=x&&(ab$$module$js$threejs$three_min(l.prev,l,A.prev)||ab$$module$js$threejs$three_min(l,A.prev,A))||ag$$module$js$threejs$three_min(l,A)&&0<ab$$module$js$threejs$three_min(l.prev,l,l.next)&&0<ab$$module$js$threejs$three_min(A.prev,A,A.next)}l=x}if(l){a=ej$$module$js$threejs$three_min(h,k);h=Mc$$module$js$threejs$three_min(h,h.next);a=Mc$$module$js$threejs$three_min(a,a.next);ef$$module$js$threejs$three_min(h,b,c,d,e,g);ef$$module$js$threejs$three_min(a,b,c,d,e,g);break a}k=k.next}h=h.next}while(h!==
a)}break}}}}
function Fl$$module$js$threejs$three_min(a,b,c,d){var e=a.prev,g=a.next;if(0<=ab$$module$js$threejs$three_min(e,a,g))return!1;var h=e.x>a.x?e.x>g.x?e.x:g.x:a.x>g.x?a.x:g.x,k=e.y>a.y?e.y>g.y?e.y:g.y:a.y>g.y?a.y:g.y,l=yh$$module$js$threejs$three_min(e.x<a.x?e.x<g.x?e.x:g.x:a.x<g.x?a.x:g.x,e.y<a.y?e.y<g.y?e.y:g.y:a.y<g.y?a.y:g.y,b,c,d);b=yh$$module$js$threejs$three_min(h,k,b,c,d);c=a.prevZ;for(d=a.nextZ;c&&c.z>=l&&d&&d.z<=b;){if(c!==a.prev&&c!==a.next&&Yd$$module$js$threejs$three_min(e.x,e.y,a.x,a.y,
g.x,g.y,c.x,c.y)&&0<=ab$$module$js$threejs$three_min(c.prev,c,c.next))return!1;c=c.prevZ;if(d!==a.prev&&d!==a.next&&Yd$$module$js$threejs$three_min(e.x,e.y,a.x,a.y,g.x,g.y,d.x,d.y)&&0<=ab$$module$js$threejs$three_min(d.prev,d,d.next))return!1;d=d.nextZ}for(;c&&c.z>=l;){if(c!==a.prev&&c!==a.next&&Yd$$module$js$threejs$three_min(e.x,e.y,a.x,a.y,g.x,g.y,c.x,c.y)&&0<=ab$$module$js$threejs$three_min(c.prev,c,c.next))return!1;c=c.prevZ}for(;d&&d.z<=b;){if(d!==a.prev&&d!==a.next&&Yd$$module$js$threejs$three_min(e.x,
e.y,a.x,a.y,g.x,g.y,d.x,d.y)&&0<=ab$$module$js$threejs$three_min(d.prev,d,d.next))return!1;d=d.nextZ}return!0}function Gl$$module$js$threejs$three_min(a,b){return a.x-b.x}
function Hl$$module$js$threejs$three_min(a,b){var c=b,d=a.x,e=a.y,g=-Infinity;do{if(e<=c.y&&e>=c.next.y&&c.next.y!==c.y){var h=c.x+(e-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(h<=d&&h>g){g=h;if(h===d){if(e===c.y)return c;if(e===c.next.y)return c.next}var k=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!k)return null;if(d===g)return k;b=k;h=k.x;var l=k.y,m=Infinity;c=k;do{if(d>=c.x&&c.x>=h&&d!==c.x&&Yd$$module$js$threejs$three_min(e<l?d:g,e,h,l,e<l?g:d,e,c.x,c.y)){var n=Math.abs(e-c.y)/(d-c.x),p;if((p=
ff$$module$js$threejs$three_min(c,a))&&!(p=n<m)&&(p=n===m)&&!(p=c.x>k.x)&&(p=c.x===k.x)){p=k;var t=c;p=0>ab$$module$js$threejs$three_min(p.prev,p,t.prev)&&0>ab$$module$js$threejs$three_min(t.next,p,p.next)}p&&(k=c,m=n)}c=c.next}while(c!==b);return k}
function yh$$module$js$threejs$three_min(a,b,c,d,e){a=32767*(a-c)*e;b=32767*(b-d)*e;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function Il$$module$js$threejs$three_min(a){var b=a,c=a;do{if(b.x<c.x||b.x===c.x&&b.y<c.y)c=b;b=b.next}while(b!==a);return c}
function Yd$$module$js$threejs$three_min(a,b,c,d,e,g,h,k){return 0<=(e-h)*(b-k)-(a-h)*(g-k)&&0<=(a-h)*(d-k)-(c-h)*(b-k)&&0<=(c-h)*(g-k)-(e-h)*(d-k)}function ab$$module$js$threejs$three_min(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function ag$$module$js$threejs$three_min(a,b){return a.x===b.x&&a.y===b.y}
function dj$$module$js$threejs$three_min(a,b,c,d){var e=bg$$module$js$threejs$three_min(ab$$module$js$threejs$three_min(a,b,c)),g=bg$$module$js$threejs$three_min(ab$$module$js$threejs$three_min(a,b,d)),h=bg$$module$js$threejs$three_min(ab$$module$js$threejs$three_min(c,d,a)),k=bg$$module$js$threejs$three_min(ab$$module$js$threejs$three_min(c,d,b));return e!==g&&h!==k||0===e&&cg$$module$js$threejs$three_min(a,c,b)||0===g&&cg$$module$js$threejs$three_min(a,d,b)||0===h&&cg$$module$js$threejs$three_min(c,
a,d)||0===k&&cg$$module$js$threejs$three_min(c,b,d)?!0:!1}function cg$$module$js$threejs$three_min(a,b,c){return b.x<=Math.max(a.x,c.x)&&b.x>=Math.min(a.x,c.x)&&b.y<=Math.max(a.y,c.y)&&b.y>=Math.min(a.y,c.y)}function bg$$module$js$threejs$three_min(a){return 0<a?1:0>a?-1:0}
function ff$$module$js$threejs$three_min(a,b){return 0>ab$$module$js$threejs$three_min(a.prev,a,a.next)?0<=ab$$module$js$threejs$three_min(a,b,a.next)&&0<=ab$$module$js$threejs$three_min(a,a.prev,b):0>ab$$module$js$threejs$three_min(a,b,a.prev)||0>ab$$module$js$threejs$three_min(a,a.next,b)}
function ej$$module$js$threejs$three_min(a,b){var c=new zh$$module$js$threejs$three_min(a.i,a.x,a.y),d=new zh$$module$js$threejs$three_min(b.i,b.x,b.y),e=a.next,g=b.prev;a.next=b;b.prev=a;c.next=e;e.prev=c;d.next=c;c.prev=d;g.next=d;d.prev=g;return d}function cj$$module$js$threejs$three_min(a,b,c,d){a=new zh$$module$js$threejs$three_min(a,b,c);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a);return a}
function df$$module$js$threejs$three_min(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function zh$$module$js$threejs$three_min(a,b,c){this.i=a;this.x=b;this.y=c;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function fj$$module$js$threejs$three_min(a){var b=a.length;2<b&&a[b-1].equals(a[0])&&a.pop()}function gj$$module$js$threejs$three_min(a,b){for(var c=0;c<b.length;c++)a.push(b[c].x),a.push(b[c].y)}
function hd$$module$js$threejs$three_min(a,b){sa$$module$js$threejs$three_min.call(this);this.type="ExtrudeGeometry";this.parameters={shapes:a,options:b};this.fromBufferGeometry(new bc$$module$js$threejs$three_min(a,b));this.mergeVertices()}
function bc$$module$js$threejs$three_min(a,b){function c(l){function m(ha,ka,oa){ka||console.error("THREE.ExtrudeGeometry: vec does not exist");return ka.clone().multiplyScalar(oa).add(ha)}function n(ha,ka,oa){var fa=ha.x-ka.x,na=ha.y-ka.y,ta=oa.x-ha.x,sa=oa.y-ha.y,wa=fa*fa+na*na;if(Math.abs(fa*sa-na*ta)>Number.EPSILON){var ua=Math.sqrt(wa),xa=Math.sqrt(ta*ta+sa*sa);wa=ka.x-na/ua;ka=ka.y+fa/ua;sa=((oa.x-sa/xa-wa)*sa-(oa.y+ta/xa-ka)*ta)/(fa*sa-na*ta);ta=wa+fa*sa-ha.x;fa=ka+na*sa-ha.y;na=ta*ta+fa*fa;
if(2>=na)return new L$$module$js$threejs$three_min(ta,fa);na=Math.sqrt(na/2)}else ha=!1,fa>Number.EPSILON?ta>Number.EPSILON&&(ha=!0):fa<-Number.EPSILON?ta<-Number.EPSILON&&(ha=!0):Math.sign(na)===Math.sign(sa)&&(ha=!0),ha?(ta=-na,na=Math.sqrt(wa)):(ta=fa,fa=na,na=Math.sqrt(wa/2));return new L$$module$js$threejs$three_min(ta/na,fa/na)}function p(ha,ka){for(var oa=ha.length;0<=--oa;){var fa=oa,na=oa-1;0>na&&(na=ha.length-1);for(var ta=0,sa=B+2*W;ta<sa;ta++){var wa=R*ta,ua=R*(ta+1),xa=ka+na+wa,Ca=ka+
na+ua;ua=ka+fa+ua;x(ka+fa+wa);x(xa);x(ua);x(xa);x(Ca);x(ua);wa=e.length/3;wa=aa.generateSideWallUV(d,e,wa-6,wa-3,wa-2,wa-1);A(wa[0]);A(wa[1]);A(wa[3]);A(wa[1]);A(wa[2]);A(wa[3])}}}function t(ha,ka,oa){r.push(ha);r.push(ka);r.push(oa)}function w(ha,ka,oa){x(ha);x(ka);x(oa);ha=e.length/3;ha=aa.generateTopUV(d,e,ha-3,ha-2,ha-1);A(ha[0]);A(ha[1]);A(ha[2])}function x(ha){e.push(r[3*ha]);e.push(r[3*ha+1]);e.push(r[3*ha+2])}function A(ha){g.push(ha.x);g.push(ha.y)}var r=[],E=void 0!==b.curveSegments?b.curveSegments:
12,B=void 0!==b.steps?b.steps:1,G=void 0!==b.depth?b.depth:100,H=void 0!==b.bevelEnabled?b.bevelEnabled:!0,O=void 0!==b.bevelThickness?b.bevelThickness:6,N=void 0!==b.bevelSize?b.bevelSize:O-2,U=void 0!==b.bevelOffset?b.bevelOffset:0,W=void 0!==b.bevelSegments?b.bevelSegments:3,J=b.extrudePath,aa=void 0!==b.UVGenerator?b.UVGenerator:Jl$$module$js$threejs$three_min;void 0!==b.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),G=b.amount);var ba=!1;if(J){var z=J.getSpacedPoints(B);
ba=!0;H=!1;var K=J.computeFrenetFrames(B,!1),Q=new w$$module$js$threejs$three_min,M=new w$$module$js$threejs$three_min,L=new w$$module$js$threejs$three_min}H||(U=N=O=W=0);l=l.extractPoints(E);J=l.shape;var T=l.holes;if(!nc$$module$js$threejs$three_min.isClockWise(J))for(J=J.reverse(),l=0,E=T.length;l<E;l++){var X=T[l];nc$$module$js$threejs$three_min.isClockWise(X)&&(T[l]=X.reverse())}var y=nc$$module$js$threejs$three_min.triangulateShape(J,T),F=J;l=0;for(E=T.length;l<E;l++)J=J.concat(T[l]);var R=
J.length,q=y.length;l=[];E=0;X=F.length;for(var v=X-1,u=E+1;E<X;E++,v++,u++)v===X&&(v=0),u===X&&(u=0),l[E]=n(F[E],F[v],F[u]);E=[];X=l.concat();u=0;for(var D=T.length;u<D;u++){var I=T[u];v=[];for(var S=0,P=I.length,Y=P-1,Z=S+1;S<P;S++,Y++,Z++)Y===P&&(Y=0),Z===P&&(Z=0),v[S]=n(I[S],I[Y],I[Z]);E.push(v);X=X.concat(v)}for(u=0;u<W;u++){v=u/W;D=O*Math.cos(v*Math.PI/2);I=N*Math.sin(v*Math.PI/2)+U;v=0;for(S=F.length;v<S;v++)P=m(F[v],l[v],I),t(P.x,P.y,-D);S=0;for(P=T.length;S<P;S++){Y=T[S];v=E[S];Z=0;for(var ea=
Y.length;Z<ea;Z++){var ja=m(Y[Z],v[Z],I);t(ja.x,ja.y,-D)}}}v=N+U;for(u=0;u<R;u++)D=H?m(J[u],X[u],v):J[u],ba?(M.copy(K.normals[0]).multiplyScalar(D.x),Q.copy(K.binormals[0]).multiplyScalar(D.y),L.copy(z[0]).add(M).add(Q),t(L.x,L.y,L.z)):t(D.x,D.y,0);for(u=1;u<=B;u++)for(D=0;D<R;D++)I=H?m(J[D],X[D],v):J[D],ba?(M.copy(K.normals[u]).multiplyScalar(I.x),Q.copy(K.binormals[u]).multiplyScalar(I.y),L.copy(z[u]).add(M).add(Q),t(L.x,L.y,L.z)):t(I.x,I.y,G/B*u);for(K=W-1;0<=K;K--){M=K/W;Q=O*Math.cos(M*Math.PI/
2);M=N*Math.sin(M*Math.PI/2)+U;L=0;for(J=F.length;L<J;L++)X=m(F[L],l[L],M),t(X.x,X.y,G+Q);L=0;for(J=T.length;L<J;L++)for(X=T[L],v=E[L],u=0,D=X.length;u<D;u++)I=m(X[u],v[u],M),ba?t(I.x,I.y+z[B-1].y,z[B-1].x+Q):t(I.x,I.y,G+Q)}(function(){var ha=e.length/3;if(H){for(var ka=0*R,oa=0;oa<q;oa++){var fa=y[oa];w(fa[2]+ka,fa[1]+ka,fa[0]+ka)}ka=R*(B+2*W);for(oa=0;oa<q;oa++)fa=y[oa],w(fa[0]+ka,fa[1]+ka,fa[2]+ka)}else{for(ka=0;ka<q;ka++)oa=y[ka],w(oa[2],oa[1],oa[0]);for(ka=0;ka<q;ka++)oa=y[ka],w(oa[0]+R*B,oa[1]+
R*B,oa[2]+R*B)}d.addGroup(ha,e.length/3-ha,0)})();(function(){var ha=e.length/3,ka=0;p(F,ka);ka+=F.length;for(var oa=0,fa=T.length;oa<fa;oa++){var na=T[oa];p(na,ka);ka+=na.length}d.addGroup(ha,e.length/3-ha,1)})()}ka$$module$js$threejs$three_min.call(this);this.type="ExtrudeBufferGeometry";this.parameters={shapes:a,options:b};a=Array.isArray(a)?a:[a];for(var d=this,e=[],g=[],h=0,k=a.length;h<k;h++)c(a[h]);this.setAttribute("position",new ea$$module$js$threejs$three_min(e,3));this.setAttribute("uv",
new ea$$module$js$threejs$three_min(g,2));this.computeVertexNormals()}function hj$$module$js$threejs$three_min(a,b,c){c.shapes=[];if(Array.isArray(a))for(var d=0,e=a.length;d<e;d++)c.shapes.push(a[d].uuid);else c.shapes.push(a.uuid);void 0!==b.extrudePath&&(c.options.extrudePath=b.extrudePath.toJSON());return c}
function gf$$module$js$threejs$three_min(a,b){sa$$module$js$threejs$three_min.call(this);this.type="TextGeometry";this.parameters={text:a,parameters:b};this.fromBufferGeometry(new Zd$$module$js$threejs$three_min(a,b));this.mergeVertices()}
function Zd$$module$js$threejs$three_min(a,b){b=b||{};var c=b.font;if(!c||!c.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new sa$$module$js$threejs$three_min;a=c.generateShapes(a,b.size);b.depth=void 0!==b.height?b.height:50;void 0===b.bevelThickness&&(b.bevelThickness=10);void 0===b.bevelSize&&(b.bevelSize=8);void 0===b.bevelEnabled&&(b.bevelEnabled=!1);bc$$module$js$threejs$three_min.call(this,a,b);this.type="TextBufferGeometry"}
function hf$$module$js$threejs$three_min(a,b,c,d,e,g,h){sa$$module$js$threejs$three_min.call(this);this.type="SphereGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:g,thetaLength:h};this.fromBufferGeometry(new id$$module$js$threejs$three_min(a,b,c,d,e,g,h));this.mergeVertices()}
function id$$module$js$threejs$three_min(a,b,c,d,e,g,h){ka$$module$js$threejs$three_min.call(this);this.type="SphereBufferGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:g,thetaLength:h};a=a||1;b=Math.max(3,Math.floor(b)||8);c=Math.max(2,Math.floor(c)||6);d=void 0!==d?d:0;e=void 0!==e?e:2*Math.PI;g=void 0!==g?g:0;h=void 0!==h?h:Math.PI;for(var k=Math.min(g+h,Math.PI),l=0,m=[],n=new w$$module$js$threejs$three_min,p=new w$$module$js$threejs$three_min,
t=[],w=[],x=[],A=[],r=0;r<=c;r++){var E=[],B=r/c,G=0;0==r&&0==g?G=.5/b:r==c&&k==Math.PI&&(G=-.5/b);for(var H=0;H<=b;H++){var O=H/b;n.x=-a*Math.cos(d+O*e)*Math.sin(g+B*h);n.y=a*Math.cos(g+B*h);n.z=a*Math.sin(d+O*e)*Math.sin(g+B*h);w.push(n.x,n.y,n.z);p.copy(n).normalize();x.push(p.x,p.y,p.z);A.push(O+G,1-B);E.push(l++)}m.push(E)}for(a=0;a<c;a++)for(d=0;d<b;d++)e=m[a][d+1],h=m[a][d],l=m[a+1][d],n=m[a+1][d+1],(0!==a||0<g)&&t.push(e,h,n),(a!==c-1||k<Math.PI)&&t.push(h,l,n);this.setIndex(t);this.setAttribute("position",
new ea$$module$js$threejs$three_min(w,3));this.setAttribute("normal",new ea$$module$js$threejs$three_min(x,3));this.setAttribute("uv",new ea$$module$js$threejs$three_min(A,2))}function jf$$module$js$threejs$three_min(a,b,c,d,e,g){sa$$module$js$threejs$three_min.call(this);this.type="RingGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:g};this.fromBufferGeometry(new $d$$module$js$threejs$three_min(a,b,c,d,e,g));this.mergeVertices()}
function $d$$module$js$threejs$three_min(a,b,c,d,e,g){ka$$module$js$threejs$three_min.call(this);this.type="RingBufferGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:g};a=a||.5;b=b||1;e=void 0!==e?e:0;g=void 0!==g?g:2*Math.PI;c=void 0!==c?Math.max(3,c):8;d=void 0!==d?Math.max(1,d):1;var h=[],k=[],l=[],m=[],n=a;a=(b-a)/d;for(var p=new w$$module$js$threejs$three_min,t=new L$$module$js$threejs$three_min,w=0;w<=d;w++){for(var x=0;x<=c;x++){var A=
e+x/c*g;p.x=n*Math.cos(A);p.y=n*Math.sin(A);k.push(p.x,p.y,p.z);l.push(0,0,1);t.x=(p.x/b+1)/2;t.y=(p.y/b+1)/2;m.push(t.x,t.y)}n+=a}for(b=0;b<d;b++)for(e=b*(c+1),g=0;g<c;g++)n=g+e,a=n+c+1,p=n+c+2,t=n+1,h.push(n,a,t),h.push(a,p,t);this.setIndex(h);this.setAttribute("position",new ea$$module$js$threejs$three_min(k,3));this.setAttribute("normal",new ea$$module$js$threejs$three_min(l,3));this.setAttribute("uv",new ea$$module$js$threejs$three_min(m,2))}
function kf$$module$js$threejs$three_min(a,b,c,d){sa$$module$js$threejs$three_min.call(this);this.type="LatheGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};this.fromBufferGeometry(new ae$$module$js$threejs$three_min(a,b,c,d));this.mergeVertices()}
function ae$$module$js$threejs$three_min(a,b,c,d){ka$$module$js$threejs$three_min.call(this);this.type="LatheBufferGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};b=Math.floor(b)||12;c=c||0;d=d||2*Math.PI;d=xa$$module$js$threejs$three_min.clamp(d,0,2*Math.PI);for(var e=[],g=[],h=[],k=1/b,l=new w$$module$js$threejs$three_min,m=new L$$module$js$threejs$three_min,n=0;n<=b;n++){var p=c+n*k*d,t=Math.sin(p);p=Math.cos(p);for(var w=0;w<=a.length-1;w++)l.x=a[w].x*t,l.y=a[w].y,l.z=a[w].x*
p,g.push(l.x,l.y,l.z),m.x=n/b,m.y=w/(a.length-1),h.push(m.x,m.y)}for(c=0;c<b;c++)for(k=0;k<a.length-1;k++)l=k+c*a.length,m=l+a.length,n=l+a.length+1,t=l+1,e.push(l,m,t),e.push(m,n,t);this.setIndex(e);this.setAttribute("position",new ea$$module$js$threejs$three_min(g,3));this.setAttribute("uv",new ea$$module$js$threejs$three_min(h,2));this.computeVertexNormals();if(d===2*Math.PI)for(d=this.attributes.normal.array,e=new w$$module$js$threejs$three_min,g=new w$$module$js$threejs$three_min,h=new w$$module$js$threejs$three_min,
b=b*a.length*3,k=c=0;c<a.length;c++,k+=3)e.x=d[k+0],e.y=d[k+1],e.z=d[k+2],g.x=d[b+k+0],g.y=d[b+k+1],g.z=d[b+k+2],h.addVectors(e,g).normalize(),d[k+0]=d[b+k+0]=h.x,d[k+1]=d[b+k+1]=h.y,d[k+2]=d[b+k+2]=h.z}
function jd$$module$js$threejs$three_min(a,b){sa$$module$js$threejs$three_min.call(this);this.type="ShapeGeometry";"object"===typeof b&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),b=b.curveSegments);this.parameters={shapes:a,curveSegments:b};this.fromBufferGeometry(new kd$$module$js$threejs$three_min(a,b));this.mergeVertices()}
function kd$$module$js$threejs$three_min(a,b){function c(n){var p=e.length/3,t=n.extractPoints(b);n=t.shape;var w=t.holes;!1===nc$$module$js$threejs$three_min.isClockWise(n)&&(n=n.reverse());t=0;for(var x=w.length;t<x;t++){var A=w[t];!0===nc$$module$js$threejs$three_min.isClockWise(A)&&(w[t]=A.reverse())}t=nc$$module$js$threejs$three_min.triangulateShape(n,w);x=0;for(A=w.length;x<A;x++)n=n.concat(w[x]);w=0;for(x=n.length;w<x;w++)A=n[w],e.push(A.x,A.y,0),g.push(0,0,1),h.push(A.x,A.y);n=0;for(w=t.length;n<
w;n++)x=t[n],d.push(x[0]+p,x[1]+p,x[2]+p),l+=3}ka$$module$js$threejs$three_min.call(this);this.type="ShapeBufferGeometry";this.parameters={shapes:a,curveSegments:b};b=b||12;var d=[],e=[],g=[],h=[],k=0,l=0;if(!1===Array.isArray(a))c(a);else for(var m=0;m<a.length;m++)c(a[m]),this.addGroup(k,l,m),k+=l,l=0;this.setIndex(d);this.setAttribute("position",new ea$$module$js$threejs$three_min(e,3));this.setAttribute("normal",new ea$$module$js$threejs$three_min(g,3));this.setAttribute("uv",new ea$$module$js$threejs$three_min(h,
2))}function ij$$module$js$threejs$three_min(a,b){b.shapes=[];if(Array.isArray(a))for(var c=0,d=a.length;c<d;c++)b.shapes.push(a[c].uuid);else b.shapes.push(a.uuid);return b}
function be$$module$js$threejs$three_min(a,b){ka$$module$js$threejs$three_min.call(this);this.type="EdgesGeometry";this.parameters={thresholdAngle:b};var c=[];b=Math.cos(xa$$module$js$threejs$three_min.DEG2RAD*(void 0!==b?b:1));var d=[0,0],e={},g=["a","b","c"];if(a.isBufferGeometry){var h=new sa$$module$js$threejs$three_min;h.fromBufferGeometry(a)}else h=a.clone();h.mergeVertices();h.computeFaceNormals();a=h.vertices;h=h.faces;for(var k=0,l=h.length;k<l;k++)for(var m=h[k],n=0;3>n;n++){var p=m[g[n]],
t=m[g[(n+1)%3]];d[0]=Math.min(p,t);d[1]=Math.max(p,t);p=d[0]+","+d[1];void 0===e[p]?e[p]={index1:d[0],index2:d[1],face1:k,face2:void 0}:e[p].face2=k}for(p in e)if(d=e[p],void 0===d.face2||h[d.face1].normal.dot(h[d.face2].normal)<=b)g=a[d.index1],c.push(g.x,g.y,g.z),g=a[d.index2],c.push(g.x,g.y,g.z);this.setAttribute("position",new ea$$module$js$threejs$three_min(c,3))}
function ld$$module$js$threejs$three_min(a,b,c,d,e,g,h,k){sa$$module$js$threejs$three_min.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:g,thetaStart:h,thetaLength:k};this.fromBufferGeometry(new oc$$module$js$threejs$three_min(a,b,c,d,e,g,h,k));this.mergeVertices()}
function oc$$module$js$threejs$three_min(a,b,c,d,e,g,h,k){function l(B){for(var G=x,H=new L$$module$js$threejs$three_min,O=new w$$module$js$threejs$three_min,N=0,U=!0===B?a:b,W=!0===B?1:-1,J=1;J<=d;J++)p.push(0,r*W,0),t.push(0,W,0),w.push(.5,.5),x++;J=x;for(var aa=0;aa<=d;aa++){var ba=aa/d*k+h,z=Math.cos(ba);ba=Math.sin(ba);O.x=U*ba;O.y=r*W;O.z=U*z;p.push(O.x,O.y,O.z);t.push(0,W,0);H.x=.5*z+.5;H.y=.5*ba*W+.5;w.push(H.x,H.y);x++}for(H=0;H<d;H++)O=G+H,U=J+H,!0===B?n.push(U,U+1,O):n.push(U+1,U,O),N+=
3;m.addGroup(E,N,!0===B?1:2);E+=N}ka$$module$js$threejs$three_min.call(this);this.type="CylinderBufferGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:g,thetaStart:h,thetaLength:k};var m=this;a=void 0!==a?a:1;b=void 0!==b?b:1;c=c||1;d=Math.floor(d)||8;e=Math.floor(e)||1;g=void 0!==g?g:!1;h=void 0!==h?h:0;k=void 0!==k?k:2*Math.PI;var n=[],p=[],t=[],w=[],x=0,A=[],r=c/2,E=0;(function(){for(var B=new w$$module$js$threejs$three_min,G=new w$$module$js$threejs$three_min,
H=0,O=(b-a)/c,N=0;N<=e;N++){for(var U=[],W=N/e,J=W*(b-a)+a,aa=0;aa<=d;aa++){var ba=aa/d,z=ba*k+h,K=Math.sin(z);z=Math.cos(z);G.x=J*K;G.y=-W*c+r;G.z=J*z;p.push(G.x,G.y,G.z);B.set(K,O,z).normalize();t.push(B.x,B.y,B.z);w.push(ba,1-W);U.push(x++)}A.push(U)}for(B=0;B<d;B++)for(G=0;G<e;G++)O=A[G+1][B],N=A[G+1][B+1],U=A[G][B+1],n.push(A[G][B],O,U),n.push(O,N,U),H+=6;m.addGroup(E,H,0);E+=H})();!1===g&&(0<a&&l(!0),0<b&&l(!1));this.setIndex(n);this.setAttribute("position",new ea$$module$js$threejs$three_min(p,
3));this.setAttribute("normal",new ea$$module$js$threejs$three_min(t,3));this.setAttribute("uv",new ea$$module$js$threejs$three_min(w,2))}function lf$$module$js$threejs$three_min(a,b,c,d,e,g,h){ld$$module$js$threejs$three_min.call(this,0,a,b,c,d,e,g,h);this.type="ConeGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:g,thetaLength:h}}
function mf$$module$js$threejs$three_min(a,b,c,d,e,g,h){oc$$module$js$threejs$three_min.call(this,0,a,b,c,d,e,g,h);this.type="ConeBufferGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:g,thetaLength:h}}
function nf$$module$js$threejs$three_min(a,b,c,d){sa$$module$js$threejs$three_min.call(this);this.type="CircleGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};this.fromBufferGeometry(new ce$$module$js$threejs$three_min(a,b,c,d));this.mergeVertices()}
function ce$$module$js$threejs$three_min(a,b,c,d){ka$$module$js$threejs$three_min.call(this);this.type="CircleBufferGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};a=a||1;b=void 0!==b?Math.max(3,b):8;c=void 0!==c?c:0;d=void 0!==d?d:2*Math.PI;var e=[],g=[],h=[],k=[],l=new w$$module$js$threejs$three_min,m=new L$$module$js$threejs$three_min;g.push(0,0,0);h.push(0,0,1);k.push(.5,.5);for(var n=0,p=3;n<=b;n++,p+=3){var t=c+n/b*d;l.x=a*Math.cos(t);l.y=a*Math.sin(t);g.push(l.x,
l.y,l.z);h.push(0,0,1);m.x=(g[p]/a+1)/2;m.y=(g[p+1]/a+1)/2;k.push(m.x,m.y)}for(a=1;a<=b;a++)e.push(a,a+1,0);this.setIndex(e);this.setAttribute("position",new ea$$module$js$threejs$three_min(g,3));this.setAttribute("normal",new ea$$module$js$threejs$three_min(h,3));this.setAttribute("uv",new ea$$module$js$threejs$three_min(k,2))}
function md$$module$js$threejs$three_min(a){ra$$module$js$threejs$three_min.call(this);this.type="ShadowMaterial";this.color=new S$$module$js$threejs$three_min(0);this.transparent=!0;this.setValues(a)}function pc$$module$js$threejs$three_min(a){sb$$module$js$threejs$three_min.call(this,a);this.type="RawShaderMaterial"}
function cc$$module$js$threejs$three_min(a){ra$$module$js$threejs$three_min.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new S$$module$js$threejs$three_min(16777215);this.roughness=1;this.metalness=0;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new S$$module$js$threejs$three_min(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=
new L$$module$js$threejs$three_min(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.vertexTangents=this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}
function Nc$$module$js$threejs$three_min(a){cc$$module$js$threejs$three_min.call(this);this.defines={STANDARD:"",PHYSICAL:""};this.type="MeshPhysicalMaterial";this.clearcoat=0;this.clearcoatMap=null;this.clearcoatRoughness=0;this.clearcoatRoughnessMap=null;this.clearcoatNormalScale=new L$$module$js$threejs$three_min(1,1);this.clearcoatNormalMap=null;this.reflectivity=.5;this.sheen=null;this.transmission=0;this.transmissionMap=null;this.setValues(a)}
function Oc$$module$js$threejs$three_min(a){ra$$module$js$threejs$three_min.call(this);this.type="MeshPhongMaterial";this.color=new S$$module$js$threejs$three_min(16777215);this.specular=new S$$module$js$threejs$three_min(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new S$$module$js$threejs$three_min(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=
0;this.normalScale=new L$$module$js$threejs$three_min(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}
function nd$$module$js$threejs$three_min(a){ra$$module$js$threejs$three_min.call(this);this.defines={TOON:""};this.type="MeshToonMaterial";this.color=new S$$module$js$threejs$three_min(16777215);this.lightMap=this.gradientMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new S$$module$js$threejs$three_min(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new L$$module$js$threejs$three_min(1,
1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.alphaMap=null;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}
function od$$module$js$threejs$three_min(a){ra$$module$js$threejs$three_min.call(this);this.type="MeshNormalMaterial";this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new L$$module$js$threejs$three_min(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.fog=!1;this.setValues(a)}
function pd$$module$js$threejs$three_min(a){ra$$module$js$threejs$three_min.call(this);this.type="MeshLambertMaterial";this.color=new S$$module$js$threejs$three_min(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new S$$module$js$threejs$three_min(0);this.emissiveIntensity=1;this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=
1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}
function qd$$module$js$threejs$three_min(a){ra$$module$js$threejs$three_min.call(this);this.defines={MATCAP:""};this.type="MeshMatcapMaterial";this.color=new S$$module$js$threejs$three_min(16777215);this.bumpMap=this.map=this.matcap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new L$$module$js$threejs$three_min(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.alphaMap=null;this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}
function rd$$module$js$threejs$three_min(a){Ya$$module$js$threejs$three_min.call(this);this.type="LineDashedMaterial";this.scale=1;this.dashSize=3;this.gapSize=1;this.setValues(a)}function Hb$$module$js$threejs$three_min(a,b,c,d){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==d?d:new b.constructor(c);this.sampleValues=b;this.valueSize=c}
function dg$$module$js$threejs$three_min(a,b,c,d){Hb$$module$js$threejs$three_min.call(this,a,b,c,d);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function of$$module$js$threejs$three_min(a,b,c,d){Hb$$module$js$threejs$three_min.call(this,a,b,c,d)}function eg$$module$js$threejs$three_min(a,b,c,d){Hb$$module$js$threejs$three_min.call(this,a,b,c,d)}
function lb$$module$js$threejs$three_min(a,b,c,d){if(void 0===a)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===b||0===b.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+a);this.name=a;this.times=Va$$module$js$threejs$three_min.convertArray(b,this.TimeBufferType);this.values=Va$$module$js$threejs$three_min.convertArray(c,this.ValueBufferType);this.setInterpolation(d||this.DefaultInterpolation)}
function fg$$module$js$threejs$three_min(a,b,c){lb$$module$js$threejs$three_min.call(this,a,b,c)}function gg$$module$js$threejs$three_min(a,b,c,d){lb$$module$js$threejs$three_min.call(this,a,b,c,d)}function de$$module$js$threejs$three_min(a,b,c,d){lb$$module$js$threejs$three_min.call(this,a,b,c,d)}function hg$$module$js$threejs$three_min(a,b,c,d){Hb$$module$js$threejs$three_min.call(this,a,b,c,d)}
function pf$$module$js$threejs$three_min(a,b,c,d){lb$$module$js$threejs$three_min.call(this,a,b,c,d)}function ig$$module$js$threejs$three_min(a,b,c,d){lb$$module$js$threejs$three_min.call(this,a,b,c,d)}function ee$$module$js$threejs$three_min(a,b,c,d){lb$$module$js$threejs$three_min.call(this,a,b,c,d)}
function Mb$$module$js$threejs$three_min(a,b,c,d){this.name=a;this.tracks=c;this.duration=void 0!==b?b:-1;this.blendMode=void 0!==d?d:2500;this.uuid=xa$$module$js$threejs$three_min.generateUUID();0>this.duration&&this.resetDuration()}
function Kl$$module$js$threejs$three_min(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return de$$module$js$threejs$three_min;case "vector":case "vector2":case "vector3":case "vector4":return ee$$module$js$threejs$three_min;case "color":return gg$$module$js$threejs$three_min;case "quaternion":return pf$$module$js$threejs$three_min;case "bool":case "boolean":return fg$$module$js$threejs$three_min;case "string":return ig$$module$js$threejs$three_min}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+
a);}function Ll$$module$js$threejs$three_min(a){if(void 0===a.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");var b=Kl$$module$js$threejs$three_min(a.type);if(void 0===a.times){var c=[],d=[];Va$$module$js$threejs$three_min.flattenJSON(a.keys,c,d,"value");a.times=c;a.values=d}return void 0!==b.parse?b.parse(a):new b(a.name,a.times,a.values,a.interpolation)}
function Ah$$module$js$threejs$three_min(a,b,c){var d=this,e=!1,g=0,h=0,k=void 0,l=[];this.onStart=void 0;this.onLoad=a;this.onProgress=b;this.onError=c;this.itemStart=function(m){h++;if(!1===e&&void 0!==d.onStart)d.onStart(m,g,h);e=!0};this.itemEnd=function(m){g++;if(void 0!==d.onProgress)d.onProgress(m,g,h);if(g===h&&(e=!1,void 0!==d.onLoad))d.onLoad()};this.itemError=function(m){if(void 0!==d.onError)d.onError(m)};this.resolveURL=function(m){return k?k(m):m};this.setURLModifier=function(m){k=m;
return this};this.addHandler=function(m,n){l.push(m,n);return this};this.removeHandler=function(m){m=l.indexOf(m);-1!==m&&l.splice(m,2);return this};this.getHandler=function(m){for(var n=0,p=l.length;n<p;n+=2){var t=l[n],w=l[n+1];t.global&&(t.lastIndex=0);if(t.test(m))return w}return null}}function Ma$$module$js$threejs$three_min(a){this.manager=void 0!==a?a:jj$$module$js$threejs$three_min;this.crossOrigin="anonymous";this.resourcePath=this.path="";this.requestHeader={}}
function Nb$$module$js$threejs$three_min(a){Ma$$module$js$threejs$three_min.call(this,a)}function Bh$$module$js$threejs$three_min(a){Ma$$module$js$threejs$three_min.call(this,a)}function Ch$$module$js$threejs$three_min(a){Ma$$module$js$threejs$three_min.call(this,a)}function fe$$module$js$threejs$three_min(a){Ma$$module$js$threejs$three_min.call(this,a)}function jg$$module$js$threejs$three_min(a){Ma$$module$js$threejs$three_min.call(this,a)}
function kg$$module$js$threejs$three_min(a){Ma$$module$js$threejs$three_min.call(this,a)}function lg$$module$js$threejs$three_min(a){Ma$$module$js$threejs$three_min.call(this,a)}function oa$$module$js$threejs$three_min(){this.type="Curve";this.arcLengthDivisions=200}
function Ib$$module$js$threejs$three_min(a,b,c,d,e,g,h,k){oa$$module$js$threejs$three_min.call(this);this.type="EllipseCurve";this.aX=a||0;this.aY=b||0;this.xRadius=c||1;this.yRadius=d||1;this.aStartAngle=e||0;this.aEndAngle=g||2*Math.PI;this.aClockwise=h||!1;this.aRotation=k||0}function ge$$module$js$threejs$three_min(a,b,c,d,e,g){Ib$$module$js$threejs$three_min.call(this,a,b,c,c,d,e,g);this.type="ArcCurve"}
function Dh$$module$js$threejs$three_min(){var a=0,b=0,c=0,d=0;return{initCatmullRom:function(e,g,h,k,l){e=l*(h-e);k=l*(k-g);a=g;b=e;c=-3*g+3*h-2*e-k;d=2*g-2*h+e+k},initNonuniformCatmullRom:function(e,g,h,k,l,m,n){e=((g-e)/l-(h-e)/(l+m)+(h-g)/m)*m;k=((h-g)/m-(k-g)/(m+n)+(k-h)/n)*m;a=g;b=e;c=-3*g+3*h-2*e-k;d=2*g-2*h+e+k},calc:function(e){var g=e*e;return a+b*e+c*g+d*g*e}}}
function ob$$module$js$threejs$three_min(a,b,c,d){oa$$module$js$threejs$three_min.call(this);this.type="CatmullRomCurve3";this.points=a||[];this.closed=b||!1;this.curveType=c||"centripetal";this.tension=void 0!==d?d:.5}function kj$$module$js$threejs$three_min(a,b,c,d,e){b=.5*(d-b);e=.5*(e-c);var g=a*a;return(2*c-2*d+b+e)*a*g+(-3*c+3*d-2*b-e)*g+b*a+c}function qf$$module$js$threejs$three_min(a,b,c,d){var e=1-a;return e*e*b+2*(1-a)*a*c+a*a*d}
function rf$$module$js$threejs$three_min(a,b,c,d,e){var g=1-a,h=1-a;return g*g*g*b+3*h*h*a*c+3*(1-a)*a*a*d+a*a*a*e}function Sb$$module$js$threejs$three_min(a,b,c,d){oa$$module$js$threejs$three_min.call(this);this.type="CubicBezierCurve";this.v0=a||new L$$module$js$threejs$three_min;this.v1=b||new L$$module$js$threejs$three_min;this.v2=c||new L$$module$js$threejs$three_min;this.v3=d||new L$$module$js$threejs$three_min}
function dc$$module$js$threejs$three_min(a,b,c,d){oa$$module$js$threejs$three_min.call(this);this.type="CubicBezierCurve3";this.v0=a||new w$$module$js$threejs$three_min;this.v1=b||new w$$module$js$threejs$three_min;this.v2=c||new w$$module$js$threejs$three_min;this.v3=d||new w$$module$js$threejs$three_min}
function Ab$$module$js$threejs$three_min(a,b){oa$$module$js$threejs$three_min.call(this);this.type="LineCurve";this.v1=a||new L$$module$js$threejs$three_min;this.v2=b||new L$$module$js$threejs$three_min}function Tb$$module$js$threejs$three_min(a,b){oa$$module$js$threejs$three_min.call(this);this.type="LineCurve3";this.v1=a||new w$$module$js$threejs$three_min;this.v2=b||new w$$module$js$threejs$three_min}
function Ub$$module$js$threejs$three_min(a,b,c){oa$$module$js$threejs$three_min.call(this);this.type="QuadraticBezierCurve";this.v0=a||new L$$module$js$threejs$three_min;this.v1=b||new L$$module$js$threejs$three_min;this.v2=c||new L$$module$js$threejs$three_min}
function ec$$module$js$threejs$three_min(a,b,c){oa$$module$js$threejs$three_min.call(this);this.type="QuadraticBezierCurve3";this.v0=a||new w$$module$js$threejs$three_min;this.v1=b||new w$$module$js$threejs$three_min;this.v2=c||new w$$module$js$threejs$three_min}function Vb$$module$js$threejs$three_min(a){oa$$module$js$threejs$three_min.call(this);this.type="SplineCurve";this.points=a||[]}
function qc$$module$js$threejs$three_min(){oa$$module$js$threejs$three_min.call(this);this.type="CurvePath";this.curves=[];this.autoClose=!1}function Wb$$module$js$threejs$three_min(a){qc$$module$js$threejs$three_min.call(this);this.type="Path";this.currentPoint=new L$$module$js$threejs$three_min;a&&this.setFromPoints(a)}
function Pc$$module$js$threejs$three_min(a){Wb$$module$js$threejs$three_min.call(this,a);this.uuid=xa$$module$js$threejs$three_min.generateUUID();this.type="Shape";this.holes=[]}function Sa$$module$js$threejs$three_min(a,b){ha$$module$js$threejs$three_min.call(this);this.type="Light";this.color=new S$$module$js$threejs$three_min(a);this.intensity=void 0!==b?b:1;this.receiveShadow=void 0}
function mg$$module$js$threejs$three_min(a,b,c){Sa$$module$js$threejs$three_min.call(this,a,c);this.type="HemisphereLight";this.castShadow=void 0;this.position.copy(ha$$module$js$threejs$three_min.DefaultUp);this.updateMatrix();this.groundColor=new S$$module$js$threejs$three_min(b)}
function fc$$module$js$threejs$three_min(a){this.camera=a;this.normalBias=this.bias=0;this.radius=1;this.mapSize=new L$$module$js$threejs$three_min(512,512);this.mapPass=this.map=null;this.matrix=new da$$module$js$threejs$three_min;this.autoUpdate=!0;this.needsUpdate=!1;this._frustum=new xb$$module$js$threejs$three_min;this._frameExtents=new L$$module$js$threejs$three_min(1,1);this._viewportCount=1;this._viewports=[new ca$$module$js$threejs$three_min(0,0,1,1)]}
function Eh$$module$js$threejs$three_min(){fc$$module$js$threejs$three_min.call(this,new eb$$module$js$threejs$three_min(50,1,.5,500))}
function ng$$module$js$threejs$three_min(a,b,c,d,e,g){Sa$$module$js$threejs$three_min.call(this,a,b);this.type="SpotLight";this.position.copy(ha$$module$js$threejs$three_min.DefaultUp);this.updateMatrix();this.target=new ha$$module$js$threejs$three_min;Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(h){this.intensity=h/Math.PI}});this.distance=void 0!==c?c:0;this.angle=void 0!==d?d:Math.PI/3;this.penumbra=void 0!==e?e:0;this.decay=void 0!==g?g:1;this.shadow=
new Eh$$module$js$threejs$three_min}
function Fh$$module$js$threejs$three_min(){fc$$module$js$threejs$three_min.call(this,new eb$$module$js$threejs$three_min(90,1,.5,500));this._frameExtents=new L$$module$js$threejs$three_min(4,2);this._viewportCount=6;this._viewports=[new ca$$module$js$threejs$three_min(2,1,1,1),new ca$$module$js$threejs$three_min(0,1,1,1),new ca$$module$js$threejs$three_min(3,1,1,1),new ca$$module$js$threejs$three_min(1,1,1,1),new ca$$module$js$threejs$three_min(3,0,1,1),new ca$$module$js$threejs$three_min(1,0,1,1)];
this._cubeDirections=[new w$$module$js$threejs$three_min(1,0,0),new w$$module$js$threejs$three_min(-1,0,0),new w$$module$js$threejs$three_min(0,0,1),new w$$module$js$threejs$three_min(0,0,-1),new w$$module$js$threejs$three_min(0,1,0),new w$$module$js$threejs$three_min(0,-1,0)];this._cubeUps=[new w$$module$js$threejs$three_min(0,1,0),new w$$module$js$threejs$three_min(0,1,0),new w$$module$js$threejs$three_min(0,1,0),new w$$module$js$threejs$three_min(0,1,0),new w$$module$js$threejs$three_min(0,0,1),
new w$$module$js$threejs$three_min(0,0,-1)]}function og$$module$js$threejs$three_min(a,b,c,d){Sa$$module$js$threejs$three_min.call(this,a,b);this.type="PointLight";Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}});this.distance=void 0!==c?c:0;this.decay=void 0!==d?d:1;this.shadow=new Fh$$module$js$threejs$three_min}
function he$$module$js$threejs$three_min(a,b,c,d,e,g){ac$$module$js$threejs$three_min.call(this);this.type="OrthographicCamera";this.zoom=1;this.view=null;this.left=void 0!==a?a:-1;this.right=void 0!==b?b:1;this.top=void 0!==c?c:1;this.bottom=void 0!==d?d:-1;this.near=void 0!==e?e:.1;this.far=void 0!==g?g:2E3;this.updateProjectionMatrix()}function Gh$$module$js$threejs$three_min(){fc$$module$js$threejs$three_min.call(this,new he$$module$js$threejs$three_min(-5,5,5,-5,.5,500))}
function pg$$module$js$threejs$three_min(a,b){Sa$$module$js$threejs$three_min.call(this,a,b);this.type="DirectionalLight";this.position.copy(ha$$module$js$threejs$three_min.DefaultUp);this.updateMatrix();this.target=new ha$$module$js$threejs$three_min;this.shadow=new Gh$$module$js$threejs$three_min}function qg$$module$js$threejs$three_min(a,b){Sa$$module$js$threejs$three_min.call(this,a,b);this.type="AmbientLight";this.castShadow=void 0}
function rg$$module$js$threejs$three_min(a,b,c,d){Sa$$module$js$threejs$three_min.call(this,a,b);this.type="RectAreaLight";this.width=void 0!==c?c:10;this.height=void 0!==d?d:10}function Ob$$module$js$threejs$three_min(a,b){Sa$$module$js$threejs$three_min.call(this,void 0,b);this.type="LightProbe";this.sh=void 0!==a?a:new pb$$module$js$threejs$three_min}function sg$$module$js$threejs$three_min(a){Ma$$module$js$threejs$three_min.call(this,a);this.textures={}}
function sf$$module$js$threejs$three_min(){ka$$module$js$threejs$three_min.call(this);this.type="InstancedBufferGeometry";this.instanceCount=Infinity}function tg$$module$js$threejs$three_min(a,b,c,d){"number"===typeof c&&(d=c,c=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));pa$$module$js$threejs$three_min.call(this,a,b,c);this.meshPerAttribute=d||1}
function ug$$module$js$threejs$three_min(a){Ma$$module$js$threejs$three_min.call(this,a)}function vg$$module$js$threejs$three_min(a){Ma$$module$js$threejs$three_min.call(this,a)}
function Hh$$module$js$threejs$three_min(a){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported.");"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported.");Ma$$module$js$threejs$three_min.call(this,a);this.options={premultiplyAlpha:"none"}}function Ih$$module$js$threejs$three_min(){this.type="ShapePath";this.color=new S$$module$js$threejs$three_min;this.subPaths=[];this.currentPath=null}
function Jh$$module$js$threejs$three_min(a){this.type="Font";this.data=a}function Kh$$module$js$threejs$three_min(a){Ma$$module$js$threejs$three_min.call(this,a)}function wg$$module$js$threejs$three_min(a){Ma$$module$js$threejs$three_min.call(this,a)}
function Lh$$module$js$threejs$three_min(a,b,c){Ob$$module$js$threejs$three_min.call(this,void 0,c);a=(new S$$module$js$threejs$three_min).set(a);c=(new S$$module$js$threejs$three_min).set(b);b=new w$$module$js$threejs$three_min(a.r,a.g,a.b);a=new w$$module$js$threejs$three_min(c.r,c.g,c.b);c=Math.sqrt(Math.PI);var d=c*Math.sqrt(.75);this.sh.coefficients[0].copy(b).add(a).multiplyScalar(c);this.sh.coefficients[1].copy(b).sub(a).multiplyScalar(d)}
function Mh$$module$js$threejs$three_min(a,b){Ob$$module$js$threejs$three_min.call(this,void 0,b);a=(new S$$module$js$threejs$three_min).set(a);this.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI))}
function lj$$module$js$threejs$three_min(){this.type="StereoCamera";this.aspect=1;this.eyeSep=.064;this.cameraL=new eb$$module$js$threejs$three_min;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new eb$$module$js$threejs$three_min;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1;this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}
function Xb$$module$js$threejs$three_min(){ha$$module$js$threejs$three_min.call(this);this.type="AudioListener";this.context=Nh$$module$js$threejs$three_min.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null;this.timeDelta=0;this._clock=new ie$$module$js$threejs$three_min}
function Ja$$module$js$threejs$three_min(a){ha$$module$js$threejs$three_min.call(this);this.type="Audio";this.listener=a;this.context=a.context;this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.buffer=null;this.detune=0;this.loop=!1;this.offset=this.loopEnd=this.loopStart=0;this.duration=void 0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.source=null;this.sourceType="empty";this._progress=this._startedAt=0;this._connected=!1;this.filters=
[]}function tb$$module$js$threejs$three_min(a){Ja$$module$js$threejs$three_min.call(this,a);this.panner=this.context.createPanner();this.panner.panningModel="HRTF";this.panner.connect(this.gain)}
function Oh$$module$js$threejs$three_min(a,b,c){this.binding=a;this.valueSize=c;switch(b){case "quaternion":a=this._slerp;b=this._slerpAdditive;var d=this._setAdditiveIdentityQuaternion;this.buffer=new Float64Array(6*c);this._workIndex=5;break;case "string":case "bool":b=a=this._select;d=this._setAdditiveIdentityOther;this.buffer=Array(5*c);break;default:a=this._lerp,b=this._lerpAdditive,d=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*c)}this._mixBufferRegion=a;this._mixBufferRegionAdditive=
b;this._setIdentity=d;this._origIndex=3;this._addIndex=4;this.referenceCount=this.useCount=this.cumulativeWeightAdditive=this.cumulativeWeight=0}function mj$$module$js$threejs$three_min(a,b,c){c=c||qb$$module$js$threejs$three_min.parseTrackName(b);this._targetGroup=a;this._bindings=a.subscribe_(b,c)}
function qb$$module$js$threejs$three_min(a,b,c){this.path=b;this.parsedPath=c||qb$$module$js$threejs$three_min.parseTrackName(b);this.node=qb$$module$js$threejs$three_min.findNode(a,this.parsedPath.nodeName)||a;this.rootNode=a}
function nj$$module$js$threejs$three_min(){this.uuid=xa$$module$js$threejs$three_min.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var a={};this._indicesByUUID=a;for(var b=0,c=arguments.length;b!==c;++b)a[arguments[b].uuid]=b;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var d=this;this.stats={objects:{get total(){return d._objects.length},get inUse(){return this.total-d.nCachedObjects_}},get bindingsPerObject(){return d._bindings.length}}}
function Ph$$module$js$threejs$three_min(a){this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1}function Qh$$module$js$threejs$three_min(a,b,c){Gb$$module$js$threejs$three_min.call(this,a,b);this.meshPerAttribute=c||1}function Rh$$module$js$threejs$three_min(a,b,c,d,e){this.buffer=a;this.type=b;this.itemSize=c;this.elementSize=d;this.count=e;this.version=0}
function Sh$$module$js$threejs$three_min(a,b,c,d){this.ray=new Ta$$module$js$threejs$three_min(a,b);this.near=c||0;this.far=d||Infinity;this.camera=null;this.layers=new $b$$module$js$threejs$three_min;this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})}
function oj$$module$js$threejs$three_min(a,b){return a.distance-b.distance}function Th$$module$js$threejs$three_min(a,b,c,d){a.layers.test(b.layers)&&a.raycast(b,c);if(!0===d){a=a.children;d=0;for(var e=a.length;d<e;d++)Th$$module$js$threejs$three_min(a[d],b,c,!0)}}
function tf$$module$js$threejs$three_min(a){ha$$module$js$threejs$three_min.call(this);this.material=a;this.render=function(){};this.hasUvs=this.hasColors=this.hasNormals=this.hasPositions=!1;this.uvArray=this.colorArray=this.normalArray=this.positionArray=null;this.count=0}
function je$$module$js$threejs$three_min(a,b){ha$$module$js$threejs$three_min.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=b;a=new ka$$module$js$threejs$three_min;b=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var c=0,d=1;32>c;c++,d++){var e=c/32*Math.PI*2,g=d/32*Math.PI*2;b.push(Math.cos(e),Math.sin(e),1,Math.cos(g),Math.sin(g),1)}a.setAttribute("position",new ea$$module$js$threejs$three_min(b,3));b=new Ya$$module$js$threejs$three_min({fog:!1,
toneMapped:!1});this.cone=new Za$$module$js$threejs$three_min(a,b);this.add(this.cone);this.update()}
function ke$$module$js$threejs$three_min(a){for(var b=pj$$module$js$threejs$three_min(a),c=new ka$$module$js$threejs$three_min,d=[],e=[],g=new S$$module$js$threejs$three_min(0,0,1),h=new S$$module$js$threejs$three_min(0,1,0),k=0;k<b.length;k++){var l=b[k];l.parent&&l.parent.isBone&&(d.push(0,0,0),d.push(0,0,0),e.push(g.r,g.g,g.b),e.push(h.r,h.g,h.b))}c.setAttribute("position",new ea$$module$js$threejs$three_min(d,3));c.setAttribute("color",new ea$$module$js$threejs$three_min(e,3));d=new Ya$$module$js$threejs$three_min({vertexColors:!0,
depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});Za$$module$js$threejs$three_min.call(this,c,d);this.type="SkeletonHelper";this.isSkeletonHelper=!0;this.root=a;this.bones=b;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1}function pj$$module$js$threejs$three_min(a){var b=[];a&&a.isBone&&b.push(a);for(var c=0;c<a.children.length;c++)b.push.apply(b,pj$$module$js$threejs$three_min(a.children[c]));return b}
function le$$module$js$threejs$three_min(a,b,c){b=new id$$module$js$threejs$three_min(b,4,2);var d=new Kb$$module$js$threejs$three_min({wireframe:!0,fog:!1,toneMapped:!1});Qa$$module$js$threejs$three_min.call(this,b,d);this.light=a;this.light.updateMatrixWorld();this.color=c;this.type="PointLightHelper";this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1;this.update()}
function me$$module$js$threejs$three_min(a,b,c){ha$$module$js$threejs$three_min.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=c;a=new fd$$module$js$threejs$three_min(b);a.rotateY(.5*Math.PI);this.material=new Kb$$module$js$threejs$three_min({wireframe:!0,fog:!1,toneMapped:!1});void 0===this.color&&(this.material.vertexColors=!0);b=a.getAttribute("position");b=new Float32Array(3*b.count);a.setAttribute("color",new pa$$module$js$threejs$three_min(b,
3));this.add(new Qa$$module$js$threejs$three_min(a,this.material));this.update()}
function uf$$module$js$threejs$three_min(a,b,c,d){a=a||10;b=b||10;c=new S$$module$js$threejs$three_min(void 0!==c?c:4473924);d=new S$$module$js$threejs$three_min(void 0!==d?d:8947848);var e=b/2,g=a/b,h=a/2;a=[];for(var k=[],l=0,m=0,n=-h;l<=b;l++,n+=g){a.push(-h,0,n,h,0,n);a.push(n,0,-h,n,0,h);var p=l===e?c:d;p.toArray(k,m);m+=3;p.toArray(k,m);m+=3;p.toArray(k,m);m+=3;p.toArray(k,m);m+=3}b=new ka$$module$js$threejs$three_min;b.setAttribute("position",new ea$$module$js$threejs$three_min(a,3));b.setAttribute("color",
new ea$$module$js$threejs$three_min(k,3));c=new Ya$$module$js$threejs$three_min({vertexColors:!0,toneMapped:!1});Za$$module$js$threejs$three_min.call(this,b,c);this.type="GridHelper"}
function xg$$module$js$threejs$three_min(a,b,c,d,e,g){a=a||10;b=b||16;c=c||8;d=d||64;e=new S$$module$js$threejs$three_min(void 0!==e?e:4473924);g=new S$$module$js$threejs$three_min(void 0!==g?g:8947848);for(var h=[],k=[],l=0;l<=b;l++){var m=l/b*2*Math.PI,n=Math.sin(m)*a;m=Math.cos(m)*a;h.push(0,0,0);h.push(n,0,m);n=l&1?e:g;k.push(n.r,n.g,n.b);k.push(n.r,n.g,n.b)}for(b=0;b<=c;b++)for(l=b&1?e:g,n=a-a/c*b,m=0;m<d;m++){var p=m/d*2*Math.PI,t=Math.sin(p)*n;p=Math.cos(p)*n;h.push(t,0,p);k.push(l.r,l.g,l.b);
p=(m+1)/d*2*Math.PI;t=Math.sin(p)*n;p=Math.cos(p)*n;h.push(t,0,p);k.push(l.r,l.g,l.b)}a=new ka$$module$js$threejs$three_min;a.setAttribute("position",new ea$$module$js$threejs$three_min(h,3));a.setAttribute("color",new ea$$module$js$threejs$three_min(k,3));h=new Ya$$module$js$threejs$three_min({vertexColors:!0,toneMapped:!1});Za$$module$js$threejs$three_min.call(this,a,h);this.type="PolarGridHelper"}
function ne$$module$js$threejs$three_min(a,b,c){ha$$module$js$threejs$three_min.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=c;void 0===b&&(b=1);a=new ka$$module$js$threejs$three_min;a.setAttribute("position",new ea$$module$js$threejs$three_min([-b,b,0,b,b,0,b,-b,0,-b,-b,0,-b,b,0],3));b=new Ya$$module$js$threejs$three_min({fog:!1,toneMapped:!1});this.lightPlane=new yb$$module$js$threejs$three_min(a,b);this.add(this.lightPlane);
a=new ka$$module$js$threejs$three_min;a.setAttribute("position",new ea$$module$js$threejs$three_min([0,0,0,0,0,1],3));this.targetLine=new yb$$module$js$threejs$three_min(a,b);this.add(this.targetLine);this.update()}
function vf$$module$js$threejs$three_min(a){function b(w,x,A){c(w,A);c(x,A)}function c(w,x){g.push(0,0,0);h.push(x.r,x.g,x.b);void 0===k[w]&&(k[w]=[]);k[w].push(g.length/3-1)}var d=new ka$$module$js$threejs$three_min,e=new Ya$$module$js$threejs$three_min({color:16777215,vertexColors:!0,toneMapped:!1}),g=[],h=[],k={},l=new S$$module$js$threejs$three_min(16755200),m=new S$$module$js$threejs$three_min(16711680),n=new S$$module$js$threejs$three_min(43775),p=new S$$module$js$threejs$three_min(16777215),
t=new S$$module$js$threejs$three_min(3355443);b("n1","n2",l);b("n2","n4",l);b("n4","n3",l);b("n3","n1",l);b("f1","f2",l);b("f2","f4",l);b("f4","f3",l);b("f3","f1",l);b("n1","f1",l);b("n2","f2",l);b("n3","f3",l);b("n4","f4",l);b("p","n1",m);b("p","n2",m);b("p","n3",m);b("p","n4",m);b("u1","u2",n);b("u2","u3",n);b("u3","u1",n);b("c","t",p);b("p","c",t);b("cn1","cn2",t);b("cn3","cn4",t);b("cf1","cf2",t);b("cf3","cf4",t);d.setAttribute("position",new ea$$module$js$threejs$three_min(g,3));d.setAttribute("color",
new ea$$module$js$threejs$three_min(h,3));Za$$module$js$threejs$three_min.call(this,d,e);this.type="CameraHelper";this.camera=a;this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=k;this.update()}
function db$$module$js$threejs$three_min(a,b,c,d,e,g,h){yg$$module$js$threejs$three_min.set(e,g,h).unproject(d);a=b[a];if(void 0!==a)for(c=c.getAttribute("position"),b=0,d=a.length;b<d;b++)c.setXYZ(a[b],yg$$module$js$threejs$three_min.x,yg$$module$js$threejs$three_min.y,yg$$module$js$threejs$three_min.z)}
function Qc$$module$js$threejs$three_min(a,b){void 0===b&&(b=16776960);var c=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),d=new Float32Array(24),e=new ka$$module$js$threejs$three_min;e.setIndex(new pa$$module$js$threejs$three_min(c,1));e.setAttribute("position",new pa$$module$js$threejs$three_min(d,3));Za$$module$js$threejs$three_min.call(this,e,new Ya$$module$js$threejs$three_min({color:b,toneMapped:!1}));this.object=a;this.type="BoxHelper";this.matrixAutoUpdate=!1;this.update()}
function wf$$module$js$threejs$three_min(a,b){void 0===b&&(b=16776960);var c=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),d=new ka$$module$js$threejs$three_min;d.setIndex(new pa$$module$js$threejs$three_min(c,1));d.setAttribute("position",new ea$$module$js$threejs$three_min([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3));Za$$module$js$threejs$three_min.call(this,d,new Ya$$module$js$threejs$three_min({color:b,toneMapped:!1}));this.box=a;this.type="Box3Helper";
this.geometry.computeBoundingSphere()}
function xf$$module$js$threejs$three_min(a,b,c){c=void 0!==c?c:16776960;var d=new ka$$module$js$threejs$three_min;d.setAttribute("position",new ea$$module$js$threejs$three_min([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3));d.computeBoundingSphere();yb$$module$js$threejs$three_min.call(this,d,new Ya$$module$js$threejs$three_min({color:c,toneMapped:!1}));this.type="PlaneHelper";this.plane=a;this.size=void 0===b?1:b;a=new ka$$module$js$threejs$three_min;a.setAttribute("position",
new ea$$module$js$threejs$three_min([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3));a.computeBoundingSphere();this.add(new Qa$$module$js$threejs$three_min(a,new Kb$$module$js$threejs$three_min({color:c,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}
function Rc$$module$js$threejs$three_min(a,b,c,d,e,g){ha$$module$js$threejs$three_min.call(this);this.type="ArrowHelper";void 0===a&&(a=new w$$module$js$threejs$three_min(0,0,1));void 0===b&&(b=new w$$module$js$threejs$three_min(0,0,0));void 0===c&&(c=1);void 0===d&&(d=16776960);void 0===e&&(e=.2*c);void 0===g&&(g=.2*e);void 0===zg$$module$js$threejs$three_min&&(zg$$module$js$threejs$three_min=new ka$$module$js$threejs$three_min,zg$$module$js$threejs$three_min.setAttribute("position",new ea$$module$js$threejs$three_min([0,
0,0,0,1,0],3)),Uh$$module$js$threejs$three_min=new oc$$module$js$threejs$three_min(0,.5,1,5,1),Uh$$module$js$threejs$three_min.translate(0,-.5,0));this.position.copy(b);this.line=new yb$$module$js$threejs$three_min(zg$$module$js$threejs$three_min,new Ya$$module$js$threejs$three_min({color:d,toneMapped:!1}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new Qa$$module$js$threejs$three_min(Uh$$module$js$threejs$three_min,new Kb$$module$js$threejs$three_min({color:d,toneMapped:!1}));this.cone.matrixAutoUpdate=
!1;this.add(this.cone);this.setDirection(a);this.setLength(c,e,g)}
function yf$$module$js$threejs$three_min(a){void 0===a&&(a=1);var b=[0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a];a=new ka$$module$js$threejs$three_min;a.setAttribute("position",new ea$$module$js$threejs$three_min(b,3));a.setAttribute("color",new ea$$module$js$threejs$three_min([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));b=new Ya$$module$js$threejs$three_min({vertexColors:!0,toneMapped:!1});Za$$module$js$threejs$three_min.call(this,a,b);this.type="AxesHelper"}
function qj$$module$js$threejs$three_min(a){a=new Db$$module$js$threejs$three_min(3*gc$$module$js$threejs$three_min,3*gc$$module$js$threejs$three_min,a);a.texture.mapping=306;a.texture.name="PMREM.cubeUv";a.scissorTest=!0;return a}function Ag$$module$js$threejs$three_min(a,b,c,d,e){a.viewport.set(b,c,d,e);a.scissor.set(b,c,d,e)}
function rj$$module$js$threejs$three_min(){var a=new L$$module$js$threejs$three_min(1,1);return new pc$$module$js$threejs$three_min({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:a},inputEncoding:{value:hc$$module$js$threejs$three_min[3E3]},outputEncoding:{value:hc$$module$js$threejs$three_min[3E3]}},vertexShader:Vh$$module$js$threejs$three_min(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t"+
Wh$$module$js$threejs$three_min()+"\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",
blending:0,depthTest:!1,depthWrite:!1})}
function sj$$module$js$threejs$three_min(){return new pc$$module$js$threejs$three_min({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:hc$$module$js$threejs$three_min[3E3]},outputEncoding:{value:hc$$module$js$threejs$three_min[3E3]}},vertexShader:Vh$$module$js$threejs$three_min(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t"+Wh$$module$js$threejs$three_min()+
"\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}
function Vh$$module$js$threejs$three_min(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}
function Wh$$module$js$threejs$three_min(){return"\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t"}
function tj$$module$js$threejs$three_min(a){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");ob$$module$js$threejs$three_min.call(this,a);this.type="catmullrom";this.closed=!0}function uj$$module$js$threejs$three_min(a){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");ob$$module$js$threejs$three_min.call(this,a);this.type="catmullrom"}
function Xh$$module$js$threejs$three_min(a){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.");ob$$module$js$threejs$three_min.call(this,a);this.type="catmullrom"}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Number.isInteger&&(Number.isInteger=function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a});void 0===Math.sign&&(Math.sign=function(a){return 0>a?-1:0<a?1:+a});
!1==="name"in Function.prototype&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});void 0===Object.assign&&(Object.assign=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(void 0!==d&&null!==d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(b[e]=d[e])}return b});
Object.assign(wb$$module$js$threejs$three_min.prototype,{addEventListener:function(a,b){void 0===this._listeners&&(this._listeners={});var c=this._listeners;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)},hasEventListener:function(a,b){if(void 0===this._listeners)return!1;var c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)},removeEventListener:function(a,b){void 0!==this._listeners&&(a=this._listeners[a],void 0!==a&&(b=a.indexOf(b),-1!==b&&a.splice(b,1)))},dispatchEvent:function(a){if(void 0!==
this._listeners){var b=this._listeners[a.type];if(void 0!==b){a.target=this;b=b.slice(0);for(var c=0,d=b.length;c<d;c++)b[c].call(this,a)}}}});for(var mb$$module$js$threejs$three_min=[],zf$$module$js$threejs$three_min=0;256>zf$$module$js$threejs$three_min;zf$$module$js$threejs$three_min++)mb$$module$js$threejs$three_min[zf$$module$js$threejs$three_min]=(16>zf$$module$js$threejs$three_min?"0":"")+zf$$module$js$threejs$three_min.toString(16);
var Bg$$module$js$threejs$three_min=1234567,xa$$module$js$threejs$three_min={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var a=4294967295*Math.random()|0,b=4294967295*Math.random()|0,c=4294967295*Math.random()|0,d=4294967295*Math.random()|0;return(mb$$module$js$threejs$three_min[a&255]+mb$$module$js$threejs$three_min[a>>8&255]+mb$$module$js$threejs$three_min[a>>16&255]+mb$$module$js$threejs$three_min[a>>24&255]+"-"+mb$$module$js$threejs$three_min[b&255]+mb$$module$js$threejs$three_min[b>>
8&255]+"-"+mb$$module$js$threejs$three_min[b>>16&15|64]+mb$$module$js$threejs$three_min[b>>24&255]+"-"+mb$$module$js$threejs$three_min[c&63|128]+mb$$module$js$threejs$three_min[c>>8&255]+"-"+mb$$module$js$threejs$three_min[c>>16&255]+mb$$module$js$threejs$three_min[c>>24&255]+mb$$module$js$threejs$three_min[d&255]+mb$$module$js$threejs$three_min[d>>8&255]+mb$$module$js$threejs$three_min[d>>16&255]+mb$$module$js$threejs$three_min[d>>24&255]).toUpperCase()},clamp:function(a,b,c){return Math.max(b,Math.min(c,
a))},euclideanModulo:function(a,b){return(a%b+b)%b},mapLinear:function(a,b,c,d,e){return d+(a-b)*(e-d)/(c-b)},lerp:function(a,b,c){return(1-c)*a+c*b},smoothstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*
(.5-Math.random())},seededRandom:function(a){void 0!==a&&(Bg$$module$js$threejs$three_min=a%2147483647);Bg$$module$js$threejs$three_min=16807*Bg$$module$js$threejs$three_min%2147483647;return(Bg$$module$js$threejs$three_min-1)/2147483646},degToRad:function(a){return a*xa$$module$js$threejs$three_min.DEG2RAD},radToDeg:function(a){return a*xa$$module$js$threejs$three_min.RAD2DEG},isPowerOfTwo:function(a){return 0===(a&a-1)&&0!==a},ceilPowerOfTwo:function(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))},
floorPowerOfTwo:function(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))},setQuaternionFromProperEuler:function(a,b,c,d,e){var g=Math.cos,h=Math.sin,k=g(c/2);c=h(c/2);var l=g((b+d)/2),m=h((b+d)/2),n=g((b-d)/2),p=h((b-d)/2);g=g((d-b)/2);b=h((d-b)/2);switch(e){case "XYX":a.set(k*m,c*n,c*p,k*l);break;case "YZY":a.set(c*p,k*m,c*n,k*l);break;case "ZXZ":a.set(c*n,c*p,k*m,k*l);break;case "XZX":a.set(k*m,c*b,c*g,k*l);break;case "YXY":a.set(c*g,k*m,c*b,k*l);break;case "ZYZ":a.set(c*b,c*g,k*m,k*l);break;
default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+e)}}},L$$module$js$threejs$three_min=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);Object.defineProperty(this,"isVector2",{value:!0});this.x=a;this.y=b},Af$$module$js$threejs$three_min={width:{configurable:!0},height:{configurable:!0}};Af$$module$js$threejs$three_min.width.get=function(){return this.x};Af$$module$js$threejs$three_min.width.set=function(a){this.x=a};
Af$$module$js$threejs$three_min.height.get=function(){return this.y};Af$$module$js$threejs$three_min.height.set=function(a){this.y=a};L$$module$js$threejs$three_min.prototype.set=function(a,b){this.x=a;this.y=b;return this};L$$module$js$threejs$three_min.prototype.setScalar=function(a){this.y=this.x=a;return this};L$$module$js$threejs$three_min.prototype.setX=function(a){this.x=a;return this};L$$module$js$threejs$three_min.prototype.setY=function(a){this.y=a;return this};
L$$module$js$threejs$three_min.prototype.setComponent=function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+a);}return this};L$$module$js$threejs$three_min.prototype.getComponent=function(a){switch(a){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+a);}};L$$module$js$threejs$three_min.prototype.clone=function(){return new this.constructor(this.x,this.y)};
L$$module$js$threejs$three_min.prototype.copy=function(a){this.x=a.x;this.y=a.y;return this};L$$module$js$threejs$three_min.prototype.add=function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;return this};L$$module$js$threejs$three_min.prototype.addScalar=function(a){this.x+=a;this.y+=a;return this};
L$$module$js$threejs$three_min.prototype.addVectors=function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this};L$$module$js$threejs$three_min.prototype.addScaledVector=function(a,b){this.x+=a.x*b;this.y+=a.y*b;return this};L$$module$js$threejs$three_min.prototype.sub=function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;return this};
L$$module$js$threejs$three_min.prototype.subScalar=function(a){this.x-=a;this.y-=a;return this};L$$module$js$threejs$three_min.prototype.subVectors=function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this};L$$module$js$threejs$three_min.prototype.multiply=function(a){this.x*=a.x;this.y*=a.y;return this};L$$module$js$threejs$three_min.prototype.multiplyScalar=function(a){this.x*=a;this.y*=a;return this};L$$module$js$threejs$three_min.prototype.divide=function(a){this.x/=a.x;this.y/=a.y;return this};
L$$module$js$threejs$three_min.prototype.divideScalar=function(a){return this.multiplyScalar(1/a)};L$$module$js$threejs$three_min.prototype.applyMatrix3=function(a){var b=this.x,c=this.y;a=a.elements;this.x=a[0]*b+a[3]*c+a[6];this.y=a[1]*b+a[4]*c+a[7];return this};L$$module$js$threejs$three_min.prototype.min=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this};
L$$module$js$threejs$three_min.prototype.max=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this};L$$module$js$threejs$three_min.prototype.clamp=function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this};L$$module$js$threejs$three_min.prototype.clampScalar=function(a,b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));return this};
L$$module$js$threejs$three_min.prototype.clampLength=function(a,b){var c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))};L$$module$js$threejs$three_min.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};L$$module$js$threejs$three_min.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};
L$$module$js$threejs$three_min.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};L$$module$js$threejs$three_min.prototype.roundToZero=function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this};L$$module$js$threejs$three_min.prototype.negate=function(){this.x=-this.x;this.y=-this.y;return this};L$$module$js$threejs$three_min.prototype.dot=function(a){return this.x*a.x+this.y*a.y};
L$$module$js$threejs$three_min.prototype.cross=function(a){return this.x*a.y-this.y*a.x};L$$module$js$threejs$three_min.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y};L$$module$js$threejs$three_min.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};L$$module$js$threejs$three_min.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)};
L$$module$js$threejs$three_min.prototype.normalize=function(){return this.divideScalar(this.length()||1)};L$$module$js$threejs$three_min.prototype.angle=function(){return Math.atan2(-this.y,-this.x)+Math.PI};L$$module$js$threejs$three_min.prototype.distanceTo=function(a){return Math.sqrt(this.distanceToSquared(a))};L$$module$js$threejs$three_min.prototype.distanceToSquared=function(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a};
L$$module$js$threejs$three_min.prototype.manhattanDistanceTo=function(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)};L$$module$js$threejs$three_min.prototype.setLength=function(a){return this.normalize().multiplyScalar(a)};L$$module$js$threejs$three_min.prototype.lerp=function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this};L$$module$js$threejs$three_min.prototype.lerpVectors=function(a,b,c){this.x=a.x+(b.x-a.x)*c;this.y=a.y+(b.y-a.y)*c;return this};
L$$module$js$threejs$three_min.prototype.equals=function(a){return a.x===this.x&&a.y===this.y};L$$module$js$threejs$three_min.prototype.fromArray=function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this};L$$module$js$threejs$three_min.prototype.toArray=function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a};
L$$module$js$threejs$three_min.prototype.fromBufferAttribute=function(a,b,c){void 0!==c&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);return this};L$$module$js$threejs$three_min.prototype.rotateAround=function(a,b){var c=Math.cos(b);b=Math.sin(b);var d=this.x-a.x,e=this.y-a.y;this.x=d*c-e*b+a.x;this.y=d*b+e*c+a.y;return this};
L$$module$js$threejs$three_min.prototype.random=function(){this.x=Math.random();this.y=Math.random();return this};Object.defineProperties(L$$module$js$threejs$three_min.prototype,Af$$module$js$threejs$three_min);var Da$$module$js$threejs$three_min=function(){Object.defineProperty(this,"isMatrix3",{value:!0});this.elements=[1,0,0,0,1,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")};
Da$$module$js$threejs$three_min.prototype.set=function(a,b,c,d,e,g,h,k,l){var m=this.elements;m[0]=a;m[1]=d;m[2]=h;m[3]=b;m[4]=e;m[5]=k;m[6]=c;m[7]=g;m[8]=l;return this};Da$$module$js$threejs$three_min.prototype.identity=function(){this.set(1,0,0,0,1,0,0,0,1);return this};Da$$module$js$threejs$three_min.prototype.clone=function(){return(new this.constructor).fromArray(this.elements)};
Da$$module$js$threejs$three_min.prototype.copy=function(a){var b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return this};Da$$module$js$threejs$three_min.prototype.extractBasis=function(a,b,c){a.setFromMatrix3Column(this,0);b.setFromMatrix3Column(this,1);c.setFromMatrix3Column(this,2);return this};
Da$$module$js$threejs$three_min.prototype.setFromMatrix4=function(a){a=a.elements;this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]);return this};Da$$module$js$threejs$three_min.prototype.multiply=function(a){return this.multiplyMatrices(this,a)};Da$$module$js$threejs$three_min.prototype.premultiply=function(a){return this.multiplyMatrices(a,this)};
Da$$module$js$threejs$three_min.prototype.multiplyMatrices=function(a,b){var c=a.elements,d=b.elements;b=this.elements;a=c[0];var e=c[3],g=c[6],h=c[1],k=c[4],l=c[7],m=c[2],n=c[5];c=c[8];var p=d[0],t=d[3],w=d[6],x=d[1],A=d[4],r=d[7],E=d[2],B=d[5];d=d[8];b[0]=a*p+e*x+g*E;b[3]=a*t+e*A+g*B;b[6]=a*w+e*r+g*d;b[1]=h*p+k*x+l*E;b[4]=h*t+k*A+l*B;b[7]=h*w+k*r+l*d;b[2]=m*p+n*x+c*E;b[5]=m*t+n*A+c*B;b[8]=m*w+n*r+c*d;return this};
Da$$module$js$threejs$three_min.prototype.multiplyScalar=function(a){var b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this};Da$$module$js$threejs$three_min.prototype.determinant=function(){var a=this.elements,b=a[0],c=a[1],d=a[2],e=a[3],g=a[4],h=a[5],k=a[6],l=a[7];a=a[8];return b*g*a-b*h*l-c*e*a+c*h*k+d*e*l-d*g*k};
Da$$module$js$threejs$three_min.prototype.getInverse=function(a,b){void 0!==b&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var c=a.elements;a=this.elements;b=c[0];var d=c[1],e=c[2],g=c[3],h=c[4],k=c[5],l=c[6],m=c[7];c=c[8];var n=c*h-k*m,p=k*l-c*g,t=m*g-h*l,w=b*n+d*p+e*t;if(0===w)return this.set(0,0,0,0,0,0,0,0,0);w=1/w;a[0]=n*w;a[1]=(e*m-c*d)*w;a[2]=(k*d-e*h)*w;a[3]=p*w;a[4]=(c*b-e*l)*w;a[5]=(e*g-k*b)*w;a[6]=t*w;a[7]=(d*l-m*b)*w;a[8]=(h*b-d*g)*
w;return this};Da$$module$js$threejs$three_min.prototype.transpose=function(){var a=this.elements,b=a[1];a[1]=a[3];a[3]=b;b=a[2];a[2]=a[6];a[6]=b;b=a[5];a[5]=a[7];a[7]=b;return this};Da$$module$js$threejs$three_min.prototype.getNormalMatrix=function(a){return this.setFromMatrix4(a).getInverse(this).transpose()};Da$$module$js$threejs$three_min.prototype.transposeIntoArray=function(a){var b=this.elements;a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this};
Da$$module$js$threejs$three_min.prototype.setUvTransform=function(a,b,c,d,e,g,h){var k=Math.cos(e);e=Math.sin(e);this.set(c*k,c*e,-c*(k*g+e*h)+g+a,-d*e,d*k,-d*(-e*g+k*h)+h+b,0,0,1)};Da$$module$js$threejs$three_min.prototype.scale=function(a,b){var c=this.elements;c[0]*=a;c[3]*=a;c[6]*=a;c[1]*=b;c[4]*=b;c[7]*=b;return this};
Da$$module$js$threejs$three_min.prototype.rotate=function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.elements,d=c[0],e=c[3],g=c[6],h=c[1],k=c[4],l=c[7];c[0]=b*d+a*h;c[3]=b*e+a*k;c[6]=b*g+a*l;c[1]=-a*d+b*h;c[4]=-a*e+b*k;c[7]=-a*g+b*l;return this};Da$$module$js$threejs$three_min.prototype.translate=function(a,b){var c=this.elements;c[0]+=a*c[2];c[3]+=a*c[5];c[6]+=a*c[8];c[1]+=b*c[2];c[4]+=b*c[5];c[7]+=b*c[8];return this};
Da$$module$js$threejs$three_min.prototype.equals=function(a){var b=this.elements;a=a.elements;for(var c=0;9>c;c++)if(b[c]!==a[c])return!1;return!0};Da$$module$js$threejs$three_min.prototype.fromArray=function(a,b){void 0===b&&(b=0);for(var c=0;9>c;c++)this.elements[c]=a[c+b];return this};
Da$$module$js$threejs$three_min.prototype.toArray=function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a};
var oe$$module$js$threejs$three_min,Sc$$module$js$threejs$three_min={getDataURL:function(a){if(/^data:/i.test(a.src)||"undefined"==typeof HTMLCanvasElement)return a.src;if(!(a instanceof HTMLCanvasElement)){void 0===oe$$module$js$threejs$three_min&&(oe$$module$js$threejs$three_min=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"));oe$$module$js$threejs$three_min.width=a.width;oe$$module$js$threejs$three_min.height=a.height;var b=oe$$module$js$threejs$three_min.getContext("2d");a instanceof
ImageData?b.putImageData(a,0,0):b.drawImage(a,0,0,a.width,a.height);a=oe$$module$js$threejs$three_min}return 2048<a.width||2048<a.height?a.toDataURL("image/jpeg",.6):a.toDataURL("image/png")}},hk$$module$js$threejs$three_min=0;Oa$$module$js$threejs$three_min.DEFAULT_IMAGE=void 0;Oa$$module$js$threejs$three_min.DEFAULT_MAPPING=300;
Oa$$module$js$threejs$three_min.prototype=Object.assign(Object.create(wb$$module$js$threejs$three_min.prototype),{constructor:Oa$$module$js$threejs$three_min,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=a.name;this.image=a.image;this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;this.wrapS=a.wrapS;
this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.internalFormat=a.internalFormat;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.center.copy(a.center);this.rotation=a.rotation;this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrix.copy(a.matrix);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;this.encoding=
a.encoding;return this},toJSON:function(a){var b=void 0===a||"string"===typeof a;if(!b&&void 0!==a.textures[this.uuid])return a.textures[this.uuid];var c={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,
magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var d=this.image;void 0===d.uuid&&(d.uuid=xa$$module$js$threejs$three_min.generateUUID());if(!b&&void 0===a.images[d.uuid]){if(Array.isArray(d))for(var e=[],g=0,h=d.length;g<h;g++)e.push(Sc$$module$js$threejs$three_min.getDataURL(d[g]));else e=Sc$$module$js$threejs$three_min.getDataURL(d);a.images[d.uuid]={uuid:d.uuid,url:e}}c.image=
d.uuid}b||(a.textures[this.uuid]=c);return c},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(a){if(300!==this.mapping)return a;a.applyMatrix3(this.matrix);if(0>a.x||1<a.x)switch(this.wrapS){case 1E3:a.x-=Math.floor(a.x);break;case 1001:a.x=0>a.x?0:1;break;case 1002:a.x=1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapT){case 1E3:a.y-=Math.floor(a.y);break;case 1001:a.y=0>a.y?0:1;break;case 1002:a.y=1===Math.abs(Math.floor(a.y)%
2)?Math.ceil(a.y)-a.y:a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y);return a}});Object.defineProperty(Oa$$module$js$threejs$three_min.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});var ca$$module$js$threejs$three_min=function(a,b,c,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===d&&(d=1);Object.defineProperty(this,"isVector4",{value:!0});this.x=a;this.y=b;this.z=c;this.w=d},Bf$$module$js$threejs$three_min={width:{configurable:!0},height:{configurable:!0}};
Bf$$module$js$threejs$three_min.width.get=function(){return this.z};Bf$$module$js$threejs$three_min.width.set=function(a){this.z=a};Bf$$module$js$threejs$three_min.height.get=function(){return this.w};Bf$$module$js$threejs$three_min.height.set=function(a){this.w=a};ca$$module$js$threejs$three_min.prototype.set=function(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this};ca$$module$js$threejs$three_min.prototype.setScalar=function(a){this.w=this.z=this.y=this.x=a;return this};
ca$$module$js$threejs$three_min.prototype.setX=function(a){this.x=a;return this};ca$$module$js$threejs$three_min.prototype.setY=function(a){this.y=a;return this};ca$$module$js$threejs$three_min.prototype.setZ=function(a){this.z=a;return this};ca$$module$js$threejs$three_min.prototype.setW=function(a){this.w=a;return this};
ca$$module$js$threejs$three_min.prototype.setComponent=function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error("index is out of range: "+a);}return this};ca$$module$js$threejs$three_min.prototype.getComponent=function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}};
ca$$module$js$threejs$three_min.prototype.clone=function(){return new this.constructor(this.x,this.y,this.z,this.w)};ca$$module$js$threejs$three_min.prototype.copy=function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this};ca$$module$js$threejs$three_min.prototype.add=function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this};
ca$$module$js$threejs$three_min.prototype.addScalar=function(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this};ca$$module$js$threejs$three_min.prototype.addVectors=function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this};ca$$module$js$threejs$three_min.prototype.addScaledVector=function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;this.w+=a.w*b;return this};
ca$$module$js$threejs$three_min.prototype.sub=function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this};ca$$module$js$threejs$three_min.prototype.subScalar=function(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this};
ca$$module$js$threejs$three_min.prototype.subVectors=function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this};ca$$module$js$threejs$three_min.prototype.multiplyScalar=function(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this};
ca$$module$js$threejs$three_min.prototype.applyMatrix4=function(a){var b=this.x,c=this.y,d=this.z,e=this.w;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12]*e;this.y=a[1]*b+a[5]*c+a[9]*d+a[13]*e;this.z=a[2]*b+a[6]*c+a[10]*d+a[14]*e;this.w=a[3]*b+a[7]*c+a[11]*d+a[15]*e;return this};ca$$module$js$threejs$three_min.prototype.divideScalar=function(a){return this.multiplyScalar(1/a)};
ca$$module$js$threejs$three_min.prototype.setAxisAngleFromQuaternion=function(a){this.w=2*Math.acos(a.w);var b=Math.sqrt(1-a.w*a.w);1E-4>b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this};
ca$$module$js$threejs$three_min.prototype.setAxisAngleFromRotationMatrix=function(a){a=a.elements;var b=a[0],c=a[4],d=a[8],e=a[1],g=a[5],h=a[9],k=a[2],l=a[6],m=a[10];if(.01>Math.abs(c-e)&&.01>Math.abs(d-k)&&.01>Math.abs(h-l)){if(.1>Math.abs(c+e)&&.1>Math.abs(d+k)&&.1>Math.abs(h+l)&&.1>Math.abs(b+g+m-3))return this.set(1,0,0,0),this;a=Math.PI;b=(b+1)/2;g=(g+1)/2;m=(m+1)/2;c=(c+e)/4;d=(d+k)/4;h=(h+l)/4;b>g&&b>m?.01>b?(l=0,c=k=.707106781):(l=Math.sqrt(b),k=c/l,c=d/l):g>m?.01>g?(l=.707106781,k=0,c=.707106781):
(k=Math.sqrt(g),l=c/k,c=h/k):.01>m?(k=l=.707106781,c=0):(c=Math.sqrt(m),l=d/c,k=h/c);this.set(l,k,c,a);return this}a=Math.sqrt((l-h)*(l-h)+(d-k)*(d-k)+(e-c)*(e-c));.001>Math.abs(a)&&(a=1);this.x=(l-h)/a;this.y=(d-k)/a;this.z=(e-c)/a;this.w=Math.acos((b+g+m-1)/2);return this};ca$$module$js$threejs$three_min.prototype.min=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);this.w=Math.min(this.w,a.w);return this};
ca$$module$js$threejs$three_min.prototype.max=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this};ca$$module$js$threejs$three_min.prototype.clamp=function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));this.w=Math.max(a.w,Math.min(b.w,this.w));return this};
ca$$module$js$threejs$three_min.prototype.clampScalar=function(a,b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));this.z=Math.max(a,Math.min(b,this.z));this.w=Math.max(a,Math.min(b,this.w));return this};ca$$module$js$threejs$three_min.prototype.clampLength=function(a,b){var c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))};
ca$$module$js$threejs$three_min.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this};ca$$module$js$threejs$three_min.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this};
ca$$module$js$threejs$three_min.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this};ca$$module$js$threejs$three_min.prototype.roundToZero=function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this};
ca$$module$js$threejs$three_min.prototype.negate=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this};ca$$module$js$threejs$three_min.prototype.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w};ca$$module$js$threejs$three_min.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w};ca$$module$js$threejs$three_min.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)};
ca$$module$js$threejs$three_min.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)};ca$$module$js$threejs$three_min.prototype.normalize=function(){return this.divideScalar(this.length()||1)};ca$$module$js$threejs$three_min.prototype.setLength=function(a){return this.normalize().multiplyScalar(a)};
ca$$module$js$threejs$three_min.prototype.lerp=function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this};ca$$module$js$threejs$three_min.prototype.lerpVectors=function(a,b,c){this.x=a.x+(b.x-a.x)*c;this.y=a.y+(b.y-a.y)*c;this.z=a.z+(b.z-a.z)*c;this.w=a.w+(b.w-a.w)*c;return this};ca$$module$js$threejs$three_min.prototype.equals=function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w};
ca$$module$js$threejs$three_min.prototype.fromArray=function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this};ca$$module$js$threejs$three_min.prototype.toArray=function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a};
ca$$module$js$threejs$three_min.prototype.fromBufferAttribute=function(a,b,c){void 0!==c&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);this.w=a.getW(b);return this};ca$$module$js$threejs$three_min.prototype.random=function(){this.x=Math.random();this.y=Math.random();this.z=Math.random();this.w=Math.random();return this};Object.defineProperties(ca$$module$js$threejs$three_min.prototype,Bf$$module$js$threejs$three_min);
Db$$module$js$threejs$three_min.prototype=Object.assign(Object.create(wb$$module$js$threejs$three_min.prototype),{constructor:Db$$module$js$threejs$three_min,isWebGLRenderTarget:!0,setSize:function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.texture.image.width=a,this.texture.image.height=b,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.width=a.width;this.height=a.height;
this.viewport.copy(a.viewport);this.texture=a.texture.clone();this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;this.depthTexture=a.depthTexture;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
dh$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Db$$module$js$threejs$three_min.prototype),{constructor:dh$$module$js$threejs$three_min,isWebGLMultisampleRenderTarget:!0,copy:function(a){Db$$module$js$threejs$three_min.prototype.copy.call(this,a);this.samples=a.samples;return this}});
var ua$$module$js$threejs$three_min=function(a,b,c,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===d&&(d=1);Object.defineProperty(this,"isQuaternion",{value:!0});this._x=a;this._y=b;this._z=c;this._w=d},rc$$module$js$threejs$three_min={x:{configurable:!0},y:{configurable:!0},z:{configurable:!0},w:{configurable:!0}};ua$$module$js$threejs$three_min.slerp=function(a,b,c,d){return c.copy(a).slerp(b,d)};
ua$$module$js$threejs$three_min.slerpFlat=function(a,b,c,d,e,g,h){var k=c[d+0],l=c[d+1],m=c[d+2];c=c[d+3];d=e[g+0];var n=e[g+1],p=e[g+2];e=e[g+3];if(c!==e||k!==d||l!==n||m!==p){g=1-h;var t=k*d+l*n+m*p+c*e,w=0<=t?1:-1,x=1-t*t;x>Number.EPSILON&&(x=Math.sqrt(x),t=Math.atan2(x,t*w),g=Math.sin(g*t)/x,h=Math.sin(h*t)/x);w*=h;k=k*g+d*w;l=l*g+n*w;m=m*g+p*w;c=c*g+e*w;g===1-h&&(h=1/Math.sqrt(k*k+l*l+m*m+c*c),k*=h,l*=h,m*=h,c*=h)}a[b]=k;a[b+1]=l;a[b+2]=m;a[b+3]=c};
ua$$module$js$threejs$three_min.multiplyQuaternionsFlat=function(a,b,c,d,e,g){var h=c[d],k=c[d+1],l=c[d+2];c=c[d+3];d=e[g];var m=e[g+1],n=e[g+2];e=e[g+3];a[b]=h*e+c*d+k*n-l*m;a[b+1]=k*e+c*m+l*d-h*n;a[b+2]=l*e+c*n+h*m-k*d;a[b+3]=c*e-h*d-k*m-l*n;return a};rc$$module$js$threejs$three_min.x.get=function(){return this._x};rc$$module$js$threejs$three_min.x.set=function(a){this._x=a;this._onChangeCallback()};rc$$module$js$threejs$three_min.y.get=function(){return this._y};
rc$$module$js$threejs$three_min.y.set=function(a){this._y=a;this._onChangeCallback()};rc$$module$js$threejs$three_min.z.get=function(){return this._z};rc$$module$js$threejs$three_min.z.set=function(a){this._z=a;this._onChangeCallback()};rc$$module$js$threejs$three_min.w.get=function(){return this._w};rc$$module$js$threejs$three_min.w.set=function(a){this._w=a;this._onChangeCallback()};
ua$$module$js$threejs$three_min.prototype.set=function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._w=d;this._onChangeCallback();return this};ua$$module$js$threejs$three_min.prototype.clone=function(){return new this.constructor(this._x,this._y,this._z,this._w)};ua$$module$js$threejs$three_min.prototype.copy=function(a){this._x=a.x;this._y=a.y;this._z=a.z;this._w=a.w;this._onChangeCallback();return this};
ua$$module$js$threejs$three_min.prototype.setFromEuler=function(a,b){if(!a||!a.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var c=a._x,d=a._y,e=a._z;a=a._order;var g=Math.cos,h=Math.sin,k=g(c/2),l=g(d/2);g=g(e/2);c=h(c/2);d=h(d/2);e=h(e/2);switch(a){case "XYZ":this._x=c*l*g+k*d*e;this._y=k*d*g-c*l*e;this._z=k*l*e+c*d*g;this._w=k*l*g-c*d*e;break;case "YXZ":this._x=c*l*g+k*d*e;this._y=k*d*g-c*l*e;this._z=k*l*e-c*d*g;this._w=
k*l*g+c*d*e;break;case "ZXY":this._x=c*l*g-k*d*e;this._y=k*d*g+c*l*e;this._z=k*l*e+c*d*g;this._w=k*l*g-c*d*e;break;case "ZYX":this._x=c*l*g-k*d*e;this._y=k*d*g+c*l*e;this._z=k*l*e-c*d*g;this._w=k*l*g+c*d*e;break;case "YZX":this._x=c*l*g+k*d*e;this._y=k*d*g+c*l*e;this._z=k*l*e-c*d*g;this._w=k*l*g-c*d*e;break;case "XZY":this._x=c*l*g-k*d*e;this._y=k*d*g-c*l*e;this._z=k*l*e+c*d*g;this._w=k*l*g+c*d*e;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}!1!==
b&&this._onChangeCallback();return this};ua$$module$js$threejs$three_min.prototype.setFromAxisAngle=function(a,b){b/=2;var c=Math.sin(b);this._x=a.x*c;this._y=a.y*c;this._z=a.z*c;this._w=Math.cos(b);this._onChangeCallback();return this};
ua$$module$js$threejs$three_min.prototype.setFromRotationMatrix=function(a){var b=a.elements,c=b[0];a=b[4];var d=b[8],e=b[1],g=b[5],h=b[9],k=b[2],l=b[6];b=b[10];var m=c+g+b;0<m?(c=.5/Math.sqrt(m+1),this._w=.25/c,this._x=(l-h)*c,this._y=(d-k)*c,this._z=(e-a)*c):c>g&&c>b?(c=2*Math.sqrt(1+c-g-b),this._w=(l-h)/c,this._x=.25*c,this._y=(a+e)/c,this._z=(d+k)/c):g>b?(c=2*Math.sqrt(1+g-c-b),this._w=(d-k)/c,this._x=(a+e)/c,this._y=.25*c,this._z=(h+l)/c):(c=2*Math.sqrt(1+b-c-g),this._w=(e-a)/c,this._x=(d+k)/
c,this._y=(h+l)/c,this._z=.25*c);this._onChangeCallback();return this};ua$$module$js$threejs$three_min.prototype.setFromUnitVectors=function(a,b){var c=a.dot(b)+1;1E-6>c?(c=0,Math.abs(a.x)>Math.abs(a.z)?(this._x=-a.y,this._y=a.x,this._z=0):(this._x=0,this._y=-a.z,this._z=a.y)):(this._x=a.y*b.z-a.z*b.y,this._y=a.z*b.x-a.x*b.z,this._z=a.x*b.y-a.y*b.x);this._w=c;return this.normalize()};
ua$$module$js$threejs$three_min.prototype.angleTo=function(a){return 2*Math.acos(Math.abs(xa$$module$js$threejs$three_min.clamp(this.dot(a),-1,1)))};ua$$module$js$threejs$three_min.prototype.rotateTowards=function(a,b){var c=this.angleTo(a);if(0===c)return this;this.slerp(a,Math.min(1,b/c));return this};ua$$module$js$threejs$three_min.prototype.identity=function(){return this.set(0,0,0,1)};ua$$module$js$threejs$three_min.prototype.inverse=function(){return this.conjugate()};
ua$$module$js$threejs$three_min.prototype.conjugate=function(){this._x*=-1;this._y*=-1;this._z*=-1;this._onChangeCallback();return this};ua$$module$js$threejs$three_min.prototype.dot=function(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w};ua$$module$js$threejs$three_min.prototype.lengthSq=function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w};
ua$$module$js$threejs$three_min.prototype.length=function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)};ua$$module$js$threejs$three_min.prototype.normalize=function(){var a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this._onChangeCallback();return this};
ua$$module$js$threejs$three_min.prototype.multiply=function(a,b){return void 0!==b?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(a,b)):this.multiplyQuaternions(this,a)};ua$$module$js$threejs$three_min.prototype.premultiply=function(a){return this.multiplyQuaternions(a,this)};
ua$$module$js$threejs$three_min.prototype.multiplyQuaternions=function(a,b){var c=a._x,d=a._y,e=a._z;a=a._w;var g=b._x,h=b._y,k=b._z;b=b._w;this._x=c*b+a*g+d*k-e*h;this._y=d*b+a*h+e*g-c*k;this._z=e*b+a*k+c*h-d*g;this._w=a*b-c*g-d*h-e*k;this._onChangeCallback();return this};
ua$$module$js$threejs$three_min.prototype.slerp=function(a,b){if(0===b)return this;if(1===b)return this.copy(a);var c=this._x,d=this._y,e=this._z,g=this._w,h=g*a._w+c*a._x+d*a._y+e*a._z;0>h?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,h=-h):this.copy(a);if(1<=h)return this._w=g,this._x=c,this._y=d,this._z=e,this;a=1-h*h;if(a<=Number.EPSILON)return h=1-b,this._w=h*g+b*this._w,this._x=h*c+b*this._x,this._y=h*d+b*this._y,this._z=h*e+b*this._z,this.normalize(),this._onChangeCallback(),this;
a=Math.sqrt(a);var k=Math.atan2(a,h);h=Math.sin((1-b)*k)/a;b=Math.sin(b*k)/a;this._w=g*h+this._w*b;this._x=c*h+this._x*b;this._y=d*h+this._y*b;this._z=e*h+this._z*b;this._onChangeCallback();return this};ua$$module$js$threejs$three_min.prototype.equals=function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w};
ua$$module$js$threejs$three_min.prototype.fromArray=function(a,b){void 0===b&&(b=0);this._x=a[b];this._y=a[b+1];this._z=a[b+2];this._w=a[b+3];this._onChangeCallback();return this};ua$$module$js$threejs$three_min.prototype.toArray=function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._w;return a};ua$$module$js$threejs$three_min.prototype.fromBufferAttribute=function(a,b){this._x=a.getX(b);this._y=a.getY(b);this._z=a.getZ(b);this._w=a.getW(b);return this};
ua$$module$js$threejs$three_min.prototype._onChange=function(a){this._onChangeCallback=a;return this};ua$$module$js$threejs$three_min.prototype._onChangeCallback=function(){};Object.defineProperties(ua$$module$js$threejs$three_min.prototype,rc$$module$js$threejs$three_min);var w$$module$js$threejs$three_min=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);Object.defineProperty(this,"isVector3",{value:!0});this.x=a;this.y=b;this.z=c};
w$$module$js$threejs$three_min.prototype.set=function(a,b,c){void 0===c&&(c=this.z);this.x=a;this.y=b;this.z=c;return this};w$$module$js$threejs$three_min.prototype.setScalar=function(a){this.z=this.y=this.x=a;return this};w$$module$js$threejs$three_min.prototype.setX=function(a){this.x=a;return this};w$$module$js$threejs$three_min.prototype.setY=function(a){this.y=a;return this};w$$module$js$threejs$three_min.prototype.setZ=function(a){this.z=a;return this};
w$$module$js$threejs$three_min.prototype.setComponent=function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}return this};w$$module$js$threejs$three_min.prototype.getComponent=function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+a);}};w$$module$js$threejs$three_min.prototype.clone=function(){return new this.constructor(this.x,this.y,this.z)};
w$$module$js$threejs$three_min.prototype.copy=function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this};w$$module$js$threejs$three_min.prototype.add=function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this};w$$module$js$threejs$three_min.prototype.addScalar=function(a){this.x+=a;this.y+=a;this.z+=a;return this};
w$$module$js$threejs$three_min.prototype.addVectors=function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this};w$$module$js$threejs$three_min.prototype.addScaledVector=function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this};w$$module$js$threejs$three_min.prototype.sub=function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this};
w$$module$js$threejs$three_min.prototype.subScalar=function(a){this.x-=a;this.y-=a;this.z-=a;return this};w$$module$js$threejs$three_min.prototype.subVectors=function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this};w$$module$js$threejs$three_min.prototype.multiply=function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(a,b);this.x*=a.x;this.y*=a.y;this.z*=a.z;return this};
w$$module$js$threejs$three_min.prototype.multiplyScalar=function(a){this.x*=a;this.y*=a;this.z*=a;return this};w$$module$js$threejs$three_min.prototype.multiplyVectors=function(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this};w$$module$js$threejs$three_min.prototype.applyEuler=function(a){a&&a.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");return this.applyQuaternion(vj$$module$js$threejs$three_min.setFromEuler(a))};
w$$module$js$threejs$three_min.prototype.applyAxisAngle=function(a,b){return this.applyQuaternion(vj$$module$js$threejs$three_min.setFromAxisAngle(a,b))};w$$module$js$threejs$three_min.prototype.applyMatrix3=function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[3]*c+a[6]*d;this.y=a[1]*b+a[4]*c+a[7]*d;this.z=a[2]*b+a[5]*c+a[8]*d;return this};w$$module$js$threejs$three_min.prototype.applyNormalMatrix=function(a){return this.applyMatrix3(a).normalize()};
w$$module$js$threejs$three_min.prototype.applyMatrix4=function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;var e=1/(a[3]*b+a[7]*c+a[11]*d+a[15]);this.x=(a[0]*b+a[4]*c+a[8]*d+a[12])*e;this.y=(a[1]*b+a[5]*c+a[9]*d+a[13])*e;this.z=(a[2]*b+a[6]*c+a[10]*d+a[14])*e;return this};
w$$module$js$threejs$three_min.prototype.applyQuaternion=function(a){var b=this.x,c=this.y,d=this.z,e=a.x,g=a.y,h=a.z;a=a.w;var k=a*b+g*d-h*c,l=a*c+h*b-e*d,m=a*d+e*c-g*b;b=-e*b-g*c-h*d;this.x=k*a+b*-e+l*-h-m*-g;this.y=l*a+b*-g+m*-e-k*-h;this.z=m*a+b*-h+k*-g-l*-e;return this};w$$module$js$threejs$three_min.prototype.project=function(a){return this.applyMatrix4(a.matrixWorldInverse).applyMatrix4(a.projectionMatrix)};w$$module$js$threejs$three_min.prototype.unproject=function(a){return this.applyMatrix4(a.projectionMatrixInverse).applyMatrix4(a.matrixWorld)};
w$$module$js$threejs$three_min.prototype.transformDirection=function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d;this.y=a[1]*b+a[5]*c+a[9]*d;this.z=a[2]*b+a[6]*c+a[10]*d;return this.normalize()};w$$module$js$threejs$three_min.prototype.divide=function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this};w$$module$js$threejs$three_min.prototype.divideScalar=function(a){return this.multiplyScalar(1/a)};
w$$module$js$threejs$three_min.prototype.min=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this};w$$module$js$threejs$three_min.prototype.max=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this};w$$module$js$threejs$three_min.prototype.clamp=function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this};
w$$module$js$threejs$three_min.prototype.clampScalar=function(a,b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));this.z=Math.max(a,Math.min(b,this.z));return this};w$$module$js$threejs$three_min.prototype.clampLength=function(a,b){var c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))};w$$module$js$threejs$three_min.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this};
w$$module$js$threejs$three_min.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this};w$$module$js$threejs$three_min.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this};
w$$module$js$threejs$three_min.prototype.roundToZero=function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this};w$$module$js$threejs$three_min.prototype.negate=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this};w$$module$js$threejs$three_min.prototype.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};
w$$module$js$threejs$three_min.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z};w$$module$js$threejs$three_min.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};w$$module$js$threejs$three_min.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)};w$$module$js$threejs$three_min.prototype.normalize=function(){return this.divideScalar(this.length()||1)};
w$$module$js$threejs$three_min.prototype.setLength=function(a){return this.normalize().multiplyScalar(a)};w$$module$js$threejs$three_min.prototype.lerp=function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this};w$$module$js$threejs$three_min.prototype.lerpVectors=function(a,b,c){this.x=a.x+(b.x-a.x)*c;this.y=a.y+(b.y-a.y)*c;this.z=a.z+(b.z-a.z)*c;return this};
w$$module$js$threejs$three_min.prototype.cross=function(a,b){return void 0!==b?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(a,b)):this.crossVectors(this,a)};w$$module$js$threejs$three_min.prototype.crossVectors=function(a,b){var c=a.x,d=a.y;a=a.z;var e=b.x,g=b.y;b=b.z;this.x=d*b-a*g;this.y=a*e-c*b;this.z=c*g-d*e;return this};
w$$module$js$threejs$three_min.prototype.projectOnVector=function(a){var b=a.lengthSq();if(0===b)return this.set(0,0,0);b=a.dot(this)/b;return this.copy(a).multiplyScalar(b)};w$$module$js$threejs$three_min.prototype.projectOnPlane=function(a){Yh$$module$js$threejs$three_min.copy(this).projectOnVector(a);return this.sub(Yh$$module$js$threejs$three_min)};w$$module$js$threejs$three_min.prototype.reflect=function(a){return this.sub(Yh$$module$js$threejs$three_min.copy(a).multiplyScalar(2*this.dot(a)))};
w$$module$js$threejs$three_min.prototype.angleTo=function(a){var b=Math.sqrt(this.lengthSq()*a.lengthSq());if(0===b)return Math.PI/2;a=this.dot(a)/b;return Math.acos(xa$$module$js$threejs$three_min.clamp(a,-1,1))};w$$module$js$threejs$three_min.prototype.distanceTo=function(a){return Math.sqrt(this.distanceToSquared(a))};w$$module$js$threejs$three_min.prototype.distanceToSquared=function(a){var b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a};
w$$module$js$threejs$three_min.prototype.manhattanDistanceTo=function(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)+Math.abs(this.z-a.z)};w$$module$js$threejs$three_min.prototype.setFromSpherical=function(a){return this.setFromSphericalCoords(a.radius,a.phi,a.theta)};w$$module$js$threejs$three_min.prototype.setFromSphericalCoords=function(a,b,c){var d=Math.sin(b)*a;this.x=d*Math.sin(c);this.y=Math.cos(b)*a;this.z=d*Math.cos(c);return this};
w$$module$js$threejs$three_min.prototype.setFromCylindrical=function(a){return this.setFromCylindricalCoords(a.radius,a.theta,a.y)};w$$module$js$threejs$three_min.prototype.setFromCylindricalCoords=function(a,b,c){this.x=a*Math.sin(b);this.y=c;this.z=a*Math.cos(b);return this};w$$module$js$threejs$three_min.prototype.setFromMatrixPosition=function(a){a=a.elements;this.x=a[12];this.y=a[13];this.z=a[14];return this};
w$$module$js$threejs$three_min.prototype.setFromMatrixScale=function(a){var b=this.setFromMatrixColumn(a,0).length(),c=this.setFromMatrixColumn(a,1).length();a=this.setFromMatrixColumn(a,2).length();this.x=b;this.y=c;this.z=a;return this};w$$module$js$threejs$three_min.prototype.setFromMatrixColumn=function(a,b){return this.fromArray(a.elements,4*b)};w$$module$js$threejs$three_min.prototype.setFromMatrix3Column=function(a,b){return this.fromArray(a.elements,3*b)};
w$$module$js$threejs$three_min.prototype.equals=function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z};w$$module$js$threejs$three_min.prototype.fromArray=function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this};w$$module$js$threejs$three_min.prototype.toArray=function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a};
w$$module$js$threejs$three_min.prototype.fromBufferAttribute=function(a,b,c){void 0!==c&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);return this};w$$module$js$threejs$three_min.prototype.random=function(){this.x=Math.random();this.y=Math.random();this.z=Math.random();return this};
var Yh$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,vj$$module$js$threejs$three_min=new ua$$module$js$threejs$three_min,za$$module$js$threejs$three_min=function(a,b){Object.defineProperty(this,"isBox3",{value:!0});this.min=void 0!==a?a:new w$$module$js$threejs$three_min(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new w$$module$js$threejs$three_min(-Infinity,-Infinity,-Infinity)};
za$$module$js$threejs$three_min.prototype.set=function(a,b){this.min.copy(a);this.max.copy(b);return this};za$$module$js$threejs$three_min.prototype.setFromArray=function(a){for(var b=Infinity,c=Infinity,d=Infinity,e=-Infinity,g=-Infinity,h=-Infinity,k=0,l=a.length;k<l;k+=3){var m=a[k],n=a[k+1],p=a[k+2];m<b&&(b=m);n<c&&(c=n);p<d&&(d=p);m>e&&(e=m);n>g&&(g=n);p>h&&(h=p)}this.min.set(b,c,d);this.max.set(e,g,h);return this};
za$$module$js$threejs$three_min.prototype.setFromBufferAttribute=function(a){for(var b=Infinity,c=Infinity,d=Infinity,e=-Infinity,g=-Infinity,h=-Infinity,k=0,l=a.count;k<l;k++){var m=a.getX(k),n=a.getY(k),p=a.getZ(k);m<b&&(b=m);n<c&&(c=n);p<d&&(d=p);m>e&&(e=m);n>g&&(g=n);p>h&&(h=p)}this.min.set(b,c,d);this.max.set(e,g,h);return this};za$$module$js$threejs$three_min.prototype.setFromPoints=function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this};
za$$module$js$threejs$three_min.prototype.setFromCenterAndSize=function(a,b){b=Cf$$module$js$threejs$three_min.copy(b).multiplyScalar(.5);this.min.copy(a).sub(b);this.max.copy(a).add(b);return this};za$$module$js$threejs$three_min.prototype.setFromObject=function(a){this.makeEmpty();return this.expandByObject(a)};za$$module$js$threejs$three_min.prototype.clone=function(){return(new this.constructor).copy(this)};
za$$module$js$threejs$three_min.prototype.copy=function(a){this.min.copy(a.min);this.max.copy(a.max);return this};za$$module$js$threejs$three_min.prototype.makeEmpty=function(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this};za$$module$js$threejs$three_min.prototype.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z};
za$$module$js$threejs$three_min.prototype.getCenter=function(a){void 0===a&&(console.warn("THREE.Box3: .getCenter() target is now required"),a=new w$$module$js$threejs$three_min);return this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)};za$$module$js$threejs$three_min.prototype.getSize=function(a){void 0===a&&(console.warn("THREE.Box3: .getSize() target is now required"),a=new w$$module$js$threejs$three_min);return this.isEmpty()?a.set(0,0,0):a.subVectors(this.max,this.min)};
za$$module$js$threejs$three_min.prototype.expandByPoint=function(a){this.min.min(a);this.max.max(a);return this};za$$module$js$threejs$three_min.prototype.expandByVector=function(a){this.min.sub(a);this.max.add(a);return this};za$$module$js$threejs$three_min.prototype.expandByScalar=function(a){this.min.addScalar(-a);this.max.addScalar(a);return this};
za$$module$js$threejs$three_min.prototype.expandByObject=function(a){a.updateWorldMatrix(!1,!1);var b=a.geometry;void 0!==b&&(null===b.boundingBox&&b.computeBoundingBox(),Zh$$module$js$threejs$three_min.copy(b.boundingBox),Zh$$module$js$threejs$three_min.applyMatrix4(a.matrixWorld),this.union(Zh$$module$js$threejs$three_min));a=a.children;b=0;for(var c=a.length;b<c;b++)this.expandByObject(a[b]);return this};
za$$module$js$threejs$three_min.prototype.containsPoint=function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0};za$$module$js$threejs$three_min.prototype.containsBox=function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z};
za$$module$js$threejs$three_min.prototype.getParameter=function(a,b){void 0===b&&(console.warn("THREE.Box3: .getParameter() target is now required"),b=new w$$module$js$threejs$three_min);return b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))};
za$$module$js$threejs$three_min.prototype.intersectsBox=function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0};za$$module$js$threejs$three_min.prototype.intersectsSphere=function(a){this.clampPoint(a.center,Cf$$module$js$threejs$three_min);return Cf$$module$js$threejs$three_min.distanceToSquared(a.center)<=a.radius*a.radius};
za$$module$js$threejs$three_min.prototype.intersectsPlane=function(a){if(0<a.normal.x)var b=a.normal.x*this.min.x,c=a.normal.x*this.max.x;else b=a.normal.x*this.max.x,c=a.normal.x*this.min.x;0<a.normal.y?(b+=a.normal.y*this.min.y,c+=a.normal.y*this.max.y):(b+=a.normal.y*this.max.y,c+=a.normal.y*this.min.y);0<a.normal.z?(b+=a.normal.z*this.min.z,c+=a.normal.z*this.max.z):(b+=a.normal.z*this.max.z,c+=a.normal.z*this.min.z);return b<=-a.constant&&c>=-a.constant};
za$$module$js$threejs$three_min.prototype.intersectsTriangle=function(a){if(this.isEmpty())return!1;this.getCenter(Df$$module$js$threejs$three_min);Cg$$module$js$threejs$three_min.subVectors(this.max,Df$$module$js$threejs$three_min);pe$$module$js$threejs$three_min.subVectors(a.a,Df$$module$js$threejs$three_min);qe$$module$js$threejs$three_min.subVectors(a.b,Df$$module$js$threejs$three_min);re$$module$js$threejs$three_min.subVectors(a.c,Df$$module$js$threejs$three_min);Tc$$module$js$threejs$three_min.subVectors(qe$$module$js$threejs$three_min,
pe$$module$js$threejs$three_min);Uc$$module$js$threejs$three_min.subVectors(re$$module$js$threejs$three_min,qe$$module$js$threejs$three_min);sd$$module$js$threejs$three_min.subVectors(pe$$module$js$threejs$three_min,re$$module$js$threejs$three_min);a=[0,-Tc$$module$js$threejs$three_min.z,Tc$$module$js$threejs$three_min.y,0,-Uc$$module$js$threejs$three_min.z,Uc$$module$js$threejs$three_min.y,0,-sd$$module$js$threejs$three_min.z,sd$$module$js$threejs$three_min.y,Tc$$module$js$threejs$three_min.z,0,
-Tc$$module$js$threejs$three_min.x,Uc$$module$js$threejs$three_min.z,0,-Uc$$module$js$threejs$three_min.x,sd$$module$js$threejs$three_min.z,0,-sd$$module$js$threejs$three_min.x,-Tc$$module$js$threejs$three_min.y,Tc$$module$js$threejs$three_min.x,0,-Uc$$module$js$threejs$three_min.y,Uc$$module$js$threejs$three_min.x,0,-sd$$module$js$threejs$three_min.y,sd$$module$js$threejs$three_min.x,0];if(!eh$$module$js$threejs$three_min(a,pe$$module$js$threejs$three_min,qe$$module$js$threejs$three_min,re$$module$js$threejs$three_min,
Cg$$module$js$threejs$three_min))return!1;a=[1,0,0,0,1,0,0,0,1];if(!eh$$module$js$threejs$three_min(a,pe$$module$js$threejs$three_min,qe$$module$js$threejs$three_min,re$$module$js$threejs$three_min,Cg$$module$js$threejs$three_min))return!1;Dg$$module$js$threejs$three_min.crossVectors(Tc$$module$js$threejs$three_min,Uc$$module$js$threejs$three_min);a=[Dg$$module$js$threejs$three_min.x,Dg$$module$js$threejs$three_min.y,Dg$$module$js$threejs$three_min.z];return eh$$module$js$threejs$three_min(a,pe$$module$js$threejs$three_min,
qe$$module$js$threejs$three_min,re$$module$js$threejs$three_min,Cg$$module$js$threejs$three_min)};za$$module$js$threejs$three_min.prototype.clampPoint=function(a,b){void 0===b&&(console.warn("THREE.Box3: .clampPoint() target is now required"),b=new w$$module$js$threejs$three_min);return b.copy(a).clamp(this.min,this.max)};za$$module$js$threejs$three_min.prototype.distanceToPoint=function(a){return Cf$$module$js$threejs$three_min.copy(a).clamp(this.min,this.max).sub(a).length()};
za$$module$js$threejs$three_min.prototype.getBoundingSphere=function(a){void 0===a&&console.error("THREE.Box3: .getBoundingSphere() target is now required");this.getCenter(a.center);a.radius=.5*this.getSize(Cf$$module$js$threejs$three_min).length();return a};za$$module$js$threejs$three_min.prototype.intersect=function(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this};
za$$module$js$threejs$three_min.prototype.union=function(a){this.min.min(a.min);this.max.max(a.max);return this};
za$$module$js$threejs$three_min.prototype.applyMatrix4=function(a){if(this.isEmpty())return this;sc$$module$js$threejs$three_min[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(a);sc$$module$js$threejs$three_min[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(a);sc$$module$js$threejs$three_min[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(a);sc$$module$js$threejs$three_min[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(a);sc$$module$js$threejs$three_min[4].set(this.max.x,
this.min.y,this.min.z).applyMatrix4(a);sc$$module$js$threejs$three_min[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(a);sc$$module$js$threejs$three_min[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(a);sc$$module$js$threejs$three_min[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(a);this.setFromPoints(sc$$module$js$threejs$three_min);return this};za$$module$js$threejs$three_min.prototype.translate=function(a){this.min.add(a);this.max.add(a);return this};
za$$module$js$threejs$three_min.prototype.equals=function(a){return a.min.equals(this.min)&&a.max.equals(this.max)};
var sc$$module$js$threejs$three_min=[new w$$module$js$threejs$three_min,new w$$module$js$threejs$three_min,new w$$module$js$threejs$three_min,new w$$module$js$threejs$three_min,new w$$module$js$threejs$three_min,new w$$module$js$threejs$three_min,new w$$module$js$threejs$three_min,new w$$module$js$threejs$three_min],Cf$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Zh$$module$js$threejs$three_min=new za$$module$js$threejs$three_min,pe$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,
qe$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,re$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Tc$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Uc$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,sd$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Df$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Cg$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Dg$$module$js$threejs$three_min=
new w$$module$js$threejs$three_min,Yc$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Ml$$module$js$threejs$three_min=new za$$module$js$threejs$three_min,Wa$$module$js$threejs$three_min=function(a,b){this.center=void 0!==a?a:new w$$module$js$threejs$three_min;this.radius=void 0!==b?b:-1};Wa$$module$js$threejs$three_min.prototype.set=function(a,b){this.center.copy(a);this.radius=b;return this};
Wa$$module$js$threejs$three_min.prototype.setFromPoints=function(a,b){var c=this.center;void 0!==b?c.copy(b):Ml$$module$js$threejs$three_min.setFromPoints(a).getCenter(c);for(var d=b=0,e=a.length;d<e;d++)b=Math.max(b,c.distanceToSquared(a[d]));this.radius=Math.sqrt(b);return this};Wa$$module$js$threejs$three_min.prototype.clone=function(){return(new this.constructor).copy(this)};Wa$$module$js$threejs$three_min.prototype.copy=function(a){this.center.copy(a.center);this.radius=a.radius;return this};
Wa$$module$js$threejs$three_min.prototype.isEmpty=function(){return 0>this.radius};Wa$$module$js$threejs$three_min.prototype.makeEmpty=function(){this.center.set(0,0,0);this.radius=-1;return this};Wa$$module$js$threejs$three_min.prototype.containsPoint=function(a){return a.distanceToSquared(this.center)<=this.radius*this.radius};Wa$$module$js$threejs$three_min.prototype.distanceToPoint=function(a){return a.distanceTo(this.center)-this.radius};
Wa$$module$js$threejs$three_min.prototype.intersectsSphere=function(a){var b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=b*b};Wa$$module$js$threejs$three_min.prototype.intersectsBox=function(a){return a.intersectsSphere(this)};Wa$$module$js$threejs$three_min.prototype.intersectsPlane=function(a){return Math.abs(a.distanceToPoint(this.center))<=this.radius};
Wa$$module$js$threejs$three_min.prototype.clampPoint=function(a,b){var c=this.center.distanceToSquared(a);void 0===b&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),b=new w$$module$js$threejs$three_min);b.copy(a);c>this.radius*this.radius&&(b.sub(this.center).normalize(),b.multiplyScalar(this.radius).add(this.center));return b};
Wa$$module$js$threejs$three_min.prototype.getBoundingBox=function(a){void 0===a&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),a=new za$$module$js$threejs$three_min);if(this.isEmpty())return a.makeEmpty(),a;a.set(this.center,this.center);a.expandByScalar(this.radius);return a};Wa$$module$js$threejs$three_min.prototype.applyMatrix4=function(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this};
Wa$$module$js$threejs$three_min.prototype.translate=function(a){this.center.add(a);return this};Wa$$module$js$threejs$three_min.prototype.equals=function(a){return a.center.equals(this.center)&&a.radius===this.radius};
var tc$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,$h$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Eg$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Vc$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,ai$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Fg$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,bi$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Ta$$module$js$threejs$three_min=
function(a,b){this.origin=void 0!==a?a:new w$$module$js$threejs$three_min;this.direction=void 0!==b?b:new w$$module$js$threejs$three_min(0,0,-1)};Ta$$module$js$threejs$three_min.prototype.set=function(a,b){this.origin.copy(a);this.direction.copy(b);return this};Ta$$module$js$threejs$three_min.prototype.clone=function(){return(new this.constructor).copy(this)};Ta$$module$js$threejs$three_min.prototype.copy=function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this};
Ta$$module$js$threejs$three_min.prototype.at=function(a,b){void 0===b&&(console.warn("THREE.Ray: .at() target is now required"),b=new w$$module$js$threejs$three_min);return b.copy(this.direction).multiplyScalar(a).add(this.origin)};Ta$$module$js$threejs$three_min.prototype.lookAt=function(a){this.direction.copy(a).sub(this.origin).normalize();return this};Ta$$module$js$threejs$three_min.prototype.recast=function(a){this.origin.copy(this.at(a,tc$$module$js$threejs$three_min));return this};
Ta$$module$js$threejs$three_min.prototype.closestPointToPoint=function(a,b){void 0===b&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),b=new w$$module$js$threejs$three_min);b.subVectors(a,this.origin);a=b.dot(this.direction);return 0>a?b.copy(this.origin):b.copy(this.direction).multiplyScalar(a).add(this.origin)};Ta$$module$js$threejs$three_min.prototype.distanceToPoint=function(a){return Math.sqrt(this.distanceSqToPoint(a))};
Ta$$module$js$threejs$three_min.prototype.distanceSqToPoint=function(a){var b=tc$$module$js$threejs$three_min.subVectors(a,this.origin).dot(this.direction);if(0>b)return this.origin.distanceToSquared(a);tc$$module$js$threejs$three_min.copy(this.direction).multiplyScalar(b).add(this.origin);return tc$$module$js$threejs$three_min.distanceToSquared(a)};
Ta$$module$js$threejs$three_min.prototype.distanceSqToSegment=function(a,b,c,d){$h$$module$js$threejs$three_min.copy(a).add(b).multiplyScalar(.5);Eg$$module$js$threejs$three_min.copy(b).sub(a).normalize();Vc$$module$js$threejs$three_min.copy(this.origin).sub($h$$module$js$threejs$three_min);var e=.5*a.distanceTo(b),g=-this.direction.dot(Eg$$module$js$threejs$three_min),h=Vc$$module$js$threejs$three_min.dot(this.direction),k=-Vc$$module$js$threejs$three_min.dot(Eg$$module$js$threejs$three_min),l=Vc$$module$js$threejs$three_min.lengthSq(),
m=Math.abs(1-g*g);if(0<m){a=g*k-h;b=g*h-k;var n=e*m;0<=a?b>=-n?b<=n?(e=1/m,a*=e,b*=e,g=a*(a+g*b+2*h)+b*(g*a+b+2*k)+l):(b=e,a=Math.max(0,-(g*b+h)),g=-a*a+b*(b+2*k)+l):(b=-e,a=Math.max(0,-(g*b+h)),g=-a*a+b*(b+2*k)+l):b<=-n?(a=Math.max(0,-(-g*e+h)),b=0<a?-e:Math.min(Math.max(-e,-k),e),g=-a*a+b*(b+2*k)+l):b<=n?(a=0,b=Math.min(Math.max(-e,-k),e),g=b*(b+2*k)+l):(a=Math.max(0,-(g*e+h)),b=0<a?e:Math.min(Math.max(-e,-k),e),g=-a*a+b*(b+2*k)+l)}else b=0<g?-e:e,a=Math.max(0,-(g*b+h)),g=-a*a+b*(b+2*k)+l;c&&c.copy(this.direction).multiplyScalar(a).add(this.origin);
d&&d.copy(Eg$$module$js$threejs$three_min).multiplyScalar(b).add($h$$module$js$threejs$three_min);return g};Ta$$module$js$threejs$three_min.prototype.intersectSphere=function(a,b){tc$$module$js$threejs$three_min.subVectors(a.center,this.origin);var c=tc$$module$js$threejs$three_min.dot(this.direction),d=tc$$module$js$threejs$three_min.dot(tc$$module$js$threejs$three_min)-c*c;a=a.radius*a.radius;if(d>a)return null;a=Math.sqrt(a-d);d=c-a;c+=a;return 0>d&&0>c?null:0>d?this.at(c,b):this.at(d,b)};
Ta$$module$js$threejs$three_min.prototype.intersectsSphere=function(a){return this.distanceSqToPoint(a.center)<=a.radius*a.radius};Ta$$module$js$threejs$three_min.prototype.distanceToPlane=function(a){var b=a.normal.dot(this.direction);if(0===b)return 0===a.distanceToPoint(this.origin)?0:null;a=-(this.origin.dot(a.normal)+a.constant)/b;return 0<=a?a:null};Ta$$module$js$threejs$three_min.prototype.intersectPlane=function(a,b){a=this.distanceToPlane(a);return null===a?null:this.at(a,b)};
Ta$$module$js$threejs$three_min.prototype.intersectsPlane=function(a){var b=a.distanceToPoint(this.origin);return 0===b||0>a.normal.dot(this.direction)*b?!0:!1};
Ta$$module$js$threejs$three_min.prototype.intersectBox=function(a,b){var c=1/this.direction.x,d=1/this.direction.y,e=1/this.direction.z,g=this.origin;if(0<=c){var h=(a.min.x-g.x)*c;c*=a.max.x-g.x}else h=(a.max.x-g.x)*c,c*=a.min.x-g.x;if(0<=d){var k=(a.min.y-g.y)*d;d*=a.max.y-g.y}else k=(a.max.y-g.y)*d,d*=a.min.y-g.y;if(h>d||k>c)return null;if(k>h||h!==h)h=k;if(d<c||c!==c)c=d;0<=e?(k=(a.min.z-g.z)*e,a=(a.max.z-g.z)*e):(k=(a.max.z-g.z)*e,a=(a.min.z-g.z)*e);if(h>a||k>c)return null;if(k>h||h!==h)h=k;
if(a<c||c!==c)c=a;return 0>c?null:this.at(0<=h?h:c,b)};Ta$$module$js$threejs$three_min.prototype.intersectsBox=function(a){return null!==this.intersectBox(a,tc$$module$js$threejs$three_min)};
Ta$$module$js$threejs$three_min.prototype.intersectTriangle=function(a,b,c,d,e){ai$$module$js$threejs$three_min.subVectors(b,a);Fg$$module$js$threejs$three_min.subVectors(c,a);bi$$module$js$threejs$three_min.crossVectors(ai$$module$js$threejs$three_min,Fg$$module$js$threejs$three_min);b=this.direction.dot(bi$$module$js$threejs$three_min);if(0<b){if(d)return null;d=1}else if(0>b)d=-1,b=-b;else return null;Vc$$module$js$threejs$three_min.subVectors(this.origin,a);a=d*this.direction.dot(Fg$$module$js$threejs$three_min.crossVectors(Vc$$module$js$threejs$three_min,
Fg$$module$js$threejs$three_min));if(0>a)return null;c=d*this.direction.dot(ai$$module$js$threejs$three_min.cross(Vc$$module$js$threejs$three_min));if(0>c||a+c>b)return null;a=-d*Vc$$module$js$threejs$three_min.dot(bi$$module$js$threejs$three_min);return 0>a?null:this.at(a/b,e)};Ta$$module$js$threejs$three_min.prototype.applyMatrix4=function(a){this.origin.applyMatrix4(a);this.direction.transformDirection(a);return this};
Ta$$module$js$threejs$three_min.prototype.equals=function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)};var da$$module$js$threejs$three_min=function(){Object.defineProperty(this,"isMatrix4",{value:!0});this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")};
da$$module$js$threejs$three_min.prototype.set=function(a,b,c,d,e,g,h,k,l,m,n,p,t,w,x,A){var r=this.elements;r[0]=a;r[4]=b;r[8]=c;r[12]=d;r[1]=e;r[5]=g;r[9]=h;r[13]=k;r[2]=l;r[6]=m;r[10]=n;r[14]=p;r[3]=t;r[7]=w;r[11]=x;r[15]=A;return this};da$$module$js$threejs$three_min.prototype.identity=function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this};da$$module$js$threejs$three_min.prototype.clone=function(){return(new da$$module$js$threejs$three_min).fromArray(this.elements)};
da$$module$js$threejs$three_min.prototype.copy=function(a){var b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return this};da$$module$js$threejs$three_min.prototype.copyPosition=function(a){var b=this.elements;a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this};
da$$module$js$threejs$three_min.prototype.extractBasis=function(a,b,c){a.setFromMatrixColumn(this,0);b.setFromMatrixColumn(this,1);c.setFromMatrixColumn(this,2);return this};da$$module$js$threejs$three_min.prototype.makeBasis=function(a,b,c){this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1);return this};
da$$module$js$threejs$three_min.prototype.extractRotation=function(a){var b=this.elements,c=a.elements,d=1/se$$module$js$threejs$three_min.setFromMatrixColumn(a,0).length(),e=1/se$$module$js$threejs$three_min.setFromMatrixColumn(a,1).length();a=1/se$$module$js$threejs$three_min.setFromMatrixColumn(a,2).length();b[0]=c[0]*d;b[1]=c[1]*d;b[2]=c[2]*d;b[3]=0;b[4]=c[4]*e;b[5]=c[5]*e;b[6]=c[6]*e;b[7]=0;b[8]=c[8]*a;b[9]=c[9]*a;b[10]=c[10]*a;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this};
da$$module$js$threejs$three_min.prototype.makeRotationFromEuler=function(a){a&&a.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var b=this.elements,c=a.x,d=a.y,e=a.z,g=Math.cos(c);c=Math.sin(c);var h=Math.cos(d);d=Math.sin(d);var k=Math.cos(e);e=Math.sin(e);if("XYZ"===a.order){a=g*k;var l=g*e,m=c*k,n=c*e;b[0]=h*k;b[4]=-h*e;b[8]=d;b[1]=l+m*d;b[5]=a-n*d;b[9]=-c*h;b[2]=n-a*d;b[6]=m+l*d;b[10]=g*h}else"YXZ"===a.order?(a=h*
k,l=h*e,m=d*k,n=d*e,b[0]=a+n*c,b[4]=m*c-l,b[8]=g*d,b[1]=g*e,b[5]=g*k,b[9]=-c,b[2]=l*c-m,b[6]=n+a*c,b[10]=g*h):"ZXY"===a.order?(a=h*k,l=h*e,m=d*k,n=d*e,b[0]=a-n*c,b[4]=-g*e,b[8]=m+l*c,b[1]=l+m*c,b[5]=g*k,b[9]=n-a*c,b[2]=-g*d,b[6]=c,b[10]=g*h):"ZYX"===a.order?(a=g*k,l=g*e,m=c*k,n=c*e,b[0]=h*k,b[4]=m*d-l,b[8]=a*d+n,b[1]=h*e,b[5]=n*d+a,b[9]=l*d-m,b[2]=-d,b[6]=c*h,b[10]=g*h):"YZX"===a.order?(a=g*h,l=g*d,m=c*h,n=c*d,b[0]=h*k,b[4]=n-a*e,b[8]=m*e+l,b[1]=e,b[5]=g*k,b[9]=-c*k,b[2]=-d*k,b[6]=l*e+m,b[10]=a-n*
e):"XZY"===a.order&&(a=g*h,l=g*d,m=c*h,n=c*d,b[0]=h*k,b[4]=-e,b[8]=d*k,b[1]=a*e+n,b[5]=g*k,b[9]=l*e-m,b[2]=m*e-l,b[6]=c*k,b[10]=n*e+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this};da$$module$js$threejs$three_min.prototype.makeRotationFromQuaternion=function(a){return this.compose(Nl$$module$js$threejs$three_min,a,Ol$$module$js$threejs$three_min)};
da$$module$js$threejs$three_min.prototype.lookAt=function(a,b,c){var d=this.elements;ub$$module$js$threejs$three_min.subVectors(a,b);0===ub$$module$js$threejs$three_min.lengthSq()&&(ub$$module$js$threejs$three_min.z=1);ub$$module$js$threejs$three_min.normalize();Wc$$module$js$threejs$three_min.crossVectors(c,ub$$module$js$threejs$three_min);0===Wc$$module$js$threejs$three_min.lengthSq()&&(1===Math.abs(c.z)?ub$$module$js$threejs$three_min.x+=1E-4:ub$$module$js$threejs$three_min.z+=1E-4,ub$$module$js$threejs$three_min.normalize(),
Wc$$module$js$threejs$three_min.crossVectors(c,ub$$module$js$threejs$three_min));Wc$$module$js$threejs$three_min.normalize();Gg$$module$js$threejs$three_min.crossVectors(ub$$module$js$threejs$three_min,Wc$$module$js$threejs$three_min);d[0]=Wc$$module$js$threejs$three_min.x;d[4]=Gg$$module$js$threejs$three_min.x;d[8]=ub$$module$js$threejs$three_min.x;d[1]=Wc$$module$js$threejs$three_min.y;d[5]=Gg$$module$js$threejs$three_min.y;d[9]=ub$$module$js$threejs$three_min.y;d[2]=Wc$$module$js$threejs$three_min.z;
d[6]=Gg$$module$js$threejs$three_min.z;d[10]=ub$$module$js$threejs$three_min.z;return this};da$$module$js$threejs$three_min.prototype.multiply=function(a,b){return void 0!==b?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(a,b)):this.multiplyMatrices(this,a)};da$$module$js$threejs$three_min.prototype.premultiply=function(a){return this.multiplyMatrices(a,this)};
da$$module$js$threejs$three_min.prototype.multiplyMatrices=function(a,b){var c=a.elements,d=b.elements;b=this.elements;a=c[0];var e=c[4],g=c[8],h=c[12],k=c[1],l=c[5],m=c[9],n=c[13],p=c[2],t=c[6],w=c[10],x=c[14],A=c[3],r=c[7],E=c[11];c=c[15];var B=d[0],G=d[4],H=d[8],O=d[12],N=d[1],U=d[5],W=d[9],J=d[13],aa=d[2],ba=d[6],z=d[10],K=d[14],Q=d[3],M=d[7],L=d[11];d=d[15];b[0]=a*B+e*N+g*aa+h*Q;b[4]=a*G+e*U+g*ba+h*M;b[8]=a*H+e*W+g*z+h*L;b[12]=a*O+e*J+g*K+h*d;b[1]=k*B+l*N+m*aa+n*Q;b[5]=k*G+l*U+m*ba+n*M;b[9]=
k*H+l*W+m*z+n*L;b[13]=k*O+l*J+m*K+n*d;b[2]=p*B+t*N+w*aa+x*Q;b[6]=p*G+t*U+w*ba+x*M;b[10]=p*H+t*W+w*z+x*L;b[14]=p*O+t*J+w*K+x*d;b[3]=A*B+r*N+E*aa+c*Q;b[7]=A*G+r*U+E*ba+c*M;b[11]=A*H+r*W+E*z+c*L;b[15]=A*O+r*J+E*K+c*d;return this};da$$module$js$threejs$three_min.prototype.multiplyScalar=function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this};
da$$module$js$threejs$three_min.prototype.determinant=function(){var a=this.elements,b=a[0],c=a[4],d=a[8],e=a[12],g=a[1],h=a[5],k=a[9],l=a[13],m=a[2],n=a[6],p=a[10],t=a[14];return a[3]*(+e*k*n-d*l*n-e*h*p+c*l*p+d*h*t-c*k*t)+a[7]*(+b*k*t-b*l*p+e*g*p-d*g*t+d*l*m-e*k*m)+a[11]*(+b*l*n-b*h*t-e*g*n+c*g*t+e*h*m-c*l*m)+a[15]*(-d*h*m-b*k*n+b*h*p+d*g*n-c*g*p+c*k*m)};
da$$module$js$threejs$three_min.prototype.transpose=function(){var a=this.elements,b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this};da$$module$js$threejs$three_min.prototype.setPosition=function(a,b,c){var d=this.elements;a.isVector3?(d[12]=a.x,d[13]=a.y,d[14]=a.z):(d[12]=a,d[13]=b,d[14]=c);return this};
da$$module$js$threejs$three_min.prototype.getInverse=function(a,b){void 0!==b&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");b=this.elements;var c=a.elements;a=c[0];var d=c[1],e=c[2],g=c[3],h=c[4],k=c[5],l=c[6],m=c[7],n=c[8],p=c[9],t=c[10],w=c[11],x=c[12],A=c[13],r=c[14];c=c[15];var E=p*r*m-A*t*m+A*l*w-k*r*w-p*l*c+k*t*c,B=x*t*m-n*r*m-x*l*w+h*r*w+n*l*c-h*t*c,G=n*A*m-x*p*m+x*k*w-h*A*w-n*k*c+h*p*c,H=x*p*l-n*A*l-x*k*t+h*A*t+n*k*r-h*p*r,O=a*E+d*B+e*G+
g*H;if(0===O)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);O=1/O;b[0]=E*O;b[1]=(A*t*g-p*r*g-A*e*w+d*r*w+p*e*c-d*t*c)*O;b[2]=(k*r*g-A*l*g+A*e*m-d*r*m-k*e*c+d*l*c)*O;b[3]=(p*l*g-k*t*g-p*e*m+d*t*m+k*e*w-d*l*w)*O;b[4]=B*O;b[5]=(n*r*g-x*t*g+x*e*w-a*r*w-n*e*c+a*t*c)*O;b[6]=(x*l*g-h*r*g-x*e*m+a*r*m+h*e*c-a*l*c)*O;b[7]=(h*t*g-n*l*g+n*e*m-a*t*m-h*e*w+a*l*w)*O;b[8]=G*O;b[9]=(x*p*g-n*A*g-x*d*w+a*A*w+n*d*c-a*p*c)*O;b[10]=(h*A*g-x*k*g+x*d*m-a*A*m-h*d*c+a*k*c)*O;b[11]=(n*k*g-h*p*g-n*d*m+a*p*m+h*d*w-a*k*w)*O;
b[12]=H*O;b[13]=(n*A*e-x*p*e+x*d*t-a*A*t-n*d*r+a*p*r)*O;b[14]=(x*k*e-h*A*e-x*d*l+a*A*l+h*d*r-a*k*r)*O;b[15]=(h*p*e-n*k*e+n*d*l-a*p*l-h*d*t+a*k*t)*O;return this};da$$module$js$threejs$three_min.prototype.scale=function(a){var b=this.elements,c=a.x,d=a.y;a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=c;b[7]*=d;b[11]*=a;return this};
da$$module$js$threejs$three_min.prototype.getMaxScaleOnAxis=function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]))};da$$module$js$threejs$three_min.prototype.makeTranslation=function(a,b,c){this.set(1,0,0,a,0,1,0,b,0,0,1,c,0,0,0,1);return this};da$$module$js$threejs$three_min.prototype.makeRotationX=function(a){var b=Math.cos(a);a=Math.sin(a);this.set(1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1);return this};
da$$module$js$threejs$three_min.prototype.makeRotationY=function(a){var b=Math.cos(a);a=Math.sin(a);this.set(b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1);return this};da$$module$js$threejs$three_min.prototype.makeRotationZ=function(a){var b=Math.cos(a);a=Math.sin(a);this.set(b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1);return this};
da$$module$js$threejs$three_min.prototype.makeRotationAxis=function(a,b){var c=Math.cos(b);b=Math.sin(b);var d=1-c,e=a.x,g=a.y;a=a.z;var h=d*e,k=d*g;this.set(h*e+c,h*g-b*a,h*a+b*g,0,h*g+b*a,k*g+c,k*a-b*e,0,h*a-b*g,k*a+b*e,d*a*a+c,0,0,0,0,1);return this};da$$module$js$threejs$three_min.prototype.makeScale=function(a,b,c){this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1);return this};da$$module$js$threejs$three_min.prototype.makeShear=function(a,b,c){this.set(1,b,c,0,a,1,c,0,a,b,1,0,0,0,0,1);return this};
da$$module$js$threejs$three_min.prototype.compose=function(a,b,c){var d=this.elements,e=b._x,g=b._y,h=b._z,k=b._w,l=e+e,m=g+g,n=h+h;b=e*l;var p=e*m;e*=n;var t=g*m;g*=n;h*=n;l*=k;m*=k;k*=n;n=c.x;var w=c.y;c=c.z;d[0]=(1-(t+h))*n;d[1]=(p+k)*n;d[2]=(e-m)*n;d[3]=0;d[4]=(p-k)*w;d[5]=(1-(b+h))*w;d[6]=(g+l)*w;d[7]=0;d[8]=(e+m)*c;d[9]=(g-l)*c;d[10]=(1-(b+t))*c;d[11]=0;d[12]=a.x;d[13]=a.y;d[14]=a.z;d[15]=1;return this};
da$$module$js$threejs$three_min.prototype.decompose=function(a,b,c){var d=this.elements,e=se$$module$js$threejs$three_min.set(d[0],d[1],d[2]).length(),g=se$$module$js$threejs$three_min.set(d[4],d[5],d[6]).length(),h=se$$module$js$threejs$three_min.set(d[8],d[9],d[10]).length();0>this.determinant()&&(e=-e);a.x=d[12];a.y=d[13];a.z=d[14];gb$$module$js$threejs$three_min.copy(this);a=1/e;d=1/g;var k=1/h;gb$$module$js$threejs$three_min.elements[0]*=a;gb$$module$js$threejs$three_min.elements[1]*=a;gb$$module$js$threejs$three_min.elements[2]*=
a;gb$$module$js$threejs$three_min.elements[4]*=d;gb$$module$js$threejs$three_min.elements[5]*=d;gb$$module$js$threejs$three_min.elements[6]*=d;gb$$module$js$threejs$three_min.elements[8]*=k;gb$$module$js$threejs$three_min.elements[9]*=k;gb$$module$js$threejs$three_min.elements[10]*=k;b.setFromRotationMatrix(gb$$module$js$threejs$three_min);c.x=e;c.y=g;c.z=h;return this};
da$$module$js$threejs$three_min.prototype.makePerspective=function(a,b,c,d,e,g){void 0===g&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var h=this.elements;h[0]=2*e/(b-a);h[4]=0;h[8]=(b+a)/(b-a);h[12]=0;h[1]=0;h[5]=2*e/(c-d);h[9]=(c+d)/(c-d);h[13]=0;h[2]=0;h[6]=0;h[10]=-(g+e)/(g-e);h[14]=-2*g*e/(g-e);h[3]=0;h[7]=0;h[11]=-1;h[15]=0;return this};
da$$module$js$threejs$three_min.prototype.makeOrthographic=function(a,b,c,d,e,g){var h=this.elements,k=1/(b-a),l=1/(c-d),m=1/(g-e);h[0]=2*k;h[4]=0;h[8]=0;h[12]=-((b+a)*k);h[1]=0;h[5]=2*l;h[9]=0;h[13]=-((c+d)*l);h[2]=0;h[6]=0;h[10]=-2*m;h[14]=-((g+e)*m);h[3]=0;h[7]=0;h[11]=0;h[15]=1;return this};da$$module$js$threejs$three_min.prototype.equals=function(a){var b=this.elements;a=a.elements;for(var c=0;16>c;c++)if(b[c]!==a[c])return!1;return!0};
da$$module$js$threejs$three_min.prototype.fromArray=function(a,b){void 0===b&&(b=0);for(var c=0;16>c;c++)this.elements[c]=a[c+b];return this};da$$module$js$threejs$three_min.prototype.toArray=function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a};
var se$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,gb$$module$js$threejs$three_min=new da$$module$js$threejs$three_min,Nl$$module$js$threejs$three_min=new w$$module$js$threejs$three_min(0,0,0),Ol$$module$js$threejs$three_min=new w$$module$js$threejs$three_min(1,1,1),Wc$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Gg$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,ub$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,hb$$module$js$threejs$three_min=
function f(a,b,c,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===d&&(d=f.DefaultOrder);Object.defineProperty(this,"isEuler",{value:!0});this._x=a;this._y=b;this._z=c;this._order=d},uc$$module$js$threejs$three_min={x:{configurable:!0},y:{configurable:!0},z:{configurable:!0},order:{configurable:!0}};uc$$module$js$threejs$three_min.x.get=function(){return this._x};uc$$module$js$threejs$three_min.x.set=function(a){this._x=a;this._onChangeCallback()};
uc$$module$js$threejs$three_min.y.get=function(){return this._y};uc$$module$js$threejs$three_min.y.set=function(a){this._y=a;this._onChangeCallback()};uc$$module$js$threejs$three_min.z.get=function(){return this._z};uc$$module$js$threejs$three_min.z.set=function(a){this._z=a;this._onChangeCallback()};uc$$module$js$threejs$three_min.order.get=function(){return this._order};uc$$module$js$threejs$three_min.order.set=function(a){this._order=a;this._onChangeCallback()};
hb$$module$js$threejs$three_min.prototype.set=function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._order=d||this._order;this._onChangeCallback();return this};hb$$module$js$threejs$three_min.prototype.clone=function(){return new this.constructor(this._x,this._y,this._z,this._order)};hb$$module$js$threejs$three_min.prototype.copy=function(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this._onChangeCallback();return this};
hb$$module$js$threejs$three_min.prototype.setFromRotationMatrix=function(a,b,c){var d=xa$$module$js$threejs$three_min.clamp,e=a.elements;a=e[0];var g=e[4],h=e[8],k=e[1],l=e[5],m=e[9],n=e[2],p=e[6];e=e[10];b=b||this._order;switch(b){case "XYZ":this._y=Math.asin(d(h,-1,1));.9999999>Math.abs(h)?(this._x=Math.atan2(-m,e),this._z=Math.atan2(-g,a)):(this._x=Math.atan2(p,l),this._z=0);break;case "YXZ":this._x=Math.asin(-d(m,-1,1));.9999999>Math.abs(m)?(this._y=Math.atan2(h,e),this._z=Math.atan2(k,l)):(this._y=
Math.atan2(-n,a),this._z=0);break;case "ZXY":this._x=Math.asin(d(p,-1,1));.9999999>Math.abs(p)?(this._y=Math.atan2(-n,e),this._z=Math.atan2(-g,l)):(this._y=0,this._z=Math.atan2(k,a));break;case "ZYX":this._y=Math.asin(-d(n,-1,1));.9999999>Math.abs(n)?(this._x=Math.atan2(p,e),this._z=Math.atan2(k,a)):(this._x=0,this._z=Math.atan2(-g,l));break;case "YZX":this._z=Math.asin(d(k,-1,1));.9999999>Math.abs(k)?(this._x=Math.atan2(-m,l),this._y=Math.atan2(-n,a)):(this._x=0,this._y=Math.atan2(h,e));break;case "XZY":this._z=
Math.asin(-d(g,-1,1));.9999999>Math.abs(g)?(this._x=Math.atan2(p,l),this._y=Math.atan2(h,a)):(this._x=Math.atan2(-m,e),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+b)}this._order=b;!1!==c&&this._onChangeCallback();return this};hb$$module$js$threejs$three_min.prototype.setFromQuaternion=function(a,b,c){wj$$module$js$threejs$three_min.makeRotationFromQuaternion(a);return this.setFromRotationMatrix(wj$$module$js$threejs$three_min,b,c)};
hb$$module$js$threejs$three_min.prototype.setFromVector3=function(a,b){return this.set(a.x,a.y,a.z,b||this._order)};hb$$module$js$threejs$three_min.prototype.reorder=function(a){xj$$module$js$threejs$three_min.setFromEuler(this);return this.setFromQuaternion(xj$$module$js$threejs$three_min,a)};hb$$module$js$threejs$three_min.prototype.equals=function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order};
hb$$module$js$threejs$three_min.prototype.fromArray=function(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this._onChangeCallback();return this};hb$$module$js$threejs$three_min.prototype.toArray=function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a};
hb$$module$js$threejs$three_min.prototype.toVector3=function(a){return a?a.set(this._x,this._y,this._z):new w$$module$js$threejs$three_min(this._x,this._y,this._z)};hb$$module$js$threejs$three_min.prototype._onChange=function(a){this._onChangeCallback=a;return this};hb$$module$js$threejs$three_min.prototype._onChangeCallback=function(){};Object.defineProperties(hb$$module$js$threejs$three_min.prototype,uc$$module$js$threejs$three_min);hb$$module$js$threejs$three_min.DefaultOrder="XYZ";
hb$$module$js$threejs$three_min.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");var wj$$module$js$threejs$three_min=new da$$module$js$threejs$three_min,xj$$module$js$threejs$three_min=new ua$$module$js$threejs$three_min,$b$$module$js$threejs$three_min=function(){this.mask=1};$b$$module$js$threejs$three_min.prototype.set=function(a){this.mask=1<<a|0};$b$$module$js$threejs$three_min.prototype.enable=function(a){this.mask=this.mask|1<<a|0};
$b$$module$js$threejs$three_min.prototype.enableAll=function(){this.mask=-1};$b$$module$js$threejs$three_min.prototype.toggle=function(a){this.mask^=1<<a|0};$b$$module$js$threejs$three_min.prototype.disable=function(a){this.mask&=~(1<<a|0)};$b$$module$js$threejs$three_min.prototype.disableAll=function(){this.mask=0};$b$$module$js$threejs$three_min.prototype.test=function(a){return 0!==(this.mask&a.mask)};
var ik$$module$js$threejs$three_min=0,yj$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,te$$module$js$threejs$three_min=new ua$$module$js$threejs$three_min,vc$$module$js$threejs$three_min=new da$$module$js$threejs$three_min,Hg$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Ef$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Pl$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Ql$$module$js$threejs$three_min=new ua$$module$js$threejs$three_min,
zj$$module$js$threejs$three_min=new w$$module$js$threejs$three_min(1,0,0),Aj$$module$js$threejs$three_min=new w$$module$js$threejs$three_min(0,1,0),Bj$$module$js$threejs$three_min=new w$$module$js$threejs$three_min(0,0,1),Rl$$module$js$threejs$three_min={type:"added"},Sl$$module$js$threejs$three_min={type:"removed"};ha$$module$js$threejs$three_min.DefaultUp=new w$$module$js$threejs$three_min(0,1,0);ha$$module$js$threejs$three_min.DefaultMatrixAutoUpdate=!0;
ha$$module$js$threejs$three_min.prototype=Object.assign(Object.create(wb$$module$js$threejs$three_min.prototype),{constructor:ha$$module$js$threejs$three_min,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(a){this.matrixAutoUpdate&&this.updateMatrix();this.matrix.premultiply(a);this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(a){this.quaternion.premultiply(a);return this},setRotationFromAxisAngle:function(a,b){this.quaternion.setFromAxisAngle(a,
b)},setRotationFromEuler:function(a){this.quaternion.setFromEuler(a,!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(a,b){te$$module$js$threejs$three_min.setFromAxisAngle(a,b);this.quaternion.multiply(te$$module$js$threejs$three_min);return this},rotateOnWorldAxis:function(a,b){te$$module$js$threejs$three_min.setFromAxisAngle(a,b);this.quaternion.premultiply(te$$module$js$threejs$three_min);
return this},rotateX:function(a){return this.rotateOnAxis(zj$$module$js$threejs$three_min,a)},rotateY:function(a){return this.rotateOnAxis(Aj$$module$js$threejs$three_min,a)},rotateZ:function(a){return this.rotateOnAxis(Bj$$module$js$threejs$three_min,a)},translateOnAxis:function(a,b){yj$$module$js$threejs$three_min.copy(a).applyQuaternion(this.quaternion);this.position.add(yj$$module$js$threejs$three_min.multiplyScalar(b));return this},translateX:function(a){return this.translateOnAxis(zj$$module$js$threejs$three_min,
a)},translateY:function(a){return this.translateOnAxis(Aj$$module$js$threejs$three_min,a)},translateZ:function(a){return this.translateOnAxis(Bj$$module$js$threejs$three_min,a)},localToWorld:function(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(a){return a.applyMatrix4(vc$$module$js$threejs$three_min.getInverse(this.matrixWorld))},lookAt:function(a,b,c){a.isVector3?Hg$$module$js$threejs$three_min.copy(a):Hg$$module$js$threejs$three_min.set(a,b,c);a=this.parent;this.updateWorldMatrix(!0,
!1);Ef$$module$js$threejs$three_min.setFromMatrixPosition(this.matrixWorld);this.isCamera||this.isLight?vc$$module$js$threejs$three_min.lookAt(Ef$$module$js$threejs$three_min,Hg$$module$js$threejs$three_min,this.up):vc$$module$js$threejs$three_min.lookAt(Hg$$module$js$threejs$three_min,Ef$$module$js$threejs$three_min,this.up);this.quaternion.setFromRotationMatrix(vc$$module$js$threejs$three_min);a&&(vc$$module$js$threejs$three_min.extractRotation(a.matrixWorld),te$$module$js$threejs$three_min.setFromRotationMatrix(vc$$module$js$threejs$three_min),
this.quaternion.premultiply(te$$module$js$threejs$three_min.inverse()))},add:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a&&a.isObject3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,this.children.push(a),a.dispatchEvent(Rl$$module$js$threejs$three_min)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",
a);return this},remove:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);return this}b=this.children.indexOf(a);-1!==b&&(a.parent=null,this.children.splice(b,1),a.dispatchEvent(Sl$$module$js$threejs$three_min));return this},attach:function(a){this.updateWorldMatrix(!0,!1);vc$$module$js$threejs$three_min.getInverse(this.matrixWorld);null!==a.parent&&(a.parent.updateWorldMatrix(!0,!1),vc$$module$js$threejs$three_min.multiply(a.parent.matrixWorld));a.applyMatrix4(vc$$module$js$threejs$three_min);
a.updateWorldMatrix(!1,!1);this.add(a);return this},getObjectById:function(a){return this.getObjectByProperty("id",a)},getObjectByName:function(a){return this.getObjectByProperty("name",a)},getObjectByProperty:function(a,b){if(this[a]===b)return this;for(var c=0,d=this.children.length;c<d;c++){var e=this.children[c].getObjectByProperty(a,b);if(void 0!==e)return e}},getWorldPosition:function(a){void 0===a&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),a=new w$$module$js$threejs$three_min);
this.updateMatrixWorld(!0);return a.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(a){void 0===a&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),a=new ua$$module$js$threejs$three_min);this.updateMatrixWorld(!0);this.matrixWorld.decompose(Ef$$module$js$threejs$three_min,a,Pl$$module$js$threejs$three_min);return a},getWorldScale:function(a){void 0===a&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),a=new w$$module$js$threejs$three_min);
this.updateMatrixWorld(!0);this.matrixWorld.decompose(Ef$$module$js$threejs$three_min,Ql$$module$js$threejs$three_min,a);return a},getWorldDirection:function(a){void 0===a&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),a=new w$$module$js$threejs$three_min);this.updateMatrixWorld(!0);var b=this.matrixWorld.elements;return a.set(b[8],b[9],b[10]).normalize()},raycast:function(){},traverse:function(a){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].traverse(a)},
traverseVisible:function(a){if(!1!==this.visible){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].traverseVisible(a)}},traverseAncestors:function(a){var b=this.parent;null!==b&&(a(b),b.traverseAncestors(a))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,
this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].updateMatrixWorld(a)},updateWorldMatrix:function(a,b){var c=this.parent;!0===a&&null!==c&&c.updateWorldMatrix(!0,!1);this.matrixAutoUpdate&&this.updateMatrix();null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);if(!0===b)for(a=this.children,b=0,c=a.length;b<c;b++)a[b].updateWorldMatrix(!1,!0)},toJSON:function(a){function b(n,
p){void 0===n[p.uuid]&&(n[p.uuid]=p.toJSON(a));return p.uuid}function c(n){var p=[],t;for(t in n){var w=n[t];delete w.metadata;p.push(w)}return p}var d=void 0===a||"string"===typeof a,e={};d&&(a={geometries:{},materials:{},textures:{},images:{},shapes:{}},e.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var g={};g.uuid=this.uuid;g.type=this.type;""!==this.name&&(g.name=this.name);!0===this.castShadow&&(g.castShadow=!0);!0===this.receiveShadow&&(g.receiveShadow=!0);!1===this.visible&&
(g.visible=!1);!1===this.frustumCulled&&(g.frustumCulled=!1);0!==this.renderOrder&&(g.renderOrder=this.renderOrder);"{}"!==JSON.stringify(this.userData)&&(g.userData=this.userData);g.layers=this.layers.mask;g.matrix=this.matrix.toArray();!1===this.matrixAutoUpdate&&(g.matrixAutoUpdate=!1);this.isInstancedMesh&&(g.type="InstancedMesh",g.count=this.count,g.instanceMatrix=this.instanceMatrix.toJSON());if(this.isMesh||this.isLine||this.isPoints){g.geometry=b(a.geometries,this.geometry);var h=this.geometry.parameters;
if(void 0!==h&&void 0!==h.shapes)if(h=h.shapes,Array.isArray(h))for(var k=0,l=h.length;k<l;k++)b(a.shapes,h[k]);else b(a.shapes,h)}if(void 0!==this.material)if(Array.isArray(this.material)){h=[];k=0;for(l=this.material.length;k<l;k++)h.push(b(a.materials,this.material[k]));g.material=h}else g.material=b(a.materials,this.material);if(0<this.children.length)for(g.children=[],h=0;h<this.children.length;h++)g.children.push(this.children[h].toJSON(a).object);if(d){d=c(a.geometries);h=c(a.materials);k=
c(a.textures);l=c(a.images);var m=c(a.shapes);0<d.length&&(e.geometries=d);0<h.length&&(e.materials=h);0<k.length&&(e.textures=k);0<l.length&&(e.images=l);0<m.length&&(e.shapes=m)}e.object=g;return e},clone:function(a){return(new this.constructor).copy(this,a)},copy:function(a,b){void 0===b&&(b=!0);this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.rotation.order=a.rotation.order;this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);
this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.layers.mask=a.layers.mask;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===b)for(b=0;b<a.children.length;b++)this.add(a.children[b].clone());return this}});
var ci$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Tl$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Ul$$module$js$threejs$three_min=new Da$$module$js$threejs$three_min,Na$$module$js$threejs$three_min=function(a,b){Object.defineProperty(this,"isPlane",{value:!0});this.normal=void 0!==a?a:new w$$module$js$threejs$three_min(1,0,0);this.constant=void 0!==b?b:0};Na$$module$js$threejs$three_min.prototype.set=function(a,b){this.normal.copy(a);this.constant=b;return this};
Na$$module$js$threejs$three_min.prototype.setComponents=function(a,b,c,d){this.normal.set(a,b,c);this.constant=d;return this};Na$$module$js$threejs$three_min.prototype.setFromNormalAndCoplanarPoint=function(a,b){this.normal.copy(a);this.constant=-b.dot(this.normal);return this};
Na$$module$js$threejs$three_min.prototype.setFromCoplanarPoints=function(a,b,c){b=ci$$module$js$threejs$three_min.subVectors(c,b).cross(Tl$$module$js$threejs$three_min.subVectors(a,b)).normalize();this.setFromNormalAndCoplanarPoint(b,a);return this};Na$$module$js$threejs$three_min.prototype.clone=function(){return(new this.constructor).copy(this)};Na$$module$js$threejs$three_min.prototype.copy=function(a){this.normal.copy(a.normal);this.constant=a.constant;return this};
Na$$module$js$threejs$three_min.prototype.normalize=function(){var a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this};Na$$module$js$threejs$three_min.prototype.negate=function(){this.constant*=-1;this.normal.negate();return this};Na$$module$js$threejs$three_min.prototype.distanceToPoint=function(a){return this.normal.dot(a)+this.constant};Na$$module$js$threejs$three_min.prototype.distanceToSphere=function(a){return this.distanceToPoint(a.center)-a.radius};
Na$$module$js$threejs$three_min.prototype.projectPoint=function(a,b){void 0===b&&(console.warn("THREE.Plane: .projectPoint() target is now required"),b=new w$$module$js$threejs$three_min);return b.copy(this.normal).multiplyScalar(-this.distanceToPoint(a)).add(a)};
Na$$module$js$threejs$three_min.prototype.intersectLine=function(a,b){void 0===b&&(console.warn("THREE.Plane: .intersectLine() target is now required"),b=new w$$module$js$threejs$three_min);var c=a.delta(ci$$module$js$threejs$three_min),d=this.normal.dot(c);if(0===d){if(0===this.distanceToPoint(a.start))return b.copy(a.start)}else if(d=-(a.start.dot(this.normal)+this.constant)/d,!(0>d||1<d))return b.copy(c).multiplyScalar(d).add(a.start)};
Na$$module$js$threejs$three_min.prototype.intersectsLine=function(a){var b=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b};Na$$module$js$threejs$three_min.prototype.intersectsBox=function(a){return a.intersectsPlane(this)};Na$$module$js$threejs$three_min.prototype.intersectsSphere=function(a){return a.intersectsPlane(this)};
Na$$module$js$threejs$three_min.prototype.coplanarPoint=function(a){void 0===a&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),a=new w$$module$js$threejs$three_min);return a.copy(this.normal).multiplyScalar(-this.constant)};
Na$$module$js$threejs$three_min.prototype.applyMatrix4=function(a,b){b=b||Ul$$module$js$threejs$three_min.getNormalMatrix(a);a=this.coplanarPoint(ci$$module$js$threejs$three_min).applyMatrix4(a);b=this.normal.applyMatrix3(b).normalize();this.constant=-a.dot(b);return this};Na$$module$js$threejs$three_min.prototype.translate=function(a){this.constant-=a.dot(this.normal);return this};Na$$module$js$threejs$three_min.prototype.equals=function(a){return a.normal.equals(this.normal)&&a.constant===this.constant};
var Yb$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,wc$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,di$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,xc$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,ue$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,ve$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Cj$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,ei$$module$js$threejs$three_min=
new w$$module$js$threejs$three_min,fi$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,gi$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Ga$$module$js$threejs$three_min=function(a,b,c){this.a=void 0!==a?a:new w$$module$js$threejs$three_min;this.b=void 0!==b?b:new w$$module$js$threejs$three_min;this.c=void 0!==c?c:new w$$module$js$threejs$three_min};
Ga$$module$js$threejs$three_min.getNormal=function(a,b,c,d){void 0===d&&(console.warn("THREE.Triangle: .getNormal() target is now required"),d=new w$$module$js$threejs$three_min);d.subVectors(c,b);Yb$$module$js$threejs$three_min.subVectors(a,b);d.cross(Yb$$module$js$threejs$three_min);a=d.lengthSq();return 0<a?d.multiplyScalar(1/Math.sqrt(a)):d.set(0,0,0)};
Ga$$module$js$threejs$three_min.getBarycoord=function(a,b,c,d,e){Yb$$module$js$threejs$three_min.subVectors(d,b);wc$$module$js$threejs$three_min.subVectors(c,b);di$$module$js$threejs$three_min.subVectors(a,b);a=Yb$$module$js$threejs$three_min.dot(Yb$$module$js$threejs$three_min);b=Yb$$module$js$threejs$three_min.dot(wc$$module$js$threejs$three_min);c=Yb$$module$js$threejs$three_min.dot(di$$module$js$threejs$three_min);var g=wc$$module$js$threejs$three_min.dot(wc$$module$js$threejs$three_min);d=wc$$module$js$threejs$three_min.dot(di$$module$js$threejs$three_min);
var h=a*g-b*b;void 0===e&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),e=new w$$module$js$threejs$three_min);if(0===h)return e.set(-2,-1,-1);h=1/h;g=(g*c-b*d)*h;a=(a*d-b*c)*h;return e.set(1-g-a,a,g)};Ga$$module$js$threejs$three_min.containsPoint=function(a,b,c,d){this.getBarycoord(a,b,c,d,xc$$module$js$threejs$three_min);return 0<=xc$$module$js$threejs$three_min.x&&0<=xc$$module$js$threejs$three_min.y&&1>=xc$$module$js$threejs$three_min.x+xc$$module$js$threejs$three_min.y};
Ga$$module$js$threejs$three_min.getUV=function(a,b,c,d,e,g,h,k){this.getBarycoord(a,b,c,d,xc$$module$js$threejs$three_min);k.set(0,0);k.addScaledVector(e,xc$$module$js$threejs$three_min.x);k.addScaledVector(g,xc$$module$js$threejs$three_min.y);k.addScaledVector(h,xc$$module$js$threejs$three_min.z);return k};
Ga$$module$js$threejs$three_min.isFrontFacing=function(a,b,c,d){Yb$$module$js$threejs$three_min.subVectors(c,b);wc$$module$js$threejs$three_min.subVectors(a,b);return 0>Yb$$module$js$threejs$three_min.cross(wc$$module$js$threejs$three_min).dot(d)?!0:!1};Ga$$module$js$threejs$three_min.prototype.set=function(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this};
Ga$$module$js$threejs$three_min.prototype.setFromPointsAndIndices=function(a,b,c,d){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[d]);return this};Ga$$module$js$threejs$three_min.prototype.clone=function(){return(new this.constructor).copy(this)};Ga$$module$js$threejs$three_min.prototype.copy=function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this};
Ga$$module$js$threejs$three_min.prototype.getArea=function(){Yb$$module$js$threejs$three_min.subVectors(this.c,this.b);wc$$module$js$threejs$three_min.subVectors(this.a,this.b);return.5*Yb$$module$js$threejs$three_min.cross(wc$$module$js$threejs$three_min).length()};
Ga$$module$js$threejs$three_min.prototype.getMidpoint=function(a){void 0===a&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),a=new w$$module$js$threejs$three_min);return a.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)};Ga$$module$js$threejs$three_min.prototype.getNormal=function(a){return Ga$$module$js$threejs$three_min.getNormal(this.a,this.b,this.c,a)};
Ga$$module$js$threejs$three_min.prototype.getPlane=function(a){void 0===a&&(console.warn("THREE.Triangle: .getPlane() target is now required"),a=new Na$$module$js$threejs$three_min);return a.setFromCoplanarPoints(this.a,this.b,this.c)};Ga$$module$js$threejs$three_min.prototype.getBarycoord=function(a,b){return Ga$$module$js$threejs$three_min.getBarycoord(a,this.a,this.b,this.c,b)};
Ga$$module$js$threejs$three_min.prototype.getUV=function(a,b,c,d,e){return Ga$$module$js$threejs$three_min.getUV(a,this.a,this.b,this.c,b,c,d,e)};Ga$$module$js$threejs$three_min.prototype.containsPoint=function(a){return Ga$$module$js$threejs$three_min.containsPoint(a,this.a,this.b,this.c)};Ga$$module$js$threejs$three_min.prototype.isFrontFacing=function(a){return Ga$$module$js$threejs$three_min.isFrontFacing(this.a,this.b,this.c,a)};Ga$$module$js$threejs$three_min.prototype.intersectsBox=function(a){return a.intersectsTriangle(this)};
Ga$$module$js$threejs$three_min.prototype.closestPointToPoint=function(a,b){void 0===b&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),b=new w$$module$js$threejs$three_min);var c=this.a,d=this.b,e=this.c;ue$$module$js$threejs$three_min.subVectors(d,c);ve$$module$js$threejs$three_min.subVectors(e,c);ei$$module$js$threejs$three_min.subVectors(a,c);var g=ue$$module$js$threejs$three_min.dot(ei$$module$js$threejs$three_min),h=ve$$module$js$threejs$three_min.dot(ei$$module$js$threejs$three_min);
if(0>=g&&0>=h)return b.copy(c);fi$$module$js$threejs$three_min.subVectors(a,d);var k=ue$$module$js$threejs$three_min.dot(fi$$module$js$threejs$three_min),l=ve$$module$js$threejs$three_min.dot(fi$$module$js$threejs$three_min);if(0<=k&&l<=k)return b.copy(d);var m=g*l-k*h;if(0>=m&&0<=g&&0>=k)return d=g/(g-k),b.copy(c).addScaledVector(ue$$module$js$threejs$three_min,d);gi$$module$js$threejs$three_min.subVectors(a,e);a=ue$$module$js$threejs$three_min.dot(gi$$module$js$threejs$three_min);var n=ve$$module$js$threejs$three_min.dot(gi$$module$js$threejs$three_min);
if(0<=n&&a<=n)return b.copy(e);g=a*h-g*n;if(0>=g&&0<=h&&0>=n)return m=h/(h-n),b.copy(c).addScaledVector(ve$$module$js$threejs$three_min,m);h=k*n-a*l;if(0>=h&&0<=l-k&&0<=a-n)return Cj$$module$js$threejs$three_min.subVectors(e,d),m=(l-k)/(l-k+(a-n)),b.copy(d).addScaledVector(Cj$$module$js$threejs$three_min,m);e=1/(h+g+m);d=g*e;m*=e;return b.copy(c).addScaledVector(ue$$module$js$threejs$three_min,d).addScaledVector(ve$$module$js$threejs$three_min,m)};
Ga$$module$js$threejs$three_min.prototype.equals=function(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)};
var Dj$$module$js$threejs$three_min={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,
darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,
greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,
lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,
palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,
steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Bb$$module$js$threejs$three_min={h:0,s:0,l:0},Ig$$module$js$threejs$three_min={h:0,s:0,l:0},S$$module$js$threejs$three_min=function(a,b,c){Object.defineProperty(this,"isColor",{value:!0});return void 0===b&&void 0===c?this.set(a):this.setRGB(a,b,c)};
S$$module$js$threejs$three_min.prototype.set=function(a){a&&a.isColor?this.copy(a):"number"===typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a);return this};S$$module$js$threejs$three_min.prototype.setScalar=function(a){this.b=this.g=this.r=a;return this};S$$module$js$threejs$three_min.prototype.setHex=function(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this};
S$$module$js$threejs$three_min.prototype.setRGB=function(a,b,c){this.r=a;this.g=b;this.b=c;return this};
S$$module$js$threejs$three_min.prototype.setHSL=function(a,b,c){a=xa$$module$js$threejs$three_min.euclideanModulo(a,1);b=xa$$module$js$threejs$three_min.clamp(b,0,1);c=xa$$module$js$threejs$three_min.clamp(c,0,1);0===b?this.r=this.g=this.b=c:(b=.5>=c?c*(1+b):c+b-c*b,c=2*c-b,this.r=fh$$module$js$threejs$three_min(c,b,a+1/3),this.g=fh$$module$js$threejs$three_min(c,b,a),this.b=fh$$module$js$threejs$three_min(c,b,a-1/3));return this};
S$$module$js$threejs$three_min.prototype.setStyle=function(a){function b(h){void 0!==h&&1>parseFloat(h)&&console.warn("THREE.Color: Alpha component of "+a+" will be ignored.")}var c;if(c=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(a)){var d=c[2];switch(c[1]){case "rgb":case "rgba":if(c=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=Math.min(255,parseInt(c[1],10))/255,this.g=Math.min(255,parseInt(c[2],10))/255,this.b=Math.min(255,parseInt(c[3],10))/255,b(c[5]),this;
if(c=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=Math.min(100,parseInt(c[1],10))/100,this.g=Math.min(100,parseInt(c[2],10))/100,this.b=Math.min(100,parseInt(c[3],10))/100,b(c[5]),this;break;case "hsl":case "hsla":if(c=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d)){d=parseFloat(c[1])/360;var e=parseInt(c[2],10)/100,g=parseInt(c[3],10)/100;b(c[5]);return this.setHSL(d,e,g)}}}else if(c=/^#([A-Fa-f0-9]+)$/.exec(a)){c=
c[1];d=c.length;if(3===d)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===d)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}return a&&0<a.length?this.setColorName(a):this};
S$$module$js$threejs$three_min.prototype.setColorName=function(a){var b=Dj$$module$js$threejs$three_min[a];void 0!==b?this.setHex(b):console.warn("THREE.Color: Unknown color "+a);return this};S$$module$js$threejs$three_min.prototype.clone=function(){return new this.constructor(this.r,this.g,this.b)};S$$module$js$threejs$three_min.prototype.copy=function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this};
S$$module$js$threejs$three_min.prototype.copyGammaToLinear=function(a,b){void 0===b&&(b=2);this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this};S$$module$js$threejs$three_min.prototype.copyLinearToGamma=function(a,b){void 0===b&&(b=2);b=0<b?1/b:1;this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this};S$$module$js$threejs$three_min.prototype.convertGammaToLinear=function(a){this.copyGammaToLinear(this,a);return this};
S$$module$js$threejs$three_min.prototype.convertLinearToGamma=function(a){this.copyLinearToGamma(this,a);return this};S$$module$js$threejs$three_min.prototype.copySRGBToLinear=function(a){this.r=gh$$module$js$threejs$three_min(a.r);this.g=gh$$module$js$threejs$three_min(a.g);this.b=gh$$module$js$threejs$three_min(a.b);return this};
S$$module$js$threejs$three_min.prototype.copyLinearToSRGB=function(a){this.r=hh$$module$js$threejs$three_min(a.r);this.g=hh$$module$js$threejs$three_min(a.g);this.b=hh$$module$js$threejs$three_min(a.b);return this};S$$module$js$threejs$three_min.prototype.convertSRGBToLinear=function(){this.copySRGBToLinear(this);return this};S$$module$js$threejs$three_min.prototype.convertLinearToSRGB=function(){this.copyLinearToSRGB(this);return this};
S$$module$js$threejs$three_min.prototype.getHex=function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0};S$$module$js$threejs$three_min.prototype.getHexString=function(){return("000000"+this.getHex().toString(16)).slice(-6)};
S$$module$js$threejs$three_min.prototype.getHSL=function(a){void 0===a&&(console.warn("THREE.Color: .getHSL() target is now required"),a={h:0,s:0,l:0});var b=this.r,c=this.g,d=this.b,e=Math.max(b,c,d),g=Math.min(b,c,d),h,k=(g+e)/2;if(g===e)g=h=0;else{var l=e-g;g=.5>=k?l/(e+g):l/(2-e-g);switch(e){case b:h=(c-d)/l+(c<d?6:0);break;case c:h=(d-b)/l+2;break;case d:h=(b-c)/l+4}h/=6}a.h=h;a.s=g;a.l=k;return a};
S$$module$js$threejs$three_min.prototype.getStyle=function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"};S$$module$js$threejs$three_min.prototype.offsetHSL=function(a,b,c){this.getHSL(Bb$$module$js$threejs$three_min);Bb$$module$js$threejs$three_min.h+=a;Bb$$module$js$threejs$three_min.s+=b;Bb$$module$js$threejs$three_min.l+=c;this.setHSL(Bb$$module$js$threejs$three_min.h,Bb$$module$js$threejs$three_min.s,Bb$$module$js$threejs$three_min.l);return this};
S$$module$js$threejs$three_min.prototype.add=function(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this};S$$module$js$threejs$three_min.prototype.addColors=function(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this};S$$module$js$threejs$three_min.prototype.addScalar=function(a){this.r+=a;this.g+=a;this.b+=a;return this};S$$module$js$threejs$three_min.prototype.sub=function(a){this.r=Math.max(0,this.r-a.r);this.g=Math.max(0,this.g-a.g);this.b=Math.max(0,this.b-a.b);return this};
S$$module$js$threejs$three_min.prototype.multiply=function(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this};S$$module$js$threejs$three_min.prototype.multiplyScalar=function(a){this.r*=a;this.g*=a;this.b*=a;return this};S$$module$js$threejs$three_min.prototype.lerp=function(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this};
S$$module$js$threejs$three_min.prototype.lerpHSL=function(a,b){this.getHSL(Bb$$module$js$threejs$three_min);a.getHSL(Ig$$module$js$threejs$three_min);a=xa$$module$js$threejs$three_min.lerp(Bb$$module$js$threejs$three_min.h,Ig$$module$js$threejs$three_min.h,b);var c=xa$$module$js$threejs$three_min.lerp(Bb$$module$js$threejs$three_min.s,Ig$$module$js$threejs$three_min.s,b);b=xa$$module$js$threejs$three_min.lerp(Bb$$module$js$threejs$three_min.l,Ig$$module$js$threejs$three_min.l,b);this.setHSL(a,c,b);
return this};S$$module$js$threejs$three_min.prototype.equals=function(a){return a.r===this.r&&a.g===this.g&&a.b===this.b};S$$module$js$threejs$three_min.prototype.fromArray=function(a,b){void 0===b&&(b=0);this.r=a[b];this.g=a[b+1];this.b=a[b+2];return this};S$$module$js$threejs$three_min.prototype.toArray=function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a};
S$$module$js$threejs$three_min.prototype.fromBufferAttribute=function(a,b){this.r=a.getX(b);this.g=a.getY(b);this.b=a.getZ(b);!0===a.normalized&&(this.r/=255,this.g/=255,this.b/=255);return this};S$$module$js$threejs$three_min.prototype.toJSON=function(){return this.getHex()};S$$module$js$threejs$three_min.NAMES=Dj$$module$js$threejs$three_min;S$$module$js$threejs$three_min.prototype.r=1;S$$module$js$threejs$three_min.prototype.g=1;S$$module$js$threejs$three_min.prototype.b=1;
var ad$$module$js$threejs$three_min=function(a,b,c,d,e,g){this.a=a;this.b=b;this.c=c;this.normal=d&&d.isVector3?d:new w$$module$js$threejs$three_min;this.vertexNormals=Array.isArray(d)?d:[];this.color=e&&e.isColor?e:new S$$module$js$threejs$three_min;this.vertexColors=Array.isArray(e)?e:[];this.materialIndex=void 0!==g?g:0};ad$$module$js$threejs$three_min.prototype.clone=function(){return(new this.constructor).copy(this)};
ad$$module$js$threejs$three_min.prototype.copy=function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.normal.copy(a.normal);this.color.copy(a.color);this.materialIndex=a.materialIndex;for(var b=0,c=a.vertexNormals.length;b<c;b++)this.vertexNormals[b]=a.vertexNormals[b].clone();b=0;for(c=a.vertexColors.length;b<c;b++)this.vertexColors[b]=a.vertexColors[b].clone();return this};var jk$$module$js$threejs$three_min=0;
ra$$module$js$threejs$three_min.prototype=Object.assign(Object.create(wb$$module$js$threejs$three_min.prototype),{constructor:ra$$module$js$threejs$three_min,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(a){if(void 0!==a)for(var b in a){var c=a[b];if(void 0===c)console.warn("THREE.Material: '"+b+"' parameter is undefined.");else if("shading"===b)console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),
this.flatShading=1===c?!0:!1;else{var d=this[b];void 0===d?console.warn("THREE."+this.type+": '"+b+"' is not a property of this material."):d&&d.isColor?d.set(c):d&&d.isVector3&&c&&c.isVector3?d.copy(c):this[b]=c}}},toJSON:function(a){function b(e){var g=[],h;for(h in e){var k=e[h];delete k.metadata;g.push(k)}return g}var c=void 0===a||"string"===typeof a;c&&(a={textures:{},images:{}});var d={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};d.uuid=this.uuid;d.type=this.type;""!==
this.name&&(d.name=this.name);this.color&&this.color.isColor&&(d.color=this.color.getHex());void 0!==this.roughness&&(d.roughness=this.roughness);void 0!==this.metalness&&(d.metalness=this.metalness);this.sheen&&this.sheen.isColor&&(d.sheen=this.sheen.getHex());this.emissive&&this.emissive.isColor&&(d.emissive=this.emissive.getHex());this.emissiveIntensity&&1!==this.emissiveIntensity&&(d.emissiveIntensity=this.emissiveIntensity);this.specular&&this.specular.isColor&&(d.specular=this.specular.getHex());
void 0!==this.shininess&&(d.shininess=this.shininess);void 0!==this.clearcoat&&(d.clearcoat=this.clearcoat);void 0!==this.clearcoatRoughness&&(d.clearcoatRoughness=this.clearcoatRoughness);this.clearcoatMap&&this.clearcoatMap.isTexture&&(d.clearcoatMap=this.clearcoatMap.toJSON(a).uuid);this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(d.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(a).uuid);this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(d.clearcoatNormalMap=
this.clearcoatNormalMap.toJSON(a).uuid,d.clearcoatNormalScale=this.clearcoatNormalScale.toArray());this.map&&this.map.isTexture&&(d.map=this.map.toJSON(a).uuid);this.matcap&&this.matcap.isTexture&&(d.matcap=this.matcap.toJSON(a).uuid);this.alphaMap&&this.alphaMap.isTexture&&(d.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap&&this.lightMap.isTexture&&(d.lightMap=this.lightMap.toJSON(a).uuid);this.aoMap&&this.aoMap.isTexture&&(d.aoMap=this.aoMap.toJSON(a).uuid,d.aoMapIntensity=this.aoMapIntensity);
this.bumpMap&&this.bumpMap.isTexture&&(d.bumpMap=this.bumpMap.toJSON(a).uuid,d.bumpScale=this.bumpScale);this.normalMap&&this.normalMap.isTexture&&(d.normalMap=this.normalMap.toJSON(a).uuid,d.normalMapType=this.normalMapType,d.normalScale=this.normalScale.toArray());this.displacementMap&&this.displacementMap.isTexture&&(d.displacementMap=this.displacementMap.toJSON(a).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias);this.roughnessMap&&this.roughnessMap.isTexture&&
(d.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap&&this.metalnessMap.isTexture&&(d.metalnessMap=this.metalnessMap.toJSON(a).uuid);this.emissiveMap&&this.emissiveMap.isTexture&&(d.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap&&this.specularMap.isTexture&&(d.specularMap=this.specularMap.toJSON(a).uuid);this.envMap&&this.envMap.isTexture&&(d.envMap=this.envMap.toJSON(a).uuid,d.reflectivity=this.reflectivity,d.refractionRatio=this.refractionRatio,void 0!==this.combine&&
(d.combine=this.combine),void 0!==this.envMapIntensity&&(d.envMapIntensity=this.envMapIntensity));this.gradientMap&&this.gradientMap.isTexture&&(d.gradientMap=this.gradientMap.toJSON(a).uuid);void 0!==this.size&&(d.size=this.size);void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation);1!==this.blending&&(d.blending=this.blending);!0===this.flatShading&&(d.flatShading=this.flatShading);0!==this.side&&(d.side=this.side);this.vertexColors&&(d.vertexColors=!0);1>this.opacity&&(d.opacity=
this.opacity);!0===this.transparent&&(d.transparent=this.transparent);d.depthFunc=this.depthFunc;d.depthTest=this.depthTest;d.depthWrite=this.depthWrite;d.stencilWrite=this.stencilWrite;d.stencilWriteMask=this.stencilWriteMask;d.stencilFunc=this.stencilFunc;d.stencilRef=this.stencilRef;d.stencilFuncMask=this.stencilFuncMask;d.stencilFail=this.stencilFail;d.stencilZFail=this.stencilZFail;d.stencilZPass=this.stencilZPass;this.rotation&&0!==this.rotation&&(d.rotation=this.rotation);!0===this.polygonOffset&&
(d.polygonOffset=!0);0!==this.polygonOffsetFactor&&(d.polygonOffsetFactor=this.polygonOffsetFactor);0!==this.polygonOffsetUnits&&(d.polygonOffsetUnits=this.polygonOffsetUnits);this.linewidth&&1!==this.linewidth&&(d.linewidth=this.linewidth);void 0!==this.dashSize&&(d.dashSize=this.dashSize);void 0!==this.gapSize&&(d.gapSize=this.gapSize);void 0!==this.scale&&(d.scale=this.scale);!0===this.dithering&&(d.dithering=!0);0<this.alphaTest&&(d.alphaTest=this.alphaTest);!0===this.premultipliedAlpha&&(d.premultipliedAlpha=
this.premultipliedAlpha);!0===this.wireframe&&(d.wireframe=this.wireframe);1<this.wireframeLinewidth&&(d.wireframeLinewidth=this.wireframeLinewidth);"round"!==this.wireframeLinecap&&(d.wireframeLinecap=this.wireframeLinecap);"round"!==this.wireframeLinejoin&&(d.wireframeLinejoin=this.wireframeLinejoin);!0===this.morphTargets&&(d.morphTargets=!0);!0===this.morphNormals&&(d.morphNormals=!0);!0===this.skinning&&(d.skinning=!0);!1===this.visible&&(d.visible=!1);!1===this.toneMapped&&(d.toneMapped=!1);
"{}"!==JSON.stringify(this.userData)&&(d.userData=this.userData);c&&(c=b(a.textures),a=b(a.images),0<c.length&&(d.textures=c),0<a.length&&(d.images=a));return d},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=a.name;this.fog=a.fog;this.blending=a.blending;this.side=a.side;this.flatShading=a.flatShading;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;
this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.stencilWriteMask=a.stencilWriteMask;this.stencilFunc=a.stencilFunc;this.stencilRef=a.stencilRef;this.stencilFuncMask=a.stencilFuncMask;this.stencilFail=a.stencilFail;this.stencilZFail=a.stencilZFail;this.stencilZPass=a.stencilZPass;this.stencilWrite=a.stencilWrite;var b=a.clippingPlanes,c=null;if(null!==
b){var d=b.length;c=Array(d);for(var e=0;e!==d;++e)c[e]=b[e].clone()}this.clippingPlanes=c;this.clipIntersection=a.clipIntersection;this.clipShadows=a.clipShadows;this.shadowSide=a.shadowSide;this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.dithering=a.dithering;this.alphaTest=a.alphaTest;this.premultipliedAlpha=a.premultipliedAlpha;this.visible=a.visible;this.toneMapped=
a.toneMapped;this.userData=JSON.parse(JSON.stringify(a.userData));return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(ra$$module$js$threejs$three_min.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});Kb$$module$js$threejs$three_min.prototype=Object.create(ra$$module$js$threejs$three_min.prototype);Kb$$module$js$threejs$three_min.prototype.constructor=Kb$$module$js$threejs$three_min;
Kb$$module$js$threejs$three_min.prototype.isMeshBasicMaterial=!0;
Kb$$module$js$threejs$three_min.prototype.copy=function(a){ra$$module$js$threejs$three_min.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=
a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;return this};var Ua$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Jg$$module$js$threejs$three_min=new L$$module$js$threejs$three_min;Object.defineProperty(pa$$module$js$threejs$three_min.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});
Object.assign(pa$$module$js$threejs$three_min.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(a){this.usage=a;return this},copy:function(a){this.name=a.name;this.array=new a.array.constructor(a.array);this.itemSize=a.itemSize;this.count=a.count;this.normalized=a.normalized;this.usage=a.usage;return this},copyAt:function(a,b,c){a*=this.itemSize;c*=b.itemSize;for(var d=0,e=this.itemSize;d<e;d++)this.array[a+d]=b.array[c+d];return this},copyArray:function(a){this.array.set(a);
return this},copyColorsArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var g=a[d];void 0===g&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",d),g=new S$$module$js$threejs$three_min);b[c++]=g.r;b[c++]=g.g;b[c++]=g.b}return this},copyVector2sArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var g=a[d];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",d),g=new L$$module$js$threejs$three_min);b[c++]=
g.x;b[c++]=g.y}return this},copyVector3sArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var g=a[d];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",d),g=new w$$module$js$threejs$three_min);b[c++]=g.x;b[c++]=g.y;b[c++]=g.z}return this},copyVector4sArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var g=a[d];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",d),g=new ca$$module$js$threejs$three_min);
b[c++]=g.x;b[c++]=g.y;b[c++]=g.z;b[c++]=g.w}return this},applyMatrix3:function(a){if(2===this.itemSize)for(var b=0,c=this.count;b<c;b++)Jg$$module$js$threejs$three_min.fromBufferAttribute(this,b),Jg$$module$js$threejs$three_min.applyMatrix3(a),this.setXY(b,Jg$$module$js$threejs$three_min.x,Jg$$module$js$threejs$three_min.y);else if(3===this.itemSize)for(b=0,c=this.count;b<c;b++)Ua$$module$js$threejs$three_min.fromBufferAttribute(this,b),Ua$$module$js$threejs$three_min.applyMatrix3(a),this.setXYZ(b,
Ua$$module$js$threejs$three_min.x,Ua$$module$js$threejs$three_min.y,Ua$$module$js$threejs$three_min.z);return this},applyMatrix4:function(a){for(var b=0,c=this.count;b<c;b++)Ua$$module$js$threejs$three_min.x=this.getX(b),Ua$$module$js$threejs$three_min.y=this.getY(b),Ua$$module$js$threejs$three_min.z=this.getZ(b),Ua$$module$js$threejs$three_min.applyMatrix4(a),this.setXYZ(b,Ua$$module$js$threejs$three_min.x,Ua$$module$js$threejs$three_min.y,Ua$$module$js$threejs$three_min.z);return this},applyNormalMatrix:function(a){for(var b=
0,c=this.count;b<c;b++)Ua$$module$js$threejs$three_min.x=this.getX(b),Ua$$module$js$threejs$three_min.y=this.getY(b),Ua$$module$js$threejs$three_min.z=this.getZ(b),Ua$$module$js$threejs$three_min.applyNormalMatrix(a),this.setXYZ(b,Ua$$module$js$threejs$three_min.x,Ua$$module$js$threejs$three_min.y,Ua$$module$js$threejs$three_min.z);return this},transformDirection:function(a){for(var b=0,c=this.count;b<c;b++)Ua$$module$js$threejs$three_min.x=this.getX(b),Ua$$module$js$threejs$three_min.y=this.getY(b),
Ua$$module$js$threejs$three_min.z=this.getZ(b),Ua$$module$js$threejs$three_min.transformDirection(a),this.setXYZ(b,Ua$$module$js$threejs$three_min.x,Ua$$module$js$threejs$three_min.y,Ua$$module$js$threejs$three_min.z);return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},getX:function(a){return this.array[a*this.itemSize]},setX:function(a,b){this.array[a*this.itemSize]=b;return this},getY:function(a){return this.array[a*this.itemSize+1]},setY:function(a,b){this.array[a*
this.itemSize+1]=b;return this},getZ:function(a){return this.array[a*this.itemSize+2]},setZ:function(a,b){this.array[a*this.itemSize+2]=b;return this},getW:function(a){return this.array[a*this.itemSize+3]},setW:function(a,b){this.array[a*this.itemSize+3]=b;return this},setXY:function(a,b,c){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a*=this.itemSize;
this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;this.array[a+3]=e;return this},onUpload:function(a){this.onUploadCallback=a;return this},clone:function(){return(new this.constructor(this.array,this.itemSize)).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});Ce$$module$js$threejs$three_min.prototype=Object.create(pa$$module$js$threejs$three_min.prototype);
Ce$$module$js$threejs$three_min.prototype.constructor=Ce$$module$js$threejs$three_min;De$$module$js$threejs$three_min.prototype=Object.create(pa$$module$js$threejs$three_min.prototype);De$$module$js$threejs$three_min.prototype.constructor=De$$module$js$threejs$three_min;Ee$$module$js$threejs$three_min.prototype=Object.create(pa$$module$js$threejs$three_min.prototype);Ee$$module$js$threejs$three_min.prototype.constructor=Ee$$module$js$threejs$three_min;Fe$$module$js$threejs$three_min.prototype=Object.create(pa$$module$js$threejs$three_min.prototype);
Fe$$module$js$threejs$three_min.prototype.constructor=Fe$$module$js$threejs$three_min;Zc$$module$js$threejs$three_min.prototype=Object.create(pa$$module$js$threejs$three_min.prototype);Zc$$module$js$threejs$three_min.prototype.constructor=Zc$$module$js$threejs$three_min;Ge$$module$js$threejs$three_min.prototype=Object.create(pa$$module$js$threejs$three_min.prototype);Ge$$module$js$threejs$three_min.prototype.constructor=Ge$$module$js$threejs$three_min;$c$$module$js$threejs$three_min.prototype=Object.create(pa$$module$js$threejs$three_min.prototype);
$c$$module$js$threejs$three_min.prototype.constructor=$c$$module$js$threejs$three_min;ea$$module$js$threejs$three_min.prototype=Object.create(pa$$module$js$threejs$three_min.prototype);ea$$module$js$threejs$three_min.prototype.constructor=ea$$module$js$threejs$three_min;He$$module$js$threejs$three_min.prototype=Object.create(pa$$module$js$threejs$three_min.prototype);He$$module$js$threejs$three_min.prototype.constructor=He$$module$js$threejs$three_min;
var hi$$module$js$threejs$three_min=function(){this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1};
hi$$module$js$threejs$three_min.prototype.computeGroups=function(a){var b=[],c=void 0,d=a.faces;for(a=0;a<d.length;a++){var e=d[a];if(e.materialIndex!==c){c=e.materialIndex;void 0!==g&&(g.count=3*a-g.start,b.push(g));var g={start:3*a,materialIndex:c}}}void 0!==g&&(g.count=3*a-g.start,b.push(g));this.groups=b};
hi$$module$js$threejs$three_min.prototype.fromGeometry=function(a){var b=a.faces,c=a.vertices,d=a.faceVertexUvs,e=d[0]&&0<d[0].length,g=d[1]&&0<d[1].length,h=a.morphTargets,k=h.length;if(0<k){for(var l=[],m=0;m<k;m++)l[m]={name:h[m].name,data:[]};this.morphTargets.position=l}m=a.morphNormals;var n=m.length;if(0<n){for(var p=[],t=0;t<n;t++)p[t]={name:m[t].name,data:[]};this.morphTargets.normal=p}t=a.skinIndices;var w=a.skinWeights,x=t.length===c.length,A=w.length===c.length;0<c.length&&0===b.length&&
console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var r=0;r<b.length;r++){var E=b[r];this.vertices.push(c[E.a],c[E.b],c[E.c]);var B=E.vertexNormals;3===B.length?this.normals.push(B[0],B[1],B[2]):(B=E.normal,this.normals.push(B,B,B));B=E.vertexColors;3===B.length?this.colors.push(B[0],B[1],B[2]):(B=E.color,this.colors.push(B,B,B));!0===e&&(B=d[0][r],void 0!==B?this.uvs.push(B[0],B[1],B[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",r),this.uvs.push(new L$$module$js$threejs$three_min,
new L$$module$js$threejs$three_min,new L$$module$js$threejs$three_min)));!0===g&&(B=d[1][r],void 0!==B?this.uvs2.push(B[0],B[1],B[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",r),this.uvs2.push(new L$$module$js$threejs$three_min,new L$$module$js$threejs$three_min,new L$$module$js$threejs$three_min)));for(B=0;B<k;B++){var G=h[B].vertices;l[B].data.push(G[E.a],G[E.b],G[E.c])}for(B=0;B<n;B++)G=m[B].vertexNormals[r],p[B].data.push(G.a,G.b,G.c);x&&this.skinIndices.push(t[E.a],
t[E.b],t[E.c]);A&&this.skinWeights.push(w[E.a],w[E.b],w[E.c])}this.computeGroups(a);this.verticesNeedUpdate=a.verticesNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return this};
var kk$$module$js$threejs$three_min=1,ic$$module$js$threejs$three_min=new da$$module$js$threejs$three_min,ii$$module$js$threejs$three_min=new ha$$module$js$threejs$three_min,we$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Jb$$module$js$threejs$three_min=new za$$module$js$threejs$three_min,Ff$$module$js$threejs$three_min=new za$$module$js$threejs$three_min,jb$$module$js$threejs$three_min=new w$$module$js$threejs$three_min;
ka$$module$js$threejs$three_min.prototype=Object.assign(Object.create(wb$$module$js$threejs$three_min.prototype),{constructor:ka$$module$js$threejs$three_min,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(a){Array.isArray(a)?this.index=new (65535<vi$$module$js$threejs$three_min(a)?$c$$module$js$threejs$three_min:Zc$$module$js$threejs$three_min)(a,1):this.index=a},getAttribute:function(a){return this.attributes[a]},setAttribute:function(a,b){this.attributes[a]=b;return this},
deleteAttribute:function(a){delete this.attributes[a];return this},addGroup:function(a,b,c){this.groups.push({start:a,count:b,materialIndex:void 0!==c?c:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(a,b){this.drawRange.start=a;this.drawRange.count=b},applyMatrix4:function(a){var b=this.attributes.position;void 0!==b&&(b.applyMatrix4(a),b.needsUpdate=!0);b=this.attributes.normal;if(void 0!==b){var c=(new Da$$module$js$threejs$three_min).getNormalMatrix(a);b.applyNormalMatrix(c);
b.needsUpdate=!0}b=this.attributes.tangent;void 0!==b&&(b.transformDirection(a),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();return this},rotateX:function(a){ic$$module$js$threejs$three_min.makeRotationX(a);this.applyMatrix4(ic$$module$js$threejs$three_min);return this},rotateY:function(a){ic$$module$js$threejs$three_min.makeRotationY(a);this.applyMatrix4(ic$$module$js$threejs$three_min);return this},rotateZ:function(a){ic$$module$js$threejs$three_min.makeRotationZ(a);
this.applyMatrix4(ic$$module$js$threejs$three_min);return this},translate:function(a,b,c){ic$$module$js$threejs$three_min.makeTranslation(a,b,c);this.applyMatrix4(ic$$module$js$threejs$three_min);return this},scale:function(a,b,c){ic$$module$js$threejs$three_min.makeScale(a,b,c);this.applyMatrix4(ic$$module$js$threejs$three_min);return this},lookAt:function(a){ii$$module$js$threejs$three_min.lookAt(a);ii$$module$js$threejs$three_min.updateMatrix();this.applyMatrix4(ii$$module$js$threejs$three_min.matrix);
return this},center:function(){this.computeBoundingBox();this.boundingBox.getCenter(we$$module$js$threejs$three_min).negate();this.translate(we$$module$js$threejs$three_min.x,we$$module$js$threejs$three_min.y,we$$module$js$threejs$three_min.z);return this},setFromObject:function(a){var b=a.geometry;if(a.isPoints||a.isLine){a=new ea$$module$js$threejs$three_min(3*b.vertices.length,3);var c=new ea$$module$js$threejs$three_min(3*b.colors.length,3);this.setAttribute("position",a.copyVector3sArray(b.vertices));
this.setAttribute("color",c.copyColorsArray(b.colors));b.lineDistances&&b.lineDistances.length===b.vertices.length&&(a=new ea$$module$js$threejs$three_min(b.lineDistances.length,1),this.setAttribute("lineDistance",a.copyArray(b.lineDistances)));null!==b.boundingSphere&&(this.boundingSphere=b.boundingSphere.clone());null!==b.boundingBox&&(this.boundingBox=b.boundingBox.clone())}else a.isMesh&&b&&b.isGeometry&&this.fromGeometry(b);return this},setFromPoints:function(a){for(var b=[],c=0,d=a.length;c<
d;c++){var e=a[c];b.push(e.x,e.y,e.z||0)}this.setAttribute("position",new ea$$module$js$threejs$three_min(b,3));return this},updateFromObject:function(a){var b=a.geometry;if(a.isMesh){var c=b.__directGeometry;!0===b.elementsNeedUpdate&&(c=void 0,b.elementsNeedUpdate=!1);if(void 0===c)return this.fromGeometry(b);c.verticesNeedUpdate=b.verticesNeedUpdate;c.normalsNeedUpdate=b.normalsNeedUpdate;c.colorsNeedUpdate=b.colorsNeedUpdate;c.uvsNeedUpdate=b.uvsNeedUpdate;c.groupsNeedUpdate=b.groupsNeedUpdate;
b.verticesNeedUpdate=!1;b.normalsNeedUpdate=!1;b.colorsNeedUpdate=!1;b.uvsNeedUpdate=!1;b.groupsNeedUpdate=!1;b=c}!0===b.verticesNeedUpdate&&(c=this.attributes.position,void 0!==c&&(c.copyVector3sArray(b.vertices),c.needsUpdate=!0),b.verticesNeedUpdate=!1);!0===b.normalsNeedUpdate&&(c=this.attributes.normal,void 0!==c&&(c.copyVector3sArray(b.normals),c.needsUpdate=!0),b.normalsNeedUpdate=!1);!0===b.colorsNeedUpdate&&(c=this.attributes.color,void 0!==c&&(c.copyColorsArray(b.colors),c.needsUpdate=!0),
b.colorsNeedUpdate=!1);b.uvsNeedUpdate&&(c=this.attributes.uv,void 0!==c&&(c.copyVector2sArray(b.uvs),c.needsUpdate=!0),b.uvsNeedUpdate=!1);b.lineDistancesNeedUpdate&&(c=this.attributes.lineDistance,void 0!==c&&(c.copyArray(b.lineDistances),c.needsUpdate=!0),b.lineDistancesNeedUpdate=!1);b.groupsNeedUpdate&&(b.computeGroups(a.geometry),this.groups=b.groups,b.groupsNeedUpdate=!1);return this},fromGeometry:function(a){a.__directGeometry=(new hi$$module$js$threejs$three_min).fromGeometry(a);return this.fromDirectGeometry(a.__directGeometry)},
fromDirectGeometry:function(a){var b=new Float32Array(3*a.vertices.length);this.setAttribute("position",(new pa$$module$js$threejs$three_min(b,3)).copyVector3sArray(a.vertices));0<a.normals.length&&(b=new Float32Array(3*a.normals.length),this.setAttribute("normal",(new pa$$module$js$threejs$three_min(b,3)).copyVector3sArray(a.normals)));0<a.colors.length&&(b=new Float32Array(3*a.colors.length),this.setAttribute("color",(new pa$$module$js$threejs$three_min(b,3)).copyColorsArray(a.colors)));0<a.uvs.length&&
(b=new Float32Array(2*a.uvs.length),this.setAttribute("uv",(new pa$$module$js$threejs$three_min(b,2)).copyVector2sArray(a.uvs)));0<a.uvs2.length&&(b=new Float32Array(2*a.uvs2.length),this.setAttribute("uv2",(new pa$$module$js$threejs$three_min(b,2)).copyVector2sArray(a.uvs2)));this.groups=a.groups;for(var c in a.morphTargets){b=[];for(var d=a.morphTargets[c],e=0,g=d.length;e<g;e++){var h=d[e],k=new ea$$module$js$threejs$three_min(3*h.data.length,3);k.name=h.name;b.push(k.copyVector3sArray(h.data))}this.morphAttributes[c]=
b}0<a.skinIndices.length&&(c=new ea$$module$js$threejs$three_min(4*a.skinIndices.length,4),this.setAttribute("skinIndex",c.copyVector4sArray(a.skinIndices)));0<a.skinWeights.length&&(c=new ea$$module$js$threejs$three_min(4*a.skinWeights.length,4),this.setAttribute("skinWeight",c.copyVector4sArray(a.skinWeights)));null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return this},computeBoundingBox:function(){null===this.boundingBox&&
(this.boundingBox=new za$$module$js$threejs$three_min);var a=this.attributes.position,b=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new w$$module$js$threejs$three_min(-Infinity,-Infinity,-Infinity),new w$$module$js$threejs$three_min(Infinity,Infinity,Infinity));else{if(void 0!==a){if(this.boundingBox.setFromBufferAttribute(a),
b){a=0;for(var c=b.length;a<c;a++)Jb$$module$js$threejs$three_min.setFromBufferAttribute(b[a]),this.morphTargetsRelative?(jb$$module$js$threejs$three_min.addVectors(this.boundingBox.min,Jb$$module$js$threejs$three_min.min),this.boundingBox.expandByPoint(jb$$module$js$threejs$three_min),jb$$module$js$threejs$three_min.addVectors(this.boundingBox.max,Jb$$module$js$threejs$three_min.max),this.boundingBox.expandByPoint(jb$$module$js$threejs$three_min)):(this.boundingBox.expandByPoint(Jb$$module$js$threejs$three_min.min),
this.boundingBox.expandByPoint(Jb$$module$js$threejs$three_min.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Wa$$module$js$threejs$three_min);var a=this.attributes.position,
b=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new w$$module$js$threejs$three_min,Infinity);else if(a){var c=this.boundingSphere.center;Jb$$module$js$threejs$three_min.setFromBufferAttribute(a);if(b)for(var d=0,e=b.length;d<e;d++)Ff$$module$js$threejs$three_min.setFromBufferAttribute(b[d]),this.morphTargetsRelative?
(jb$$module$js$threejs$three_min.addVectors(Jb$$module$js$threejs$three_min.min,Ff$$module$js$threejs$three_min.min),Jb$$module$js$threejs$three_min.expandByPoint(jb$$module$js$threejs$three_min),jb$$module$js$threejs$three_min.addVectors(Jb$$module$js$threejs$three_min.max,Ff$$module$js$threejs$three_min.max),Jb$$module$js$threejs$three_min.expandByPoint(jb$$module$js$threejs$three_min)):(Jb$$module$js$threejs$three_min.expandByPoint(Ff$$module$js$threejs$three_min.min),Jb$$module$js$threejs$three_min.expandByPoint(Ff$$module$js$threejs$three_min.max));
Jb$$module$js$threejs$three_min.getCenter(c);e=d=0;for(var g=a.count;e<g;e++)jb$$module$js$threejs$three_min.fromBufferAttribute(a,e),d=Math.max(d,c.distanceToSquared(jb$$module$js$threejs$three_min));if(b)for(e=0,g=b.length;e<g;e++)for(var h=b[e],k=this.morphTargetsRelative,l=0,m=h.count;l<m;l++)jb$$module$js$threejs$three_min.fromBufferAttribute(h,l),k&&(we$$module$js$threejs$three_min.fromBufferAttribute(a,l),jb$$module$js$threejs$three_min.add(we$$module$js$threejs$three_min)),d=Math.max(d,c.distanceToSquared(jb$$module$js$threejs$three_min));
this.boundingSphere.radius=Math.sqrt(d);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var a=this.index,b=this.getAttribute("position");if(void 0!==b){var c=this.getAttribute("normal");if(void 0===c)c=new pa$$module$js$threejs$three_min(new Float32Array(3*b.count),3),this.setAttribute("normal",c);else for(var d=
0,e=c.count;d<e;d++)c.setXYZ(d,0,0,0);d=new w$$module$js$threejs$three_min;e=new w$$module$js$threejs$three_min;var g=new w$$module$js$threejs$three_min,h=new w$$module$js$threejs$three_min,k=new w$$module$js$threejs$three_min,l=new w$$module$js$threejs$three_min,m=new w$$module$js$threejs$three_min,n=new w$$module$js$threejs$three_min;if(a)for(var p=0,t=a.count;p<t;p+=3){var w=a.getX(p+0),x=a.getX(p+1),A=a.getX(p+2);d.fromBufferAttribute(b,w);e.fromBufferAttribute(b,x);g.fromBufferAttribute(b,A);
m.subVectors(g,e);n.subVectors(d,e);m.cross(n);h.fromBufferAttribute(c,w);k.fromBufferAttribute(c,x);l.fromBufferAttribute(c,A);h.add(m);k.add(m);l.add(m);c.setXYZ(w,h.x,h.y,h.z);c.setXYZ(x,k.x,k.y,k.z);c.setXYZ(A,l.x,l.y,l.z)}else for(a=0,h=b.count;a<h;a+=3)d.fromBufferAttribute(b,a+0),e.fromBufferAttribute(b,a+1),g.fromBufferAttribute(b,a+2),m.subVectors(g,e),n.subVectors(d,e),m.cross(n),c.setXYZ(a+0,m.x,m.y,m.z),c.setXYZ(a+1,m.x,m.y,m.z),c.setXYZ(a+2,m.x,m.y,m.z);this.normalizeNormals();c.needsUpdate=
!0}},merge:function(a,b){if(a&&a.isBufferGeometry){void 0===b&&(b=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var c=this.attributes,d;for(d in c)if(void 0!==a.attributes[d]){var e=c[d].array,g=a.attributes[d],h=g.array,k=g.itemSize*b;g=Math.min(h.length,e.length-k);for(var l=0;l<g;l++,k++)e[k]=h[l]}return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",
a)},normalizeNormals:function(){for(var a=this.attributes.normal,b=0,c=a.count;b<c;b++)jb$$module$js$threejs$three_min.fromBufferAttribute(a,b),jb$$module$js$threejs$three_min.normalize(),a.setXYZ(b,jb$$module$js$threejs$three_min.x,jb$$module$js$threejs$three_min.y,jb$$module$js$threejs$three_min.z)},toNonIndexed:function(){function a(n,p){var t=n.array,w=n.itemSize;n=n.normalized;for(var x=new t.constructor(p.length*w),A,r=0,E=0,B=p.length;E<B;E++){A=p[E]*w;for(var G=0;G<w;G++)x[r++]=t[A++]}return new pa$$module$js$threejs$three_min(x,
w,n)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var b=new ka$$module$js$threejs$three_min,c=this.index.array,d=this.attributes;for(h in d){var e=a(d[h],c);b.setAttribute(h,e)}d=this.morphAttributes;for(var g in d){var h=[];e=d[g];for(var k=0,l=e.length;k<l;k++){var m=a(e[k],c);h.push(m)}b.morphAttributes[g]=h}b.morphTargetsRelative=this.morphTargetsRelative;c=this.groups;g=0;for(d=c.length;g<d;g++)h=c[g],b.addGroup(h.start,
h.count,h.materialIndex);return b},toJSON:function(){var a={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};a.uuid=this.uuid;a.type=this.type;""!==this.name&&(a.name=this.name);0<Object.keys(this.userData).length&&(a.userData=this.userData);if(void 0!==this.parameters){var b=this.parameters;for(c in b)void 0!==b[c]&&(a[c]=b[c]);return a}a.data={attributes:{}};var c=this.index;null!==c&&(a.data.index={type:c.array.constructor.name,array:Array.prototype.slice.call(c.array)});
c=this.attributes;for(var d in c){var e=c[d],g=e.toJSON(a.data);""!==e.name&&(g.name=e.name);a.data.attributes[d]=g}d={};c=!1;for(b in this.morphAttributes){e=this.morphAttributes[b];g=[];for(var h=0,k=e.length;h<k;h++){var l=e[h],m=l.toJSON(a.data);""!==l.name&&(m.name=l.name);g.push(m)}0<g.length&&(d[b]=g,c=!0)}c&&(a.data.morphAttributes=d,a.data.morphTargetsRelative=this.morphTargetsRelative);b=this.groups;0<b.length&&(a.data.groups=JSON.parse(JSON.stringify(b)));b=this.boundingSphere;null!==b&&
(a.data.boundingSphere={center:b.center.toArray(),radius:b.radius});return a},clone:function(){return(new ka$$module$js$threejs$three_min).copy(this)},copy:function(a){this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;var b={};this.name=a.name;var c=a.index;null!==c&&this.setIndex(c.clone(b));c=a.attributes;for(var d in c)this.setAttribute(d,c[d].clone(b));d=a.morphAttributes;for(var e in d){c=[];for(var g=d[e],h=0,k=g.length;h<k;h++)c.push(g[h].clone(b));
this.morphAttributes[e]=c}this.morphTargetsRelative=a.morphTargetsRelative;b=a.groups;e=0;for(d=b.length;e<d;e++)c=b[e],this.addGroup(c.start,c.count,c.materialIndex);b=a.boundingBox;null!==b&&(this.boundingBox=b.clone());b=a.boundingSphere;null!==b&&(this.boundingSphere=b.clone());this.drawRange.start=a.drawRange.start;this.drawRange.count=a.drawRange.count;this.userData=a.userData;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
var Ej$$module$js$threejs$three_min=new da$$module$js$threejs$three_min,td$$module$js$threejs$three_min=new Ta$$module$js$threejs$three_min,ji$$module$js$threejs$three_min=new Wa$$module$js$threejs$three_min,yc$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,zc$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Ac$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,ih$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,jh$$module$js$threejs$three_min=
new w$$module$js$threejs$three_min,kh$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Qf$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Rf$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Sf$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Cd$$module$js$threejs$three_min=new L$$module$js$threejs$three_min,Dd$$module$js$threejs$three_min=new L$$module$js$threejs$three_min,Ed$$module$js$threejs$three_min=new L$$module$js$threejs$three_min,
Ie$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Of$$module$js$threejs$three_min=new w$$module$js$threejs$three_min;
Qa$$module$js$threejs$three_min.prototype=Object.assign(Object.create(ha$$module$js$threejs$three_min.prototype),{constructor:Qa$$module$js$threejs$three_min,isMesh:!0,copy:function(a){ha$$module$js$threejs$three_min.prototype.copy.call(this,a);void 0!==a.morphTargetInfluences&&(this.morphTargetInfluences=a.morphTargetInfluences.slice());void 0!==a.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},a.morphTargetDictionary));this.material=a.material;this.geometry=a.geometry;return this},
updateMorphTargets:function(){var a=this.geometry;if(a.isBufferGeometry){a=a.morphAttributes;var b=Object.keys(a);if(0<b.length&&(a=a[b[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};b=0;for(var c=a.length;b<c;b++){var d=a[b].name||String(b);this.morphTargetInfluences.push(0);this.morphTargetDictionary[d]=b}}}else a=a.morphTargets,void 0!==a&&0<a.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},
raycast:function(a,b){var c=this.geometry,d=this.material,e=this.matrixWorld;if(void 0!==d&&(null===c.boundingSphere&&c.computeBoundingSphere(),ji$$module$js$threejs$three_min.copy(c.boundingSphere),ji$$module$js$threejs$three_min.applyMatrix4(e),!1!==a.ray.intersectsSphere(ji$$module$js$threejs$three_min)&&(Ej$$module$js$threejs$three_min.getInverse(e),td$$module$js$threejs$three_min.copy(a.ray).applyMatrix4(Ej$$module$js$threejs$three_min),null===c.boundingBox||!1!==td$$module$js$threejs$three_min.intersectsBox(c.boundingBox))))if(c.isBufferGeometry){var g=
c.index,h=c.attributes.position;e=c.morphAttributes.position;var k=c.morphTargetsRelative,l=c.attributes.uv,m=c.attributes.uv2,n=c.groups,p=c.drawRange;if(null!==g)if(Array.isArray(d))for(var t=0,w=n.length;t<w;t++)for(var x=n[t],A=d[x.materialIndex],r=Math.max(x.start,p.start),E=Math.min(x.start+x.count,p.start+p.count);r<E;r+=3){c=g.getX(r);var B=g.getX(r+1),G=g.getX(r+2);if(c=Pf$$module$js$threejs$three_min(this,A,a,td$$module$js$threejs$three_min,h,e,k,l,m,c,B,G))c.faceIndex=Math.floor(r/3),c.face.materialIndex=
x.materialIndex,b.push(c)}else for(n=Math.max(0,p.start),p=Math.min(g.count,p.start+p.count);n<p;n+=3){if(c=g.getX(n),t=g.getX(n+1),w=g.getX(n+2),c=Pf$$module$js$threejs$three_min(this,d,a,td$$module$js$threejs$three_min,h,e,k,l,m,c,t,w))c.faceIndex=Math.floor(n/3),b.push(c)}else if(void 0!==h)if(Array.isArray(d))for(g=0,t=n.length;g<t;g++)for(w=n[g],x=d[w.materialIndex],A=Math.max(w.start,p.start),r=Math.min(w.start+w.count,p.start+p.count);A<r;A+=3){if(c=Pf$$module$js$threejs$three_min(this,x,a,
td$$module$js$threejs$three_min,h,e,k,l,m,A,A+1,A+2))c.faceIndex=Math.floor(A/3),c.face.materialIndex=w.materialIndex,b.push(c)}else for(n=Math.max(0,p.start),p=Math.min(h.count,p.start+p.count);n<p;n+=3)if(c=Pf$$module$js$threejs$three_min(this,d,a,td$$module$js$threejs$three_min,h,e,k,l,m,n,n+1,n+2))c.faceIndex=Math.floor(n/3),b.push(c)}else if(c.isGeometry)for(e=Array.isArray(d),k=c.vertices,l=c.faces,c=c.faceVertexUvs[0],0<c.length&&(h=c),m=0,p=l.length;m<p;m++)if(n=l[m],c=e?d[n.materialIndex]:
d,void 0!==c&&(g=k[n.a],t=k[n.b],w=k[n.c],c=wi$$module$js$threejs$three_min(this,c,a,td$$module$js$threejs$three_min,g,t,w,Ie$$module$js$threejs$three_min)))h&&h[m]&&(x=h[m],Cd$$module$js$threejs$three_min.copy(x[0]),Dd$$module$js$threejs$three_min.copy(x[1]),Ed$$module$js$threejs$three_min.copy(x[2]),c.uv=Ga$$module$js$threejs$three_min.getUV(Ie$$module$js$threejs$three_min,g,t,w,Cd$$module$js$threejs$three_min,Dd$$module$js$threejs$three_min,Ed$$module$js$threejs$three_min,new L$$module$js$threejs$three_min)),
c.face=n,c.faceIndex=m,b.push(c)}});var lk$$module$js$threejs$three_min=0,jc$$module$js$threejs$three_min=new da$$module$js$threejs$three_min,ki$$module$js$threejs$three_min=new ha$$module$js$threejs$three_min,Kg$$module$js$threejs$three_min=new w$$module$js$threejs$three_min;
sa$$module$js$threejs$three_min.prototype=Object.assign(Object.create(wb$$module$js$threejs$three_min.prototype),{constructor:sa$$module$js$threejs$three_min,isGeometry:!0,applyMatrix4:function(a){for(var b=(new Da$$module$js$threejs$three_min).getNormalMatrix(a),c=0,d=this.vertices.length;c<d;c++)this.vertices[c].applyMatrix4(a);a=0;for(c=this.faces.length;a<c;a++){d=this.faces[a];d.normal.applyMatrix3(b).normalize();for(var e=0,g=d.vertexNormals.length;e<g;e++)d.vertexNormals[e].applyMatrix3(b).normalize()}null!==
this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();this.normalsNeedUpdate=this.verticesNeedUpdate=!0;return this},rotateX:function(a){jc$$module$js$threejs$three_min.makeRotationX(a);this.applyMatrix4(jc$$module$js$threejs$three_min);return this},rotateY:function(a){jc$$module$js$threejs$three_min.makeRotationY(a);this.applyMatrix4(jc$$module$js$threejs$three_min);return this},rotateZ:function(a){jc$$module$js$threejs$three_min.makeRotationZ(a);this.applyMatrix4(jc$$module$js$threejs$three_min);
return this},translate:function(a,b,c){jc$$module$js$threejs$three_min.makeTranslation(a,b,c);this.applyMatrix4(jc$$module$js$threejs$three_min);return this},scale:function(a,b,c){jc$$module$js$threejs$three_min.makeScale(a,b,c);this.applyMatrix4(jc$$module$js$threejs$three_min);return this},lookAt:function(a){ki$$module$js$threejs$three_min.lookAt(a);ki$$module$js$threejs$three_min.updateMatrix();this.applyMatrix4(ki$$module$js$threejs$three_min.matrix);return this},fromBufferGeometry:function(a){function b(w,
x,A,r){var E=void 0===k?[]:[c.colors[w].clone(),c.colors[x].clone(),c.colors[A].clone()],B=void 0===h?[]:[(new w$$module$js$threejs$three_min).fromBufferAttribute(h,w),(new w$$module$js$threejs$three_min).fromBufferAttribute(h,x),(new w$$module$js$threejs$three_min).fromBufferAttribute(h,A)];r=new ad$$module$js$threejs$three_min(w,x,A,B,E,r);c.faces.push(r);void 0!==l&&c.faceVertexUvs[0].push([(new L$$module$js$threejs$three_min).fromBufferAttribute(l,w),(new L$$module$js$threejs$three_min).fromBufferAttribute(l,
x),(new L$$module$js$threejs$three_min).fromBufferAttribute(l,A)]);void 0!==m&&c.faceVertexUvs[1].push([(new L$$module$js$threejs$three_min).fromBufferAttribute(m,w),(new L$$module$js$threejs$three_min).fromBufferAttribute(m,x),(new L$$module$js$threejs$three_min).fromBufferAttribute(m,A)])}var c=this,d=null!==a.index?a.index:void 0,e=a.attributes;if(void 0===e.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var g=e.position,h=
e.normal,k=e.color,l=e.uv,m=e.uv2;void 0!==m&&(this.faceVertexUvs[1]=[]);for(e=0;e<g.count;e++)c.vertices.push((new w$$module$js$threejs$three_min).fromBufferAttribute(g,e)),void 0!==k&&c.colors.push((new S$$module$js$threejs$three_min).fromBufferAttribute(k,e));e=a.groups;if(0<e.length)for(g=0;g<e.length;g++){var n=e[g],p=n.start,t=p;for(p+=n.count;t<p;t+=3)void 0!==d?b(d.getX(t),d.getX(t+1),d.getX(t+2),n.materialIndex):b(t,t+1,t+2,n.materialIndex)}else if(void 0!==d)for(e=0;e<d.count;e+=3)b(d.getX(e),
d.getX(e+1),d.getX(e+2));else for(d=0;d<g.count;d+=3)b(d,d+1,d+2);this.computeFaceNormals();null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this},center:function(){this.computeBoundingBox();this.boundingBox.getCenter(Kg$$module$js$threejs$three_min).negate();this.translate(Kg$$module$js$threejs$three_min.x,Kg$$module$js$threejs$three_min.y,Kg$$module$js$threejs$three_min.z);return this},normalize:function(){this.computeBoundingSphere();
var a=this.boundingSphere.center,b=this.boundingSphere.radius;b=0===b?1:1/b;var c=new da$$module$js$threejs$three_min;c.set(b,0,0,-b*a.x,0,b,0,-b*a.y,0,0,b,-b*a.z,0,0,0,1);this.applyMatrix4(c);return this},computeFaceNormals:function(){for(var a=new w$$module$js$threejs$three_min,b=new w$$module$js$threejs$three_min,c=0,d=this.faces.length;c<d;c++){var e=this.faces[c],g=this.vertices[e.a],h=this.vertices[e.b];a.subVectors(this.vertices[e.c],h);b.subVectors(g,h);a.cross(b);a.normalize();e.normal.copy(a)}},
computeVertexNormals:function(a){void 0===a&&(a=!0);for(var b=Array(this.vertices.length),c=0,d=this.vertices.length;c<d;c++)b[c]=new w$$module$js$threejs$three_min;if(a){a=new w$$module$js$threejs$three_min;c=new w$$module$js$threejs$three_min;d=0;for(var e=this.faces.length;d<e;d++){var g=this.faces[d],h=this.vertices[g.a],k=this.vertices[g.b];a.subVectors(this.vertices[g.c],k);c.subVectors(h,k);a.cross(c);b[g.a].add(a);b[g.b].add(a);b[g.c].add(a)}}else for(this.computeFaceNormals(),a=0,c=this.faces.length;a<
c;a++)d=this.faces[a],b[d.a].add(d.normal),b[d.b].add(d.normal),b[d.c].add(d.normal);a=0;for(c=this.vertices.length;a<c;a++)b[a].normalize();a=0;for(c=this.faces.length;a<c;a++)d=this.faces[a],e=d.vertexNormals,3===e.length?(e[0].copy(b[d.a]),e[1].copy(b[d.b]),e[2].copy(b[d.c])):(e[0]=b[d.a].clone(),e[1]=b[d.b].clone(),e[2]=b[d.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(var a=0,b=this.faces.length;a<b;a++){var c=
this.faces[a],d=c.vertexNormals;3===d.length?(d[0].copy(c.normal),d[1].copy(c.normal),d[2].copy(c.normal)):(d[0]=c.normal.clone(),d[1]=c.normal.clone(),d[2]=c.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(var a=0,b=this.faces.length;a<b;a++){var c=this.faces[a];c.__originalFaceNormal?c.__originalFaceNormal.copy(c.normal):c.__originalFaceNormal=c.normal.clone();c.__originalVertexNormals||(c.__originalVertexNormals=[]);for(var d=0,e=c.vertexNormals.length;d<
e;d++)c.__originalVertexNormals[d]?c.__originalVertexNormals[d].copy(c.vertexNormals[d]):c.__originalVertexNormals[d]=c.vertexNormals[d].clone()}a=new sa$$module$js$threejs$three_min;a.faces=this.faces;b=0;for(c=this.morphTargets.length;b<c;b++){if(!this.morphNormals[b]){this.morphNormals[b]={};this.morphNormals[b].faceNormals=[];this.morphNormals[b].vertexNormals=[];d=this.morphNormals[b].faceNormals;e=this.morphNormals[b].vertexNormals;for(var g=0,h=this.faces.length;g<h;g++){var k=new w$$module$js$threejs$three_min,
l={a:new w$$module$js$threejs$three_min,b:new w$$module$js$threejs$three_min,c:new w$$module$js$threejs$three_min};d.push(k);e.push(l)}}d=this.morphNormals[b];a.vertices=this.morphTargets[b].vertices;a.computeFaceNormals();a.computeVertexNormals();e=0;for(g=this.faces.length;e<g;e++)h=this.faces[e],k=d.vertexNormals[e],d.faceNormals[e].copy(h.normal),k.a.copy(h.vertexNormals[0]),k.b.copy(h.vertexNormals[1]),k.c.copy(h.vertexNormals[2])}a=0;for(b=this.faces.length;a<b;a++)c=this.faces[a],c.normal=
c.__originalFaceNormal,c.vertexNormals=c.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new za$$module$js$threejs$three_min);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Wa$$module$js$threejs$three_min);this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,b,c){if(a&&a.isGeometry){var d,e=this.vertices.length,g=this.vertices,h=a.vertices,k=this.faces,
l=a.faces,m=this.colors,n=a.colors;void 0===c&&(c=0);void 0!==b&&(d=(new Da$$module$js$threejs$three_min).getNormalMatrix(b));for(var p=0,t=h.length;p<t;p++){var w=h[p].clone();void 0!==b&&w.applyMatrix4(b);g.push(w)}b=0;for(g=n.length;b<g;b++)m.push(n[b].clone());m=0;for(n=l.length;m<n;m++){b=l[m];t=b.vertexNormals;g=b.vertexColors;h=new ad$$module$js$threejs$three_min(b.a+e,b.b+e,b.c+e);h.normal.copy(b.normal);void 0!==d&&h.normal.applyMatrix3(d).normalize();w=0;for(var x=t.length;w<x;w++)p=t[w].clone(),
void 0!==d&&p.applyMatrix3(d).normalize(),h.vertexNormals.push(p);h.color.copy(b.color);t=0;for(w=g.length;t<w;t++)p=g[t],h.vertexColors.push(p.clone());h.materialIndex=b.materialIndex+c;k.push(h)}c=0;for(d=a.faceVertexUvs.length;c<d;c++)for(e=a.faceVertexUvs[c],void 0===this.faceVertexUvs[c]&&(this.faceVertexUvs[c]=[]),k=0,l=e.length;k<l;k++){m=e[k];n=[];b=0;for(g=m.length;b<g;b++)n.push(m[b].clone());this.faceVertexUvs[c].push(n)}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",
a)},mergeMesh:function(a){a&&a.isMesh?(a.matrixAutoUpdate&&a.updateMatrix(),this.merge(a.geometry,a.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",a)},mergeVertices:function(){for(var a={},b=[],c=[],d=Math.pow(10,4),e=0,g=this.vertices.length;e<g;e++){var h=this.vertices[e];h=Math.round(h.x*d)+"_"+Math.round(h.y*d)+"_"+Math.round(h.z*d);void 0===a[h]?(a[h]=e,b.push(this.vertices[e]),c[e]=b.length-1):c[e]=c[a[h]]}a=[];d=0;for(e=this.faces.length;d<e;d++)for(g=
this.faces[d],g.a=c[g.a],g.b=c[g.b],g.c=c[g.c],g=[g.a,g.b,g.c],h=0;3>h;h++)if(g[h]===g[(h+1)%3]){a.push(d);break}for(c=a.length-1;0<=c;c--)for(d=a[c],this.faces.splice(d,1),e=0,g=this.faceVertexUvs.length;e<g;e++)this.faceVertexUvs[e].splice(d,1);c=this.vertices.length-b.length;this.vertices=b;return c},setFromPoints:function(a){this.vertices=[];for(var b=0,c=a.length;b<c;b++){var d=a[b];this.vertices.push(new w$$module$js$threejs$three_min(d.x,d.y,d.z||0))}return this},sortFacesByMaterialIndex:function(){for(var a=
this.faces,b=a.length,c=0;c<b;c++)a[c]._id=c;a.sort(function(l,m){return l.materialIndex-m.materialIndex});c=this.faceVertexUvs[0];var d=this.faceVertexUvs[1],e,g;c&&c.length===b&&(e=[]);d&&d.length===b&&(g=[]);for(var h=0;h<b;h++){var k=a[h]._id;e&&e.push(c[k]);g&&g.push(d[k])}e&&(this.faceVertexUvs[0]=e);g&&(this.faceVertexUvs[1]=g)},toJSON:function(){function a(O,N,U){return U?O|1<<N:O&~(1<<N)}function b(O){var N=O.x.toString()+O.y.toString()+O.z.toString();if(void 0!==m[N])return m[N];m[N]=l.length/
3;l.push(O.x,O.y,O.z);return m[N]}function c(O){var N=O.r.toString()+O.g.toString()+O.b.toString();if(void 0!==p[N])return p[N];p[N]=n.length;n.push(O.getHex());return p[N]}function d(O){var N=O.x.toString()+O.y.toString();if(void 0!==w[N])return w[N];w[N]=t.length/2;t.push(O.x,O.y);return w[N]}var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};e.uuid=this.uuid;e.type=this.type;""!==this.name&&(e.name=this.name);if(void 0!==this.parameters){var g=this.parameters,h;for(h in g)void 0!==
g[h]&&(e[h]=g[h]);return e}g=[];for(h=0;h<this.vertices.length;h++){var k=this.vertices[h];g.push(k.x,k.y,k.z)}h=[];var l=[],m={},n=[],p={},t=[],w={};for(k=0;k<this.faces.length;k++){var x=this.faces[k],A=void 0!==this.faceVertexUvs[0][k],r=0<x.normal.length(),E=0<x.vertexNormals.length,B=1!==x.color.r||1!==x.color.g||1!==x.color.b,G=0<x.vertexColors.length,H=0;H=a(H,0,0);H=a(H,1,!0);H=a(H,2,!1);H=a(H,3,A);H=a(H,4,r);H=a(H,5,E);H=a(H,6,B);H=a(H,7,G);h.push(H);h.push(x.a,x.b,x.c);h.push(x.materialIndex);
A&&(A=this.faceVertexUvs[0][k],h.push(d(A[0]),d(A[1]),d(A[2])));r&&h.push(b(x.normal));E&&(r=x.vertexNormals,h.push(b(r[0]),b(r[1]),b(r[2])));B&&h.push(c(x.color));G&&(x=x.vertexColors,h.push(c(x[0]),c(x[1]),c(x[2])))}e.data={};e.data.vertices=g;e.data.normals=l;0<n.length&&(e.data.colors=n);0<t.length&&(e.data.uvs=[t]);e.data.faces=h;return e},clone:function(){return(new sa$$module$js$threejs$three_min).copy(this)},copy:function(a){this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=
[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.name=a.name;for(var b=a.vertices,c=0,d=b.length;c<d;c++)this.vertices.push(b[c].clone());b=a.colors;c=0;for(d=b.length;c<d;c++)this.colors.push(b[c].clone());b=a.faces;c=0;for(d=b.length;c<d;c++)this.faces.push(b[c].clone());b=0;for(c=a.faceVertexUvs.length;b<c;b++){d=a.faceVertexUvs[b];void 0===this.faceVertexUvs[b]&&(this.faceVertexUvs[b]=[]);
for(var e=0,g=d.length;e<g;e++){for(var h=d[e],k=[],l=0,m=h.length;l<m;l++)k.push(h[l].clone());this.faceVertexUvs[b].push(k)}}b=a.morphTargets;c=0;for(d=b.length;c<d;c++){e={};e.name=b[c].name;if(void 0!==b[c].vertices)for(e.vertices=[],g=0,h=b[c].vertices.length;g<h;g++)e.vertices.push(b[c].vertices[g].clone());if(void 0!==b[c].normals)for(e.normals=[],g=0,h=b[c].normals.length;g<h;g++)e.normals.push(b[c].normals[g].clone());this.morphTargets.push(e)}b=a.morphNormals;c=0;for(d=b.length;c<d;c++){e=
{};if(void 0!==b[c].vertexNormals)for(e.vertexNormals=[],g=0,h=b[c].vertexNormals.length;g<h;g++)k=b[c].vertexNormals[g],l={},l.a=k.a.clone(),l.b=k.b.clone(),l.c=k.c.clone(),e.vertexNormals.push(l);if(void 0!==b[c].faceNormals)for(e.faceNormals=[],g=0,h=b[c].faceNormals.length;g<h;g++)e.faceNormals.push(b[c].faceNormals[g].clone());this.morphNormals.push(e)}b=a.skinWeights;c=0;for(d=b.length;c<d;c++)this.skinWeights.push(b[c].clone());b=a.skinIndices;c=0;for(d=b.length;c<d;c++)this.skinIndices.push(b[c].clone());
b=a.lineDistances;c=0;for(d=b.length;c<d;c++)this.lineDistances.push(b[c]);b=a.boundingBox;null!==b&&(this.boundingBox=b.clone());b=a.boundingSphere;null!==b&&(this.boundingSphere=b.clone());this.elementsNeedUpdate=a.elementsNeedUpdate;this.verticesNeedUpdate=a.verticesNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.lineDistancesNeedUpdate=a.lineDistancesNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return this},
dispose:function(){this.dispatchEvent({type:"dispose"})}});Fd$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);Fd$$module$js$threejs$three_min.prototype.constructor=Fd$$module$js$threejs$three_min;Bc$$module$js$threejs$three_min.prototype=Object.create(ka$$module$js$threejs$three_min.prototype);Bc$$module$js$threejs$three_min.prototype.constructor=Bc$$module$js$threejs$three_min;
var Ri$$module$js$threejs$three_min={clone:Gd$$module$js$threejs$three_min,merge:nb$$module$js$threejs$three_min};sb$$module$js$threejs$three_min.prototype=Object.create(ra$$module$js$threejs$three_min.prototype);sb$$module$js$threejs$three_min.prototype.constructor=sb$$module$js$threejs$three_min;sb$$module$js$threejs$three_min.prototype.isShaderMaterial=!0;
sb$$module$js$threejs$three_min.prototype.copy=function(a){ra$$module$js$threejs$three_min.prototype.copy.call(this,a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=Gd$$module$js$threejs$three_min(a.uniforms);this.defines=Object.assign({},a.defines);this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.lights=a.lights;this.clipping=a.clipping;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;this.extensions=
Object.assign({},a.extensions);this.glslVersion=a.glslVersion;return this};
sb$$module$js$threejs$three_min.prototype.toJSON=function(a){var b=ra$$module$js$threejs$three_min.prototype.toJSON.call(this,a);b.glslVersion=this.glslVersion;b.uniforms={};for(var c in this.uniforms){var d=this.uniforms[c].value;b.uniforms[c]=d&&d.isTexture?{type:"t",value:d.toJSON(a).uuid}:d&&d.isColor?{type:"c",value:d.getHex()}:d&&d.isVector2?{type:"v2",value:d.toArray()}:d&&d.isVector3?{type:"v3",value:d.toArray()}:d&&d.isVector4?{type:"v4",value:d.toArray()}:d&&d.isMatrix3?{type:"m3",value:d.toArray()}:
d&&d.isMatrix4?{type:"m4",value:d.toArray()}:{value:d}}0<Object.keys(this.defines).length&&(b.defines=this.defines);b.vertexShader=this.vertexShader;b.fragmentShader=this.fragmentShader;a={};for(var e in this.extensions)!0===this.extensions[e]&&(a[e]=!0);0<Object.keys(a).length&&(b.extensions=a);return b};
ac$$module$js$threejs$three_min.prototype=Object.assign(Object.create(ha$$module$js$threejs$three_min.prototype),{constructor:ac$$module$js$threejs$three_min,isCamera:!0,copy:function(a,b){ha$$module$js$threejs$three_min.prototype.copy.call(this,a,b);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);this.projectionMatrixInverse.copy(a.projectionMatrixInverse);return this},getWorldDirection:function(a){void 0===a&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),
a=new w$$module$js$threejs$three_min);this.updateMatrixWorld(!0);var b=this.matrixWorld.elements;return a.set(-b[8],-b[9],-b[10]).normalize()},updateMatrixWorld:function(a){ha$$module$js$threejs$three_min.prototype.updateMatrixWorld.call(this,a);this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(a,b){ha$$module$js$threejs$three_min.prototype.updateWorldMatrix.call(this,a,b);this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}});
eb$$module$js$threejs$three_min.prototype=Object.assign(Object.create(ac$$module$js$threejs$three_min.prototype),{constructor:eb$$module$js$threejs$three_min,isPerspectiveCamera:!0,copy:function(a,b){ac$$module$js$threejs$three_min.prototype.copy.call(this,a,b);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return this},setFocalLength:function(a){a=
.5*this.getFilmHeight()/a;this.fov=2*xa$$module$js$threejs$three_min.RAD2DEG*Math.atan(a);this.updateProjectionMatrix()},getFocalLength:function(){var a=Math.tan(.5*xa$$module$js$threejs$three_min.DEG2RAD*this.fov);return.5*this.getFilmHeight()/a},getEffectiveFOV:function(){return 2*xa$$module$js$threejs$three_min.RAD2DEG*Math.atan(Math.tan(.5*xa$$module$js$threejs$three_min.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/
Math.max(this.aspect,1)},setViewOffset:function(a,b,c,d,e,g){this.aspect=a/b;null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=c;this.view.offsetY=d;this.view.width=e;this.view.height=g;this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=this.near,
b=a*Math.tan(.5*xa$$module$js$threejs$three_min.DEG2RAD*this.fov)/this.zoom,c=2*b,d=this.aspect*c,e=-.5*d,g=this.view;if(null!==this.view&&this.view.enabled){var h=g.fullWidth,k=g.fullHeight;e+=g.offsetX*d/h;b-=g.offsetY*c/k;d*=g.width/h;c*=g.height/k}g=this.filmOffset;0!==g&&(e+=a*g/this.getFilmWidth());this.projectionMatrix.makePerspective(e,e+d,b,b-c,a,this.far);this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(a){a=ha$$module$js$threejs$three_min.prototype.toJSON.call(this,
a);a.object.fov=this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return a}});Hd$$module$js$threejs$three_min.prototype=Object.create(ha$$module$js$threejs$three_min.prototype);Hd$$module$js$threejs$three_min.prototype.constructor=Hd$$module$js$threejs$three_min;
Cc$$module$js$threejs$three_min.prototype=Object.create(Db$$module$js$threejs$three_min.prototype);Cc$$module$js$threejs$three_min.prototype.constructor=Cc$$module$js$threejs$three_min;Cc$$module$js$threejs$three_min.prototype.isWebGLCubeRenderTarget=!0;
Cc$$module$js$threejs$three_min.prototype.fromEquirectangularTexture=function(a,b){this.texture.type=b.type;this.texture.format=1023;this.texture.encoding=b.encoding;this.texture.generateMipmaps=b.generateMipmaps;this.texture.minFilter=b.minFilter;this.texture.magFilter=b.magFilter;var c=new Bc$$module$js$threejs$three_min(5,5,5),d=new sb$$module$js$threejs$three_min({name:"CubemapFromEquirect",uniforms:Gd$$module$js$threejs$three_min({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",
fragmentShader:"\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t",side:1,blending:0});d.uniforms.tEquirect.value=b;c=new Qa$$module$js$threejs$three_min(c,d);d=b.minFilter;1008===b.minFilter&&(b.minFilter=1006);(new Hd$$module$js$threejs$three_min(1,
10,this)).update(a,c);b.minFilter=d;c.geometry.dispose();c.material.dispose();return this};bd$$module$js$threejs$three_min.prototype=Object.create(Oa$$module$js$threejs$three_min.prototype);bd$$module$js$threejs$three_min.prototype.constructor=bd$$module$js$threejs$three_min;bd$$module$js$threejs$three_min.prototype.isDataTexture=!0;
var xe$$module$js$threejs$three_min=new Wa$$module$js$threejs$three_min,Lg$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,xb$$module$js$threejs$three_min=function(a,b,c,d,e,g){this.planes=[void 0!==a?a:new Na$$module$js$threejs$three_min,void 0!==b?b:new Na$$module$js$threejs$three_min,void 0!==c?c:new Na$$module$js$threejs$three_min,void 0!==d?d:new Na$$module$js$threejs$three_min,void 0!==e?e:new Na$$module$js$threejs$three_min,void 0!==g?g:new Na$$module$js$threejs$three_min]};
xb$$module$js$threejs$three_min.prototype.set=function(a,b,c,d,e,g){var h=this.planes;h[0].copy(a);h[1].copy(b);h[2].copy(c);h[3].copy(d);h[4].copy(e);h[5].copy(g);return this};xb$$module$js$threejs$three_min.prototype.clone=function(){return(new this.constructor).copy(this)};xb$$module$js$threejs$three_min.prototype.copy=function(a){for(var b=this.planes,c=0;6>c;c++)b[c].copy(a.planes[c]);return this};
xb$$module$js$threejs$three_min.prototype.setFromProjectionMatrix=function(a){var b=this.planes,c=a.elements;a=c[0];var d=c[1],e=c[2],g=c[3],h=c[4],k=c[5],l=c[6],m=c[7],n=c[8],p=c[9],t=c[10],w=c[11],x=c[12],A=c[13],r=c[14];c=c[15];b[0].setComponents(g-a,m-h,w-n,c-x).normalize();b[1].setComponents(g+a,m+h,w+n,c+x).normalize();b[2].setComponents(g+d,m+k,w+p,c+A).normalize();b[3].setComponents(g-d,m-k,w-p,c-A).normalize();b[4].setComponents(g-e,m-l,w-t,c-r).normalize();b[5].setComponents(g+e,m+l,w+t,
c+r).normalize();return this};xb$$module$js$threejs$three_min.prototype.intersectsObject=function(a){var b=a.geometry;null===b.boundingSphere&&b.computeBoundingSphere();xe$$module$js$threejs$three_min.copy(b.boundingSphere).applyMatrix4(a.matrixWorld);return this.intersectsSphere(xe$$module$js$threejs$three_min)};
xb$$module$js$threejs$three_min.prototype.intersectsSprite=function(a){xe$$module$js$threejs$three_min.center.set(0,0,0);xe$$module$js$threejs$three_min.radius=.7071067811865476;xe$$module$js$threejs$three_min.applyMatrix4(a.matrixWorld);return this.intersectsSphere(xe$$module$js$threejs$three_min)};xb$$module$js$threejs$three_min.prototype.intersectsSphere=function(a){var b=this.planes,c=a.center;a=-a.radius;for(var d=0;6>d;d++)if(b[d].distanceToPoint(c)<a)return!1;return!0};
xb$$module$js$threejs$three_min.prototype.intersectsBox=function(a){for(var b=this.planes,c=0;6>c;c++){var d=b[c];Lg$$module$js$threejs$three_min.x=0<d.normal.x?a.max.x:a.min.x;Lg$$module$js$threejs$three_min.y=0<d.normal.y?a.max.y:a.min.y;Lg$$module$js$threejs$three_min.z=0<d.normal.z?a.max.z:a.min.z;if(0>d.distanceToPoint(Lg$$module$js$threejs$three_min))return!1}return!0};
xb$$module$js$threejs$three_min.prototype.containsPoint=function(a){for(var b=this.planes,c=0;6>c;c++)if(0>b[c].distanceToPoint(a))return!1;return!0};Je$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);Je$$module$js$threejs$three_min.prototype.constructor=Je$$module$js$threejs$three_min;cd$$module$js$threejs$three_min.prototype=Object.create(ka$$module$js$threejs$three_min.prototype);cd$$module$js$threejs$three_min.prototype.constructor=cd$$module$js$threejs$three_min;
var Ba$$module$js$threejs$three_min={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",
aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",
bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",
clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",
clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",
color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",
cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",
defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",
displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",
emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",
envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",
envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",
envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",
envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",
fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",
gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",
lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",
lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",
lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",
lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",
lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",
lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",
lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",
lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",
lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",
logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",
map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",
map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",
morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",
morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",
normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",
normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",
normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",
clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",
packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",
premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",
roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",
shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",
shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",
shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",
skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",
skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",
specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",
transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",
uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",
background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",
depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",
distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",
distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",
equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",
linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",
linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",
meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",
meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",
meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",
normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",
points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",
points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",
shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},
fa$$module$js$threejs$three_min={common:{diffuse:{value:new S$$module$js$threejs$three_min(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Da$$module$js$threejs$three_min},uv2Transform:{value:new Da$$module$js$threejs$three_min},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},
lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new L$$module$js$threejs$three_min(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:2.5E-4},fogNear:{value:1},fogFar:{value:2E3},
fogColor:{value:new S$$module$js$threejs$three_min(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],
properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],
properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new S$$module$js$threejs$three_min(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Da$$module$js$threejs$three_min}},sprite:{diffuse:{value:new S$$module$js$threejs$three_min(15658734)},opacity:{value:1},center:{value:new L$$module$js$threejs$three_min(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},
uvTransform:{value:new Da$$module$js$threejs$three_min}}},Pb$$module$js$threejs$three_min={basic:{uniforms:nb$$module$js$threejs$three_min([fa$$module$js$threejs$three_min.common,fa$$module$js$threejs$three_min.specularmap,fa$$module$js$threejs$three_min.envmap,fa$$module$js$threejs$three_min.aomap,fa$$module$js$threejs$three_min.lightmap,fa$$module$js$threejs$three_min.fog]),vertexShader:Ba$$module$js$threejs$three_min.meshbasic_vert,fragmentShader:Ba$$module$js$threejs$three_min.meshbasic_frag},
lambert:{uniforms:nb$$module$js$threejs$three_min([fa$$module$js$threejs$three_min.common,fa$$module$js$threejs$three_min.specularmap,fa$$module$js$threejs$three_min.envmap,fa$$module$js$threejs$three_min.aomap,fa$$module$js$threejs$three_min.lightmap,fa$$module$js$threejs$three_min.emissivemap,fa$$module$js$threejs$three_min.fog,fa$$module$js$threejs$three_min.lights,{emissive:{value:new S$$module$js$threejs$three_min(0)}}]),vertexShader:Ba$$module$js$threejs$three_min.meshlambert_vert,fragmentShader:Ba$$module$js$threejs$three_min.meshlambert_frag},
phong:{uniforms:nb$$module$js$threejs$three_min([fa$$module$js$threejs$three_min.common,fa$$module$js$threejs$three_min.specularmap,fa$$module$js$threejs$three_min.envmap,fa$$module$js$threejs$three_min.aomap,fa$$module$js$threejs$three_min.lightmap,fa$$module$js$threejs$three_min.emissivemap,fa$$module$js$threejs$three_min.bumpmap,fa$$module$js$threejs$three_min.normalmap,fa$$module$js$threejs$three_min.displacementmap,fa$$module$js$threejs$three_min.fog,fa$$module$js$threejs$three_min.lights,{emissive:{value:new S$$module$js$threejs$three_min(0)},
specular:{value:new S$$module$js$threejs$three_min(1118481)},shininess:{value:30}}]),vertexShader:Ba$$module$js$threejs$three_min.meshphong_vert,fragmentShader:Ba$$module$js$threejs$three_min.meshphong_frag},standard:{uniforms:nb$$module$js$threejs$three_min([fa$$module$js$threejs$three_min.common,fa$$module$js$threejs$three_min.envmap,fa$$module$js$threejs$three_min.aomap,fa$$module$js$threejs$three_min.lightmap,fa$$module$js$threejs$three_min.emissivemap,fa$$module$js$threejs$three_min.bumpmap,
fa$$module$js$threejs$three_min.normalmap,fa$$module$js$threejs$three_min.displacementmap,fa$$module$js$threejs$three_min.roughnessmap,fa$$module$js$threejs$three_min.metalnessmap,fa$$module$js$threejs$three_min.fog,fa$$module$js$threejs$three_min.lights,{emissive:{value:new S$$module$js$threejs$three_min(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ba$$module$js$threejs$three_min.meshphysical_vert,fragmentShader:Ba$$module$js$threejs$three_min.meshphysical_frag},
toon:{uniforms:nb$$module$js$threejs$three_min([fa$$module$js$threejs$three_min.common,fa$$module$js$threejs$three_min.aomap,fa$$module$js$threejs$three_min.lightmap,fa$$module$js$threejs$three_min.emissivemap,fa$$module$js$threejs$three_min.bumpmap,fa$$module$js$threejs$three_min.normalmap,fa$$module$js$threejs$three_min.displacementmap,fa$$module$js$threejs$three_min.gradientmap,fa$$module$js$threejs$three_min.fog,fa$$module$js$threejs$three_min.lights,{emissive:{value:new S$$module$js$threejs$three_min(0)}}]),
vertexShader:Ba$$module$js$threejs$three_min.meshtoon_vert,fragmentShader:Ba$$module$js$threejs$three_min.meshtoon_frag},matcap:{uniforms:nb$$module$js$threejs$three_min([fa$$module$js$threejs$three_min.common,fa$$module$js$threejs$three_min.bumpmap,fa$$module$js$threejs$three_min.normalmap,fa$$module$js$threejs$three_min.displacementmap,fa$$module$js$threejs$three_min.fog,{matcap:{value:null}}]),vertexShader:Ba$$module$js$threejs$three_min.meshmatcap_vert,fragmentShader:Ba$$module$js$threejs$three_min.meshmatcap_frag},
points:{uniforms:nb$$module$js$threejs$three_min([fa$$module$js$threejs$three_min.points,fa$$module$js$threejs$three_min.fog]),vertexShader:Ba$$module$js$threejs$three_min.points_vert,fragmentShader:Ba$$module$js$threejs$three_min.points_frag},dashed:{uniforms:nb$$module$js$threejs$three_min([fa$$module$js$threejs$three_min.common,fa$$module$js$threejs$three_min.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ba$$module$js$threejs$three_min.linedashed_vert,fragmentShader:Ba$$module$js$threejs$three_min.linedashed_frag},
depth:{uniforms:nb$$module$js$threejs$three_min([fa$$module$js$threejs$three_min.common,fa$$module$js$threejs$three_min.displacementmap]),vertexShader:Ba$$module$js$threejs$three_min.depth_vert,fragmentShader:Ba$$module$js$threejs$three_min.depth_frag},normal:{uniforms:nb$$module$js$threejs$three_min([fa$$module$js$threejs$three_min.common,fa$$module$js$threejs$three_min.bumpmap,fa$$module$js$threejs$three_min.normalmap,fa$$module$js$threejs$three_min.displacementmap,{opacity:{value:1}}]),vertexShader:Ba$$module$js$threejs$three_min.normal_vert,
fragmentShader:Ba$$module$js$threejs$three_min.normal_frag},sprite:{uniforms:nb$$module$js$threejs$three_min([fa$$module$js$threejs$three_min.sprite,fa$$module$js$threejs$three_min.fog]),vertexShader:Ba$$module$js$threejs$three_min.sprite_vert,fragmentShader:Ba$$module$js$threejs$three_min.sprite_frag},background:{uniforms:{uvTransform:{value:new Da$$module$js$threejs$three_min},t2D:{value:null}},vertexShader:Ba$$module$js$threejs$three_min.background_vert,fragmentShader:Ba$$module$js$threejs$three_min.background_frag},
cube:{uniforms:nb$$module$js$threejs$three_min([fa$$module$js$threejs$three_min.envmap,{opacity:{value:1}}]),vertexShader:Ba$$module$js$threejs$three_min.cube_vert,fragmentShader:Ba$$module$js$threejs$three_min.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ba$$module$js$threejs$three_min.equirect_vert,fragmentShader:Ba$$module$js$threejs$three_min.equirect_frag},distanceRGBA:{uniforms:nb$$module$js$threejs$three_min([fa$$module$js$threejs$three_min.common,fa$$module$js$threejs$three_min.displacementmap,
{referencePosition:{value:new w$$module$js$threejs$three_min},nearDistance:{value:1},farDistance:{value:1E3}}]),vertexShader:Ba$$module$js$threejs$three_min.distanceRGBA_vert,fragmentShader:Ba$$module$js$threejs$three_min.distanceRGBA_frag},shadow:{uniforms:nb$$module$js$threejs$three_min([fa$$module$js$threejs$three_min.lights,fa$$module$js$threejs$three_min.fog,{color:{value:new S$$module$js$threejs$three_min(0)},opacity:{value:1}}]),vertexShader:Ba$$module$js$threejs$three_min.shadow_vert,fragmentShader:Ba$$module$js$threejs$three_min.shadow_frag}};
Pb$$module$js$threejs$three_min.physical={uniforms:nb$$module$js$threejs$three_min([Pb$$module$js$threejs$three_min.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new L$$module$js$threejs$three_min(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new S$$module$js$threejs$three_min(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Ba$$module$js$threejs$three_min.meshphysical_vert,
fragmentShader:Ba$$module$js$threejs$three_min.meshphysical_frag};kc$$module$js$threejs$three_min.prototype=Object.create(Oa$$module$js$threejs$three_min.prototype);kc$$module$js$threejs$three_min.prototype.constructor=kc$$module$js$threejs$three_min;kc$$module$js$threejs$three_min.prototype.isCubeTexture=!0;Object.defineProperty(kc$$module$js$threejs$three_min.prototype,"images",{get:function(){return this.image},set:function(a){this.image=a}});Id$$module$js$threejs$three_min.prototype=Object.create(Oa$$module$js$threejs$three_min.prototype);
Id$$module$js$threejs$three_min.prototype.constructor=Id$$module$js$threejs$three_min;Id$$module$js$threejs$three_min.prototype.isDataTexture2DArray=!0;Jd$$module$js$threejs$three_min.prototype=Object.create(Oa$$module$js$threejs$three_min.prototype);Jd$$module$js$threejs$three_min.prototype.constructor=Jd$$module$js$threejs$three_min;Jd$$module$js$threejs$three_min.prototype.isDataTexture3D=!0;
var Ei$$module$js$threejs$three_min=new Oa$$module$js$threejs$three_min,Kk$$module$js$threejs$three_min=new Id$$module$js$threejs$three_min,Mk$$module$js$threejs$three_min=new Jd$$module$js$threejs$three_min,Fi$$module$js$threejs$three_min=new kc$$module$js$threejs$three_min,yi$$module$js$threejs$three_min=[],Ai$$module$js$threejs$three_min=[],Di$$module$js$threejs$three_min=new Float32Array(16),Ci$$module$js$threejs$three_min=new Float32Array(9),Bi$$module$js$threejs$three_min=new Float32Array(4);
Gi$$module$js$threejs$three_min.prototype.updateCache=function(a){var b=this.cache;a instanceof Float32Array&&b.length!==a.length&&(this.cache=new Float32Array(a.length));Eb$$module$js$threejs$three_min(b,a)};Hi$$module$js$threejs$three_min.prototype.setValue=function(a,b,c){for(var d=this.seq,e=0,g=d.length;e!==g;++e){var h=d[e];h.setValue(a,b[h.id],c)}};var lh$$module$js$threejs$three_min=/([\w\d_]+)(\])?(\[|\.)?/g;
Dc$$module$js$threejs$three_min.prototype.setValue=function(a,b,c,d){b=this.map[b];void 0!==b&&b.setValue(a,c,d)};Dc$$module$js$threejs$three_min.prototype.setOptional=function(a,b,c){b=b[c];void 0!==b&&this.setValue(a,c,b)};Dc$$module$js$threejs$three_min.upload=function(a,b,c,d){for(var e=0,g=b.length;e!==g;++e){var h=b[e],k=c[h.id];!1!==k.needsUpdate&&h.setValue(a,k.value,d)}};
Dc$$module$js$threejs$three_min.seqWithValue=function(a,b){for(var c=[],d=0,e=a.length;d!==e;++d){var g=a[d];g.id in b&&c.push(g)}return c};
var ql$$module$js$threejs$three_min=0,nh$$module$js$threejs$three_min=/^[ \t]*#include +<([\w\d./]+)>/gm,Qi$$module$js$threejs$three_min=/#pragma unroll_loop[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Pi$$module$js$threejs$three_min=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g,Al$$module$js$threejs$three_min=0;Ec$$module$js$threejs$three_min.prototype=Object.create(ra$$module$js$threejs$three_min.prototype);
Ec$$module$js$threejs$three_min.prototype.constructor=Ec$$module$js$threejs$three_min;Ec$$module$js$threejs$three_min.prototype.isMeshDepthMaterial=!0;
Ec$$module$js$threejs$three_min.prototype.copy=function(a){ra$$module$js$threejs$three_min.prototype.copy.call(this,a);this.depthPacking=a.depthPacking;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};Fc$$module$js$threejs$three_min.prototype=Object.create(ra$$module$js$threejs$three_min.prototype);
Fc$$module$js$threejs$three_min.prototype.constructor=Fc$$module$js$threejs$three_min;Fc$$module$js$threejs$three_min.prototype.isMeshDistanceMaterial=!0;
Fc$$module$js$threejs$three_min.prototype.copy=function(a){ra$$module$js$threejs$three_min.prototype.copy.call(this,a);this.referencePosition.copy(a.referencePosition);this.nearDistance=a.nearDistance;this.farDistance=a.farDistance;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;return this};
Tf$$module$js$threejs$three_min.prototype=Object.assign(Object.create(eb$$module$js$threejs$three_min.prototype),{constructor:Tf$$module$js$threejs$three_min,isArrayCamera:!0});Gc$$module$js$threejs$three_min.prototype=Object.assign(Object.create(ha$$module$js$threejs$three_min.prototype),{constructor:Gc$$module$js$threejs$three_min,isGroup:!0});
Object.assign(Me$$module$js$threejs$three_min.prototype,{constructor:Me$$module$js$threejs$three_min,getHandSpace:function(){if(null===this._hand&&(this._hand=new Gc$$module$js$threejs$three_min,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(var a=0;a<=window.XRHand.LITTLE_PHALANX_TIP;a++){var b=new Gc$$module$js$threejs$three_min;b.matrixAutoUpdate=!1;b.visible=!1;this._hand.joints.push(b);this._hand.add(b)}return this._hand},
getTargetRaySpace:function(){null===this._targetRay&&(this._targetRay=new Gc$$module$js$threejs$three_min,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1);return this._targetRay},getGripSpace:function(){null===this._grip&&(this._grip=new Gc$$module$js$threejs$three_min,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1);return this._grip},dispatchEvent:function(a){null!==this._targetRay&&this._targetRay.dispatchEvent(a);null!==this._grip&&this._grip.dispatchEvent(a);null!==this._hand&&
this._hand.dispatchEvent(a);return this},disconnect:function(a){this.dispatchEvent({type:"disconnected",data:a});null!==this._targetRay&&(this._targetRay.visible=!1);null!==this._grip&&(this._grip.visible=!1);null!==this._hand&&(this._hand.visible=!1);return this},update:function(a,b,c){var d=null,e=null,g=null,h=this._targetRay,k=this._grip,l=this._hand;if(a)if(l&&a.hand){g=!0;for(var m=0;m<=window.XRHand.LITTLE_PHALANX_TIP;m++)if(a.hand[m]){var n=b.getJointPose(a.hand[m],c),p=l.joints[m];null!==
n&&(p.matrix.fromArray(n.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.jointRadius=n.radius);p.visible=null!==n;n=l.joints[window.XRHand.INDEX_PHALANX_TIP].position.distanceTo(l.joints[window.XRHand.THUMB_PHALANX_TIP].position);l.inputState.pinching&&.025<n?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:a.handedness,target:this})):!l.inputState.pinching&&.015>=n&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:a.handedness,
target:this}))}}else null!==h&&(d=b.getPose(a.targetRaySpace,c),null!==d&&(h.matrix.fromArray(d.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale))),null!==k&&a.gripSpace&&(e=b.getPose(a.gripSpace,c),null!==e&&(k.matrix.fromArray(e.transform.matrix),k.matrix.decompose(k.position,k.rotation,k.scale)));null!==h&&(h.visible=null!==d);null!==k&&(k.visible=null!==e);null!==l&&(l.visible=null!==g);return this}});Object.assign(Wi$$module$js$threejs$three_min.prototype,wb$$module$js$threejs$three_min.prototype);
th$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Ne$$module$js$threejs$three_min.prototype),{constructor:th$$module$js$threejs$three_min,isWebGL1Renderer:!0});var Gf$$module$js$threejs$three_min=function(a,b){Object.defineProperty(this,"isFogExp2",{value:!0});this.name="";this.color=new S$$module$js$threejs$three_min(a);this.density=void 0!==b?b:2.5E-4};Gf$$module$js$threejs$three_min.prototype.clone=function(){return new Gf$$module$js$threejs$three_min(this.color,this.density)};
Gf$$module$js$threejs$three_min.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}};var Hf$$module$js$threejs$three_min=function(a,b,c){Object.defineProperty(this,"isFog",{value:!0});this.name="";this.color=new S$$module$js$threejs$three_min(a);this.near=void 0!==b?b:1;this.far=void 0!==c?c:1E3};Hf$$module$js$threejs$three_min.prototype.clone=function(){return new Hf$$module$js$threejs$three_min(this.color,this.near,this.far)};
Hf$$module$js$threejs$three_min.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}};Jc$$module$js$threejs$three_min.prototype=Object.create(ha$$module$js$threejs$three_min.prototype);Jc$$module$js$threejs$three_min.prototype.constructor=Jc$$module$js$threejs$three_min;
Jc$$module$js$threejs$three_min.prototype.copy=function(a,b){ha$$module$js$threejs$three_min.prototype.copy.call(this,a,b);null!==a.background&&(this.background=a.background.clone());null!==a.environment&&(this.environment=a.environment.clone());null!==a.fog&&(this.fog=a.fog.clone());null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.autoUpdate=a.autoUpdate;this.matrixAutoUpdate=a.matrixAutoUpdate;return this};
Jc$$module$js$threejs$three_min.prototype.toJSON=function(a){var b=ha$$module$js$threejs$three_min.prototype.toJSON.call(this,a);null!==this.background&&(b.object.background=this.background.toJSON(a));null!==this.environment&&(b.object.environment=this.environment.toJSON(a));null!==this.fog&&(b.object.fog=this.fog.toJSON());return b};Object.defineProperty(Gb$$module$js$threejs$three_min.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});
Object.assign(Gb$$module$js$threejs$three_min.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(a){this.usage=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.count=a.count;this.stride=a.stride;this.usage=a.usage;return this},copyAt:function(a,b,c){a*=this.stride;c*=b.stride;for(var d=0,e=this.stride;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},clone:function(a){void 0===
a.arrayBuffers&&(a.arrayBuffers={});void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=xa$$module$js$threejs$three_min.generateUUID());void 0===a.arrayBuffers[this.array.buffer._uuid]&&(a.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);a=new this.array.constructor(a.arrayBuffers[this.array.buffer._uuid]);a=new Gb$$module$js$threejs$three_min(a,this.stride);a.setUsage(this.usage);return a},onUpload:function(a){this.onUploadCallback=a;return this},toJSON:function(a){void 0===
a.arrayBuffers&&(a.arrayBuffers={});void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=xa$$module$js$threejs$three_min.generateUUID());void 0===a.arrayBuffers[this.array.buffer._uuid]&&(a.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer)));return{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var ud$$module$js$threejs$three_min=new w$$module$js$threejs$three_min;
Object.defineProperties(Kc$$module$js$threejs$three_min.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(a){this.data.needsUpdate=a}}});
Object.assign(Kc$$module$js$threejs$three_min.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(a){for(var b=0,c=this.data.count;b<c;b++)ud$$module$js$threejs$three_min.x=this.getX(b),ud$$module$js$threejs$three_min.y=this.getY(b),ud$$module$js$threejs$three_min.z=this.getZ(b),ud$$module$js$threejs$three_min.applyMatrix4(a),this.setXYZ(b,ud$$module$js$threejs$three_min.x,ud$$module$js$threejs$three_min.y,ud$$module$js$threejs$three_min.z);return this},setX:function(a,b){this.data.array[a*
this.data.stride+this.offset]=b;return this},setY:function(a,b){this.data.array[a*this.data.stride+this.offset+1]=b;return this},setZ:function(a,b){this.data.array[a*this.data.stride+this.offset+2]=b;return this},setW:function(a,b){this.data.array[a*this.data.stride+this.offset+3]=b;return this},getX:function(a){return this.data.array[a*this.data.stride+this.offset]},getY:function(a){return this.data.array[a*this.data.stride+this.offset+1]},getZ:function(a){return this.data.array[a*this.data.stride+
this.offset+2]},getW:function(a){return this.data.array[a*this.data.stride+this.offset+3]},setXY:function(a,b,c){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;this.data.array[a+3]=e;return this},
clone:function(a){if(void 0===a){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");a=[];for(var b=0;b<this.count;b++)for(var c=b*this.data.stride+this.offset,d=0;d<this.itemSize;d++)a.push(this.data.array[c+d]);return new pa$$module$js$threejs$three_min(new this.array.constructor(a),this.itemSize,this.normalized)}void 0===a.interleavedBuffers&&(a.interleavedBuffers={});void 0===a.interleavedBuffers[this.data.uuid]&&(a.interleavedBuffers[this.data.uuid]=
this.data.clone(a));return new Kc$$module$js$threejs$three_min(a.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(a){if(void 0===a){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");a=[];for(var b=0;b<this.count;b++)for(var c=b*this.data.stride+this.offset,d=0;d<this.itemSize;d++)a.push(this.data.array[c+d]);return{itemSize:this.itemSize,type:this.array.constructor.name,
array:a,normalized:this.normalized}}void 0===a.interleavedBuffers&&(a.interleavedBuffers={});void 0===a.interleavedBuffers[this.data.uuid]&&(a.interleavedBuffers[this.data.uuid]=this.data.toJSON(a));return{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});Lc$$module$js$threejs$three_min.prototype=Object.create(ra$$module$js$threejs$three_min.prototype);Lc$$module$js$threejs$three_min.prototype.constructor=Lc$$module$js$threejs$three_min;
Lc$$module$js$threejs$three_min.prototype.isSpriteMaterial=!0;Lc$$module$js$threejs$three_min.prototype.copy=function(a){ra$$module$js$threejs$three_min.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.alphaMap=a.alphaMap;this.rotation=a.rotation;this.sizeAttenuation=a.sizeAttenuation;return this};
var Nd$$module$js$threejs$three_min,If$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,ye$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,ze$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Od$$module$js$threejs$three_min=new L$$module$js$threejs$three_min,Re$$module$js$threejs$three_min=new L$$module$js$threejs$three_min,aj$$module$js$threejs$three_min=new da$$module$js$threejs$three_min,Mg$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,
Jf$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Ng$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Fj$$module$js$threejs$three_min=new L$$module$js$threejs$three_min,li$$module$js$threejs$three_min=new L$$module$js$threejs$three_min,Gj$$module$js$threejs$three_min=new L$$module$js$threejs$three_min;
Qe$$module$js$threejs$three_min.prototype=Object.assign(Object.create(ha$$module$js$threejs$three_min.prototype),{constructor:Qe$$module$js$threejs$three_min,isSprite:!0,raycast:function(a,b){null===a.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.');ye$$module$js$threejs$three_min.setFromMatrixScale(this.matrixWorld);aj$$module$js$threejs$three_min.copy(a.camera.matrixWorld);this.modelViewMatrix.multiplyMatrices(a.camera.matrixWorldInverse,
this.matrixWorld);ze$$module$js$threejs$three_min.setFromMatrixPosition(this.modelViewMatrix);a.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&ye$$module$js$threejs$three_min.multiplyScalar(-ze$$module$js$threejs$three_min.z);var c=this.material.rotation;if(0!==c)var d=Math.cos(c),e=Math.sin(c);c=this.center;Wf$$module$js$threejs$three_min(Mg$$module$js$threejs$three_min.set(-.5,-.5,0),ze$$module$js$threejs$three_min,c,ye$$module$js$threejs$three_min,e,d);Wf$$module$js$threejs$three_min(Jf$$module$js$threejs$three_min.set(.5,
-.5,0),ze$$module$js$threejs$three_min,c,ye$$module$js$threejs$three_min,e,d);Wf$$module$js$threejs$three_min(Ng$$module$js$threejs$three_min.set(.5,.5,0),ze$$module$js$threejs$three_min,c,ye$$module$js$threejs$three_min,e,d);Fj$$module$js$threejs$three_min.set(0,0);li$$module$js$threejs$three_min.set(1,0);Gj$$module$js$threejs$three_min.set(1,1);var g=a.ray.intersectTriangle(Mg$$module$js$threejs$three_min,Jf$$module$js$threejs$three_min,Ng$$module$js$threejs$three_min,!1,If$$module$js$threejs$three_min);
if(null!==g||(Wf$$module$js$threejs$three_min(Jf$$module$js$threejs$three_min.set(-.5,.5,0),ze$$module$js$threejs$three_min,c,ye$$module$js$threejs$three_min,e,d),li$$module$js$threejs$three_min.set(0,1),g=a.ray.intersectTriangle(Mg$$module$js$threejs$three_min,Ng$$module$js$threejs$three_min,Jf$$module$js$threejs$three_min,!1,If$$module$js$threejs$three_min),null!==g))e=a.ray.origin.distanceTo(If$$module$js$threejs$three_min),e<a.near||e>a.far||b.push({distance:e,point:If$$module$js$threejs$three_min.clone(),
uv:Ga$$module$js$threejs$three_min.getUV(If$$module$js$threejs$three_min,Mg$$module$js$threejs$three_min,Jf$$module$js$threejs$three_min,Ng$$module$js$threejs$three_min,Fj$$module$js$threejs$three_min,li$$module$js$threejs$three_min,Gj$$module$js$threejs$three_min,new L$$module$js$threejs$three_min),face:null,object:this})},copy:function(a){ha$$module$js$threejs$three_min.prototype.copy.call(this,a);void 0!==a.center&&this.center.copy(a.center);this.material=a.material;return this}});
var Og$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Hj$$module$js$threejs$three_min=new w$$module$js$threejs$three_min;
Se$$module$js$threejs$three_min.prototype=Object.assign(Object.create(ha$$module$js$threejs$three_min.prototype),{constructor:Se$$module$js$threejs$three_min,isLOD:!0,copy:function(a){ha$$module$js$threejs$three_min.prototype.copy.call(this,a,!1);for(var b=a.levels,c=0,d=b.length;c<d;c++){var e=b[c];this.addLevel(e.object.clone(),e.distance)}this.autoUpdate=a.autoUpdate;return this},addLevel:function(a,b){void 0===b&&(b=0);b=Math.abs(b);var c=this.levels,d;for(d=0;d<c.length&&!(b<c[d].distance);d++);
c.splice(d,0,{distance:b,object:a});this.add(a);return this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(a){var b=this.levels;if(0<b.length){var c,d=1;for(c=b.length;d<c&&!(a<b[d].distance);d++);return b[d-1].object}return null},raycast:function(a,b){if(0<this.levels.length){Og$$module$js$threejs$three_min.setFromMatrixPosition(this.matrixWorld);var c=a.ray.origin.distanceTo(Og$$module$js$threejs$three_min);this.getObjectForDistance(c).raycast(a,b)}},update:function(a){var b=
this.levels;if(1<b.length){Og$$module$js$threejs$three_min.setFromMatrixPosition(a.matrixWorld);Hj$$module$js$threejs$three_min.setFromMatrixPosition(this.matrixWorld);a=Og$$module$js$threejs$three_min.distanceTo(Hj$$module$js$threejs$three_min)/a.zoom;b[0].object.visible=!0;var c,d=1;for(c=b.length;d<c;d++)if(a>=b[d].distance)b[d-1].object.visible=!1,b[d].object.visible=!0;else break;for(this._currentLevel=d-1;d<c;d++)b[d].object.visible=!1}},toJSON:function(a){a=ha$$module$js$threejs$three_min.prototype.toJSON.call(this,
a);!1===this.autoUpdate&&(a.object.autoUpdate=!1);a.object.levels=[];for(var b=this.levels,c=0,d=b.length;c<d;c++){var e=b[c];a.object.levels.push({object:e.object.uuid,distance:e.distance})}return a}});
Xf$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Qa$$module$js$threejs$three_min.prototype),{constructor:Xf$$module$js$threejs$three_min,isSkinnedMesh:!0,copy:function(a){Qa$$module$js$threejs$three_min.prototype.copy.call(this,a);this.bindMode=a.bindMode;this.bindMatrix.copy(a.bindMatrix);this.bindMatrixInverse.copy(a.bindMatrixInverse);this.skeleton=a.skeleton;return this},bind:function(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),
b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.getInverse(b)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var a=new ca$$module$js$threejs$three_min,b=this.geometry.attributes.skinWeight,c=0,d=b.count;c<d;c++){a.x=b.getX(c);a.y=b.getY(c);a.z=b.getZ(c);a.w=b.getW(c);var e=1/a.manhattanLength();Infinity!==e?a.multiplyScalar(e):a.set(1,0,0,0);b.setXYZW(c,a.x,a.y,a.z,a.w)}},updateMatrixWorld:function(a){Qa$$module$js$threejs$three_min.prototype.updateMatrixWorld.call(this,
a);"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){var a=new w$$module$js$threejs$three_min,b=new ca$$module$js$threejs$three_min,c=new ca$$module$js$threejs$three_min,d=new w$$module$js$threejs$three_min,e=new da$$module$js$threejs$three_min;return function(g,h){var k=this.skeleton,l=this.geometry;
b.fromBufferAttribute(l.attributes.skinIndex,g);c.fromBufferAttribute(l.attributes.skinWeight,g);a.fromBufferAttribute(l.attributes.position,g).applyMatrix4(this.bindMatrix);h.set(0,0,0);for(g=0;4>g;g++)if(l=c.getComponent(g),0!==l){var m=b.getComponent(g);e.multiplyMatrices(k.bones[m].matrixWorld,k.boneInverses[m]);h.addScaledVector(d.copy(a).applyMatrix4(e),l)}return h.applyMatrix4(this.bindMatrixInverse)}}()});
var Ij$$module$js$threejs$three_min=new da$$module$js$threejs$three_min,Vl$$module$js$threejs$three_min=new da$$module$js$threejs$three_min;
Object.assign(Yf$$module$js$threejs$three_min.prototype,{calculateInverses:function(){this.boneInverses=[];for(var a=0,b=this.bones.length;a<b;a++){var c=new da$$module$js$threejs$three_min;this.bones[a]&&c.getInverse(this.bones[a].matrixWorld);this.boneInverses.push(c)}},pose:function(){for(var a=0,b=this.bones.length;a<b;a++){var c=this.bones[a];c&&c.matrixWorld.getInverse(this.boneInverses[a])}a=0;for(b=this.bones.length;a<b;a++)if(c=this.bones[a])c.parent&&c.parent.isBone?(c.matrix.getInverse(c.parent.matrixWorld),
c.matrix.multiply(c.matrixWorld)):c.matrix.copy(c.matrixWorld),c.matrix.decompose(c.position,c.quaternion,c.scale)},update:function(){for(var a=this.bones,b=this.boneInverses,c=this.boneMatrices,d=this.boneTexture,e=0,g=a.length;e<g;e++)Ij$$module$js$threejs$three_min.multiplyMatrices(a[e]?a[e].matrixWorld:Vl$$module$js$threejs$three_min,b[e]),Ij$$module$js$threejs$three_min.toArray(c,16*e);void 0!==d&&(d.needsUpdate=!0)},clone:function(){return new Yf$$module$js$threejs$three_min(this.bones,this.boneInverses)},
getBoneByName:function(a){for(var b=0,c=this.bones.length;b<c;b++){var d=this.bones[b];if(d.name===a)return d}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}});uh$$module$js$threejs$three_min.prototype=Object.assign(Object.create(ha$$module$js$threejs$three_min.prototype),{constructor:uh$$module$js$threejs$three_min,isBone:!0});
var Jj$$module$js$threejs$three_min=new da$$module$js$threejs$three_min,Kj$$module$js$threejs$three_min=new da$$module$js$threejs$three_min,Pg$$module$js$threejs$three_min=[],Kf$$module$js$threejs$three_min=new Qa$$module$js$threejs$three_min;
Zf$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Qa$$module$js$threejs$three_min.prototype),{constructor:Zf$$module$js$threejs$three_min,isInstancedMesh:!0,copy:function(a){Qa$$module$js$threejs$three_min.prototype.copy.call(this,a);this.instanceMatrix.copy(a.instanceMatrix);this.count=a.count;return this},setColorAt:function(a,b){null===this.instanceColor&&(this.instanceColor=new pa$$module$js$threejs$three_min(new Float32Array(3*this.count),3));b.toArray(this.instanceColor.array,
3*a)},getMatrixAt:function(a,b){b.fromArray(this.instanceMatrix.array,16*a)},raycast:function(a,b){var c=this.matrixWorld,d=this.count;Kf$$module$js$threejs$three_min.geometry=this.geometry;Kf$$module$js$threejs$three_min.material=this.material;if(void 0!==Kf$$module$js$threejs$three_min.material)for(var e=0;e<d;e++){this.getMatrixAt(e,Jj$$module$js$threejs$three_min);Kj$$module$js$threejs$three_min.multiplyMatrices(c,Jj$$module$js$threejs$three_min);Kf$$module$js$threejs$three_min.matrixWorld=Kj$$module$js$threejs$three_min;
Kf$$module$js$threejs$three_min.raycast(a,Pg$$module$js$threejs$three_min);for(var g=0,h=Pg$$module$js$threejs$three_min.length;g<h;g++){var k=Pg$$module$js$threejs$three_min[g];k.instanceId=e;k.object=this;b.push(k)}Pg$$module$js$threejs$three_min.length=0}},setMatrixAt:function(a,b){b.toArray(this.instanceMatrix.array,16*a)},updateMorphTargets:function(){}});Ya$$module$js$threejs$three_min.prototype=Object.create(ra$$module$js$threejs$three_min.prototype);
Ya$$module$js$threejs$three_min.prototype.constructor=Ya$$module$js$threejs$three_min;Ya$$module$js$threejs$three_min.prototype.isLineBasicMaterial=!0;Ya$$module$js$threejs$three_min.prototype.copy=function(a){ra$$module$js$threejs$three_min.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;this.morphTargets=a.morphTargets;return this};
var Lj$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Mj$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Nj$$module$js$threejs$three_min=new da$$module$js$threejs$three_min,Qg$$module$js$threejs$three_min=new Ta$$module$js$threejs$three_min,Lf$$module$js$threejs$three_min=new Wa$$module$js$threejs$three_min;
yb$$module$js$threejs$three_min.prototype=Object.assign(Object.create(ha$$module$js$threejs$three_min.prototype),{constructor:yb$$module$js$threejs$three_min,isLine:!0,copy:function(a){ha$$module$js$threejs$three_min.prototype.copy.call(this,a);this.material=a.material;this.geometry=a.geometry;return this},computeLineDistances:function(){var a=this.geometry;if(a.isBufferGeometry)if(null===a.index){for(var b=a.attributes.position,c=[0],d=1,e=b.count;d<e;d++)Lj$$module$js$threejs$three_min.fromBufferAttribute(b,
d-1),Mj$$module$js$threejs$three_min.fromBufferAttribute(b,d),c[d]=c[d-1],c[d]+=Lj$$module$js$threejs$three_min.distanceTo(Mj$$module$js$threejs$three_min);a.setAttribute("lineDistance",new ea$$module$js$threejs$three_min(c,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(a.isGeometry)for(b=a.vertices,a=a.lineDistances,a[0]=0,c=1,d=b.length;c<d;c++)a[c]=a[c-1],a[c]+=b[c-1].distanceTo(b[c]);return this},raycast:function(a,
b){var c=this.geometry,d=this.matrixWorld,e=a.params.Line.threshold;null===c.boundingSphere&&c.computeBoundingSphere();Lf$$module$js$threejs$three_min.copy(c.boundingSphere);Lf$$module$js$threejs$three_min.applyMatrix4(d);Lf$$module$js$threejs$three_min.radius+=e;if(!1!==a.ray.intersectsSphere(Lf$$module$js$threejs$three_min)){Nj$$module$js$threejs$three_min.getInverse(d);Qg$$module$js$threejs$three_min.copy(a.ray).applyMatrix4(Nj$$module$js$threejs$three_min);d=e/((this.scale.x+this.scale.y+this.scale.z)/
3);d*=d;var g=new w$$module$js$threejs$three_min,h=new w$$module$js$threejs$three_min;e=new w$$module$js$threejs$three_min;var k=new w$$module$js$threejs$three_min,l=this&&this.isLineSegments?2:1;if(c.isBufferGeometry){var m=c.index;c=c.attributes.position.array;if(null!==m){m=m.array;for(var n=0,p=m.length-1;n<p;n+=l){var t=m[n+1];g.fromArray(c,3*m[n]);h.fromArray(c,3*t);Qg$$module$js$threejs$three_min.distanceSqToSegment(g,h,k,e)>d||(k.applyMatrix4(this.matrixWorld),t=a.ray.origin.distanceTo(k),
t<a.near||t>a.far||b.push({distance:t,point:e.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this}))}}else for(m=0,n=c.length/3-1;m<n;m+=l)g.fromArray(c,3*m),h.fromArray(c,3*m+3),Qg$$module$js$threejs$three_min.distanceSqToSegment(g,h,k,e)>d||(k.applyMatrix4(this.matrixWorld),p=a.ray.origin.distanceTo(k),p<a.near||p>a.far||b.push({distance:p,point:e.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this}))}else if(c.isGeometry)for(g=c.vertices,
h=g.length,c=0;c<h-1;c+=l)Qg$$module$js$threejs$three_min.distanceSqToSegment(g[c],g[c+1],k,e)>d||(k.applyMatrix4(this.matrixWorld),m=a.ray.origin.distanceTo(k),m<a.near||m>a.far||b.push({distance:m,point:e.clone().applyMatrix4(this.matrixWorld),index:c,face:null,faceIndex:null,object:this}))}},updateMorphTargets:function(){var a=this.geometry;if(a.isBufferGeometry){a=a.morphAttributes;var b=Object.keys(a);if(0<b.length&&(a=a[b[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary=
{};b=0;for(var c=a.length;b<c;b++){var d=a[b].name||String(b);this.morphTargetInfluences.push(0);this.morphTargetDictionary[d]=b}}}else a=a.morphTargets,void 0!==a&&0<a.length&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}});var Rg$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Sg$$module$js$threejs$three_min=new w$$module$js$threejs$three_min;
Za$$module$js$threejs$three_min.prototype=Object.assign(Object.create(yb$$module$js$threejs$three_min.prototype),{constructor:Za$$module$js$threejs$three_min,isLineSegments:!0,computeLineDistances:function(){var a=this.geometry;if(a.isBufferGeometry)if(null===a.index){for(var b=a.attributes.position,c=[],d=0,e=b.count;d<e;d+=2)Rg$$module$js$threejs$three_min.fromBufferAttribute(b,d),Sg$$module$js$threejs$three_min.fromBufferAttribute(b,d+1),c[d]=0===d?0:c[d-1],c[d+1]=c[d]+Rg$$module$js$threejs$three_min.distanceTo(Sg$$module$js$threejs$three_min);
a.setAttribute("lineDistance",new ea$$module$js$threejs$three_min(c,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(a.isGeometry)for(b=a.vertices,a=a.lineDistances,c=0,d=b.length;c<d;c+=2)Rg$$module$js$threejs$three_min.copy(b[c]),Sg$$module$js$threejs$three_min.copy(b[c+1]),a[c]=0===c?0:a[c-1],a[c+1]=a[c]+Rg$$module$js$threejs$three_min.distanceTo(Sg$$module$js$threejs$three_min);return this}});
$f$$module$js$threejs$three_min.prototype=Object.assign(Object.create(yb$$module$js$threejs$three_min.prototype),{constructor:$f$$module$js$threejs$three_min,isLineLoop:!0});Rb$$module$js$threejs$three_min.prototype=Object.create(ra$$module$js$threejs$three_min.prototype);Rb$$module$js$threejs$three_min.prototype.constructor=Rb$$module$js$threejs$three_min;Rb$$module$js$threejs$three_min.prototype.isPointsMaterial=!0;
Rb$$module$js$threejs$three_min.prototype.copy=function(a){ra$$module$js$threejs$three_min.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.alphaMap=a.alphaMap;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;this.morphTargets=a.morphTargets;return this};
var Oj$$module$js$threejs$three_min=new da$$module$js$threejs$three_min,wh$$module$js$threejs$three_min=new Ta$$module$js$threejs$three_min,Mf$$module$js$threejs$three_min=new Wa$$module$js$threejs$three_min,Tg$$module$js$threejs$three_min=new w$$module$js$threejs$three_min;
Pd$$module$js$threejs$three_min.prototype=Object.assign(Object.create(ha$$module$js$threejs$three_min.prototype),{constructor:Pd$$module$js$threejs$three_min,isPoints:!0,copy:function(a){ha$$module$js$threejs$three_min.prototype.copy.call(this,a);this.material=a.material;this.geometry=a.geometry;return this},raycast:function(a,b){var c=this.geometry,d=this.matrixWorld,e=a.params.Points.threshold;null===c.boundingSphere&&c.computeBoundingSphere();Mf$$module$js$threejs$three_min.copy(c.boundingSphere);
Mf$$module$js$threejs$three_min.applyMatrix4(d);Mf$$module$js$threejs$three_min.radius+=e;if(!1!==a.ray.intersectsSphere(Mf$$module$js$threejs$three_min))if(Oj$$module$js$threejs$three_min.getInverse(d),wh$$module$js$threejs$three_min.copy(a.ray).applyMatrix4(Oj$$module$js$threejs$three_min),e/=(this.scale.x+this.scale.y+this.scale.z)/3,e*=e,c.isBufferGeometry){var g=c.index;c=c.attributes.position.array;if(null!==g){g=g.array;for(var h=0,k=g.length;h<k;h++){var l=g[h];Tg$$module$js$threejs$three_min.fromArray(c,
3*l);vh$$module$js$threejs$three_min(Tg$$module$js$threejs$three_min,l,e,d,a,b,this)}}else for(g=0,h=c.length/3;g<h;g++)Tg$$module$js$threejs$three_min.fromArray(c,3*g),vh$$module$js$threejs$three_min(Tg$$module$js$threejs$three_min,g,e,d,a,b,this)}else for(c=c.vertices,g=0,h=c.length;g<h;g++)vh$$module$js$threejs$three_min(c[g],g,e,d,a,b,this)},updateMorphTargets:function(){var a=this.geometry;if(a.isBufferGeometry){a=a.morphAttributes;var b=Object.keys(a);if(0<b.length&&(a=a[b[0]],void 0!==a)){this.morphTargetInfluences=
[];this.morphTargetDictionary={};b=0;for(var c=a.length;b<c;b++){var d=a[b].name||String(b);this.morphTargetInfluences.push(0);this.morphTargetDictionary[d]=b}}}else a=a.morphTargets,void 0!==a&&0<a.length&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}});
xh$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Oa$$module$js$threejs$three_min.prototype),{constructor:xh$$module$js$threejs$three_min,isVideoTexture:!0,update:function(){var a=this.image;!1==="requestVideoFrameCallback"in a&&a.readyState>=a.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});Qd$$module$js$threejs$three_min.prototype=Object.create(Oa$$module$js$threejs$three_min.prototype);Qd$$module$js$threejs$three_min.prototype.constructor=Qd$$module$js$threejs$three_min;
Qd$$module$js$threejs$three_min.prototype.isCompressedTexture=!0;Te$$module$js$threejs$three_min.prototype=Object.create(Oa$$module$js$threejs$three_min.prototype);Te$$module$js$threejs$three_min.prototype.constructor=Te$$module$js$threejs$three_min;Te$$module$js$threejs$three_min.prototype.isCanvasTexture=!0;Ue$$module$js$threejs$three_min.prototype=Object.create(Oa$$module$js$threejs$three_min.prototype);Ue$$module$js$threejs$three_min.prototype.constructor=Ue$$module$js$threejs$three_min;
Ue$$module$js$threejs$three_min.prototype.isDepthTexture=!0;Rd$$module$js$threejs$three_min.prototype=Object.create(ka$$module$js$threejs$three_min.prototype);Rd$$module$js$threejs$three_min.prototype.constructor=Rd$$module$js$threejs$three_min;Ve$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);Ve$$module$js$threejs$three_min.prototype.constructor=Ve$$module$js$threejs$three_min;Sd$$module$js$threejs$three_min.prototype=Object.create(ka$$module$js$threejs$three_min.prototype);
Sd$$module$js$threejs$three_min.prototype.constructor=Sd$$module$js$threejs$three_min;We$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);We$$module$js$threejs$three_min.prototype.constructor=We$$module$js$threejs$three_min;zb$$module$js$threejs$three_min.prototype=Object.create(ka$$module$js$threejs$three_min.prototype);zb$$module$js$threejs$three_min.prototype.constructor=zb$$module$js$threejs$three_min;Xe$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);
Xe$$module$js$threejs$three_min.prototype.constructor=Xe$$module$js$threejs$three_min;Td$$module$js$threejs$three_min.prototype=Object.create(zb$$module$js$threejs$three_min.prototype);Td$$module$js$threejs$three_min.prototype.constructor=Td$$module$js$threejs$three_min;Ye$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);Ye$$module$js$threejs$three_min.prototype.constructor=Ye$$module$js$threejs$three_min;fd$$module$js$threejs$three_min.prototype=Object.create(zb$$module$js$threejs$three_min.prototype);
fd$$module$js$threejs$three_min.prototype.constructor=fd$$module$js$threejs$three_min;Ze$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);Ze$$module$js$threejs$three_min.prototype.constructor=Ze$$module$js$threejs$three_min;Ud$$module$js$threejs$three_min.prototype=Object.create(zb$$module$js$threejs$three_min.prototype);Ud$$module$js$threejs$three_min.prototype.constructor=Ud$$module$js$threejs$three_min;$e$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);
$e$$module$js$threejs$three_min.prototype.constructor=$e$$module$js$threejs$three_min;Vd$$module$js$threejs$three_min.prototype=Object.create(zb$$module$js$threejs$three_min.prototype);Vd$$module$js$threejs$three_min.prototype.constructor=Vd$$module$js$threejs$three_min;af$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);af$$module$js$threejs$three_min.prototype.constructor=af$$module$js$threejs$three_min;gd$$module$js$threejs$three_min.prototype=Object.create(ka$$module$js$threejs$three_min.prototype);
gd$$module$js$threejs$three_min.prototype.constructor=gd$$module$js$threejs$three_min;gd$$module$js$threejs$three_min.prototype.toJSON=function(){var a=ka$$module$js$threejs$three_min.prototype.toJSON.call(this);a.path=this.parameters.path.toJSON();return a};bf$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);bf$$module$js$threejs$three_min.prototype.constructor=bf$$module$js$threejs$three_min;Wd$$module$js$threejs$three_min.prototype=Object.create(ka$$module$js$threejs$three_min.prototype);
Wd$$module$js$threejs$three_min.prototype.constructor=Wd$$module$js$threejs$three_min;cf$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);cf$$module$js$threejs$three_min.prototype.constructor=cf$$module$js$threejs$three_min;Xd$$module$js$threejs$three_min.prototype=Object.create(ka$$module$js$threejs$three_min.prototype);Xd$$module$js$threejs$three_min.prototype.constructor=Xd$$module$js$threejs$three_min;
var Wl$$module$js$threejs$three_min={triangulate:function(a,b,c){c=c||2;var d=b&&b.length,e=d?b[0]*c:a.length,g=bj$$module$js$threejs$three_min(a,0,e,c,!0),h=[];if(!g||g.next===g.prev)return h;var k;if(d){var l=c;d=[];var m,n=0;for(m=b.length;n<m;n++){var p=b[n]*l;p=bj$$module$js$threejs$three_min(a,p,n<m-1?b[n+1]*l:a.length,l,!1);p===p.next&&(p.steiner=!0);d.push(Il$$module$js$threejs$three_min(p))}d.sort(Gl$$module$js$threejs$three_min);for(n=0;n<d.length;n++){l=d[n];b=g;if(b=Hl$$module$js$threejs$three_min(l,
b))l=ej$$module$js$threejs$three_min(b,l),Mc$$module$js$threejs$three_min(b,b.next),Mc$$module$js$threejs$three_min(l,l.next);g=Mc$$module$js$threejs$three_min(g,g.next)}}if(a.length>80*c){var t=k=a[0],w=d=a[1];for(l=c;l<e;l+=c)n=a[l],b=a[l+1],n<t&&(t=n),b<w&&(w=b),n>k&&(k=n),b>d&&(d=b);k=Math.max(k-t,d-w);k=0!==k?1/k:0}ef$$module$js$threejs$three_min(g,h,c,t,w,k);return h}},nc$$module$js$threejs$three_min={area:function(a){for(var b=a.length,c=0,d=b-1,e=0;e<b;d=e++)c+=a[d].x*a[e].y-a[e].x*a[d].y;
return.5*c},isClockWise:function(a){return 0>nc$$module$js$threejs$three_min.area(a)},triangulateShape:function(a,b){var c=[],d=[],e=[];fj$$module$js$threejs$three_min(a);gj$$module$js$threejs$three_min(c,a);a=a.length;b.forEach(fj$$module$js$threejs$three_min);for(var g=0;g<b.length;g++)d.push(a),a+=b[g].length,gj$$module$js$threejs$three_min(c,b[g]);b=Wl$$module$js$threejs$three_min.triangulate(c,d);for(c=0;c<b.length;c+=3)e.push(b.slice(c,c+3));return e}};
hd$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);hd$$module$js$threejs$three_min.prototype.constructor=hd$$module$js$threejs$three_min;hd$$module$js$threejs$three_min.prototype.toJSON=function(){var a=sa$$module$js$threejs$three_min.prototype.toJSON.call(this);return hj$$module$js$threejs$three_min(this.parameters.shapes,this.parameters.options,a)};bc$$module$js$threejs$three_min.prototype=Object.create(ka$$module$js$threejs$three_min.prototype);
bc$$module$js$threejs$three_min.prototype.constructor=bc$$module$js$threejs$three_min;bc$$module$js$threejs$three_min.prototype.toJSON=function(){var a=ka$$module$js$threejs$three_min.prototype.toJSON.call(this);return hj$$module$js$threejs$three_min(this.parameters.shapes,this.parameters.options,a)};
var Jl$$module$js$threejs$three_min={generateTopUV:function(a,b,c,d,e){a=b[3*d];d=b[3*d+1];var g=b[3*e];e=b[3*e+1];return[new L$$module$js$threejs$three_min(b[3*c],b[3*c+1]),new L$$module$js$threejs$three_min(a,d),new L$$module$js$threejs$three_min(g,e)]},generateSideWallUV:function(a,b,c,d,e,g){a=b[3*c];var h=b[3*c+1];c=b[3*c+2];var k=b[3*d],l=b[3*d+1];d=b[3*d+2];var m=b[3*e],n=b[3*e+1];e=b[3*e+2];var p=b[3*g],t=b[3*g+1];b=b[3*g+2];return.01>Math.abs(h-l)?[new L$$module$js$threejs$three_min(a,1-
c),new L$$module$js$threejs$three_min(k,1-d),new L$$module$js$threejs$three_min(m,1-e),new L$$module$js$threejs$three_min(p,1-b)]:[new L$$module$js$threejs$three_min(h,1-c),new L$$module$js$threejs$three_min(l,1-d),new L$$module$js$threejs$three_min(n,1-e),new L$$module$js$threejs$three_min(t,1-b)]}};gf$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);gf$$module$js$threejs$three_min.prototype.constructor=gf$$module$js$threejs$three_min;
Zd$$module$js$threejs$three_min.prototype=Object.create(bc$$module$js$threejs$three_min.prototype);Zd$$module$js$threejs$three_min.prototype.constructor=Zd$$module$js$threejs$three_min;hf$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);hf$$module$js$threejs$three_min.prototype.constructor=hf$$module$js$threejs$three_min;id$$module$js$threejs$three_min.prototype=Object.create(ka$$module$js$threejs$three_min.prototype);
id$$module$js$threejs$three_min.prototype.constructor=id$$module$js$threejs$three_min;jf$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);jf$$module$js$threejs$three_min.prototype.constructor=jf$$module$js$threejs$three_min;$d$$module$js$threejs$three_min.prototype=Object.create(ka$$module$js$threejs$three_min.prototype);$d$$module$js$threejs$three_min.prototype.constructor=$d$$module$js$threejs$three_min;kf$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);
kf$$module$js$threejs$three_min.prototype.constructor=kf$$module$js$threejs$three_min;ae$$module$js$threejs$three_min.prototype=Object.create(ka$$module$js$threejs$three_min.prototype);ae$$module$js$threejs$three_min.prototype.constructor=ae$$module$js$threejs$three_min;jd$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);jd$$module$js$threejs$three_min.prototype.constructor=jd$$module$js$threejs$three_min;
jd$$module$js$threejs$three_min.prototype.toJSON=function(){var a=sa$$module$js$threejs$three_min.prototype.toJSON.call(this);return ij$$module$js$threejs$three_min(this.parameters.shapes,a)};kd$$module$js$threejs$three_min.prototype=Object.create(ka$$module$js$threejs$three_min.prototype);kd$$module$js$threejs$three_min.prototype.constructor=kd$$module$js$threejs$three_min;
kd$$module$js$threejs$three_min.prototype.toJSON=function(){var a=ka$$module$js$threejs$three_min.prototype.toJSON.call(this);return ij$$module$js$threejs$three_min(this.parameters.shapes,a)};be$$module$js$threejs$three_min.prototype=Object.create(ka$$module$js$threejs$three_min.prototype);be$$module$js$threejs$three_min.prototype.constructor=be$$module$js$threejs$three_min;ld$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);
ld$$module$js$threejs$three_min.prototype.constructor=ld$$module$js$threejs$three_min;oc$$module$js$threejs$three_min.prototype=Object.create(ka$$module$js$threejs$three_min.prototype);oc$$module$js$threejs$three_min.prototype.constructor=oc$$module$js$threejs$three_min;lf$$module$js$threejs$three_min.prototype=Object.create(ld$$module$js$threejs$three_min.prototype);lf$$module$js$threejs$three_min.prototype.constructor=lf$$module$js$threejs$three_min;mf$$module$js$threejs$three_min.prototype=Object.create(oc$$module$js$threejs$three_min.prototype);
mf$$module$js$threejs$three_min.prototype.constructor=mf$$module$js$threejs$three_min;nf$$module$js$threejs$three_min.prototype=Object.create(sa$$module$js$threejs$three_min.prototype);nf$$module$js$threejs$three_min.prototype.constructor=nf$$module$js$threejs$three_min;ce$$module$js$threejs$three_min.prototype=Object.create(ka$$module$js$threejs$three_min.prototype);ce$$module$js$threejs$three_min.prototype.constructor=ce$$module$js$threejs$three_min;
var vb$$module$js$threejs$three_min=Object.freeze({__proto__:null,WireframeGeometry:Rd$$module$js$threejs$three_min,ParametricGeometry:Ve$$module$js$threejs$three_min,ParametricBufferGeometry:Sd$$module$js$threejs$three_min,TetrahedronGeometry:Xe$$module$js$threejs$three_min,TetrahedronBufferGeometry:Td$$module$js$threejs$three_min,OctahedronGeometry:Ye$$module$js$threejs$three_min,OctahedronBufferGeometry:fd$$module$js$threejs$three_min,IcosahedronGeometry:Ze$$module$js$threejs$three_min,IcosahedronBufferGeometry:Ud$$module$js$threejs$three_min,
DodecahedronGeometry:$e$$module$js$threejs$three_min,DodecahedronBufferGeometry:Vd$$module$js$threejs$three_min,PolyhedronGeometry:We$$module$js$threejs$three_min,PolyhedronBufferGeometry:zb$$module$js$threejs$three_min,TubeGeometry:af$$module$js$threejs$three_min,TubeBufferGeometry:gd$$module$js$threejs$three_min,TorusKnotGeometry:bf$$module$js$threejs$three_min,TorusKnotBufferGeometry:Wd$$module$js$threejs$three_min,TorusGeometry:cf$$module$js$threejs$three_min,TorusBufferGeometry:Xd$$module$js$threejs$three_min,
TextGeometry:gf$$module$js$threejs$three_min,TextBufferGeometry:Zd$$module$js$threejs$three_min,SphereGeometry:hf$$module$js$threejs$three_min,SphereBufferGeometry:id$$module$js$threejs$three_min,RingGeometry:jf$$module$js$threejs$three_min,RingBufferGeometry:$d$$module$js$threejs$three_min,PlaneGeometry:Je$$module$js$threejs$three_min,PlaneBufferGeometry:cd$$module$js$threejs$three_min,LatheGeometry:kf$$module$js$threejs$three_min,LatheBufferGeometry:ae$$module$js$threejs$three_min,ShapeGeometry:jd$$module$js$threejs$three_min,
ShapeBufferGeometry:kd$$module$js$threejs$three_min,ExtrudeGeometry:hd$$module$js$threejs$three_min,ExtrudeBufferGeometry:bc$$module$js$threejs$three_min,EdgesGeometry:be$$module$js$threejs$three_min,ConeGeometry:lf$$module$js$threejs$three_min,ConeBufferGeometry:mf$$module$js$threejs$three_min,CylinderGeometry:ld$$module$js$threejs$three_min,CylinderBufferGeometry:oc$$module$js$threejs$three_min,CircleGeometry:nf$$module$js$threejs$three_min,CircleBufferGeometry:ce$$module$js$threejs$three_min,BoxGeometry:Fd$$module$js$threejs$three_min,
BoxBufferGeometry:Bc$$module$js$threejs$three_min});md$$module$js$threejs$three_min.prototype=Object.create(ra$$module$js$threejs$three_min.prototype);md$$module$js$threejs$three_min.prototype.constructor=md$$module$js$threejs$three_min;md$$module$js$threejs$three_min.prototype.isShadowMaterial=!0;md$$module$js$threejs$three_min.prototype.copy=function(a){ra$$module$js$threejs$three_min.prototype.copy.call(this,a);this.color.copy(a.color);return this};pc$$module$js$threejs$three_min.prototype=Object.create(sb$$module$js$threejs$three_min.prototype);
pc$$module$js$threejs$three_min.prototype.constructor=pc$$module$js$threejs$three_min;pc$$module$js$threejs$three_min.prototype.isRawShaderMaterial=!0;cc$$module$js$threejs$three_min.prototype=Object.create(ra$$module$js$threejs$three_min.prototype);cc$$module$js$threejs$three_min.prototype.constructor=cc$$module$js$threejs$three_min;cc$$module$js$threejs$three_min.prototype.isMeshStandardMaterial=!0;
cc$$module$js$threejs$three_min.prototype.copy=function(a){ra$$module$js$threejs$three_min.prototype.copy.call(this,a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=
a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=
a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;this.vertexTangents=a.vertexTangents;return this};Nc$$module$js$threejs$three_min.prototype=Object.create(cc$$module$js$threejs$three_min.prototype);Nc$$module$js$threejs$three_min.prototype.constructor=Nc$$module$js$threejs$three_min;Nc$$module$js$threejs$three_min.prototype.isMeshPhysicalMaterial=!0;
Nc$$module$js$threejs$three_min.prototype.copy=function(a){cc$$module$js$threejs$three_min.prototype.copy.call(this,a);this.defines={STANDARD:"",PHYSICAL:""};this.clearcoat=a.clearcoat;this.clearcoatMap=a.clearcoatMap;this.clearcoatRoughness=a.clearcoatRoughness;this.clearcoatRoughnessMap=a.clearcoatRoughnessMap;this.clearcoatNormalMap=a.clearcoatNormalMap;this.clearcoatNormalScale.copy(a.clearcoatNormalScale);this.reflectivity=a.reflectivity;this.sheen=a.sheen?(this.sheen||new S$$module$js$threejs$three_min).copy(a.sheen):
null;this.transmission=a.transmission;this.transmissionMap=a.transmissionMap;return this};Oc$$module$js$threejs$three_min.prototype=Object.create(ra$$module$js$threejs$three_min.prototype);Oc$$module$js$threejs$three_min.prototype.constructor=Oc$$module$js$threejs$three_min;Oc$$module$js$threejs$three_min.prototype.isMeshPhongMaterial=!0;
Oc$$module$js$threejs$three_min.prototype.copy=function(a){ra$$module$js$threejs$three_min.prototype.copy.call(this,a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=
a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=
a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};nd$$module$js$threejs$three_min.prototype=Object.create(ra$$module$js$threejs$three_min.prototype);nd$$module$js$threejs$three_min.prototype.constructor=nd$$module$js$threejs$three_min;nd$$module$js$threejs$three_min.prototype.isMeshToonMaterial=!0;
nd$$module$js$threejs$three_min.prototype.copy=function(a){ra$$module$js$threejs$three_min.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.gradientMap=a.gradientMap;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=
a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.alphaMap=a.alphaMap;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};
od$$module$js$threejs$three_min.prototype=Object.create(ra$$module$js$threejs$three_min.prototype);od$$module$js$threejs$three_min.prototype.constructor=od$$module$js$threejs$three_min;od$$module$js$threejs$three_min.prototype.isMeshNormalMaterial=!0;
od$$module$js$threejs$three_min.prototype.copy=function(a){ra$$module$js$threejs$three_min.prototype.copy.call(this,a);this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.skinning=a.skinning;this.morphTargets=
a.morphTargets;this.morphNormals=a.morphNormals;return this};pd$$module$js$threejs$three_min.prototype=Object.create(ra$$module$js$threejs$three_min.prototype);pd$$module$js$threejs$three_min.prototype.constructor=pd$$module$js$threejs$three_min;pd$$module$js$threejs$three_min.prototype.isMeshLambertMaterial=!0;
pd$$module$js$threejs$three_min.prototype.copy=function(a){ra$$module$js$threejs$three_min.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=
a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};qd$$module$js$threejs$three_min.prototype=Object.create(ra$$module$js$threejs$three_min.prototype);qd$$module$js$threejs$three_min.prototype.constructor=qd$$module$js$threejs$three_min;
qd$$module$js$threejs$three_min.prototype.isMeshMatcapMaterial=!0;
qd$$module$js$threejs$three_min.prototype.copy=function(a){ra$$module$js$threejs$three_min.prototype.copy.call(this,a);this.defines={MATCAP:""};this.color.copy(a.color);this.matcap=a.matcap;this.map=a.map;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.alphaMap=a.alphaMap;
this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};rd$$module$js$threejs$three_min.prototype=Object.create(Ya$$module$js$threejs$three_min.prototype);rd$$module$js$threejs$three_min.prototype.constructor=rd$$module$js$threejs$three_min;rd$$module$js$threejs$three_min.prototype.isLineDashedMaterial=!0;
rd$$module$js$threejs$three_min.prototype.copy=function(a){Ya$$module$js$threejs$three_min.prototype.copy.call(this,a);this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this};
var Xl$$module$js$threejs$three_min=Object.freeze({__proto__:null,ShadowMaterial:md$$module$js$threejs$three_min,SpriteMaterial:Lc$$module$js$threejs$three_min,RawShaderMaterial:pc$$module$js$threejs$three_min,ShaderMaterial:sb$$module$js$threejs$three_min,PointsMaterial:Rb$$module$js$threejs$three_min,MeshPhysicalMaterial:Nc$$module$js$threejs$three_min,MeshStandardMaterial:cc$$module$js$threejs$three_min,MeshPhongMaterial:Oc$$module$js$threejs$three_min,MeshToonMaterial:nd$$module$js$threejs$three_min,
MeshNormalMaterial:od$$module$js$threejs$three_min,MeshLambertMaterial:pd$$module$js$threejs$three_min,MeshDepthMaterial:Ec$$module$js$threejs$three_min,MeshDistanceMaterial:Fc$$module$js$threejs$three_min,MeshBasicMaterial:Kb$$module$js$threejs$three_min,MeshMatcapMaterial:qd$$module$js$threejs$three_min,LineDashedMaterial:rd$$module$js$threejs$three_min,LineBasicMaterial:Ya$$module$js$threejs$three_min,Material:ra$$module$js$threejs$three_min}),Va$$module$js$threejs$three_min={arraySlice:function(a,
b,c){return Va$$module$js$threejs$three_min.isTypedArray(a)?new a.constructor(a.subarray(b,void 0!==c?c:a.length)):a.slice(b,c)},convertArray:function(a,b,c){return!a||!c&&a.constructor===b?a:"number"===typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a)},isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){for(var b=a.length,c=Array(b),d=0;d!==b;++d)c[d]=d;c.sort(function(e,g){return a[e]-a[g]});return c},sortedArray:function(a,
b,c){for(var d=a.length,e=new a.constructor(d),g=0,h=0;h!==d;++g)for(var k=c[g]*b,l=0;l!==b;++l)e[h++]=a[k+l];return e},flattenJSON:function(a,b,c,d){for(var e=1,g=a[0];void 0!==g&&void 0===g[d];)g=a[e++];if(void 0!==g){var h=g[d];if(void 0!==h)if(Array.isArray(h)){do h=g[d],void 0!==h&&(b.push(g.time),c.push.apply(c,h)),g=a[e++];while(void 0!==g)}else if(void 0!==h.toArray){do h=g[d],void 0!==h&&(b.push(g.time),h.toArray(c,c.length)),g=a[e++];while(void 0!==g)}else{do h=g[d],void 0!==h&&(b.push(g.time),
c.push(h)),g=a[e++];while(void 0!==g)}}},subclip:function(a,b,c,d,e){e=e||30;a=a.clone();a.name=b;b=[];for(var g=0;g<a.tracks.length;++g){for(var h=a.tracks[g],k=h.getValueSize(),l=[],m=[],n=0;n<h.times.length;++n){var p=h.times[n]*e;if(!(p<c||p>=d))for(l.push(h.times[n]),p=0;p<k;++p)m.push(h.values[n*k+p])}0!==l.length&&(h.times=Va$$module$js$threejs$three_min.convertArray(l,h.times.constructor),h.values=Va$$module$js$threejs$three_min.convertArray(m,h.values.constructor),b.push(h))}a.tracks=b;c=
Infinity;for(d=0;d<a.tracks.length;++d)c>a.tracks[d].times[0]&&(c=a.tracks[d].times[0]);for(d=0;d<a.tracks.length;++d)a.tracks[d].shift(-1*c);a.resetDuration();return a},makeClipAdditive:function(a,b,c,d){void 0===b&&(b=0);void 0===c&&(c=a);if(void 0===d||0>=d)d=30;var e=a.tracks.length,g=b/d;b=function(h){var k=c.tracks[h],l=k.ValueTypeName;if("bool"!==l&&"string"!==l&&(h=a.tracks.find(function(E){return E.name===k.name&&E.ValueTypeName===l}),void 0!==h)){var m=0,n=k.getValueSize();k.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&
(m=n/3);var p=0,t=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=t/3);var w=k.times.length-1,x=void 0;g<=k.times[0]?x=Va$$module$js$threejs$three_min.arraySlice(k.values,m,n-m):g>=k.times[w]?(x=w*n+m,x=Va$$module$js$threejs$three_min.arraySlice(k.values,x,x+n-m)):(x=k.createInterpolant(),w=m,m=n-m,x.evaluate(g),x=Va$$module$js$threejs$three_min.arraySlice(x.resultBuffer,w,m));"quaternion"===l&&(new ua$$module$js$threejs$three_min).fromArray(x).normalize().conjugate().toArray(x);
m=h.times.length;for(n=0;n<m;++n)if(w=n*t+p,"quaternion"===l)ua$$module$js$threejs$three_min.multiplyQuaternionsFlat(h.values,w,x,0,h.values,w);else for(var A=t-2*p,r=0;r<A;++r)h.values[w+r]-=x[r]}};for(d=0;d<e;++d)b(d);a.blendMode=2501;return a}};
Object.assign(Hb$$module$js$threejs$three_min.prototype,{evaluate:function(a){var b=this.parameterPositions,c=this._cachedIndex,d=b[c],e=b[c-1];a:{b:{c:{d:if(!(a<d)){for(var g=c+2;;){if(void 0===d){if(a<e)break d;this._cachedIndex=c=b.length;return this.afterEnd_(c-1,a,e)}if(c===g)break;e=d;d=b[++c];if(a<d)break b}d=b.length;break c}if(a>=e)break a;else{g=b[1];a<g&&(c=2,e=g);for(g=c-2;;){if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(c===g)break;d=e;e=b[--c-1];if(a>=e)break b}d=
c;c=0}}for(;c<d;)e=c+d>>>1,a<b[e]?d=e:c=e+1;d=b[c];e=b[c-1];if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(void 0===d)return this._cachedIndex=c=b.length,this.afterEnd_(c-1,e,a)}this._cachedIndex=c;this.intervalChanged_(c,e,d)}return this.interpolate_(c,e,a,d)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(a){var b=this.resultBuffer,c=this.sampleValues,d=this.valueSize;a*=d;for(var e=0;e!==d;++e)b[e]=
c[a+e];return b},interpolate_:function(){throw Error("call to abstract method");},intervalChanged_:function(){}});Object.assign(Hb$$module$js$threejs$three_min.prototype,{beforeStart_:Hb$$module$js$threejs$three_min.prototype.copySampleValue_,afterEnd_:Hb$$module$js$threejs$three_min.prototype.copySampleValue_});
dg$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Hb$$module$js$threejs$three_min.prototype),{constructor:dg$$module$js$threejs$three_min,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(a,b,c){var d=this.parameterPositions,e=a-2,g=a+1,h=d[e],k=d[g];if(void 0===h)switch(this.getSettings_().endingStart){case 2401:e=a;h=2*b-c;break;case 2402:e=d.length-2;h=b+d[e]-d[e+1];break;default:e=a,h=c}if(void 0===k)switch(this.getSettings_().endingEnd){case 2401:g=
a;k=2*c-b;break;case 2402:g=1;k=c+d[1]-d[0];break;default:g=a-1,k=b}a=.5*(c-b);d=this.valueSize;this._weightPrev=a/(b-h);this._weightNext=a/(k-c);this._offsetPrev=e*d;this._offsetNext=g*d},interpolate_:function(a,b,c,d){var e=this.resultBuffer,g=this.sampleValues,h=this.valueSize;a*=h;var k=a-h,l=this._offsetPrev,m=this._offsetNext,n=this._weightPrev,p=this._weightNext,t=(c-b)/(d-b);c=t*t;d=c*t;b=-n*d+2*n*c-n*t;n=(1+n)*d+(-1.5-2*n)*c+(-.5+n)*t+1;t=(-1-p)*d+(1.5+p)*c+.5*t;p=p*d-p*c;for(c=0;c!==h;++c)e[c]=
b*g[l+c]+n*g[k+c]+t*g[a+c]+p*g[m+c];return e}});of$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Hb$$module$js$threejs$three_min.prototype),{constructor:of$$module$js$threejs$three_min,interpolate_:function(a,b,c,d){var e=this.resultBuffer,g=this.sampleValues,h=this.valueSize;a*=h;var k=a-h;b=(c-b)/(d-b);c=1-b;for(d=0;d!==h;++d)e[d]=g[k+d]*c+g[a+d]*b;return e}});
eg$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Hb$$module$js$threejs$three_min.prototype),{constructor:eg$$module$js$threejs$three_min,interpolate_:function(a){return this.copySampleValue_(a-1)}});
Object.assign(lb$$module$js$threejs$three_min,{toJSON:function(a){var b=a.constructor;if(void 0!==b.toJSON)b=b.toJSON(a);else{b={name:a.name,times:Va$$module$js$threejs$three_min.convertArray(a.times,Array),values:Va$$module$js$threejs$three_min.convertArray(a.values,Array)};var c=a.getInterpolation();c!==a.DefaultInterpolation&&(b.interpolation=c)}b.type=a.ValueTypeName;return b}});
Object.assign(lb$$module$js$threejs$three_min.prototype,{constructor:lb$$module$js$threejs$three_min,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(a){return new eg$$module$js$threejs$three_min(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodLinear:function(a){return new of$$module$js$threejs$three_min(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:function(a){return new dg$$module$js$threejs$three_min(this.times,
this.values,this.getValueSize(),a)},setInterpolation:function(a){switch(a){case 2300:var b=this.InterpolantFactoryMethodDiscrete;break;case 2301:b=this.InterpolantFactoryMethodLinear;break;case 2302:b=this.InterpolantFactoryMethodSmooth}if(void 0===b){b="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(a!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(b);console.warn("THREE.KeyframeTrack:",
b);return this}this.createInterpolant=b;return this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(a){if(0!==a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]+=a;return this},scale:function(a){if(1!==a)for(var b=this.times,c=0,d=b.length;c!==
d;++c)b[c]*=a;return this},trim:function(a,b){for(var c=this.times,d=c.length,e=0,g=d-1;e!==d&&c[e]<a;)++e;for(;-1!==g&&c[g]>b;)--g;++g;if(0!==e||g!==d)e>=g&&(g=Math.max(g,1),e=g-1),a=this.getValueSize(),this.times=Va$$module$js$threejs$three_min.arraySlice(c,e,g),this.values=Va$$module$js$threejs$three_min.arraySlice(this.values,e*a,g*a);return this},validate:function(){var a=!0,b=this.getValueSize();0!==b-Math.floor(b)&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),a=
!1);var c=this.times;b=this.values;var d=c.length;0===d&&(console.error("THREE.KeyframeTrack: Track is empty.",this),a=!1);for(var e=null,g=0;g!==d;g++){var h=c[g];if("number"===typeof h&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,g,h);a=!1;break}if(null!==e&&e>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,g,h,e);a=!1;break}e=h}if(void 0!==b&&Va$$module$js$threejs$three_min.isTypedArray(b))for(c=0,d=b.length;c!==d;++c)if(e=b[c],isNaN(e)){console.error("THREE.KeyframeTrack: Value is not a valid number.",
this,c,e);a=!1;break}return a},optimize:function(){for(var a=Va$$module$js$threejs$three_min.arraySlice(this.times),b=Va$$module$js$threejs$three_min.arraySlice(this.values),c=this.getValueSize(),d=2302===this.getInterpolation(),e=a.length-1,g=1,h=1;h<e;++h){var k=!1,l=a[h];if(l!==a[h+1]&&(1!==h||l!==l[0]))if(d)k=!0;else{l=h*c;for(var m=l-c,n=l+c,p=0;p!==c;++p){var t=b[l+p];if(t!==b[m+p]||t!==b[n+p]){k=!0;break}}}if(k){if(h!==g)for(a[g]=a[h],k=h*c,l=g*c,m=0;m!==c;++m)b[l+m]=b[k+m];++g}}if(0<e){a[g]=
a[e];d=e*c;e=g*c;for(h=0;h!==c;++h)b[e+h]=b[d+h];++g}g!==a.length?(this.times=Va$$module$js$threejs$three_min.arraySlice(a,0,g),this.values=Va$$module$js$threejs$three_min.arraySlice(b,0,g*c)):(this.times=a,this.values=b);return this},clone:function(){var a=Va$$module$js$threejs$three_min.arraySlice(this.times,0),b=Va$$module$js$threejs$three_min.arraySlice(this.values,0);a=new this.constructor(this.name,a,b);a.createInterpolant=this.createInterpolant;return a}});
fg$$module$js$threejs$three_min.prototype=Object.assign(Object.create(lb$$module$js$threejs$three_min.prototype),{constructor:fg$$module$js$threejs$three_min,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});gg$$module$js$threejs$three_min.prototype=Object.assign(Object.create(lb$$module$js$threejs$three_min.prototype),{constructor:gg$$module$js$threejs$three_min,ValueTypeName:"color"});
de$$module$js$threejs$three_min.prototype=Object.assign(Object.create(lb$$module$js$threejs$three_min.prototype),{constructor:de$$module$js$threejs$three_min,ValueTypeName:"number"});
hg$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Hb$$module$js$threejs$three_min.prototype),{constructor:hg$$module$js$threejs$three_min,interpolate_:function(a,b,c,d){var e=this.resultBuffer,g=this.sampleValues,h=this.valueSize;b=(c-b)/(d-b);a*=h;for(c=a+h;a!==c;a+=4)ua$$module$js$threejs$three_min.slerpFlat(e,0,g,a-h,g,a,b);return e}});
pf$$module$js$threejs$three_min.prototype=Object.assign(Object.create(lb$$module$js$threejs$three_min.prototype),{constructor:pf$$module$js$threejs$three_min,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(a){return new hg$$module$js$threejs$three_min(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:void 0});
ig$$module$js$threejs$three_min.prototype=Object.assign(Object.create(lb$$module$js$threejs$three_min.prototype),{constructor:ig$$module$js$threejs$three_min,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});ee$$module$js$threejs$three_min.prototype=Object.assign(Object.create(lb$$module$js$threejs$three_min.prototype),{constructor:ee$$module$js$threejs$three_min,ValueTypeName:"vector"});
Object.assign(Mb$$module$js$threejs$three_min,{parse:function(a){for(var b=[],c=a.tracks,d=1/(a.fps||1),e=0,g=c.length;e!==g;++e)b.push(Ll$$module$js$threejs$three_min(c[e]).scale(d));return new Mb$$module$js$threejs$three_min(a.name,a.duration,b,a.blendMode)},toJSON:function(a){var b=[],c=a.tracks;a={name:a.name,duration:a.duration,tracks:b,uuid:a.uuid,blendMode:a.blendMode};for(var d=0,e=c.length;d!==e;++d)b.push(lb$$module$js$threejs$three_min.toJSON(c[d]));return a},CreateFromMorphTargetSequence:function(a,
b,c,d){for(var e=b.length,g=[],h=0;h<e;h++){var k=[],l=[];k.push((h+e-1)%e,h,(h+1)%e);l.push(0,1,0);var m=Va$$module$js$threejs$three_min.getKeyframeOrder(k);k=Va$$module$js$threejs$three_min.sortedArray(k,1,m);l=Va$$module$js$threejs$three_min.sortedArray(l,1,m);d||0!==k[0]||(k.push(e),l.push(l[0]));g.push((new de$$module$js$threejs$three_min(".morphTargetInfluences["+b[h].name+"]",k,l)).scale(1/c))}return new Mb$$module$js$threejs$three_min(a,-1,g)},findByName:function(a,b){var c=a;Array.isArray(a)||
(c=a.geometry&&a.geometry.animations||a.animations);for(a=0;a<c.length;a++)if(c[a].name===b)return c[a];return null},CreateClipsFromMorphTargetSequences:function(a,b,c){for(var d={},e=/^([\w-]*?)([\d]+)$/,g=0,h=a.length;g<h;g++){var k=a[g],l=k.name.match(e);if(l&&1<l.length){l=l[1];var m=d[l];m||(d[l]=m=[]);m.push(k)}}a=[];for(var n in d)a.push(Mb$$module$js$threejs$three_min.CreateFromMorphTargetSequence(n,d[n],b,c));return a},parseAnimation:function(a,b){if(!a)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),
null;var c=function(r,E,B,G,H){if(0!==B.length){var O=[],N=[];Va$$module$js$threejs$three_min.flattenJSON(B,O,N,G);0!==O.length&&H.push(new r(E,O,N))}},d=[],e=a.name||"default",g=a.fps||30,h=a.blendMode,k=a.length||-1;a=a.hierarchy||[];for(var l=0;l<a.length;l++){var m=a[l].keys;if(m&&0!==m.length)if(m[0].morphTargets){k={};var n=void 0;for(n=0;n<m.length;n++)if(m[n].morphTargets)for(var p=0;p<m[n].morphTargets.length;p++)k[m[n].morphTargets[p]]=-1;for(var t in k){p=[];for(var w=[],x=0;x!==m[n].morphTargets.length;++x){var A=
m[n];p.push(A.time);w.push(A.morphTarget===t?1:0)}d.push(new de$$module$js$threejs$three_min(".morphTargetInfluence["+t+"]",p,w))}k=k.length*(g||1)}else n=".bones["+b[l].name+"]",c(ee$$module$js$threejs$three_min,n+".position",m,"pos",d),c(pf$$module$js$threejs$three_min,n+".quaternion",m,"rot",d),c(ee$$module$js$threejs$three_min,n+".scale",m,"scl",d)}return 0===d.length?null:new Mb$$module$js$threejs$three_min(e,k,d,h)}});
Object.assign(Mb$$module$js$threejs$three_min.prototype,{resetDuration:function(){for(var a=0,b=0,c=this.tracks.length;b!==c;++b){var d=this.tracks[b];a=Math.max(a,d.times[d.times.length-1])}this.duration=a;return this},trim:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this},validate:function(){for(var a=!0,b=0;b<this.tracks.length;b++)a=a&&this.tracks[b].validate();return a},optimize:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].optimize();
return this},clone:function(){for(var a=[],b=0;b<this.tracks.length;b++)a.push(this.tracks[b].clone());return new Mb$$module$js$threejs$three_min(this.name,this.duration,a,this.blendMode)}});var vd$$module$js$threejs$three_min={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}},jj$$module$js$threejs$three_min=new Ah$$module$js$threejs$three_min;
Object.assign(Ma$$module$js$threejs$three_min.prototype,{load:function(){},loadAsync:function(a,b){var c=this;return new Promise(function(d,e){c.load(a,d,b,e)})},parse:function(){},setCrossOrigin:function(a){this.crossOrigin=a;return this},setPath:function(a){this.path=a;return this},setResourcePath:function(a){this.resourcePath=a;return this},setRequestHeader:function(a){this.requestHeader=a;return this}});var Zb$$module$js$threejs$three_min={};
Nb$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Ma$$module$js$threejs$three_min.prototype),{constructor:Nb$$module$js$threejs$three_min,load:function(a,b,c,d){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);var e=this,g=vd$$module$js$threejs$three_min.get(a);if(void 0!==g)return e.manager.itemStart(a),setTimeout(function(){b&&b(g);e.manager.itemEnd(a)},0),g;if(void 0!==Zb$$module$js$threejs$three_min[a])Zb$$module$js$threejs$three_min[a].push({onLoad:b,
onProgress:c,onError:d});else{var h=a.match(/^data:(.*?)(;base64)?,(.*)$/);if(h){c=h[1];var k=!!h[2];h=h[3];h=decodeURIComponent(h);k&&(h=atob(h));try{var l=(this.responseType||"").toLowerCase();switch(l){case "arraybuffer":case "blob":var m=new Uint8Array(h.length);for(k=0;k<h.length;k++)m[k]=h.charCodeAt(k);var n="blob"===l?new Blob([m.buffer],{type:c}):m.buffer;break;case "document":n=(new DOMParser).parseFromString(h,c);break;case "json":n=JSON.parse(h);break;default:n=h}setTimeout(function(){b&&
b(n);e.manager.itemEnd(a)},0)}catch(t){setTimeout(function(){d&&d(t);e.manager.itemError(a);e.manager.itemEnd(a)},0)}}else{Zb$$module$js$threejs$three_min[a]=[];Zb$$module$js$threejs$three_min[a].push({onLoad:b,onProgress:c,onError:d});var p=new XMLHttpRequest;p.open("GET",a,!0);p.addEventListener("load",function(t){var w=this.response,x=Zb$$module$js$threejs$three_min[a];delete Zb$$module$js$threejs$three_min[a];if(200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");
vd$$module$js$threejs$three_min.add(a,w);t=0;for(var A=x.length;t<A;t++){var r=x[t];if(r.onLoad)r.onLoad(w)}}else{w=0;for(A=x.length;w<A;w++)if(r=x[w],r.onError)r.onError(t);e.manager.itemError(a)}e.manager.itemEnd(a)},!1);p.addEventListener("progress",function(t){for(var w=Zb$$module$js$threejs$three_min[a],x=0,A=w.length;x<A;x++){var r=w[x];if(r.onProgress)r.onProgress(t)}},!1);p.addEventListener("error",function(t){var w=Zb$$module$js$threejs$three_min[a];delete Zb$$module$js$threejs$three_min[a];
for(var x=0,A=w.length;x<A;x++){var r=w[x];if(r.onError)r.onError(t)}e.manager.itemError(a);e.manager.itemEnd(a)},!1);p.addEventListener("abort",function(t){var w=Zb$$module$js$threejs$three_min[a];delete Zb$$module$js$threejs$three_min[a];for(var x=0,A=w.length;x<A;x++){var r=w[x];if(r.onError)r.onError(t)}e.manager.itemError(a);e.manager.itemEnd(a)},!1);void 0!==this.responseType&&(p.responseType=this.responseType);void 0!==this.withCredentials&&(p.withCredentials=this.withCredentials);p.overrideMimeType&&
p.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(k in this.requestHeader)p.setRequestHeader(k,this.requestHeader[k]);p.send(null)}e.manager.itemStart(a);return p}},setResponseType:function(a){this.responseType=a;return this},setWithCredentials:function(a){this.withCredentials=a;return this},setMimeType:function(a){this.mimeType=a;return this}});
Bh$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Ma$$module$js$threejs$three_min.prototype),{constructor:Bh$$module$js$threejs$three_min,load:function(a,b,c,d){var e=this,g=new Nb$$module$js$threejs$three_min(e.manager);g.setPath(e.path);g.setRequestHeader(e.requestHeader);g.load(a,function(h){try{b(e.parse(JSON.parse(h)))}catch(k){d?d(k):console.error(k),e.manager.itemError(a)}},c,d)},parse:function(a){for(var b=[],c=0;c<a.length;c++){var d=Mb$$module$js$threejs$three_min.parse(a[c]);
b.push(d)}return b}});
Ch$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Ma$$module$js$threejs$three_min.prototype),{constructor:Ch$$module$js$threejs$three_min,load:function(a,b,c,d){function e(t){l.load(a[t],function(w){w=g.parse(w,!0);h[t]={width:w.width,height:w.height,format:w.format,mipmaps:w.mipmaps};m+=1;6===m&&(1===w.mipmapCount&&(k.minFilter=1006),k.format=w.format,k.needsUpdate=!0,b&&b(k))},c,d)}var g=this,h=[],k=new Qd$$module$js$threejs$three_min;k.image=h;var l=new Nb$$module$js$threejs$three_min(this.manager);l.setPath(this.path);
l.setResponseType("arraybuffer");l.setRequestHeader(this.requestHeader);var m=0;if(Array.isArray(a))for(var n=0,p=a.length;n<p;++n)e(n);else l.load(a,function(t){t=g.parse(t,!0);if(t.isCubemap)for(var w=t.mipmaps.length/t.mipmapCount,x=0;x<w;x++){h[x]={mipmaps:[]};for(var A=0;A<t.mipmapCount;A++)h[x].mipmaps.push(t.mipmaps[x*t.mipmapCount+A]),h[x].format=t.format,h[x].width=t.width,h[x].height=t.height}else k.image.width=t.width,k.image.height=t.height,k.mipmaps=t.mipmaps;1===t.mipmapCount&&(k.minFilter=
1006);k.format=t.format;k.needsUpdate=!0;b&&b(k)},c,d);return k}});
fe$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Ma$$module$js$threejs$three_min.prototype),{constructor:fe$$module$js$threejs$three_min,load:function(a,b,c,d){function e(){l.removeEventListener("load",e,!1);l.removeEventListener("error",g,!1);vd$$module$js$threejs$three_min.add(a,this);b&&b(this);h.manager.itemEnd(a)}function g(m){l.removeEventListener("load",e,!1);l.removeEventListener("error",g,!1);d&&d(m);h.manager.itemError(a);h.manager.itemEnd(a)}void 0!==this.path&&(a=
this.path+a);a=this.manager.resolveURL(a);var h=this,k=vd$$module$js$threejs$three_min.get(a);if(void 0!==k)return h.manager.itemStart(a),setTimeout(function(){b&&b(k);h.manager.itemEnd(a)},0),k;var l=document.createElementNS("http://www.w3.org/1999/xhtml","img");l.addEventListener("load",e,!1);l.addEventListener("error",g,!1);"data:"!==a.substr(0,5)&&void 0!==this.crossOrigin&&(l.crossOrigin=this.crossOrigin);h.manager.itemStart(a);l.src=a;return l}});
jg$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Ma$$module$js$threejs$three_min.prototype),{constructor:jg$$module$js$threejs$three_min,load:function(a,b,c,d){function e(l){h.load(a[l],function(m){g.images[l]=m;k++;6===k&&(g.needsUpdate=!0,b&&b(g))},void 0,d)}var g=new kc$$module$js$threejs$three_min,h=new fe$$module$js$threejs$three_min(this.manager);h.setCrossOrigin(this.crossOrigin);h.setPath(this.path);var k=0;for(c=0;c<a.length;++c)e(c);return g}});
kg$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Ma$$module$js$threejs$three_min.prototype),{constructor:kg$$module$js$threejs$three_min,load:function(a,b,c,d){var e=this,g=new bd$$module$js$threejs$three_min,h=new Nb$$module$js$threejs$three_min(this.manager);h.setResponseType("arraybuffer");h.setRequestHeader(this.requestHeader);h.setPath(this.path);h.load(a,function(k){if(k=e.parse(k))void 0!==k.image?g.image=k.image:void 0!==k.data&&(g.image.width=k.width,g.image.height=k.height,
g.image.data=k.data),g.wrapS=void 0!==k.wrapS?k.wrapS:1001,g.wrapT=void 0!==k.wrapT?k.wrapT:1001,g.magFilter=void 0!==k.magFilter?k.magFilter:1006,g.minFilter=void 0!==k.minFilter?k.minFilter:1006,g.anisotropy=void 0!==k.anisotropy?k.anisotropy:1,void 0!==k.format&&(g.format=k.format),void 0!==k.type&&(g.type=k.type),void 0!==k.mipmaps&&(g.mipmaps=k.mipmaps,g.minFilter=1008),1===k.mipmapCount&&(g.minFilter=1006),g.needsUpdate=!0,b&&b(g,k)},c,d);return g}});
lg$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Ma$$module$js$threejs$three_min.prototype),{constructor:lg$$module$js$threejs$three_min,load:function(a,b,c,d){var e=new Oa$$module$js$threejs$three_min,g=new fe$$module$js$threejs$three_min(this.manager);g.setCrossOrigin(this.crossOrigin);g.setPath(this.path);g.load(a,function(h){e.image=h;h=0<a.search(/\.jpe?g($|\?)/i)||0===a.search(/^data:image\/jpeg/);e.format=h?1022:1023;e.needsUpdate=!0;void 0!==b&&b(e)},c,d);return e}});
Object.assign(oa$$module$js$threejs$three_min.prototype,{getPoint:function(){console.warn("THREE.Curve: .getPoint() not implemented.");return null},getPointAt:function(a,b){a=this.getUtoTmapping(a);return this.getPoint(a,b)},getPoints:function(a){void 0===a&&(a=5);for(var b=[],c=0;c<=a;c++)b.push(this.getPoint(c/a));return b},getSpacedPoints:function(a){void 0===a&&(a=5);for(var b=[],c=0;c<=a;c++)b.push(this.getPointAt(c/a));return b},getLength:function(){var a=this.getLengths();return a[a.length-
1]},getLengths:function(a){void 0===a&&(a=this.arcLengthDivisions);if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var b=[],c=this.getPoint(0),d=0;b.push(0);for(var e=1;e<=a;e++){var g=this.getPoint(e/a);d+=g.distanceTo(c);b.push(d);c=g}return this.cacheArcLengths=b},updateArcLengths:function(){this.needsUpdate=!0;this.getLengths()},getUtoTmapping:function(a,b){var c=this.getLengths(),d=c.length;b=b?b:a*c[d-1];for(var e=
0,g=d-1,h;e<=g;)if(a=Math.floor(e+(g-e)/2),h=c[a]-b,0>h)e=a+1;else if(0<h)g=a-1;else{g=a;break}a=g;if(c[a]===b)return a/(d-1);e=c[a];return(a+(b-e)/(c[a+1]-e))/(d-1)},getTangent:function(a,b){var c=a-1E-4;a+=1E-4;0>c&&(c=0);1<a&&(a=1);c=this.getPoint(c);a=this.getPoint(a);b=b||(c.isVector2?new L$$module$js$threejs$three_min:new w$$module$js$threejs$three_min);b.copy(a).sub(c).normalize();return b},getTangentAt:function(a,b){a=this.getUtoTmapping(a);return this.getTangent(a,b)},computeFrenetFrames:function(a,
b){for(var c=new w$$module$js$threejs$three_min,d=[],e=[],g=[],h=new w$$module$js$threejs$three_min,k=new da$$module$js$threejs$three_min,l=0;l<=a;l++)d[l]=this.getTangentAt(l/a,new w$$module$js$threejs$three_min),d[l].normalize();e[0]=new w$$module$js$threejs$three_min;g[0]=new w$$module$js$threejs$three_min;l=Number.MAX_VALUE;var m=Math.abs(d[0].x),n=Math.abs(d[0].y),p=Math.abs(d[0].z);m<=l&&(l=m,c.set(1,0,0));n<=l&&(l=n,c.set(0,1,0));p<=l&&c.set(0,0,1);h.crossVectors(d[0],c).normalize();e[0].crossVectors(d[0],
h);g[0].crossVectors(d[0],e[0]);for(c=1;c<=a;c++)e[c]=e[c-1].clone(),g[c]=g[c-1].clone(),h.crossVectors(d[c-1],d[c]),h.length()>Number.EPSILON&&(h.normalize(),l=Math.acos(xa$$module$js$threejs$three_min.clamp(d[c-1].dot(d[c]),-1,1)),e[c].applyMatrix4(k.makeRotationAxis(h,l))),g[c].crossVectors(d[c],e[c]);if(!0===b)for(b=Math.acos(xa$$module$js$threejs$three_min.clamp(e[0].dot(e[a]),-1,1)),b/=a,0<d[0].dot(h.crossVectors(e[0],e[a]))&&(b=-b),h=1;h<=a;h++)e[h].applyMatrix4(k.makeRotationAxis(d[h],b*h)),
g[h].crossVectors(d[h],e[h]);return{tangents:d,normals:e,binormals:g}},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.arcLengthDivisions=a.arcLengthDivisions;return this},toJSON:function(){var a={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};a.arcLengthDivisions=this.arcLengthDivisions;a.type=this.type;return a},fromJSON:function(a){this.arcLengthDivisions=a.arcLengthDivisions;return this}});Ib$$module$js$threejs$three_min.prototype=Object.create(oa$$module$js$threejs$three_min.prototype);
Ib$$module$js$threejs$three_min.prototype.constructor=Ib$$module$js$threejs$three_min;Ib$$module$js$threejs$three_min.prototype.isEllipseCurve=!0;
Ib$$module$js$threejs$three_min.prototype.getPoint=function(a,b){b=b||new L$$module$js$threejs$three_min;for(var c=2*Math.PI,d=this.aEndAngle-this.aStartAngle,e=Math.abs(d)<Number.EPSILON;0>d;)d+=c;for(;d>c;)d-=c;d<Number.EPSILON&&(d=e?0:c);!0!==this.aClockwise||e||(d=d===c?-c:d-c);c=this.aStartAngle+a*d;a=this.aX+this.xRadius*Math.cos(c);var g=this.aY+this.yRadius*Math.sin(c);0!==this.aRotation&&(c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),e=a-this.aX,g-=this.aY,a=e*c-g*d+this.aX,g=e*d+
g*c+this.aY);return b.set(a,g)};Ib$$module$js$threejs$three_min.prototype.copy=function(a){oa$$module$js$threejs$three_min.prototype.copy.call(this,a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this};
Ib$$module$js$threejs$three_min.prototype.toJSON=function(){var a=oa$$module$js$threejs$three_min.prototype.toJSON.call(this);a.aX=this.aX;a.aY=this.aY;a.xRadius=this.xRadius;a.yRadius=this.yRadius;a.aStartAngle=this.aStartAngle;a.aEndAngle=this.aEndAngle;a.aClockwise=this.aClockwise;a.aRotation=this.aRotation;return a};
Ib$$module$js$threejs$three_min.prototype.fromJSON=function(a){oa$$module$js$threejs$three_min.prototype.fromJSON.call(this,a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this};ge$$module$js$threejs$three_min.prototype=Object.create(Ib$$module$js$threejs$three_min.prototype);ge$$module$js$threejs$three_min.prototype.constructor=ge$$module$js$threejs$three_min;
ge$$module$js$threejs$three_min.prototype.isArcCurve=!0;var Ug$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,mi$$module$js$threejs$three_min=new Dh$$module$js$threejs$three_min,ni$$module$js$threejs$three_min=new Dh$$module$js$threejs$three_min,oi$$module$js$threejs$three_min=new Dh$$module$js$threejs$three_min;ob$$module$js$threejs$three_min.prototype=Object.create(oa$$module$js$threejs$three_min.prototype);ob$$module$js$threejs$three_min.prototype.constructor=ob$$module$js$threejs$three_min;
ob$$module$js$threejs$three_min.prototype.isCatmullRomCurve3=!0;
ob$$module$js$threejs$three_min.prototype.getPoint=function(a,b){b=b||new w$$module$js$threejs$three_min;var c=this.points,d=c.length;a*=d-(this.closed?0:1);var e=Math.floor(a);a-=e;this.closed?e+=0<e?0:(Math.floor(Math.abs(e)/d)+1)*d:0===a&&e===d-1&&(e=d-2,a=1);if(this.closed||0<e)var g=c[(e-1)%d];else Ug$$module$js$threejs$three_min.subVectors(c[0],c[1]).add(c[0]),g=Ug$$module$js$threejs$three_min;var h=c[e%d],k=c[(e+1)%d];this.closed||e+2<d?c=c[(e+2)%d]:(Ug$$module$js$threejs$three_min.subVectors(c[d-
1],c[d-2]).add(c[d-1]),c=Ug$$module$js$threejs$three_min);if("centripetal"===this.curveType||"chordal"===this.curveType){var l="chordal"===this.curveType?.5:.25;d=Math.pow(g.distanceToSquared(h),l);e=Math.pow(h.distanceToSquared(k),l);l=Math.pow(k.distanceToSquared(c),l);1E-4>e&&(e=1);1E-4>d&&(d=e);1E-4>l&&(l=e);mi$$module$js$threejs$three_min.initNonuniformCatmullRom(g.x,h.x,k.x,c.x,d,e,l);ni$$module$js$threejs$three_min.initNonuniformCatmullRom(g.y,h.y,k.y,c.y,d,e,l);oi$$module$js$threejs$three_min.initNonuniformCatmullRom(g.z,
h.z,k.z,c.z,d,e,l)}else"catmullrom"===this.curveType&&(mi$$module$js$threejs$three_min.initCatmullRom(g.x,h.x,k.x,c.x,this.tension),ni$$module$js$threejs$three_min.initCatmullRom(g.y,h.y,k.y,c.y,this.tension),oi$$module$js$threejs$three_min.initCatmullRom(g.z,h.z,k.z,c.z,this.tension));b.set(mi$$module$js$threejs$three_min.calc(a),ni$$module$js$threejs$three_min.calc(a),oi$$module$js$threejs$three_min.calc(a));return b};
ob$$module$js$threejs$three_min.prototype.copy=function(a){oa$$module$js$threejs$three_min.prototype.copy.call(this,a);this.points=[];for(var b=0,c=a.points.length;b<c;b++)this.points.push(a.points[b].clone());this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this};
ob$$module$js$threejs$three_min.prototype.toJSON=function(){var a=oa$$module$js$threejs$three_min.prototype.toJSON.call(this);a.points=[];for(var b=0,c=this.points.length;b<c;b++)a.points.push(this.points[b].toArray());a.closed=this.closed;a.curveType=this.curveType;a.tension=this.tension;return a};
ob$$module$js$threejs$three_min.prototype.fromJSON=function(a){oa$$module$js$threejs$three_min.prototype.fromJSON.call(this,a);this.points=[];for(var b=0,c=a.points.length;b<c;b++){var d=a.points[b];this.points.push((new w$$module$js$threejs$three_min).fromArray(d))}this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this};Sb$$module$js$threejs$three_min.prototype=Object.create(oa$$module$js$threejs$three_min.prototype);
Sb$$module$js$threejs$three_min.prototype.constructor=Sb$$module$js$threejs$three_min;Sb$$module$js$threejs$three_min.prototype.isCubicBezierCurve=!0;Sb$$module$js$threejs$three_min.prototype.getPoint=function(a,b){b=b||new L$$module$js$threejs$three_min;var c=this.v0,d=this.v1,e=this.v2,g=this.v3;b.set(rf$$module$js$threejs$three_min(a,c.x,d.x,e.x,g.x),rf$$module$js$threejs$three_min(a,c.y,d.y,e.y,g.y));return b};
Sb$$module$js$threejs$three_min.prototype.copy=function(a){oa$$module$js$threejs$three_min.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this};Sb$$module$js$threejs$three_min.prototype.toJSON=function(){var a=oa$$module$js$threejs$three_min.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a};
Sb$$module$js$threejs$three_min.prototype.fromJSON=function(a){oa$$module$js$threejs$three_min.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this};dc$$module$js$threejs$three_min.prototype=Object.create(oa$$module$js$threejs$three_min.prototype);dc$$module$js$threejs$three_min.prototype.constructor=dc$$module$js$threejs$three_min;dc$$module$js$threejs$three_min.prototype.isCubicBezierCurve3=!0;
dc$$module$js$threejs$three_min.prototype.getPoint=function(a,b){b=b||new w$$module$js$threejs$three_min;var c=this.v0,d=this.v1,e=this.v2,g=this.v3;b.set(rf$$module$js$threejs$three_min(a,c.x,d.x,e.x,g.x),rf$$module$js$threejs$three_min(a,c.y,d.y,e.y,g.y),rf$$module$js$threejs$three_min(a,c.z,d.z,e.z,g.z));return b};
dc$$module$js$threejs$three_min.prototype.copy=function(a){oa$$module$js$threejs$three_min.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this};dc$$module$js$threejs$three_min.prototype.toJSON=function(){var a=oa$$module$js$threejs$three_min.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a};
dc$$module$js$threejs$three_min.prototype.fromJSON=function(a){oa$$module$js$threejs$three_min.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this};Ab$$module$js$threejs$three_min.prototype=Object.create(oa$$module$js$threejs$three_min.prototype);Ab$$module$js$threejs$three_min.prototype.constructor=Ab$$module$js$threejs$three_min;Ab$$module$js$threejs$three_min.prototype.isLineCurve=!0;
Ab$$module$js$threejs$three_min.prototype.getPoint=function(a,b){b=b||new L$$module$js$threejs$three_min;1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b};Ab$$module$js$threejs$three_min.prototype.getPointAt=function(a,b){return this.getPoint(a,b)};Ab$$module$js$threejs$three_min.prototype.getTangent=function(a,b){a=b||new L$$module$js$threejs$three_min;a.copy(this.v2).sub(this.v1).normalize();return a};
Ab$$module$js$threejs$three_min.prototype.copy=function(a){oa$$module$js$threejs$three_min.prototype.copy.call(this,a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};Ab$$module$js$threejs$three_min.prototype.toJSON=function(){var a=oa$$module$js$threejs$three_min.prototype.toJSON.call(this);a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};
Ab$$module$js$threejs$three_min.prototype.fromJSON=function(a){oa$$module$js$threejs$three_min.prototype.fromJSON.call(this,a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};Tb$$module$js$threejs$three_min.prototype=Object.create(oa$$module$js$threejs$three_min.prototype);Tb$$module$js$threejs$three_min.prototype.constructor=Tb$$module$js$threejs$three_min;Tb$$module$js$threejs$three_min.prototype.isLineCurve3=!0;
Tb$$module$js$threejs$three_min.prototype.getPoint=function(a,b){b=b||new w$$module$js$threejs$three_min;1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b};Tb$$module$js$threejs$three_min.prototype.getPointAt=function(a,b){return this.getPoint(a,b)};Tb$$module$js$threejs$three_min.prototype.copy=function(a){oa$$module$js$threejs$three_min.prototype.copy.call(this,a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};
Tb$$module$js$threejs$three_min.prototype.toJSON=function(){var a=oa$$module$js$threejs$three_min.prototype.toJSON.call(this);a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};Tb$$module$js$threejs$three_min.prototype.fromJSON=function(a){oa$$module$js$threejs$three_min.prototype.fromJSON.call(this,a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};Ub$$module$js$threejs$three_min.prototype=Object.create(oa$$module$js$threejs$three_min.prototype);
Ub$$module$js$threejs$three_min.prototype.constructor=Ub$$module$js$threejs$three_min;Ub$$module$js$threejs$three_min.prototype.isQuadraticBezierCurve=!0;Ub$$module$js$threejs$three_min.prototype.getPoint=function(a,b){b=b||new L$$module$js$threejs$three_min;var c=this.v0,d=this.v1,e=this.v2;b.set(qf$$module$js$threejs$three_min(a,c.x,d.x,e.x),qf$$module$js$threejs$three_min(a,c.y,d.y,e.y));return b};
Ub$$module$js$threejs$three_min.prototype.copy=function(a){oa$$module$js$threejs$three_min.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};Ub$$module$js$threejs$three_min.prototype.toJSON=function(){var a=oa$$module$js$threejs$three_min.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};
Ub$$module$js$threejs$three_min.prototype.fromJSON=function(a){oa$$module$js$threejs$three_min.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};ec$$module$js$threejs$three_min.prototype=Object.create(oa$$module$js$threejs$three_min.prototype);ec$$module$js$threejs$three_min.prototype.constructor=ec$$module$js$threejs$three_min;ec$$module$js$threejs$three_min.prototype.isQuadraticBezierCurve3=!0;
ec$$module$js$threejs$three_min.prototype.getPoint=function(a,b){b=b||new w$$module$js$threejs$three_min;var c=this.v0,d=this.v1,e=this.v2;b.set(qf$$module$js$threejs$three_min(a,c.x,d.x,e.x),qf$$module$js$threejs$three_min(a,c.y,d.y,e.y),qf$$module$js$threejs$three_min(a,c.z,d.z,e.z));return b};ec$$module$js$threejs$three_min.prototype.copy=function(a){oa$$module$js$threejs$three_min.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};
ec$$module$js$threejs$three_min.prototype.toJSON=function(){var a=oa$$module$js$threejs$three_min.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};ec$$module$js$threejs$three_min.prototype.fromJSON=function(a){oa$$module$js$threejs$three_min.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};Vb$$module$js$threejs$three_min.prototype=Object.create(oa$$module$js$threejs$three_min.prototype);
Vb$$module$js$threejs$three_min.prototype.constructor=Vb$$module$js$threejs$three_min;Vb$$module$js$threejs$three_min.prototype.isSplineCurve=!0;
Vb$$module$js$threejs$three_min.prototype.getPoint=function(a,b){b=b||new L$$module$js$threejs$three_min;var c=this.points,d=(c.length-1)*a;a=Math.floor(d);d-=a;var e=c[0===a?a:a-1],g=c[a],h=c[a>c.length-2?c.length-1:a+1];c=c[a>c.length-3?c.length-1:a+2];b.set(kj$$module$js$threejs$three_min(d,e.x,g.x,h.x,c.x),kj$$module$js$threejs$three_min(d,e.y,g.y,h.y,c.y));return b};
Vb$$module$js$threejs$three_min.prototype.copy=function(a){oa$$module$js$threejs$three_min.prototype.copy.call(this,a);this.points=[];for(var b=0,c=a.points.length;b<c;b++)this.points.push(a.points[b].clone());return this};Vb$$module$js$threejs$three_min.prototype.toJSON=function(){var a=oa$$module$js$threejs$three_min.prototype.toJSON.call(this);a.points=[];for(var b=0,c=this.points.length;b<c;b++)a.points.push(this.points[b].toArray());return a};
Vb$$module$js$threejs$three_min.prototype.fromJSON=function(a){oa$$module$js$threejs$three_min.prototype.fromJSON.call(this,a);this.points=[];for(var b=0,c=a.points.length;b<c;b++){var d=a.points[b];this.points.push((new L$$module$js$threejs$three_min).fromArray(d))}return this};
var pi$$module$js$threejs$three_min=Object.freeze({__proto__:null,ArcCurve:ge$$module$js$threejs$three_min,CatmullRomCurve3:ob$$module$js$threejs$three_min,CubicBezierCurve:Sb$$module$js$threejs$three_min,CubicBezierCurve3:dc$$module$js$threejs$three_min,EllipseCurve:Ib$$module$js$threejs$three_min,LineCurve:Ab$$module$js$threejs$three_min,LineCurve3:Tb$$module$js$threejs$three_min,QuadraticBezierCurve:Ub$$module$js$threejs$three_min,QuadraticBezierCurve3:ec$$module$js$threejs$three_min,SplineCurve:Vb$$module$js$threejs$three_min});
qc$$module$js$threejs$three_min.prototype=Object.assign(Object.create(oa$$module$js$threejs$three_min.prototype),{constructor:qc$$module$js$threejs$three_min,add:function(a){this.curves.push(a)},closePath:function(){var a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new Ab$$module$js$threejs$three_min(b,a))},getPoint:function(a){var b=a*this.getLength(),c=this.getCurveLengths();for(a=0;a<c.length;){if(c[a]>=b)return b=c[a]-b,a=this.curves[a],
c=a.getLength(),a.getPointAt(0===c?0:1-b/c);a++}return null},getLength:function(){var a=this.getCurveLengths();return a[a.length-1]},updateArcLengths:function(){this.needsUpdate=!0;this.cacheLengths=null;this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var a=[],b=0,c=0,d=this.curves.length;c<d;c++)b+=this.curves[c].getLength(),a.push(b);return this.cacheLengths=a},getSpacedPoints:function(a){void 0===
a&&(a=40);for(var b=[],c=0;c<=a;c++)b.push(this.getPoint(c/a));this.autoClose&&b.push(b[0]);return b},getPoints:function(a){a=a||12;for(var b=[],c,d=0,e=this.curves;d<e.length;d++){var g=e[d];g=g.getPoints(g&&g.isEllipseCurve?2*a:g&&(g.isLineCurve||g.isLineCurve3)?1:g&&g.isSplineCurve?a*g.points.length:a);for(var h=0;h<g.length;h++){var k=g[h];c&&c.equals(k)||(b.push(k),c=k)}}this.autoClose&&1<b.length&&!b[b.length-1].equals(b[0])&&b.push(b[0]);return b},copy:function(a){oa$$module$js$threejs$three_min.prototype.copy.call(this,
a);this.curves=[];for(var b=0,c=a.curves.length;b<c;b++)this.curves.push(a.curves[b].clone());this.autoClose=a.autoClose;return this},toJSON:function(){var a=oa$$module$js$threejs$three_min.prototype.toJSON.call(this);a.autoClose=this.autoClose;a.curves=[];for(var b=0,c=this.curves.length;b<c;b++)a.curves.push(this.curves[b].toJSON());return a},fromJSON:function(a){oa$$module$js$threejs$three_min.prototype.fromJSON.call(this,a);this.autoClose=a.autoClose;this.curves=[];for(var b=0,c=a.curves.length;b<
c;b++){var d=a.curves[b];this.curves.push((new pi$$module$js$threejs$three_min[d.type]).fromJSON(d))}return this}});
Wb$$module$js$threejs$three_min.prototype=Object.assign(Object.create(qc$$module$js$threejs$three_min.prototype),{constructor:Wb$$module$js$threejs$three_min,setFromPoints:function(a){this.moveTo(a[0].x,a[0].y);for(var b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y);return this},moveTo:function(a,b){this.currentPoint.set(a,b);return this},lineTo:function(a,b){var c=new Ab$$module$js$threejs$three_min(this.currentPoint.clone(),new L$$module$js$threejs$three_min(a,b));this.curves.push(c);this.currentPoint.set(a,
b);return this},quadraticCurveTo:function(a,b,c,d){a=new Ub$$module$js$threejs$three_min(this.currentPoint.clone(),new L$$module$js$threejs$three_min(a,b),new L$$module$js$threejs$three_min(c,d));this.curves.push(a);this.currentPoint.set(c,d);return this},bezierCurveTo:function(a,b,c,d,e,g){a=new Sb$$module$js$threejs$three_min(this.currentPoint.clone(),new L$$module$js$threejs$three_min(a,b),new L$$module$js$threejs$three_min(c,d),new L$$module$js$threejs$three_min(e,g));this.curves.push(a);this.currentPoint.set(e,
g);return this},splineThru:function(a){var b=[this.currentPoint.clone()].concat(a);b=new Vb$$module$js$threejs$three_min(b);this.curves.push(b);this.currentPoint.copy(a[a.length-1]);return this},arc:function(a,b,c,d,e,g){this.absarc(a+this.currentPoint.x,b+this.currentPoint.y,c,d,e,g);return this},absarc:function(a,b,c,d,e,g){this.absellipse(a,b,c,c,d,e,g);return this},ellipse:function(a,b,c,d,e,g,h,k){this.absellipse(a+this.currentPoint.x,b+this.currentPoint.y,c,d,e,g,h,k);return this},absellipse:function(a,
b,c,d,e,g,h,k){a=new Ib$$module$js$threejs$three_min(a,b,c,d,e,g,h,k);0<this.curves.length&&(b=a.getPoint(0),b.equals(this.currentPoint)||this.lineTo(b.x,b.y));this.curves.push(a);a=a.getPoint(1);this.currentPoint.copy(a);return this},copy:function(a){qc$$module$js$threejs$three_min.prototype.copy.call(this,a);this.currentPoint.copy(a.currentPoint);return this},toJSON:function(){var a=qc$$module$js$threejs$three_min.prototype.toJSON.call(this);a.currentPoint=this.currentPoint.toArray();return a},
fromJSON:function(a){qc$$module$js$threejs$three_min.prototype.fromJSON.call(this,a);this.currentPoint.fromArray(a.currentPoint);return this}});
Pc$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Wb$$module$js$threejs$three_min.prototype),{constructor:Pc$$module$js$threejs$three_min,getPointsHoles:function(a){for(var b=[],c=0,d=this.holes.length;c<d;c++)b[c]=this.holes[c].getPoints(a);return b},extractPoints:function(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}},copy:function(a){Wb$$module$js$threejs$three_min.prototype.copy.call(this,a);this.holes=[];for(var b=0,c=a.holes.length;b<c;b++)this.holes.push(a.holes[b].clone());
return this},toJSON:function(){var a=Wb$$module$js$threejs$three_min.prototype.toJSON.call(this);a.uuid=this.uuid;a.holes=[];for(var b=0,c=this.holes.length;b<c;b++)a.holes.push(this.holes[b].toJSON());return a},fromJSON:function(a){Wb$$module$js$threejs$three_min.prototype.fromJSON.call(this,a);this.uuid=a.uuid;this.holes=[];for(var b=0,c=a.holes.length;b<c;b++){var d=a.holes[b];this.holes.push((new Wb$$module$js$threejs$three_min).fromJSON(d))}return this}});
Sa$$module$js$threejs$three_min.prototype=Object.assign(Object.create(ha$$module$js$threejs$three_min.prototype),{constructor:Sa$$module$js$threejs$three_min,isLight:!0,copy:function(a){ha$$module$js$threejs$three_min.prototype.copy.call(this,a);this.color.copy(a.color);this.intensity=a.intensity;return this},toJSON:function(a){a=ha$$module$js$threejs$three_min.prototype.toJSON.call(this,a);a.object.color=this.color.getHex();a.object.intensity=this.intensity;void 0!==this.groundColor&&(a.object.groundColor=
this.groundColor.getHex());void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&(a.object.penumbra=this.penumbra);void 0!==this.shadow&&(a.object.shadow=this.shadow.toJSON());return a}});
mg$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Sa$$module$js$threejs$three_min.prototype),{constructor:mg$$module$js$threejs$three_min,isHemisphereLight:!0,copy:function(a){Sa$$module$js$threejs$three_min.prototype.copy.call(this,a);this.groundColor.copy(a.groundColor);return this}});
Object.assign(fc$$module$js$threejs$three_min.prototype,{_projScreenMatrix:new da$$module$js$threejs$three_min,_lightPositionWorld:new w$$module$js$threejs$three_min,_lookTarget:new w$$module$js$threejs$three_min,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(a){var b=this.camera,c=this.matrix,d=this._projScreenMatrix,e=this._lookTarget,g=this._lightPositionWorld;g.setFromMatrixPosition(a.matrixWorld);b.position.copy(g);
e.setFromMatrixPosition(a.target.matrixWorld);b.lookAt(e);b.updateMatrixWorld();d.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse);this._frustum.setFromProjectionMatrix(d);c.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);c.multiply(b.projectionMatrix);c.multiply(b.matrixWorldInverse)},getViewport:function(a){return this._viewports[a]},getFrameExtents:function(){return this._frameExtents},copy:function(a){this.camera=a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);
return this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var a={};0!==this.bias&&(a.bias=this.bias);0!==this.normalBias&&(a.normalBias=this.normalBias);1!==this.radius&&(a.radius=this.radius);if(512!==this.mapSize.x||512!==this.mapSize.y)a.mapSize=this.mapSize.toArray();a.camera=this.camera.toJSON(!1).object;delete a.camera.matrix;return a}});
Eh$$module$js$threejs$three_min.prototype=Object.assign(Object.create(fc$$module$js$threejs$three_min.prototype),{constructor:Eh$$module$js$threejs$three_min,isSpotLightShadow:!0,updateMatrices:function(a){var b=this.camera,c=2*xa$$module$js$threejs$three_min.RAD2DEG*a.angle,d=this.mapSize.width/this.mapSize.height,e=a.distance||b.far;if(c!==b.fov||d!==b.aspect||e!==b.far)b.fov=c,b.aspect=d,b.far=e,b.updateProjectionMatrix();fc$$module$js$threejs$three_min.prototype.updateMatrices.call(this,a)}});
ng$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Sa$$module$js$threejs$three_min.prototype),{constructor:ng$$module$js$threejs$three_min,isSpotLight:!0,copy:function(a){Sa$$module$js$threejs$three_min.prototype.copy.call(this,a);this.distance=a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});
Fh$$module$js$threejs$three_min.prototype=Object.assign(Object.create(fc$$module$js$threejs$three_min.prototype),{constructor:Fh$$module$js$threejs$three_min,isPointLightShadow:!0,updateMatrices:function(a,b){void 0===b&&(b=0);var c=this.camera,d=this.matrix,e=this._lightPositionWorld,g=this._lookTarget,h=this._projScreenMatrix;e.setFromMatrixPosition(a.matrixWorld);c.position.copy(e);g.copy(c.position);g.add(this._cubeDirections[b]);c.up.copy(this._cubeUps[b]);c.lookAt(g);c.updateMatrixWorld();d.makeTranslation(-e.x,
-e.y,-e.z);h.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse);this._frustum.setFromProjectionMatrix(h)}});og$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Sa$$module$js$threejs$three_min.prototype),{constructor:og$$module$js$threejs$three_min,isPointLight:!0,copy:function(a){Sa$$module$js$threejs$three_min.prototype.copy.call(this,a);this.distance=a.distance;this.decay=a.decay;this.shadow=a.shadow.clone();return this}});
he$$module$js$threejs$three_min.prototype=Object.assign(Object.create(ac$$module$js$threejs$three_min.prototype),{constructor:he$$module$js$threejs$three_min,isOrthographicCamera:!0,copy:function(a,b){ac$$module$js$threejs$three_min.prototype.copy.call(this,a,b);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;this.view=null===a.view?null:Object.assign({},a.view);return this},setViewOffset:function(a,b,c,d,e,g){null===this.view&&
(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=c;this.view.offsetY=d;this.view.width=e;this.view.height=g;this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/
2,d=(this.top+this.bottom)/2,e=c-a;c+=a;a=d+b;b=d-b;null!==this.view&&this.view.enabled&&(d=(this.right-this.left)/this.view.fullWidth/this.zoom,b=(this.top-this.bottom)/this.view.fullHeight/this.zoom,e+=d*this.view.offsetX,c=e+d*this.view.width,a-=b*this.view.offsetY,b=a-b*this.view.height);this.projectionMatrix.makeOrthographic(e,c,a,b,this.near,this.far);this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(a){a=ha$$module$js$threejs$three_min.prototype.toJSON.call(this,
a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;null!==this.view&&(a.object.view=Object.assign({},this.view));return a}});
Gh$$module$js$threejs$three_min.prototype=Object.assign(Object.create(fc$$module$js$threejs$three_min.prototype),{constructor:Gh$$module$js$threejs$three_min,isDirectionalLightShadow:!0,updateMatrices:function(a){fc$$module$js$threejs$three_min.prototype.updateMatrices.call(this,a)}});
pg$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Sa$$module$js$threejs$three_min.prototype),{constructor:pg$$module$js$threejs$three_min,isDirectionalLight:!0,copy:function(a){Sa$$module$js$threejs$three_min.prototype.copy.call(this,a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});qg$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Sa$$module$js$threejs$three_min.prototype),{constructor:qg$$module$js$threejs$three_min,isAmbientLight:!0});
rg$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Sa$$module$js$threejs$three_min.prototype),{constructor:rg$$module$js$threejs$three_min,isRectAreaLight:!0,copy:function(a){Sa$$module$js$threejs$three_min.prototype.copy.call(this,a);this.width=a.width;this.height=a.height;return this},toJSON:function(a){a=Sa$$module$js$threejs$three_min.prototype.toJSON.call(this,a);a.object.width=this.width;a.object.height=this.height;return a}});
var pb$$module$js$threejs$three_min=function(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0});this.coefficients=[];for(var a=0;9>a;a++)this.coefficients.push(new w$$module$js$threejs$three_min)};pb$$module$js$threejs$three_min.prototype.set=function(a){for(var b=0;9>b;b++)this.coefficients[b].copy(a[b]);return this};pb$$module$js$threejs$three_min.prototype.zero=function(){for(var a=0;9>a;a++)this.coefficients[a].set(0,0,0);return this};
pb$$module$js$threejs$three_min.prototype.getAt=function(a,b){var c=a.x,d=a.y;a=a.z;var e=this.coefficients;b.copy(e[0]).multiplyScalar(.282095);b.addScaledVector(e[1],.488603*d);b.addScaledVector(e[2],.488603*a);b.addScaledVector(e[3],.488603*c);b.addScaledVector(e[4],1.092548*c*d);b.addScaledVector(e[5],1.092548*d*a);b.addScaledVector(e[6],.315392*(3*a*a-1));b.addScaledVector(e[7],1.092548*c*a);b.addScaledVector(e[8],.546274*(c*c-d*d));return b};
pb$$module$js$threejs$three_min.prototype.getIrradianceAt=function(a,b){var c=a.x,d=a.y;a=a.z;var e=this.coefficients;b.copy(e[0]).multiplyScalar(.886227);b.addScaledVector(e[1],1.023328*d);b.addScaledVector(e[2],1.023328*a);b.addScaledVector(e[3],1.023328*c);b.addScaledVector(e[4],.858086*c*d);b.addScaledVector(e[5],.858086*d*a);b.addScaledVector(e[6],.743125*a*a-.247708);b.addScaledVector(e[7],.858086*c*a);b.addScaledVector(e[8],.429043*(c*c-d*d));return b};
pb$$module$js$threejs$three_min.prototype.add=function(a){for(var b=0;9>b;b++)this.coefficients[b].add(a.coefficients[b]);return this};pb$$module$js$threejs$three_min.prototype.addScaledSH=function(a,b){for(var c=0;9>c;c++)this.coefficients[c].addScaledVector(a.coefficients[c],b);return this};pb$$module$js$threejs$three_min.prototype.scale=function(a){for(var b=0;9>b;b++)this.coefficients[b].multiplyScalar(a);return this};
pb$$module$js$threejs$three_min.prototype.lerp=function(a,b){for(var c=0;9>c;c++)this.coefficients[c].lerp(a.coefficients[c],b);return this};pb$$module$js$threejs$three_min.prototype.equals=function(a){for(var b=0;9>b;b++)if(!this.coefficients[b].equals(a.coefficients[b]))return!1;return!0};pb$$module$js$threejs$three_min.prototype.copy=function(a){return this.set(a.coefficients)};pb$$module$js$threejs$three_min.prototype.clone=function(){return(new this.constructor).copy(this)};
pb$$module$js$threejs$three_min.prototype.fromArray=function(a,b){void 0===b&&(b=0);for(var c=this.coefficients,d=0;9>d;d++)c[d].fromArray(a,b+3*d);return this};pb$$module$js$threejs$three_min.prototype.toArray=function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);for(var c=this.coefficients,d=0;9>d;d++)c[d].toArray(a,b+3*d);return a};
pb$$module$js$threejs$three_min.getBasisAt=function(a,b){var c=a.x,d=a.y;a=a.z;b[0]=.282095;b[1]=.488603*d;b[2]=.488603*a;b[3]=.488603*c;b[4]=1.092548*c*d;b[5]=1.092548*d*a;b[6]=.315392*(3*a*a-1);b[7]=1.092548*c*a;b[8]=.546274*(c*c-d*d)};
Ob$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Sa$$module$js$threejs$three_min.prototype),{constructor:Ob$$module$js$threejs$three_min,isLightProbe:!0,copy:function(a){Sa$$module$js$threejs$three_min.prototype.copy.call(this,a);this.sh.copy(a.sh);return this},fromJSON:function(a){this.intensity=a.intensity;this.sh.fromArray(a.sh);return this},toJSON:function(a){a=Sa$$module$js$threejs$three_min.prototype.toJSON.call(this,a);a.object.sh=this.sh.toArray();return a}});
sg$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Ma$$module$js$threejs$three_min.prototype),{constructor:sg$$module$js$threejs$three_min,load:function(a,b,c,d){var e=this,g=new Nb$$module$js$threejs$three_min(e.manager);g.setPath(e.path);g.setRequestHeader(e.requestHeader);g.load(a,function(h){try{b(e.parse(JSON.parse(h)))}catch(k){d?d(k):console.error(k),e.manager.itemError(a)}},c,d)},parse:function(a){function b(k){void 0===c[k]&&console.warn("THREE.MaterialLoader: Undefined texture",
k);return c[k]}var c=this.textures,d=new Xl$$module$js$threejs$three_min[a.type];void 0!==a.uuid&&(d.uuid=a.uuid);void 0!==a.name&&(d.name=a.name);void 0!==a.color&&d.color.setHex(a.color);void 0!==a.roughness&&(d.roughness=a.roughness);void 0!==a.metalness&&(d.metalness=a.metalness);void 0!==a.sheen&&(d.sheen=(new S$$module$js$threejs$three_min).setHex(a.sheen));void 0!==a.emissive&&d.emissive.setHex(a.emissive);void 0!==a.specular&&d.specular.setHex(a.specular);void 0!==a.shininess&&(d.shininess=
a.shininess);void 0!==a.clearcoat&&(d.clearcoat=a.clearcoat);void 0!==a.clearcoatRoughness&&(d.clearcoatRoughness=a.clearcoatRoughness);void 0!==a.fog&&(d.fog=a.fog);void 0!==a.flatShading&&(d.flatShading=a.flatShading);void 0!==a.blending&&(d.blending=a.blending);void 0!==a.combine&&(d.combine=a.combine);void 0!==a.side&&(d.side=a.side);void 0!==a.opacity&&(d.opacity=a.opacity);void 0!==a.transparent&&(d.transparent=a.transparent);void 0!==a.alphaTest&&(d.alphaTest=a.alphaTest);void 0!==a.depthTest&&
(d.depthTest=a.depthTest);void 0!==a.depthWrite&&(d.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(d.colorWrite=a.colorWrite);void 0!==a.stencilWrite&&(d.stencilWrite=a.stencilWrite);void 0!==a.stencilWriteMask&&(d.stencilWriteMask=a.stencilWriteMask);void 0!==a.stencilFunc&&(d.stencilFunc=a.stencilFunc);void 0!==a.stencilRef&&(d.stencilRef=a.stencilRef);void 0!==a.stencilFuncMask&&(d.stencilFuncMask=a.stencilFuncMask);void 0!==a.stencilFail&&(d.stencilFail=a.stencilFail);void 0!==a.stencilZFail&&
(d.stencilZFail=a.stencilZFail);void 0!==a.stencilZPass&&(d.stencilZPass=a.stencilZPass);void 0!==a.wireframe&&(d.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&(d.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.wireframeLinecap&&(d.wireframeLinecap=a.wireframeLinecap);void 0!==a.wireframeLinejoin&&(d.wireframeLinejoin=a.wireframeLinejoin);void 0!==a.rotation&&(d.rotation=a.rotation);1!==a.linewidth&&(d.linewidth=a.linewidth);void 0!==a.dashSize&&(d.dashSize=a.dashSize);void 0!==a.gapSize&&
(d.gapSize=a.gapSize);void 0!==a.scale&&(d.scale=a.scale);void 0!==a.polygonOffset&&(d.polygonOffset=a.polygonOffset);void 0!==a.polygonOffsetFactor&&(d.polygonOffsetFactor=a.polygonOffsetFactor);void 0!==a.polygonOffsetUnits&&(d.polygonOffsetUnits=a.polygonOffsetUnits);void 0!==a.skinning&&(d.skinning=a.skinning);void 0!==a.morphTargets&&(d.morphTargets=a.morphTargets);void 0!==a.morphNormals&&(d.morphNormals=a.morphNormals);void 0!==a.dithering&&(d.dithering=a.dithering);void 0!==a.vertexTangents&&
(d.vertexTangents=a.vertexTangents);void 0!==a.visible&&(d.visible=a.visible);void 0!==a.toneMapped&&(d.toneMapped=a.toneMapped);void 0!==a.userData&&(d.userData=a.userData);void 0!==a.vertexColors&&(d.vertexColors="number"===typeof a.vertexColors?0<a.vertexColors?!0:!1:a.vertexColors);if(void 0!==a.uniforms)for(var e in a.uniforms){var g=a.uniforms[e];d.uniforms[e]={};switch(g.type){case "t":d.uniforms[e].value=b(g.value);break;case "c":d.uniforms[e].value=(new S$$module$js$threejs$three_min).setHex(g.value);
break;case "v2":d.uniforms[e].value=(new L$$module$js$threejs$three_min).fromArray(g.value);break;case "v3":d.uniforms[e].value=(new w$$module$js$threejs$three_min).fromArray(g.value);break;case "v4":d.uniforms[e].value=(new ca$$module$js$threejs$three_min).fromArray(g.value);break;case "m3":d.uniforms[e].value=(new Da$$module$js$threejs$three_min).fromArray(g.value);break;case "m4":d.uniforms[e].value=(new da$$module$js$threejs$three_min).fromArray(g.value);break;default:d.uniforms[e].value=g.value}}void 0!==
a.defines&&(d.defines=a.defines);void 0!==a.vertexShader&&(d.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(d.fragmentShader=a.fragmentShader);if(void 0!==a.extensions)for(var h in a.extensions)d.extensions[h]=a.extensions[h];void 0!==a.shading&&(d.flatShading=1===a.shading);void 0!==a.size&&(d.size=a.size);void 0!==a.sizeAttenuation&&(d.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(d.map=b(a.map));void 0!==a.matcap&&(d.matcap=b(a.matcap));void 0!==a.alphaMap&&(d.alphaMap=b(a.alphaMap));
void 0!==a.bumpMap&&(d.bumpMap=b(a.bumpMap));void 0!==a.bumpScale&&(d.bumpScale=a.bumpScale);void 0!==a.normalMap&&(d.normalMap=b(a.normalMap));void 0!==a.normalMapType&&(d.normalMapType=a.normalMapType);void 0!==a.normalScale&&(e=a.normalScale,!1===Array.isArray(e)&&(e=[e,e]),d.normalScale=(new L$$module$js$threejs$three_min).fromArray(e));void 0!==a.displacementMap&&(d.displacementMap=b(a.displacementMap));void 0!==a.displacementScale&&(d.displacementScale=a.displacementScale);void 0!==a.displacementBias&&
(d.displacementBias=a.displacementBias);void 0!==a.roughnessMap&&(d.roughnessMap=b(a.roughnessMap));void 0!==a.metalnessMap&&(d.metalnessMap=b(a.metalnessMap));void 0!==a.emissiveMap&&(d.emissiveMap=b(a.emissiveMap));void 0!==a.emissiveIntensity&&(d.emissiveIntensity=a.emissiveIntensity);void 0!==a.specularMap&&(d.specularMap=b(a.specularMap));void 0!==a.envMap&&(d.envMap=b(a.envMap));void 0!==a.envMapIntensity&&(d.envMapIntensity=a.envMapIntensity);void 0!==a.reflectivity&&(d.reflectivity=a.reflectivity);
void 0!==a.refractionRatio&&(d.refractionRatio=a.refractionRatio);void 0!==a.lightMap&&(d.lightMap=b(a.lightMap));void 0!==a.lightMapIntensity&&(d.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(d.aoMap=b(a.aoMap));void 0!==a.aoMapIntensity&&(d.aoMapIntensity=a.aoMapIntensity);void 0!==a.gradientMap&&(d.gradientMap=b(a.gradientMap));void 0!==a.clearcoatMap&&(d.clearcoatMap=b(a.clearcoatMap));void 0!==a.clearcoatRoughnessMap&&(d.clearcoatRoughnessMap=b(a.clearcoatRoughnessMap));void 0!==
a.clearcoatNormalMap&&(d.clearcoatNormalMap=b(a.clearcoatNormalMap));void 0!==a.clearcoatNormalScale&&(d.clearcoatNormalScale=(new L$$module$js$threejs$three_min).fromArray(a.clearcoatNormalScale));void 0!==a.transmission&&(d.transmission=a.transmission);void 0!==a.transmissionMap&&(d.transmissionMap=b(a.transmissionMap));return d},setTextures:function(a){this.textures=a;return this}});
var qi$$module$js$threejs$three_min={decodeText:function(a){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(a);for(var b="",c=0,d=a.length;c<d;c++)b+=String.fromCharCode(a[c]);try{return decodeURIComponent(escape(b))}catch(e){return b}},extractUrlBase:function(a){var b=a.lastIndexOf("/");return-1===b?"./":a.substr(0,b+1)}};
sf$$module$js$threejs$three_min.prototype=Object.assign(Object.create(ka$$module$js$threejs$three_min.prototype),{constructor:sf$$module$js$threejs$three_min,isInstancedBufferGeometry:!0,copy:function(a){ka$$module$js$threejs$three_min.prototype.copy.call(this,a);this.instanceCount=a.instanceCount;return this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var a=ka$$module$js$threejs$three_min.prototype.toJSON.call(this);a.instanceCount=this.instanceCount;a.isInstancedBufferGeometry=
!0;return a}});tg$$module$js$threejs$three_min.prototype=Object.assign(Object.create(pa$$module$js$threejs$three_min.prototype),{constructor:tg$$module$js$threejs$three_min,isInstancedBufferAttribute:!0,copy:function(a){pa$$module$js$threejs$three_min.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this},toJSON:function(){var a=pa$$module$js$threejs$three_min.prototype.toJSON.call(this);a.meshPerAttribute=this.meshPerAttribute;a.isInstancedBufferAttribute=!0;return a}});
ug$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Ma$$module$js$threejs$three_min.prototype),{constructor:ug$$module$js$threejs$three_min,load:function(a,b,c,d){var e=this,g=new Nb$$module$js$threejs$three_min(e.manager);g.setPath(e.path);g.setRequestHeader(e.requestHeader);g.load(a,function(h){try{b(e.parse(JSON.parse(h)))}catch(k){d?d(k):console.error(k),e.manager.itemError(a)}},c,d)},parse:function(a){function b(w,x){if(void 0!==c[x])return c[x];var A=w.interleavedBuffers[x],
r=A.buffer;void 0!==d[r]?r=d[r]:(w=(new Uint32Array(w.arrayBuffers[r])).buffer,r=d[r]=w);r=new Vg$$module$js$threejs$three_min[A.type](r);r=new Gb$$module$js$threejs$three_min(r,A.stride);r.uuid=A.uuid;return c[x]=r}var c={},d={},e=a.isInstancedBufferGeometry?new sf$$module$js$threejs$three_min:new ka$$module$js$threejs$three_min,g=a.data.index;void 0!==g&&(g=new Vg$$module$js$threejs$three_min[g.type](g.array),e.setIndex(new pa$$module$js$threejs$three_min(g,1)));g=a.data.attributes;for(var h in g){var k=
g[h],l=void 0;k.isInterleavedBufferAttribute?(l=b(a.data,k.data),l=new Kc$$module$js$threejs$three_min(l,k.itemSize,k.offset,k.normalized)):(l=new Vg$$module$js$threejs$three_min[k.type](k.array),l=new (k.isInstancedBufferAttribute?tg$$module$js$threejs$three_min:pa$$module$js$threejs$three_min)(l,k.itemSize,k.normalized));void 0!==k.name&&(l.name=k.name);e.setAttribute(h,l)}if(h=a.data.morphAttributes)for(var m in h){g=h[m];k=[];l=0;for(var n=g.length;l<n;l++){var p=g[l],t=void 0;p.isInterleavedBufferAttribute?
(t=b(a.data,p.data),t=new Kc$$module$js$threejs$three_min(t,p.itemSize,p.offset,p.normalized)):(t=new Vg$$module$js$threejs$three_min[p.type](p.array),t=new pa$$module$js$threejs$three_min(t,p.itemSize,p.normalized));void 0!==p.name&&(t.name=p.name);k.push(t)}e.morphAttributes[m]=k}a.data.morphTargetsRelative&&(e.morphTargetsRelative=!0);m=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==m)for(h=0,g=m.length;h!==g;++h)k=m[h],e.addGroup(k.start,k.count,k.materialIndex);m=a.data.boundingSphere;
void 0!==m&&(h=new w$$module$js$threejs$three_min,void 0!==m.center&&h.fromArray(m.center),e.boundingSphere=new Wa$$module$js$threejs$three_min(h,m.radius));a.name&&(e.name=a.name);a.userData&&(e.userData=a.userData);return e}});var Vg$$module$js$threejs$three_min={Int8Array,Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};
vg$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Ma$$module$js$threejs$three_min.prototype),{constructor:vg$$module$js$threejs$three_min,load:function(a,b,c,d){var e=this,g=""===this.path?qi$$module$js$threejs$three_min.extractUrlBase(a):this.path;this.resourcePath=this.resourcePath||g;g=new Nb$$module$js$threejs$three_min(e.manager);g.setPath(this.path);g.setRequestHeader(this.requestHeader);g.load(a,function(h){var k=null;try{k=JSON.parse(h)}catch(l){void 0!==d&&d(l);console.error("THREE:ObjectLoader: Can't parse "+
a+".",l.message);return}h=k.metadata;void 0===h||void 0===h.type||"geometry"===h.type.toLowerCase()?console.error("THREE.ObjectLoader: Can't load "+a):e.parse(k,b)},c,d)},parse:function(a,b){var c=this.parseShape(a.shapes);c=this.parseGeometries(a.geometries,c);var d=this.parseImages(a.images,function(){void 0!==b&&b(e)});d=this.parseTextures(a.textures,d);d=this.parseMaterials(a.materials,d);var e=this.parseObject(a.object,c,d);a.animations&&(e.animations=this.parseAnimations(a.animations));void 0!==
a.images&&0!==a.images.length||void 0===b||b(e);return e},parseShape:function(a){var b={};if(void 0!==a)for(var c=0,d=a.length;c<d;c++){var e=(new Pc$$module$js$threejs$three_min).fromJSON(a[c]);b[e.uuid]=e}return b},parseGeometries:function(a,b){var c={};if(void 0!==a)for(var d=new ug$$module$js$threejs$three_min,e=0,g=a.length;e<g;e++){var h=void 0,k=a[e];switch(k.type){case "PlaneGeometry":case "PlaneBufferGeometry":h=new vb$$module$js$threejs$three_min[k.type](k.width,k.height,k.widthSegments,
k.heightSegments);break;case "BoxGeometry":case "BoxBufferGeometry":case "CubeGeometry":h=new vb$$module$js$threejs$three_min[k.type](k.width,k.height,k.depth,k.widthSegments,k.heightSegments,k.depthSegments);break;case "CircleGeometry":case "CircleBufferGeometry":h=new vb$$module$js$threejs$three_min[k.type](k.radius,k.segments,k.thetaStart,k.thetaLength);break;case "CylinderGeometry":case "CylinderBufferGeometry":h=new vb$$module$js$threejs$three_min[k.type](k.radiusTop,k.radiusBottom,k.height,
k.radialSegments,k.heightSegments,k.openEnded,k.thetaStart,k.thetaLength);break;case "ConeGeometry":case "ConeBufferGeometry":h=new vb$$module$js$threejs$three_min[k.type](k.radius,k.height,k.radialSegments,k.heightSegments,k.openEnded,k.thetaStart,k.thetaLength);break;case "SphereGeometry":case "SphereBufferGeometry":h=new vb$$module$js$threejs$three_min[k.type](k.radius,k.widthSegments,k.heightSegments,k.phiStart,k.phiLength,k.thetaStart,k.thetaLength);break;case "DodecahedronGeometry":case "DodecahedronBufferGeometry":case "IcosahedronGeometry":case "IcosahedronBufferGeometry":case "OctahedronGeometry":case "OctahedronBufferGeometry":case "TetrahedronGeometry":case "TetrahedronBufferGeometry":h=
new vb$$module$js$threejs$three_min[k.type](k.radius,k.detail);break;case "RingGeometry":case "RingBufferGeometry":h=new vb$$module$js$threejs$three_min[k.type](k.innerRadius,k.outerRadius,k.thetaSegments,k.phiSegments,k.thetaStart,k.thetaLength);break;case "TorusGeometry":case "TorusBufferGeometry":h=new vb$$module$js$threejs$three_min[k.type](k.radius,k.tube,k.radialSegments,k.tubularSegments,k.arc);break;case "TorusKnotGeometry":case "TorusKnotBufferGeometry":h=new vb$$module$js$threejs$three_min[k.type](k.radius,
k.tube,k.tubularSegments,k.radialSegments,k.p,k.q);break;case "TubeGeometry":case "TubeBufferGeometry":h=new vb$$module$js$threejs$three_min[k.type]((new pi$$module$js$threejs$three_min[k.path.type]).fromJSON(k.path),k.tubularSegments,k.radius,k.radialSegments,k.closed);break;case "LatheGeometry":case "LatheBufferGeometry":h=new vb$$module$js$threejs$three_min[k.type](k.points,k.segments,k.phiStart,k.phiLength);break;case "PolyhedronGeometry":case "PolyhedronBufferGeometry":h=new vb$$module$js$threejs$three_min[k.type](k.vertices,
k.indices,k.radius,k.details);break;case "ShapeGeometry":case "ShapeBufferGeometry":h=[];for(var l=0,m=k.shapes.length;l<m;l++)h.push(b[k.shapes[l]]);h=new vb$$module$js$threejs$three_min[k.type](h,k.curveSegments);break;case "ExtrudeGeometry":case "ExtrudeBufferGeometry":h=[];l=0;for(m=k.shapes.length;l<m;l++)h.push(b[k.shapes[l]]);l=k.options.extrudePath;void 0!==l&&(k.options.extrudePath=(new pi$$module$js$threejs$three_min[l.type]).fromJSON(l));h=new vb$$module$js$threejs$three_min[k.type](h,
k.options);break;case "BufferGeometry":case "InstancedBufferGeometry":h=d.parse(k);break;case "Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+k.type+'"');continue}h.uuid=k.uuid;void 0!==k.name&&(h.name=k.name);!0===h.isBufferGeometry&&void 0!==k.userData&&(h.userData=k.userData);c[k.uuid]=h}return c},parseMaterials:function(a,b){var c={},d={};if(void 0!==a){var e=new sg$$module$js$threejs$three_min;
e.setTextures(b);b=0;for(var g=a.length;b<g;b++){var h=a[b];if("MultiMaterial"===h.type){for(var k=[],l=0;l<h.materials.length;l++){var m=h.materials[l];void 0===c[m.uuid]&&(c[m.uuid]=e.parse(m));k.push(c[m.uuid])}d[h.uuid]=k}else void 0===c[h.uuid]&&(c[h.uuid]=e.parse(h)),d[h.uuid]=c[h.uuid]}}return d},parseAnimations:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=Mb$$module$js$threejs$three_min.parse(d);void 0!==d.uuid&&(e.uuid=d.uuid);b.push(e)}return b},parseImages:function(a,b){function c(t){d.manager.itemStart(t);
return g.load(t,function(){d.manager.itemEnd(t)},void 0,function(){d.manager.itemError(t);d.manager.itemEnd(t)})}var d=this,e={};if(void 0!==a&&0<a.length){b=new Ah$$module$js$threejs$three_min(b);var g=new fe$$module$js$threejs$three_min(b);g.setCrossOrigin(this.crossOrigin);b=0;for(var h=a.length;b<h;b++){var k=a[b],l=k.url;if(Array.isArray(l)){e[k.uuid]=[];for(var m=0,n=l.length;m<n;m++){var p=l[m];p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:d.resourcePath+p;e[k.uuid].push(c(p))}}else l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(k.url)?
k.url:d.resourcePath+k.url,e[k.uuid]=c(l)}}return e},parseTextures:function(a,b){function c(l,m){if("number"===typeof l)return l;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",l);return m[l]}var d={};if(void 0!==a)for(var e=0,g=a.length;e<g;e++){var h=a[e];void 0===h.image&&console.warn('THREE.ObjectLoader: No "image" specified for',h.uuid);void 0===b[h.image]&&console.warn("THREE.ObjectLoader: Undefined image",h.image);var k=void 0;k=Array.isArray(b[h.image])?
new kc$$module$js$threejs$three_min(b[h.image]):new Oa$$module$js$threejs$three_min(b[h.image]);k.needsUpdate=!0;k.uuid=h.uuid;void 0!==h.name&&(k.name=h.name);void 0!==h.mapping&&(k.mapping=c(h.mapping,Yl$$module$js$threejs$three_min));void 0!==h.offset&&k.offset.fromArray(h.offset);void 0!==h.repeat&&k.repeat.fromArray(h.repeat);void 0!==h.center&&k.center.fromArray(h.center);void 0!==h.rotation&&(k.rotation=h.rotation);void 0!==h.wrap&&(k.wrapS=c(h.wrap[0],Pj$$module$js$threejs$three_min),k.wrapT=
c(h.wrap[1],Pj$$module$js$threejs$three_min));void 0!==h.format&&(k.format=h.format);void 0!==h.type&&(k.type=h.type);void 0!==h.encoding&&(k.encoding=h.encoding);void 0!==h.minFilter&&(k.minFilter=c(h.minFilter,Qj$$module$js$threejs$three_min));void 0!==h.magFilter&&(k.magFilter=c(h.magFilter,Qj$$module$js$threejs$three_min));void 0!==h.anisotropy&&(k.anisotropy=h.anisotropy);void 0!==h.flipY&&(k.flipY=h.flipY);void 0!==h.premultiplyAlpha&&(k.premultiplyAlpha=h.premultiplyAlpha);void 0!==h.unpackAlignment&&
(k.unpackAlignment=h.unpackAlignment);d[h.uuid]=k}return d},parseObject:function(a,b,c){function d(m){void 0===b[m]&&console.warn("THREE.ObjectLoader: Undefined geometry",m);return b[m]}function e(m){if(void 0!==m){if(Array.isArray(m)){for(var n=[],p=0,t=m.length;p<t;p++){var w=m[p];void 0===c[w]&&console.warn("THREE.ObjectLoader: Undefined material",w);n.push(c[w])}return n}void 0===c[m]&&console.warn("THREE.ObjectLoader: Undefined material",m);return c[m]}}switch(a.type){case "Scene":var g=new Jc$$module$js$threejs$three_min;
void 0!==a.background&&Number.isInteger(a.background)&&(g.background=new S$$module$js$threejs$three_min(a.background));void 0!==a.fog&&("Fog"===a.fog.type?g.fog=new Hf$$module$js$threejs$three_min(a.fog.color,a.fog.near,a.fog.far):"FogExp2"===a.fog.type&&(g.fog=new Gf$$module$js$threejs$three_min(a.fog.color,a.fog.density)));break;case "PerspectiveCamera":g=new eb$$module$js$threejs$three_min(a.fov,a.aspect,a.near,a.far);void 0!==a.focus&&(g.focus=a.focus);void 0!==a.zoom&&(g.zoom=a.zoom);void 0!==
a.filmGauge&&(g.filmGauge=a.filmGauge);void 0!==a.filmOffset&&(g.filmOffset=a.filmOffset);void 0!==a.view&&(g.view=Object.assign({},a.view));break;case "OrthographicCamera":g=new he$$module$js$threejs$three_min(a.left,a.right,a.top,a.bottom,a.near,a.far);void 0!==a.zoom&&(g.zoom=a.zoom);void 0!==a.view&&(g.view=Object.assign({},a.view));break;case "AmbientLight":g=new qg$$module$js$threejs$three_min(a.color,a.intensity);break;case "DirectionalLight":g=new pg$$module$js$threejs$three_min(a.color,a.intensity);
break;case "PointLight":g=new og$$module$js$threejs$three_min(a.color,a.intensity,a.distance,a.decay);break;case "RectAreaLight":g=new rg$$module$js$threejs$three_min(a.color,a.intensity,a.width,a.height);break;case "SpotLight":g=new ng$$module$js$threejs$three_min(a.color,a.intensity,a.distance,a.angle,a.penumbra,a.decay);break;case "HemisphereLight":g=new mg$$module$js$threejs$three_min(a.color,a.groundColor,a.intensity);break;case "LightProbe":g=(new Ob$$module$js$threejs$three_min).fromJSON(a);
break;case "SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case "Mesh":g=d(a.geometry);var h=e(a.material);g=new Qa$$module$js$threejs$three_min(g,h);break;case "InstancedMesh":g=d(a.geometry);h=e(a.material);var k=a.instanceMatrix;g=new Zf$$module$js$threejs$three_min(g,h,a.count);g.instanceMatrix=new pa$$module$js$threejs$three_min(new Float32Array(k.array),16);break;case "LOD":g=new Se$$module$js$threejs$three_min;break;case "Line":g=new yb$$module$js$threejs$three_min(d(a.geometry),
e(a.material),a.mode);break;case "LineLoop":g=new $f$$module$js$threejs$three_min(d(a.geometry),e(a.material));break;case "LineSegments":g=new Za$$module$js$threejs$three_min(d(a.geometry),e(a.material));break;case "PointCloud":case "Points":g=new Pd$$module$js$threejs$three_min(d(a.geometry),e(a.material));break;case "Sprite":g=new Qe$$module$js$threejs$three_min(e(a.material));break;case "Group":g=new Gc$$module$js$threejs$three_min;break;default:g=new ha$$module$js$threejs$three_min}g.uuid=a.uuid;
void 0!==a.name&&(g.name=a.name);void 0!==a.matrix?(g.matrix.fromArray(a.matrix),void 0!==a.matrixAutoUpdate&&(g.matrixAutoUpdate=a.matrixAutoUpdate),g.matrixAutoUpdate&&g.matrix.decompose(g.position,g.quaternion,g.scale)):(void 0!==a.position&&g.position.fromArray(a.position),void 0!==a.rotation&&g.rotation.fromArray(a.rotation),void 0!==a.quaternion&&g.quaternion.fromArray(a.quaternion),void 0!==a.scale&&g.scale.fromArray(a.scale));void 0!==a.castShadow&&(g.castShadow=a.castShadow);void 0!==a.receiveShadow&&
(g.receiveShadow=a.receiveShadow);a.shadow&&(void 0!==a.shadow.bias&&(g.shadow.bias=a.shadow.bias),void 0!==a.shadow.normalBias&&(g.shadow.normalBias=a.shadow.normalBias),void 0!==a.shadow.radius&&(g.shadow.radius=a.shadow.radius),void 0!==a.shadow.mapSize&&g.shadow.mapSize.fromArray(a.shadow.mapSize),void 0!==a.shadow.camera&&(g.shadow.camera=this.parseObject(a.shadow.camera)));void 0!==a.visible&&(g.visible=a.visible);void 0!==a.frustumCulled&&(g.frustumCulled=a.frustumCulled);void 0!==a.renderOrder&&
(g.renderOrder=a.renderOrder);void 0!==a.userData&&(g.userData=a.userData);void 0!==a.layers&&(g.layers.mask=a.layers);if(void 0!==a.children)for(k=a.children,h=0;h<k.length;h++)g.add(this.parseObject(k[h],b,c));if("LOD"===a.type)for(void 0!==a.autoUpdate&&(g.autoUpdate=a.autoUpdate),a=a.levels,k=0;k<a.length;k++){h=a[k];var l=g.getObjectByProperty("uuid",h.object);void 0!==l&&g.addLevel(l,h.distance)}return g}});
var Yl$$module$js$threejs$three_min={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},Pj$$module$js$threejs$three_min={RepeatWrapping:1E3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},Qj$$module$js$threejs$three_min={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,
LinearMipmapLinearFilter:1008};
Hh$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Ma$$module$js$threejs$three_min.prototype),{constructor:Hh$$module$js$threejs$three_min,isImageBitmapLoader:!0,setOptions:function(a){this.options=a;return this},load:function(a,b,c,d){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);var e=this,g=vd$$module$js$threejs$three_min.get(a);if(void 0!==g)return e.manager.itemStart(a),setTimeout(function(){b&&b(g);e.manager.itemEnd(a)},0),g;fetch(a).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,
e.options)}).then(function(h){vd$$module$js$threejs$three_min.add(a,h);b&&b(h);e.manager.itemEnd(a)}).catch(function(h){d&&d(h);e.manager.itemError(a);e.manager.itemEnd(a)});e.manager.itemStart(a)}});
Object.assign(Ih$$module$js$threejs$three_min.prototype,{moveTo:function(a,b){this.currentPath=new Wb$$module$js$threejs$three_min;this.subPaths.push(this.currentPath);this.currentPath.moveTo(a,b);return this},lineTo:function(a,b){this.currentPath.lineTo(a,b);return this},quadraticCurveTo:function(a,b,c,d){this.currentPath.quadraticCurveTo(a,b,c,d);return this},bezierCurveTo:function(a,b,c,d,e,g){this.currentPath.bezierCurveTo(a,b,c,d,e,g);return this},splineThru:function(a){this.currentPath.splineThru(a);
return this},toShapes:function(a,b){function c(r){for(var E=[],B=0,G=r.length;B<G;B++){var H=r[B],O=new Pc$$module$js$threejs$three_min;O.curves=H.curves;E.push(O)}return E}function d(r,E){for(var B=E.length,G=!1,H=B-1,O=0;O<B;H=O++){var N=E[H],U=E[O],W=U.x-N.x,J=U.y-N.y;if(Math.abs(J)>Number.EPSILON){if(0>J&&(N=E[O],W=-W,U=E[H],J=-J),!(r.y<N.y||r.y>U.y))if(r.y===N.y){if(r.x===N.x)return!0}else{H=J*(r.x-N.x)-W*(r.y-N.y);if(0===H)return!0;0>H||(G=!G)}}else if(r.y===N.y&&(U.x<=r.x&&r.x<=N.x||N.x<=r.x&&
r.x<=U.x))return!0}return G}var e=nc$$module$js$threejs$three_min.isClockWise,g=this.subPaths;if(0===g.length)return[];if(!0===b)return c(g);b=[];if(1===g.length){var h=g[0],k=new Pc$$module$js$threejs$three_min;k.curves=h.curves;b.push(k);return b}var l=!e(g[0].getPoints());l=a?!l:l;k=[];var m=[],n=[],p=0;m[p]=void 0;n[p]=[];for(var t=0,w=g.length;t<w;t++){h=g[t];var x=h.getPoints(),A=e(x);(A=a?!A:A)?(!l&&m[p]&&p++,m[p]={s:new Pc$$module$js$threejs$three_min,p:x},m[p].s.curves=h.curves,l&&p++,n[p]=
[]):n[p].push({h,p:x[0]})}if(!m[0])return c(g);if(1<m.length){a=!1;e=[];g=0;for(h=m.length;g<h;g++)k[g]=[];g=0;for(h=m.length;g<h;g++)for(A=n[g],l=0;l<A.length;l++){p=A[l];x=!0;for(t=0;t<m.length;t++)d(p.p,m[t].p)&&(g!==t&&e.push({froms:g,tos:t,hole:l}),x?(x=!1,k[t].push(p)):a=!0);x&&k[g].push(p)}0<e.length&&(a||(n=k))}e=0;for(g=m.length;e<g;e++)for(k=m[e].s,b.push(k),a=n[e],h=0,A=a.length;h<A;h++)k.holes.push(a[h].h);return b}});
Object.assign(Jh$$module$js$threejs$three_min.prototype,{isFont:!0,generateShapes:function(a,b){void 0===b&&(b=100);var c=[],d=b;b=this.data;var e=Array.from?Array.from(a):String(a).split("");d/=b.resolution;var g=(b.boundingBox.yMax-b.boundingBox.yMin+b.underlineThickness)*d;a=[];for(var h=0,k=0,l=0;l<e.length;l++){var m=e[l];if("\n"===m)h=0,k-=g;else{var n=m;m=d;var p=h,t=k,w=b,x=w.glyphs[n]||w.glyphs["?"];if(x){n=new Ih$$module$js$threejs$three_min;if(x.o){w=x._cachedOutline||(x._cachedOutline=
x.o.split(" "));for(var A=0,r=w.length;A<r;)switch(w[A++]){case "m":var E=w[A++]*m+p,B=w[A++]*m+t;n.moveTo(E,B);break;case "l":E=w[A++]*m+p;B=w[A++]*m+t;n.lineTo(E,B);break;case "q":var G=w[A++]*m+p,H=w[A++]*m+t,O=w[A++]*m+p,N=w[A++]*m+t;n.quadraticCurveTo(O,N,G,H);break;case "b":G=w[A++]*m+p,H=w[A++]*m+t,O=w[A++]*m+p,N=w[A++]*m+t,E=w[A++]*m+p,B=w[A++]*m+t,n.bezierCurveTo(O,N,E,B,G,H)}}m={offsetX:x.ha*m,path:n}}else console.error('THREE.Font: character "'+n+'" does not exists in font family '+w.familyName+
"."),m=void 0;h+=m.offsetX;a.push(m.path)}}b=0;for(e=a.length;b<e;b++)Array.prototype.push.apply(c,a[b].toShapes());return c}});
Kh$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Ma$$module$js$threejs$three_min.prototype),{constructor:Kh$$module$js$threejs$three_min,load:function(a,b,c,d){var e=this,g=new Nb$$module$js$threejs$three_min(this.manager);g.setPath(this.path);g.setRequestHeader(this.requestHeader);g.load(a,function(h){try{var k=JSON.parse(h)}catch(l){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),k=JSON.parse(h.substring(65,h.length-2))}h=
e.parse(k);b&&b(h)},c,d)},parse:function(a){return new Jh$$module$js$threejs$three_min(a)}});var Wg$$module$js$threejs$three_min,Nh$$module$js$threejs$three_min={getContext:function(){void 0===Wg$$module$js$threejs$three_min&&(Wg$$module$js$threejs$three_min=new (window.AudioContext||window.webkitAudioContext));return Wg$$module$js$threejs$three_min},setContext:function(a){Wg$$module$js$threejs$three_min=a}};
wg$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Ma$$module$js$threejs$three_min.prototype),{constructor:wg$$module$js$threejs$three_min,load:function(a,b,c,d){var e=this,g=new Nb$$module$js$threejs$three_min(e.manager);g.setResponseType("arraybuffer");g.setPath(e.path);g.setRequestHeader(e.requestHeader);g.load(a,function(h){try{var k=h.slice(0);Nh$$module$js$threejs$three_min.getContext().decodeAudioData(k,function(l){b(l)})}catch(l){d?d(l):console.error(l),e.manager.itemError(a)}},
c,d)}});Lh$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Ob$$module$js$threejs$three_min.prototype),{constructor:Lh$$module$js$threejs$three_min,isHemisphereLightProbe:!0,copy:function(a){Ob$$module$js$threejs$three_min.prototype.copy.call(this,a);return this},toJSON:function(a){return Ob$$module$js$threejs$three_min.prototype.toJSON.call(this,a)}});
Mh$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Ob$$module$js$threejs$three_min.prototype),{constructor:Mh$$module$js$threejs$three_min,isAmbientLightProbe:!0,copy:function(a){Ob$$module$js$threejs$three_min.prototype.copy.call(this,a);return this},toJSON:function(a){return Ob$$module$js$threejs$three_min.prototype.toJSON.call(this,a)}});var Rj$$module$js$threejs$three_min=new da$$module$js$threejs$three_min,Sj$$module$js$threejs$three_min=new da$$module$js$threejs$three_min;
Object.assign(lj$$module$js$threejs$three_min.prototype,{update:function(a){var b=this._cache;if(b.focus!==a.focus||b.fov!==a.fov||b.aspect!==a.aspect*this.aspect||b.near!==a.near||b.far!==a.far||b.zoom!==a.zoom||b.eyeSep!==this.eyeSep){b.focus=a.focus;b.fov=a.fov;b.aspect=a.aspect*this.aspect;b.near=a.near;b.far=a.far;b.zoom=a.zoom;b.eyeSep=this.eyeSep;var c=a.projectionMatrix.clone(),d=b.eyeSep/2,e=d*b.near/b.focus,g=b.near*Math.tan(xa$$module$js$threejs$three_min.DEG2RAD*b.fov*.5)/b.zoom;Sj$$module$js$threejs$three_min.elements[12]=
-d;Rj$$module$js$threejs$three_min.elements[12]=d;d=-g*b.aspect+e;var h=g*b.aspect+e;c.elements[0]=2*b.near/(h-d);c.elements[8]=(h+d)/(h-d);this.cameraL.projectionMatrix.copy(c);d=-g*b.aspect-e;h=g*b.aspect-e;c.elements[0]=2*b.near/(h-d);c.elements[8]=(h+d)/(h-d);this.cameraR.projectionMatrix.copy(c)}this.cameraL.matrixWorld.copy(a.matrixWorld).multiply(Sj$$module$js$threejs$three_min);this.cameraR.matrixWorld.copy(a.matrixWorld).multiply(Rj$$module$js$threejs$three_min)}});
var ie$$module$js$threejs$three_min=function(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1};ie$$module$js$threejs$three_min.prototype.start=function(){this.oldTime=this.startTime=("undefined"===typeof performance?Date:performance).now();this.elapsedTime=0;this.running=!0};ie$$module$js$threejs$three_min.prototype.stop=function(){this.getElapsedTime();this.autoStart=this.running=!1};
ie$$module$js$threejs$three_min.prototype.getElapsedTime=function(){this.getDelta();return this.elapsedTime};ie$$module$js$threejs$three_min.prototype.getDelta=function(){var a=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var b=("undefined"===typeof performance?Date:performance).now();a=(b-this.oldTime)/1E3;this.oldTime=b;this.elapsedTime+=a}return a};
var wd$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Tj$$module$js$threejs$three_min=new ua$$module$js$threejs$three_min,Zl$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,xd$$module$js$threejs$three_min=new w$$module$js$threejs$three_min;Xb$$module$js$threejs$three_min.prototype=Object.create(ha$$module$js$threejs$three_min.prototype);Xb$$module$js$threejs$three_min.prototype.constructor=Xb$$module$js$threejs$three_min;
Xb$$module$js$threejs$three_min.prototype.getInput=function(){return this.gain};Xb$$module$js$threejs$three_min.prototype.removeFilter=function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null);return this};Xb$$module$js$threejs$three_min.prototype.getFilter=function(){return this.filter};
Xb$$module$js$threejs$three_min.prototype.setFilter=function(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination);return this};Xb$$module$js$threejs$three_min.prototype.getMasterVolume=function(){return this.gain.gain.value};
Xb$$module$js$threejs$three_min.prototype.setMasterVolume=function(a){this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01);return this};
Xb$$module$js$threejs$three_min.prototype.updateMatrixWorld=function(a){ha$$module$js$threejs$three_min.prototype.updateMatrixWorld.call(this,a);a=this.context.listener;var b=this.up;this.timeDelta=this._clock.getDelta();this.matrixWorld.decompose(wd$$module$js$threejs$three_min,Tj$$module$js$threejs$three_min,Zl$$module$js$threejs$three_min);xd$$module$js$threejs$three_min.set(0,0,-1).applyQuaternion(Tj$$module$js$threejs$three_min);if(a.positionX){var c=this.context.currentTime+this.timeDelta;a.positionX.linearRampToValueAtTime(wd$$module$js$threejs$three_min.x,
c);a.positionY.linearRampToValueAtTime(wd$$module$js$threejs$three_min.y,c);a.positionZ.linearRampToValueAtTime(wd$$module$js$threejs$three_min.z,c);a.forwardX.linearRampToValueAtTime(xd$$module$js$threejs$three_min.x,c);a.forwardY.linearRampToValueAtTime(xd$$module$js$threejs$three_min.y,c);a.forwardZ.linearRampToValueAtTime(xd$$module$js$threejs$three_min.z,c);a.upX.linearRampToValueAtTime(b.x,c);a.upY.linearRampToValueAtTime(b.y,c);a.upZ.linearRampToValueAtTime(b.z,c)}else a.setPosition(wd$$module$js$threejs$three_min.x,
wd$$module$js$threejs$three_min.y,wd$$module$js$threejs$three_min.z),a.setOrientation(xd$$module$js$threejs$three_min.x,xd$$module$js$threejs$three_min.y,xd$$module$js$threejs$three_min.z,b.x,b.y,b.z)};Ja$$module$js$threejs$three_min.prototype=Object.create(ha$$module$js$threejs$three_min.prototype);Ja$$module$js$threejs$three_min.prototype.constructor=Ja$$module$js$threejs$three_min;Ja$$module$js$threejs$three_min.prototype.getOutput=function(){return this.gain};
Ja$$module$js$threejs$three_min.prototype.setNodeSource=function(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();return this};Ja$$module$js$threejs$three_min.prototype.setMediaElementSource=function(a){this.hasPlaybackControl=!1;this.sourceType="mediaNode";this.source=this.context.createMediaElementSource(a);this.connect();return this};
Ja$$module$js$threejs$three_min.prototype.setMediaStreamSource=function(a){this.hasPlaybackControl=!1;this.sourceType="mediaStreamNode";this.source=this.context.createMediaStreamSource(a);this.connect();return this};Ja$$module$js$threejs$three_min.prototype.setBuffer=function(a){this.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this};
Ja$$module$js$threejs$three_min.prototype.play=function(a){void 0===a&&(a=0);if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this._startedAt=this.context.currentTime+a,a=this.context.createBufferSource(),a.buffer=this.buffer,a.loop=this.loop,a.loopStart=this.loopStart,a.loopEnd=this.loopEnd,a.onended=this.onEnded.bind(this),a.start(this._startedAt,this._progress+
this.offset,this.duration),this.isPlaying=!0,this.source=a,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()};
Ja$$module$js$threejs$three_min.prototype.pause=function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress%=this.duration||this.buffer.duration),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this};
Ja$$module$js$threejs$three_min.prototype.stop=function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this};
Ja$$module$js$threejs$three_min.prototype.connect=function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());this._connected=!0;return this};
Ja$$module$js$threejs$three_min.prototype.disconnect=function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].disconnect(this.filters[a]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());this._connected=!1;return this};Ja$$module$js$threejs$three_min.prototype.getFilters=function(){return this.filters};
Ja$$module$js$threejs$three_min.prototype.setFilters=function(a){a||(a=[]);!0===this._connected?(this.disconnect(),this.filters=a,this.connect()):this.filters=a;return this};Ja$$module$js$threejs$three_min.prototype.setDetune=function(a){this.detune=a;if(void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this};Ja$$module$js$threejs$three_min.prototype.getDetune=function(){return this.detune};
Ja$$module$js$threejs$three_min.prototype.getFilter=function(){return this.getFilters()[0]};Ja$$module$js$threejs$three_min.prototype.setFilter=function(a){return this.setFilters(a?[a]:[])};Ja$$module$js$threejs$three_min.prototype.setPlaybackRate=function(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.playbackRate=a,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this};
Ja$$module$js$threejs$three_min.prototype.getPlaybackRate=function(){return this.playbackRate};Ja$$module$js$threejs$three_min.prototype.onEnded=function(){this.isPlaying=!1};Ja$$module$js$threejs$three_min.prototype.getLoop=function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop};
Ja$$module$js$threejs$three_min.prototype.setLoop=function(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.loop=a,!0===this.isPlaying&&(this.source.loop=this.loop),this};Ja$$module$js$threejs$three_min.prototype.setLoopStart=function(a){this.loopStart=a;return this};Ja$$module$js$threejs$three_min.prototype.setLoopEnd=function(a){this.loopEnd=a;return this};Ja$$module$js$threejs$three_min.prototype.getVolume=function(){return this.gain.gain.value};
Ja$$module$js$threejs$three_min.prototype.setVolume=function(a){this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01);return this};var yd$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Uj$$module$js$threejs$three_min=new ua$$module$js$threejs$three_min,$l$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,zd$$module$js$threejs$three_min=new w$$module$js$threejs$three_min;tb$$module$js$threejs$three_min.prototype=Object.create(Ja$$module$js$threejs$three_min.prototype);
tb$$module$js$threejs$three_min.prototype.constructor=tb$$module$js$threejs$three_min;tb$$module$js$threejs$three_min.prototype.getOutput=function(){return this.panner};tb$$module$js$threejs$three_min.prototype.getRefDistance=function(){return this.panner.refDistance};tb$$module$js$threejs$three_min.prototype.setRefDistance=function(a){this.panner.refDistance=a;return this};tb$$module$js$threejs$three_min.prototype.getRolloffFactor=function(){return this.panner.rolloffFactor};
tb$$module$js$threejs$three_min.prototype.setRolloffFactor=function(a){this.panner.rolloffFactor=a;return this};tb$$module$js$threejs$three_min.prototype.getDistanceModel=function(){return this.panner.distanceModel};tb$$module$js$threejs$three_min.prototype.setDistanceModel=function(a){this.panner.distanceModel=a;return this};tb$$module$js$threejs$three_min.prototype.getMaxDistance=function(){return this.panner.maxDistance};
tb$$module$js$threejs$three_min.prototype.setMaxDistance=function(a){this.panner.maxDistance=a;return this};tb$$module$js$threejs$three_min.prototype.setDirectionalCone=function(a,b,c){this.panner.coneInnerAngle=a;this.panner.coneOuterAngle=b;this.panner.coneOuterGain=c;return this};
tb$$module$js$threejs$three_min.prototype.updateMatrixWorld=function(a){Ja$$module$js$threejs$three_min.prototype.updateMatrixWorld.call(this,a);if(!0!==this.hasPlaybackControl||!1!==this.isPlaying)if(this.matrixWorld.decompose(yd$$module$js$threejs$three_min,Uj$$module$js$threejs$three_min,$l$$module$js$threejs$three_min),zd$$module$js$threejs$three_min.set(0,0,1).applyQuaternion(Uj$$module$js$threejs$three_min),a=this.panner,a.positionX){var b=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(yd$$module$js$threejs$three_min.x,
b);a.positionY.linearRampToValueAtTime(yd$$module$js$threejs$three_min.y,b);a.positionZ.linearRampToValueAtTime(yd$$module$js$threejs$three_min.z,b);a.orientationX.linearRampToValueAtTime(zd$$module$js$threejs$three_min.x,b);a.orientationY.linearRampToValueAtTime(zd$$module$js$threejs$three_min.y,b);a.orientationZ.linearRampToValueAtTime(zd$$module$js$threejs$three_min.z,b)}else a.setPosition(yd$$module$js$threejs$three_min.x,yd$$module$js$threejs$three_min.y,yd$$module$js$threejs$three_min.z),a.setOrientation(zd$$module$js$threejs$three_min.x,
zd$$module$js$threejs$three_min.y,zd$$module$js$threejs$three_min.z)};var Xg$$module$js$threejs$three_min=function(a,b){this.analyser=a.context.createAnalyser();this.analyser.fftSize=void 0!==b?b:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)};Xg$$module$js$threejs$three_min.prototype.getFrequencyData=function(){this.analyser.getByteFrequencyData(this.data);return this.data};
Xg$$module$js$threejs$three_min.prototype.getAverageFrequency=function(){for(var a=0,b=this.getFrequencyData(),c=0;c<b.length;c++)a+=b[c];return a/b.length};
Object.assign(Oh$$module$js$threejs$three_min.prototype,{accumulate:function(a,b){var c=this.buffer,d=this.valueSize;a=a*d+d;var e=this.cumulativeWeight;if(0===e){for(e=0;e!==d;++e)c[a+e]=c[e];e=b}else e+=b,this._mixBufferRegion(c,a,0,b/e,d);this.cumulativeWeight=e},accumulateAdditive:function(a){var b=this.buffer,c=this.valueSize,d=c*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity();this._mixBufferRegionAdditive(b,d,0,a,c);this.cumulativeWeightAdditive+=a},apply:function(a){var b=
this.valueSize,c=this.buffer;a=a*b+b;var d=this.cumulativeWeight,e=this.cumulativeWeightAdditive,g=this.binding;this.cumulativeWeightAdditive=this.cumulativeWeight=0;1>d&&this._mixBufferRegion(c,a,b*this._origIndex,1-d,b);0<e&&this._mixBufferRegionAdditive(c,a,this._addIndex*b,1,b);d=b;for(e=b+b;d!==e;++d)if(c[d]!==c[d+b]){g.setValue(c,a);break}},saveOriginalState:function(){var a=this.buffer,b=this.valueSize,c=b*this._origIndex;this.binding.getValue(a,c);for(var d=b;d!==c;++d)a[d]=a[c+d%b];this._setIdentity();
this.cumulativeWeightAdditive=this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_setAdditiveIdentityNumeric:function(){for(var a=this._addIndex*this.valueSize,b=a+this.valueSize;a<b;a++)this.buffer[a]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric();this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){for(var a=this._origIndex*this.valueSize,b=this._addIndex*this.valueSize,c=
0;c<this.valueSize;c++)this.buffer[b+c]=this.buffer[a+c]},_select:function(a,b,c,d,e){if(.5<=d)for(d=0;d!==e;++d)a[b+d]=a[c+d]},_slerp:function(a,b,c,d){ua$$module$js$threejs$three_min.slerpFlat(a,b,a,b,a,c,d)},_slerpAdditive:function(a,b,c,d,e){e*=this._workIndex;ua$$module$js$threejs$three_min.multiplyQuaternionsFlat(a,e,a,b,a,c);ua$$module$js$threejs$three_min.slerpFlat(a,b,a,b,a,e,d)},_lerp:function(a,b,c,d,e){for(var g=1-d,h=0;h!==e;++h){var k=b+h;a[k]=a[k]*g+a[c+h]*d}},_lerpAdditive:function(a,
b,c,d,e){for(var g=0;g!==e;++g)a[b+g]+=a[c+g]*d}});
var am$$module$js$threejs$three_min=/[\[\]\.:\/]/g,bm$$module$js$threejs$three_min="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",cm$$module$js$threejs$three_min=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),dm$$module$js$threejs$three_min=/(WCOD+)?/.source.replace("WCOD",bm$$module$js$threejs$three_min),em$$module$js$threejs$three_min=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),fm$$module$js$threejs$three_min=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),
gm$$module$js$threejs$three_min=new RegExp("^"+cm$$module$js$threejs$three_min+dm$$module$js$threejs$three_min+em$$module$js$threejs$three_min+fm$$module$js$threejs$three_min+"$"),hm$$module$js$threejs$three_min=["material","materials","bones"];
Object.assign(mj$$module$js$threejs$three_min.prototype,{getValue:function(a,b){this.bind();var c=this._bindings[this._targetGroup.nCachedObjects_];void 0!==c&&c.getValue(a,b)},setValue:function(a,b){for(var c=this._bindings,d=this._targetGroup.nCachedObjects_,e=c.length;d!==e;++d)c[d].setValue(a,b)},bind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].bind()},unbind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,c=a.length;b!==
c;++b)a[b].unbind()}});
Object.assign(qb$$module$js$threejs$three_min,{Composite:mj$$module$js$threejs$three_min,create:function(a,b,c){return a&&a.isAnimationObjectGroup?new qb$$module$js$threejs$three_min.Composite(a,b,c):new qb$$module$js$threejs$three_min(a,b,c)},sanitizeNodeName:function(a){return a.replace(/\s/g,"_").replace(am$$module$js$threejs$three_min,"")},parseTrackName:function(a){var b=gm$$module$js$threejs$three_min.exec(a);if(!b)throw Error("PropertyBinding: Cannot parse trackName: "+a);b={nodeName:b[2],
objectName:b[3],objectIndex:b[4],propertyName:b[5],propertyIndex:b[6]};var c=b.nodeName&&b.nodeName.lastIndexOf(".");if(void 0!==c&&-1!==c){var d=b.nodeName.substring(c+1);-1!==hm$$module$js$threejs$three_min.indexOf(d)&&(b.nodeName=b.nodeName.substring(0,c),b.objectName=d)}if(null===b.propertyName||0===b.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+a);return b},findNode:function(a,b){if(!b||""===b||"."===b||-1===b||b===a.name||b===a.uuid)return a;
if(a.skeleton){var c=a.skeleton.getBoneByName(b);if(void 0!==c)return c}if(a.children){var d=function(e){for(var g=0;g<e.length;g++){var h=e[g];if(h.name===b||h.uuid===b||(h=d(h.children)))return h}return null};if(a=d(a.children))return a}return null}});
Object.assign(qb$$module$js$threejs$three_min.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(a,b){a[b]=this.node[this.propertyName]},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)a[b++]=c[d]},function(a,b){a[b]=this.resolvedProperty[this.propertyIndex]},function(a,b){this.resolvedProperty.toArray(a,
b)}],SetterByBindingTypeAndVersioning:[[function(a,b){this.targetObject[this.propertyName]=a[b]},function(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++]},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.needsUpdate=!0},function(a,
b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty[this.propertyIndex]=a[b]},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty.fromArray(a,b)},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.needsUpdate=
!0},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(a,b){this.bind();this.getValue(a,b)},setValue:function(a,b){this.bind();this.setValue(a,b)},bind:function(){var a=this.node,b=this.parsedPath,c=b.objectName,d=b.propertyName,e=b.propertyIndex;a||(this.node=a=qb$$module$js$threejs$three_min.findNode(this.rootNode,b.nodeName)||this.rootNode);this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(c){var g=
b.objectIndex;switch(c){case "materials":if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}a=a.material.materials;break;case "bones":if(!a.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}a=a.skeleton.bones;
for(c=0;c<a.length;c++)if(a[c].name===g){g=c;break}break;default:if(void 0===a[c]){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}a=a[c]}if(void 0!==g){if(void 0===a[g]){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,a);return}a=a[g]}}g=a[d];if(void 0===g)console.error("THREE.PropertyBinding: Trying to update property for track: "+b.nodeName+"."+d+" but it wasn't found.",a);else{b=this.Versioning.None;
this.targetObject=a;void 0!==a.needsUpdate?b=this.Versioning.NeedsUpdate:void 0!==a.matrixWorldNeedsUpdate&&(b=this.Versioning.MatrixWorldNeedsUpdate);c=this.BindingType.Direct;if(void 0!==e){if("morphTargetInfluences"===d){if(!a.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(a.geometry.isBufferGeometry){if(!a.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",
this);return}void 0!==a.morphTargetDictionary[e]&&(e=a.morphTargetDictionary[e])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}c=this.BindingType.ArrayElement;this.resolvedProperty=g;this.propertyIndex=e}else void 0!==g.fromArray&&void 0!==g.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=g):Array.isArray(g)?(c=this.BindingType.EntireArray,this.resolvedProperty=g):this.propertyName=
d;this.getValue=this.GetterByBindingType[c];this.setValue=this.SetterByBindingTypeAndVersioning[c][b]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}});Object.assign(qb$$module$js$threejs$three_min.prototype,{_getValue_unbound:qb$$module$js$threejs$three_min.prototype.getValue,_setValue_unbound:qb$$module$js$threejs$three_min.prototype.setValue});
Object.assign(nj$$module$js$threejs$three_min.prototype,{isAnimationObjectGroup:!0,add:function(){for(var a=this._objects,b=this._indicesByUUID,c=this._paths,d=this._parsedPaths,e=this._bindings,g=e.length,h=void 0,k=a.length,l=this.nCachedObjects_,m=0,n=arguments.length;m!==n;++m){var p=arguments[m],t=p.uuid,w=b[t];if(void 0===w){w=k++;b[t]=w;a.push(p);w=0;for(var x=g;w!==x;++w)e[w].push(new qb$$module$js$threejs$three_min(p,c[w],d[w]))}else if(w<l){h=a[w];x=--l;var A=a[x];b[A.uuid]=w;a[w]=A;b[t]=
x;a[x]=p;t=0;for(A=g;t!==A;++t){var r=e[t],E=r[w];r[w]=r[x];void 0===E&&(E=new qb$$module$js$threejs$three_min(p,c[t],d[t]));r[x]=E}}else a[w]!==h&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){for(var a=this._objects,b=this._indicesByUUID,c=this._bindings,d=c.length,e=this.nCachedObjects_,g=0,h=arguments.length;g!==h;++g){var k=arguments[g],
l=k.uuid,m=b[l];if(void 0!==m&&m>=e){var n=e++,p=a[n];b[p.uuid]=m;a[m]=p;b[l]=n;a[n]=k;k=0;for(l=d;k!==l;++k){p=c[k];var t=p[m];p[m]=p[n];p[n]=t}}}this.nCachedObjects_=e},uncache:function(){for(var a=this._objects,b=this._indicesByUUID,c=this._bindings,d=c.length,e=this.nCachedObjects_,g=a.length,h=0,k=arguments.length;h!==k;++h){var l=arguments[h].uuid,m=b[l];if(void 0!==m)if(delete b[l],m<e){l=--e;var n=a[l],p=--g,t=a[p];b[n.uuid]=m;a[m]=n;b[t.uuid]=l;a[l]=t;a.pop();n=0;for(t=d;n!==t;++n){var w=
c[n],x=w[p];w[m]=w[l];w[l]=x;w.pop()}}else for(l=--g,p=a[l],b[p.uuid]=m,a[m]=p,a.pop(),p=0,n=d;p!==n;++p)t=c[p],t[m]=t[l],t.pop()}this.nCachedObjects_=e},subscribe_:function(a,b){var c=this._bindingsIndicesByPath,d=c[a],e=this._bindings;if(void 0!==d)return e[d];var g=this._paths,h=this._parsedPaths,k=this._objects,l=this.nCachedObjects_,m=Array(k.length);d=e.length;c[a]=d;g.push(a);h.push(b);e.push(m);c=l;for(d=k.length;c!==d;++c)m[c]=new qb$$module$js$threejs$three_min(k[c],a,b);return m},unsubscribe_:function(a){var b=
this._bindingsIndicesByPath,c=b[a];if(void 0!==c){var d=this._paths,e=this._parsedPaths,g=this._bindings,h=g.length-1,k=g[h];b[a[h]]=c;g[c]=k;g.pop();e[c]=e[h];e.pop();d[c]=d[h];d.pop()}}});
var La$$module$js$threejs$three_min=function(a,b,c,d){this._mixer=a;this._clip=b;this._localRoot=c||null;this.blendMode=d||b.blendMode;a=b.tracks;b=a.length;c=Array(b);d={endingStart:2400,endingEnd:2400};for(var e=0;e!==b;++e){var g=a[e].createInterpolant(null);c[e]=g;g.settings=d}this._interpolantSettings=d;this._interpolants=c;this._propertyBindings=Array(b);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=2201;this._loopCount=-1;this._startTime=
null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0};La$$module$js$threejs$three_min.prototype.play=function(){this._mixer._activateAction(this);return this};La$$module$js$threejs$three_min.prototype.stop=function(){this._mixer._deactivateAction(this);return this.reset()};
La$$module$js$threejs$three_min.prototype.reset=function(){this.paused=!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()};La$$module$js$threejs$three_min.prototype.isRunning=function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)};La$$module$js$threejs$three_min.prototype.isScheduled=function(){return this._mixer._isActiveAction(this)};
La$$module$js$threejs$three_min.prototype.startAt=function(a){this._startTime=a;return this};La$$module$js$threejs$three_min.prototype.setLoop=function(a,b){this.loop=a;this.repetitions=b;return this};La$$module$js$threejs$three_min.prototype.setEffectiveWeight=function(a){this.weight=a;this._effectiveWeight=this.enabled?a:0;return this.stopFading()};La$$module$js$threejs$three_min.prototype.getEffectiveWeight=function(){return this._effectiveWeight};
La$$module$js$threejs$three_min.prototype.fadeIn=function(a){return this._scheduleFading(a,0,1)};La$$module$js$threejs$three_min.prototype.fadeOut=function(a){return this._scheduleFading(a,1,0)};La$$module$js$threejs$three_min.prototype.crossFadeFrom=function(a,b,c){a.fadeOut(b);this.fadeIn(b);if(c){c=this._clip.duration;var d=a._clip.duration,e=c/d;a.warp(1,d/c,b);this.warp(e,1,b)}return this};La$$module$js$threejs$three_min.prototype.crossFadeTo=function(a,b,c){return a.crossFadeFrom(this,b,c)};
La$$module$js$threejs$three_min.prototype.stopFading=function(){var a=this._weightInterpolant;null!==a&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this};La$$module$js$threejs$three_min.prototype.setEffectiveTimeScale=function(a){this.timeScale=a;this._effectiveTimeScale=this.paused?0:a;return this.stopWarping()};La$$module$js$threejs$three_min.prototype.getEffectiveTimeScale=function(){return this._effectiveTimeScale};
La$$module$js$threejs$three_min.prototype.setDuration=function(a){this.timeScale=this._clip.duration/a;return this.stopWarping()};La$$module$js$threejs$three_min.prototype.syncWith=function(a){this.time=a.time;this.timeScale=a.timeScale;return this.stopWarping()};La$$module$js$threejs$three_min.prototype.halt=function(a){return this.warp(this._effectiveTimeScale,0,a)};
La$$module$js$threejs$three_min.prototype.warp=function(a,b,c){var d=this._mixer,e=d.time,g=this.timeScale,h=this._timeScaleInterpolant;null===h&&(this._timeScaleInterpolant=h=d._lendControlInterpolant());d=h.parameterPositions;h=h.sampleValues;d[0]=e;d[1]=e+c;h[0]=a/g;h[1]=b/g;return this};La$$module$js$threejs$three_min.prototype.stopWarping=function(){var a=this._timeScaleInterpolant;null!==a&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this};
La$$module$js$threejs$three_min.prototype.getMixer=function(){return this._mixer};La$$module$js$threejs$three_min.prototype.getClip=function(){return this._clip};La$$module$js$threejs$three_min.prototype.getRoot=function(){return this._localRoot||this._mixer._root};
La$$module$js$threejs$three_min.prototype._update=function(a,b,c,d){if(this.enabled){var e=this._startTime;if(null!==e){b=(a-e)*c;if(0>b||0===c)return;this._startTime=null;b*=c}b*=this._updateTimeScale(a);c=this._updateTime(b);a=this._updateWeight(a);if(0<a)switch(b=this._interpolants,e=this._propertyBindings,this.blendMode){case 2501:d=0;for(var g=b.length;d!==g;++d)b[d].evaluate(c),e[d].accumulateAdditive(a);break;default:g=0;for(var h=b.length;g!==h;++g)b[g].evaluate(c),e[g].accumulate(d,a)}}else this._updateWeight(a)};
La$$module$js$threejs$three_min.prototype._updateWeight=function(a){var b=0;if(this.enabled){b=this.weight;var c=this._weightInterpolant;if(null!==c){var d=c.evaluate(a)[0];b*=d;a>c.parameterPositions[1]&&(this.stopFading(),0===d&&(this.enabled=!1))}}return this._effectiveWeight=b};
La$$module$js$threejs$three_min.prototype._updateTimeScale=function(a){var b=0;if(!this.paused){b=this.timeScale;var c=this._timeScaleInterpolant;if(null!==c){var d=c.evaluate(a)[0];b*=d;a>c.parameterPositions[1]&&(this.stopWarping(),0===b?this.paused=!0:this.timeScale=b)}}return this._effectiveTimeScale=b};
La$$module$js$threejs$three_min.prototype._updateTime=function(a){var b=this._clip.duration,c=this.loop,d=this.time+a,e=this._loopCount,g=2202===c;if(0===a)return-1===e?d:g&&1===(e&1)?b-d:d;if(2200===c)a:{if(-1===e&&(this._loopCount=0,this._setEndings(!0,!0,!1)),d>=b)d=b;else if(0>d)d=0;else{this.time=d;break a}this.clampWhenFinished?this.paused=!0:this.enabled=!1;this.time=d;this._mixer.dispatchEvent({type:"finished",action:this,direction:0>a?-1:1})}else{-1===e&&(0<=a?(e=0,this._setEndings(!0,0===
this.repetitions,g)):this._setEndings(0===this.repetitions,!0,g));if(d>=b||0>d){c=Math.floor(d/b);d-=b*c;e+=Math.abs(c);var h=this.repetitions-e;0>=h?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=d=0<a?b:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<a?1:-1})):(1===h?(a=0>a,this._setEndings(a,!a,g)):this._setEndings(!1,!1,g),this._loopCount=e,this.time=d,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c}))}else this.time=d;if(g&&1===(e&1))return b-
d}return d};La$$module$js$threejs$three_min.prototype._setEndings=function(a,b,c){var d=this._interpolantSettings;c?(d.endingStart=2401,d.endingEnd=2401):(d.endingStart=a?this.zeroSlopeAtStart?2401:2400:2402,d.endingEnd=b?this.zeroSlopeAtEnd?2401:2400:2402)};
La$$module$js$threejs$three_min.prototype._scheduleFading=function(a,b,c){var d=this._mixer,e=d.time,g=this._weightInterpolant;null===g&&(this._weightInterpolant=g=d._lendControlInterpolant());d=g.parameterPositions;g=g.sampleValues;d[0]=e;g[0]=b;d[1]=e+a;g[1]=c;return this};
Ph$$module$js$threejs$three_min.prototype=Object.assign(Object.create(wb$$module$js$threejs$three_min.prototype),{constructor:Ph$$module$js$threejs$three_min,_bindAction:function(a,b){var c=a._localRoot||this._root,d=a._clip.tracks,e=d.length,g=a._propertyBindings;a=a._interpolants;var h=c.uuid,k=this._bindingsByRootAndName,l=k[h];void 0===l&&(l={},k[h]=l);for(k=0;k!==e;++k){var m=d[k],n=m.name,p=l[n];if(void 0===p){p=g[k];if(void 0!==p){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,
h,n));continue}p=new Oh$$module$js$threejs$three_min(qb$$module$js$threejs$three_min.create(c,n,b&&b._propertyBindings[k].binding.parsedPath),m.ValueTypeName,m.getValueSize());++p.referenceCount;this._addInactiveBinding(p,h,n)}g[k]=p;a[k].resultBuffer=p.buffer}},_activateAction:function(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,c=a._clip.uuid,d=this._actionsByClip[c];this._bindAction(a,d&&d.knownActions[0]);this._addInactiveAction(a,c,b)}b=a._propertyBindings;
c=0;for(d=b.length;c!==d;++c){var e=b[c];0===e.useCount++&&(this._lendBinding(e),e.saveOriginalState())}this._lendAction(a)}},_deactivateAction:function(a){if(this._isActiveAction(a)){for(var b=a._propertyBindings,c=0,d=b.length;c!==d;++c){var e=b[c];0===--e.useCount&&(e.restoreOriginalState(),this._takeBackBinding(e))}this._takeBackAction(a)}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName=
{};this._controlInterpolants=[];this._nActiveControlInterpolants=0;var a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}},_isActiveAction:function(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions},_addInactiveAction:function(a,
b,c){var d=this._actions,e=this._actionsByClip,g=e[b];void 0===g?(g={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,e[b]=g):(b=g.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=d.length;d.push(a);g.actionByRoot[c]=a},_removeInactiveAction:function(a){var b=this._actions,c=b[b.length-1],d=a._cacheIndex;c._cacheIndex=d;b[d]=c;b.pop();a._cacheIndex=null;b=a._clip.uuid;c=this._actionsByClip;d=c[b];var e=d.knownActions,g=e[e.length-1],h=a._byClipCacheIndex;g._byClipCacheIndex=
h;e[h]=g;e.pop();a._byClipCacheIndex=null;delete d.actionByRoot[(a._localRoot||this._root).uuid];0===e.length&&delete c[b];this._removeInactiveBindingsForAction(a)},_removeInactiveBindingsForAction:function(a){a=a._propertyBindings;for(var b=0,c=a.length;b!==c;++b){var d=a[b];0===--d.referenceCount&&this._removeInactiveBinding(d)}},_lendAction:function(a){var b=this._actions,c=a._cacheIndex,d=this._nActiveActions++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackAction:function(a){var b=
this._actions,c=a._cacheIndex,d=--this._nActiveActions,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_addInactiveBinding:function(a,b,c){var d=this._bindingsByRootAndName,e=this._bindings,g=d[b];void 0===g&&(g={},d[b]=g);g[c]=a;a._cacheIndex=e.length;e.push(a)},_removeInactiveBinding:function(a){var b=this._bindings,c=a.binding,d=c.rootNode.uuid;c=c.path;var e=this._bindingsByRootAndName,g=e[d],h=b[b.length-1];a=a._cacheIndex;h._cacheIndex=a;b[a]=h;b.pop();delete g[c];0===Object.keys(g).length&&
delete e[d]},_lendBinding:function(a){var b=this._bindings,c=a._cacheIndex,d=this._nActiveBindings++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackBinding:function(a){var b=this._bindings,c=a._cacheIndex,d=--this._nActiveBindings,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_lendControlInterpolant:function(){var a=this._controlInterpolants,b=this._nActiveControlInterpolants++,c=a[b];void 0===c&&(c=new of$$module$js$threejs$three_min(new Float32Array(2),new Float32Array(2),
1,this._controlInterpolantsResultBuffer),c.__cacheIndex=b,a[b]=c);return c},_takeBackControlInterpolant:function(a){var b=this._controlInterpolants,c=a.__cacheIndex,d=--this._nActiveControlInterpolants,e=b[d];a.__cacheIndex=d;b[d]=a;e.__cacheIndex=c;b[c]=e},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(a,b,c){var d=b||this._root,e=d.uuid;d="string"===typeof a?Mb$$module$js$threejs$three_min.findByName(d,a):a;a=null!==d?d.uuid:a;var g=this._actionsByClip[a],h=null;void 0===
c&&(c=null!==d?d.blendMode:2500);if(void 0!==g){h=g.actionByRoot[e];if(void 0!==h&&h.blendMode===c)return h;h=g.knownActions[0];null===d&&(d=h._clip)}if(null===d)return null;b=new La$$module$js$threejs$three_min(this,d,b,c);this._bindAction(b,h);this._addInactiveAction(b,a,e);return b},existingAction:function(a,b){var c=b||this._root;b=c.uuid;c="string"===typeof a?Mb$$module$js$threejs$three_min.findByName(c,a):a;a=this._actionsByClip[c?c.uuid:a];return void 0!==a?a.actionByRoot[b]||null:null},stopAllAction:function(){for(var a=
this._actions,b=this._nActiveActions-1;0<=b;--b)a[b].stop();return this},update:function(a){a*=this.timeScale;for(var b=this._actions,c=this._nActiveActions,d=this.time+=a,e=Math.sign(a),g=this._accuIndex^=1,h=0;h!==c;++h)b[h]._update(d,a,e,g);a=this._bindings;b=this._nActiveBindings;for(c=0;c!==b;++c)a[c].apply(g);return this},setTime:function(a){for(var b=this.time=0;b<this._actions.length;b++)this._actions[b].time=0;return this.update(a)},getRoot:function(){return this._root},uncacheClip:function(a){var b=
this._actions;a=a.uuid;var c=this._actionsByClip,d=c[a];if(void 0!==d){d=d.knownActions;for(var e=0,g=d.length;e!==g;++e){var h=d[e];this._deactivateAction(h);var k=h._cacheIndex,l=b[b.length-1];h._cacheIndex=null;h._byClipCacheIndex=null;l._cacheIndex=k;b[k]=l;b.pop();this._removeInactiveBindingsForAction(h)}delete c[a]}},uncacheRoot:function(a){a=a.uuid;var b=this._actionsByClip;for(d in b){var c=b[d].actionByRoot[a];void 0!==c&&(this._deactivateAction(c),this._removeInactiveAction(c))}var d=this._bindingsByRootAndName[a];
if(void 0!==d)for(var e in d)a=d[e],a.restoreOriginalState(),this._removeInactiveBinding(a)},uncacheAction:function(a,b){a=this.existingAction(a,b);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}});var Yg$$module$js$threejs$three_min=function(a,b){"string"===typeof a&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),a=b);this.value=a};
Yg$$module$js$threejs$three_min.prototype.clone=function(){return new Yg$$module$js$threejs$three_min(void 0===this.value.clone?this.value:this.value.clone())};
Qh$$module$js$threejs$three_min.prototype=Object.assign(Object.create(Gb$$module$js$threejs$three_min.prototype),{constructor:Qh$$module$js$threejs$three_min,isInstancedInterleavedBuffer:!0,copy:function(a){Gb$$module$js$threejs$three_min.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this},clone:function(a){a=Gb$$module$js$threejs$three_min.prototype.clone.call(this,a);a.meshPerAttribute=this.meshPerAttribute;return a},toJSON:function(a){a=Gb$$module$js$threejs$three_min.prototype.toJSON.call(this,
a);a.isInstancedInterleavedBuffer=!0;a.meshPerAttribute=this.meshPerAttribute;return a}});Object.defineProperty(Rh$$module$js$threejs$three_min.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});Object.assign(Rh$$module$js$threejs$three_min.prototype,{isGLBufferAttribute:!0,setBuffer:function(a){this.buffer=a;return this},setType:function(a,b){this.type=a;this.elementSize=b;return this},setItemSize:function(a){this.itemSize=a;return this},setCount:function(a){this.count=a;return this}});
Object.assign(Sh$$module$js$threejs$three_min.prototype,{set:function(a,b){this.ray.set(a,b)},setFromCamera:function(a,b){b&&b.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(b.matrixWorld),this.ray.direction.set(a.x,a.y,.5).unproject(b).sub(this.ray.origin).normalize(),this.camera=b):b&&b.isOrthographicCamera?(this.ray.origin.set(a.x,a.y,(b.near+b.far)/(b.near-b.far)).unproject(b),this.ray.direction.set(0,0,-1).transformDirection(b.matrixWorld),this.camera=b):console.error("THREE.Raycaster: Unsupported camera type.")},
intersectObject:function(a,b,c){c=c||[];Th$$module$js$threejs$three_min(a,this,c,b);c.sort(oj$$module$js$threejs$three_min);return c},intersectObjects:function(a,b,c){c=c||[];if(!1===Array.isArray(a))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),c;for(var d=0,e=a.length;d<e;d++)Th$$module$js$threejs$three_min(a[d],this,c,b);c.sort(oj$$module$js$threejs$three_min);return c}});
var Ad$$module$js$threejs$three_min=function(a,b,c){void 0===a&&(a=1);void 0===b&&(b=0);void 0===c&&(c=0);this.radius=a;this.phi=b;this.theta=c;return this};Ad$$module$js$threejs$three_min.prototype.set=function(a,b,c){this.radius=a;this.phi=b;this.theta=c;return this};Ad$$module$js$threejs$three_min.prototype.clone=function(){return(new this.constructor).copy(this)};Ad$$module$js$threejs$three_min.prototype.copy=function(a){this.radius=a.radius;this.phi=a.phi;this.theta=a.theta;return this};
Ad$$module$js$threejs$three_min.prototype.makeSafe=function(){this.phi=Math.max(1E-6,Math.min(Math.PI-1E-6,this.phi));return this};Ad$$module$js$threejs$three_min.prototype.setFromVector3=function(a){return this.setFromCartesianCoords(a.x,a.y,a.z)};
Ad$$module$js$threejs$three_min.prototype.setFromCartesianCoords=function(a,b,c){this.radius=Math.sqrt(a*a+b*b+c*c);0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a,c),this.phi=Math.acos(xa$$module$js$threejs$three_min.clamp(b/this.radius,-1,1)));return this};var Ae$$module$js$threejs$three_min=function(a,b,c){this.radius=void 0!==a?a:1;this.theta=void 0!==b?b:0;this.y=void 0!==c?c:0;return this};
Ae$$module$js$threejs$three_min.prototype.set=function(a,b,c){this.radius=a;this.theta=b;this.y=c;return this};Ae$$module$js$threejs$three_min.prototype.clone=function(){return(new this.constructor).copy(this)};Ae$$module$js$threejs$three_min.prototype.copy=function(a){this.radius=a.radius;this.theta=a.theta;this.y=a.y;return this};Ae$$module$js$threejs$three_min.prototype.setFromVector3=function(a){return this.setFromCartesianCoords(a.x,a.y,a.z)};
Ae$$module$js$threejs$three_min.prototype.setFromCartesianCoords=function(a,b,c){this.radius=Math.sqrt(a*a+c*c);this.theta=Math.atan2(a,c);this.y=b;return this};var Vj$$module$js$threejs$three_min=new L$$module$js$threejs$three_min,$a$$module$js$threejs$three_min=function(a,b){Object.defineProperty(this,"isBox2",{value:!0});this.min=void 0!==a?a:new L$$module$js$threejs$three_min(Infinity,Infinity);this.max=void 0!==b?b:new L$$module$js$threejs$three_min(-Infinity,-Infinity)};
$a$$module$js$threejs$three_min.prototype.set=function(a,b){this.min.copy(a);this.max.copy(b);return this};$a$$module$js$threejs$three_min.prototype.setFromPoints=function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this};$a$$module$js$threejs$three_min.prototype.setFromCenterAndSize=function(a,b){b=Vj$$module$js$threejs$three_min.copy(b).multiplyScalar(.5);this.min.copy(a).sub(b);this.max.copy(a).add(b);return this};
$a$$module$js$threejs$three_min.prototype.clone=function(){return(new this.constructor).copy(this)};$a$$module$js$threejs$three_min.prototype.copy=function(a){this.min.copy(a.min);this.max.copy(a.max);return this};$a$$module$js$threejs$three_min.prototype.makeEmpty=function(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this};$a$$module$js$threejs$three_min.prototype.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y};
$a$$module$js$threejs$three_min.prototype.getCenter=function(a){void 0===a&&(console.warn("THREE.Box2: .getCenter() target is now required"),a=new L$$module$js$threejs$three_min);return this.isEmpty()?a.set(0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)};$a$$module$js$threejs$three_min.prototype.getSize=function(a){void 0===a&&(console.warn("THREE.Box2: .getSize() target is now required"),a=new L$$module$js$threejs$three_min);return this.isEmpty()?a.set(0,0):a.subVectors(this.max,this.min)};
$a$$module$js$threejs$three_min.prototype.expandByPoint=function(a){this.min.min(a);this.max.max(a);return this};$a$$module$js$threejs$three_min.prototype.expandByVector=function(a){this.min.sub(a);this.max.add(a);return this};$a$$module$js$threejs$three_min.prototype.expandByScalar=function(a){this.min.addScalar(-a);this.max.addScalar(a);return this};$a$$module$js$threejs$three_min.prototype.containsPoint=function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0};
$a$$module$js$threejs$three_min.prototype.containsBox=function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y};$a$$module$js$threejs$three_min.prototype.getParameter=function(a,b){void 0===b&&(console.warn("THREE.Box2: .getParameter() target is now required"),b=new L$$module$js$threejs$three_min);return b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))};
$a$$module$js$threejs$three_min.prototype.intersectsBox=function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?!1:!0};$a$$module$js$threejs$three_min.prototype.clampPoint=function(a,b){void 0===b&&(console.warn("THREE.Box2: .clampPoint() target is now required"),b=new L$$module$js$threejs$three_min);return b.copy(a).clamp(this.min,this.max)};
$a$$module$js$threejs$three_min.prototype.distanceToPoint=function(a){return Vj$$module$js$threejs$three_min.copy(a).clamp(this.min,this.max).sub(a).length()};$a$$module$js$threejs$three_min.prototype.intersect=function(a){this.min.max(a.min);this.max.min(a.max);return this};$a$$module$js$threejs$three_min.prototype.union=function(a){this.min.min(a.min);this.max.max(a.max);return this};$a$$module$js$threejs$three_min.prototype.translate=function(a){this.min.add(a);this.max.add(a);return this};
$a$$module$js$threejs$three_min.prototype.equals=function(a){return a.min.equals(this.min)&&a.max.equals(this.max)};var Wj$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Zg$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Cb$$module$js$threejs$three_min=function(a,b){this.start=void 0!==a?a:new w$$module$js$threejs$three_min;this.end=void 0!==b?b:new w$$module$js$threejs$three_min};
Cb$$module$js$threejs$three_min.prototype.set=function(a,b){this.start.copy(a);this.end.copy(b);return this};Cb$$module$js$threejs$three_min.prototype.clone=function(){return(new this.constructor).copy(this)};Cb$$module$js$threejs$three_min.prototype.copy=function(a){this.start.copy(a.start);this.end.copy(a.end);return this};
Cb$$module$js$threejs$three_min.prototype.getCenter=function(a){void 0===a&&(console.warn("THREE.Line3: .getCenter() target is now required"),a=new w$$module$js$threejs$three_min);return a.addVectors(this.start,this.end).multiplyScalar(.5)};Cb$$module$js$threejs$three_min.prototype.delta=function(a){void 0===a&&(console.warn("THREE.Line3: .delta() target is now required"),a=new w$$module$js$threejs$three_min);return a.subVectors(this.end,this.start)};
Cb$$module$js$threejs$three_min.prototype.distanceSq=function(){return this.start.distanceToSquared(this.end)};Cb$$module$js$threejs$three_min.prototype.distance=function(){return this.start.distanceTo(this.end)};Cb$$module$js$threejs$three_min.prototype.at=function(a,b){void 0===b&&(console.warn("THREE.Line3: .at() target is now required"),b=new w$$module$js$threejs$three_min);return this.delta(b).multiplyScalar(a).add(this.start)};
Cb$$module$js$threejs$three_min.prototype.closestPointToPointParameter=function(a,b){Wj$$module$js$threejs$three_min.subVectors(a,this.start);Zg$$module$js$threejs$three_min.subVectors(this.end,this.start);a=Zg$$module$js$threejs$three_min.dot(Zg$$module$js$threejs$three_min);a=Zg$$module$js$threejs$three_min.dot(Wj$$module$js$threejs$three_min)/a;b&&(a=xa$$module$js$threejs$three_min.clamp(a,0,1));return a};
Cb$$module$js$threejs$three_min.prototype.closestPointToPoint=function(a,b,c){a=this.closestPointToPointParameter(a,b);void 0===c&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),c=new w$$module$js$threejs$three_min);return this.delta(c).multiplyScalar(a).add(this.start)};Cb$$module$js$threejs$three_min.prototype.applyMatrix4=function(a){this.start.applyMatrix4(a);this.end.applyMatrix4(a);return this};
Cb$$module$js$threejs$three_min.prototype.equals=function(a){return a.start.equals(this.start)&&a.end.equals(this.end)};tf$$module$js$threejs$three_min.prototype=Object.create(ha$$module$js$threejs$three_min.prototype);tf$$module$js$threejs$three_min.prototype.constructor=tf$$module$js$threejs$three_min;tf$$module$js$threejs$three_min.prototype.isImmediateRenderObject=!0;var Xj$$module$js$threejs$three_min=new w$$module$js$threejs$three_min;je$$module$js$threejs$three_min.prototype=Object.create(ha$$module$js$threejs$three_min.prototype);
je$$module$js$threejs$three_min.prototype.constructor=je$$module$js$threejs$three_min;je$$module$js$threejs$three_min.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};
je$$module$js$threejs$three_min.prototype.update=function(){this.light.updateMatrixWorld();var a=this.light.distance?this.light.distance:1E3,b=a*Math.tan(this.light.angle);this.cone.scale.set(b,b,a);Xj$$module$js$threejs$three_min.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(Xj$$module$js$threejs$three_min);void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};
var Xc$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,$g$$module$js$threejs$three_min=new da$$module$js$threejs$three_min,ri$$module$js$threejs$three_min=new da$$module$js$threejs$three_min;ke$$module$js$threejs$three_min.prototype=Object.create(Za$$module$js$threejs$three_min.prototype);ke$$module$js$threejs$three_min.prototype.constructor=ke$$module$js$threejs$three_min;
ke$$module$js$threejs$three_min.prototype.updateMatrixWorld=function(a){var b=this.bones,c=this.geometry,d=c.getAttribute("position");ri$$module$js$threejs$three_min.getInverse(this.root.matrixWorld);for(var e=0,g=0;e<b.length;e++){var h=b[e];h.parent&&h.parent.isBone&&($g$$module$js$threejs$three_min.multiplyMatrices(ri$$module$js$threejs$three_min,h.matrixWorld),Xc$$module$js$threejs$three_min.setFromMatrixPosition($g$$module$js$threejs$three_min),d.setXYZ(g,Xc$$module$js$threejs$three_min.x,Xc$$module$js$threejs$three_min.y,
Xc$$module$js$threejs$three_min.z),$g$$module$js$threejs$three_min.multiplyMatrices(ri$$module$js$threejs$three_min,h.parent.matrixWorld),Xc$$module$js$threejs$three_min.setFromMatrixPosition($g$$module$js$threejs$three_min),d.setXYZ(g+1,Xc$$module$js$threejs$three_min.x,Xc$$module$js$threejs$three_min.y,Xc$$module$js$threejs$three_min.z),g+=2)}c.getAttribute("position").needsUpdate=!0;Za$$module$js$threejs$three_min.prototype.updateMatrixWorld.call(this,a)};
le$$module$js$threejs$three_min.prototype=Object.create(Qa$$module$js$threejs$three_min.prototype);le$$module$js$threejs$three_min.prototype.constructor=le$$module$js$threejs$three_min;le$$module$js$threejs$three_min.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};le$$module$js$threejs$three_min.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};
var im$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,Yj$$module$js$threejs$three_min=new S$$module$js$threejs$three_min,Zj$$module$js$threejs$three_min=new S$$module$js$threejs$three_min;me$$module$js$threejs$three_min.prototype=Object.create(ha$$module$js$threejs$three_min.prototype);me$$module$js$threejs$three_min.prototype.constructor=me$$module$js$threejs$three_min;me$$module$js$threejs$three_min.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose()};
me$$module$js$threejs$three_min.prototype.update=function(){var a=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var b=a.geometry.getAttribute("color");Yj$$module$js$threejs$three_min.copy(this.light.color);Zj$$module$js$threejs$three_min.copy(this.light.groundColor);for(var c=0,d=b.count;c<d;c++){var e=c<d/2?Yj$$module$js$threejs$three_min:Zj$$module$js$threejs$three_min;b.setXYZ(c,e.r,e.g,e.b)}b.needsUpdate=!0}a.lookAt(im$$module$js$threejs$three_min.setFromMatrixPosition(this.light.matrixWorld).negate())};
uf$$module$js$threejs$three_min.prototype=Object.create(Za$$module$js$threejs$three_min.prototype);uf$$module$js$threejs$three_min.prototype.constructor=uf$$module$js$threejs$three_min;xg$$module$js$threejs$three_min.prototype=Object.create(Za$$module$js$threejs$three_min.prototype);xg$$module$js$threejs$three_min.prototype.constructor=xg$$module$js$threejs$three_min;
var ak$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,ah$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,bk$$module$js$threejs$three_min=new w$$module$js$threejs$three_min;ne$$module$js$threejs$three_min.prototype=Object.create(ha$$module$js$threejs$three_min.prototype);ne$$module$js$threejs$three_min.prototype.constructor=ne$$module$js$threejs$three_min;
ne$$module$js$threejs$three_min.prototype.dispose=function(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose()};
ne$$module$js$threejs$three_min.prototype.update=function(){ak$$module$js$threejs$three_min.setFromMatrixPosition(this.light.matrixWorld);ah$$module$js$threejs$three_min.setFromMatrixPosition(this.light.target.matrixWorld);bk$$module$js$threejs$three_min.subVectors(ah$$module$js$threejs$three_min,ak$$module$js$threejs$three_min);this.lightPlane.lookAt(ah$$module$js$threejs$three_min);void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):
(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color));this.targetLine.lookAt(ah$$module$js$threejs$three_min);this.targetLine.scale.z=bk$$module$js$threejs$three_min.length()};var yg$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,cb$$module$js$threejs$three_min=new ac$$module$js$threejs$three_min;vf$$module$js$threejs$three_min.prototype=Object.create(Za$$module$js$threejs$three_min.prototype);
vf$$module$js$threejs$three_min.prototype.constructor=vf$$module$js$threejs$three_min;
vf$$module$js$threejs$three_min.prototype.update=function(){var a=this.geometry,b=this.pointMap;cb$$module$js$threejs$three_min.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);db$$module$js$threejs$three_min("c",b,a,cb$$module$js$threejs$three_min,0,0,-1);db$$module$js$threejs$three_min("t",b,a,cb$$module$js$threejs$three_min,0,0,1);db$$module$js$threejs$three_min("n1",b,a,cb$$module$js$threejs$three_min,-1,-1,-1);db$$module$js$threejs$three_min("n2",b,a,cb$$module$js$threejs$three_min,
1,-1,-1);db$$module$js$threejs$three_min("n3",b,a,cb$$module$js$threejs$three_min,-1,1,-1);db$$module$js$threejs$three_min("n4",b,a,cb$$module$js$threejs$three_min,1,1,-1);db$$module$js$threejs$three_min("f1",b,a,cb$$module$js$threejs$three_min,-1,-1,1);db$$module$js$threejs$three_min("f2",b,a,cb$$module$js$threejs$three_min,1,-1,1);db$$module$js$threejs$three_min("f3",b,a,cb$$module$js$threejs$three_min,-1,1,1);db$$module$js$threejs$three_min("f4",b,a,cb$$module$js$threejs$three_min,1,1,1);db$$module$js$threejs$three_min("u1",
b,a,cb$$module$js$threejs$three_min,.7,1.1,-1);db$$module$js$threejs$three_min("u2",b,a,cb$$module$js$threejs$three_min,-.7,1.1,-1);db$$module$js$threejs$three_min("u3",b,a,cb$$module$js$threejs$three_min,0,2,-1);db$$module$js$threejs$three_min("cf1",b,a,cb$$module$js$threejs$three_min,-1,0,1);db$$module$js$threejs$three_min("cf2",b,a,cb$$module$js$threejs$three_min,1,0,1);db$$module$js$threejs$three_min("cf3",b,a,cb$$module$js$threejs$three_min,0,-1,1);db$$module$js$threejs$three_min("cf4",b,a,cb$$module$js$threejs$three_min,
0,1,1);db$$module$js$threejs$three_min("cn1",b,a,cb$$module$js$threejs$three_min,-1,0,-1);db$$module$js$threejs$three_min("cn2",b,a,cb$$module$js$threejs$three_min,1,0,-1);db$$module$js$threejs$three_min("cn3",b,a,cb$$module$js$threejs$three_min,0,-1,-1);db$$module$js$threejs$three_min("cn4",b,a,cb$$module$js$threejs$three_min,0,1,-1);a.getAttribute("position").needsUpdate=!0};var bh$$module$js$threejs$three_min=new za$$module$js$threejs$three_min;Qc$$module$js$threejs$three_min.prototype=Object.create(Za$$module$js$threejs$three_min.prototype);
Qc$$module$js$threejs$three_min.prototype.constructor=Qc$$module$js$threejs$three_min;
Qc$$module$js$threejs$three_min.prototype.update=function(a){void 0!==a&&console.warn("THREE.BoxHelper: .update() has no longer arguments.");void 0!==this.object&&bh$$module$js$threejs$three_min.setFromObject(this.object);if(!bh$$module$js$threejs$three_min.isEmpty()){a=bh$$module$js$threejs$three_min.min;var b=bh$$module$js$threejs$three_min.max,c=this.geometry.attributes.position,d=c.array;d[0]=b.x;d[1]=b.y;d[2]=b.z;d[3]=a.x;d[4]=b.y;d[5]=b.z;d[6]=a.x;d[7]=a.y;d[8]=b.z;d[9]=b.x;d[10]=a.y;d[11]=
b.z;d[12]=b.x;d[13]=b.y;d[14]=a.z;d[15]=a.x;d[16]=b.y;d[17]=a.z;d[18]=a.x;d[19]=a.y;d[20]=a.z;d[21]=b.x;d[22]=a.y;d[23]=a.z;c.needsUpdate=!0;this.geometry.computeBoundingSphere()}};Qc$$module$js$threejs$three_min.prototype.setFromObject=function(a){this.object=a;this.update();return this};Qc$$module$js$threejs$three_min.prototype.copy=function(a){Za$$module$js$threejs$three_min.prototype.copy.call(this,a);this.object=a.object;return this};wf$$module$js$threejs$three_min.prototype=Object.create(Za$$module$js$threejs$three_min.prototype);
wf$$module$js$threejs$three_min.prototype.constructor=wf$$module$js$threejs$three_min;wf$$module$js$threejs$three_min.prototype.updateMatrixWorld=function(a){var b=this.box;b.isEmpty()||(b.getCenter(this.position),b.getSize(this.scale),this.scale.multiplyScalar(.5),Za$$module$js$threejs$three_min.prototype.updateMatrixWorld.call(this,a))};xf$$module$js$threejs$three_min.prototype=Object.create(yb$$module$js$threejs$three_min.prototype);xf$$module$js$threejs$three_min.prototype.constructor=xf$$module$js$threejs$three_min;
xf$$module$js$threejs$three_min.prototype.updateMatrixWorld=function(a){var b=-this.plane.constant;1E-8>Math.abs(b)&&(b=1E-8);this.scale.set(.5*this.size,.5*this.size,b);this.children[0].material.side=0>b?1:0;this.lookAt(this.plane.normal);yb$$module$js$threejs$three_min.prototype.updateMatrixWorld.call(this,a)};var ck$$module$js$threejs$three_min=new w$$module$js$threejs$three_min,zg$$module$js$threejs$three_min,Uh$$module$js$threejs$three_min;Rc$$module$js$threejs$three_min.prototype=Object.create(ha$$module$js$threejs$three_min.prototype);
Rc$$module$js$threejs$three_min.prototype.constructor=Rc$$module$js$threejs$three_min;Rc$$module$js$threejs$three_min.prototype.setDirection=function(a){.99999<a.y?this.quaternion.set(0,0,0,1):-.99999>a.y?this.quaternion.set(1,0,0,0):(ck$$module$js$threejs$three_min.set(a.z,0,-a.x).normalize(),this.quaternion.setFromAxisAngle(ck$$module$js$threejs$three_min,Math.acos(a.y)))};
Rc$$module$js$threejs$three_min.prototype.setLength=function(a,b,c){void 0===b&&(b=.2*a);void 0===c&&(c=.2*b);this.line.scale.set(1,Math.max(1E-4,a-b),1);this.line.updateMatrix();this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()};Rc$$module$js$threejs$three_min.prototype.setColor=function(a){this.line.material.color.set(a);this.cone.material.color.set(a)};
Rc$$module$js$threejs$three_min.prototype.copy=function(a){ha$$module$js$threejs$three_min.prototype.copy.call(this,a,!1);this.line.copy(a.line);this.cone.copy(a.cone);return this};yf$$module$js$threejs$three_min.prototype=Object.create(Za$$module$js$threejs$three_min.prototype);yf$$module$js$threejs$three_min.prototype.constructor=yf$$module$js$threejs$three_min;
var gc$$module$js$threejs$three_min=Math.pow(2,8),dk$$module$js$threejs$three_min=[.125,.215,.35,.446,.526,.582],ek$$module$js$threejs$three_min=5+dk$$module$js$threejs$three_min.length,hc$$module$js$threejs$three_min={3E3:0,3001:1,3002:2,3004:3,3005:4,3006:5,3007:6},si$$module$js$threejs$three_min=new he$$module$js$threejs$three_min,ti$$module$js$threejs$three_min=function(){for(var a=[],b=[],c=[],d=8,e=0;e<ek$$module$js$threejs$three_min;e++){var g=Math.pow(2,d);b.push(g);var h=1/g;4<e?h=dk$$module$js$threejs$three_min[e-
8+4-1]:0==e&&(h=0);c.push(h);h=1/(g-1);g=-h/2;h=1+h/2;var k=[g,g,h,g,h,h,g,g,h,h,g,h];g=new Float32Array(108);h=new Float32Array(72);for(var l=new Float32Array(36),m=0;6>m;m++){var n=m%3*2/3-1,p=2<m?0:-1;g.set([n,p,0,n+2/3,p,0,n+2/3,p+1,0,n,p,0,n+2/3,p+1,0,n,p+1,0],18*m);h.set(k,12*m);l.set([m,m,m,m,m,m],6*m)}k=new ka$$module$js$threejs$three_min;k.setAttribute("position",new pa$$module$js$threejs$three_min(g,3));k.setAttribute("uv",new pa$$module$js$threejs$three_min(h,2));k.setAttribute("faceIndex",
new pa$$module$js$threejs$three_min(l,1));a.push(k);4<d&&d--}return{_lodPlanes:a,_sizeLods:b,_sigmas:c}}(),Nf$$module$js$threejs$three_min=ti$$module$js$threejs$three_min._lodPlanes,fk$$module$js$threejs$three_min=ti$$module$js$threejs$three_min._sizeLods,ch$$module$js$threejs$three_min=ti$$module$js$threejs$three_min._sigmas,ui$$module$js$threejs$three_min=null,Bd$$module$js$threejs$three_min=(1+Math.sqrt(5))/2,Be$$module$js$threejs$three_min=1/Bd$$module$js$threejs$three_min,gk$$module$js$threejs$three_min=
[new w$$module$js$threejs$three_min(1,1,1),new w$$module$js$threejs$three_min(-1,1,1),new w$$module$js$threejs$three_min(1,1,-1),new w$$module$js$threejs$three_min(-1,1,-1),new w$$module$js$threejs$three_min(0,Bd$$module$js$threejs$three_min,Be$$module$js$threejs$three_min),new w$$module$js$threejs$three_min(0,Bd$$module$js$threejs$three_min,-Be$$module$js$threejs$three_min),new w$$module$js$threejs$three_min(Be$$module$js$threejs$three_min,0,Bd$$module$js$threejs$three_min),new w$$module$js$threejs$three_min(-Be$$module$js$threejs$three_min,
0,Bd$$module$js$threejs$three_min),new w$$module$js$threejs$three_min(Bd$$module$js$threejs$three_min,Be$$module$js$threejs$three_min,0),new w$$module$js$threejs$three_min(-Bd$$module$js$threejs$three_min,Be$$module$js$threejs$three_min,0)],rb$$module$js$threejs$three_min=function(a){this._renderer=a;this._pingPongRenderTarget=null;a=new Float32Array(20);var b=new w$$module$js$threejs$three_min(0,1,0);this._blurMaterial=new pc$$module$js$threejs$three_min({name:"SphericalGaussianBlur",defines:{n:20},
uniforms:{envMap:{value:null},samples:{value:1},weights:{value:a},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:b},inputEncoding:{value:hc$$module$js$threejs$three_min[3E3]},outputEncoding:{value:hc$$module$js$threejs$three_min[3E3]}},vertexShader:Vh$$module$js$threejs$three_min(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t"+
Wh$$module$js$threejs$three_min()+"\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",
blending:0,depthTest:!1,depthWrite:!1});this._cubemapShader=this._equirectShader=null;this._compileMaterial(this._blurMaterial)};rb$$module$js$threejs$three_min.prototype.fromScene=function(a,b,c,d){void 0===b&&(b=0);void 0===c&&(c=.1);void 0===d&&(d=100);ui$$module$js$threejs$three_min=this._renderer.getRenderTarget();var e=this._allocateTargets();this._sceneToCubeUV(a,c,d,e);0<b&&this._blur(e,0,0,b);this._applyPMREM(e);this._cleanup(e);return e};
rb$$module$js$threejs$three_min.prototype.fromEquirectangular=function(a){return this._fromTexture(a)};rb$$module$js$threejs$three_min.prototype.fromCubemap=function(a){return this._fromTexture(a)};rb$$module$js$threejs$three_min.prototype.compileCubemapShader=function(){null===this._cubemapShader&&(this._cubemapShader=sj$$module$js$threejs$three_min(),this._compileMaterial(this._cubemapShader))};
rb$$module$js$threejs$three_min.prototype.compileEquirectangularShader=function(){null===this._equirectShader&&(this._equirectShader=rj$$module$js$threejs$three_min(),this._compileMaterial(this._equirectShader))};rb$$module$js$threejs$three_min.prototype.dispose=function(){this._blurMaterial.dispose();null!==this._cubemapShader&&this._cubemapShader.dispose();null!==this._equirectShader&&this._equirectShader.dispose();for(var a=0;a<Nf$$module$js$threejs$three_min.length;a++)Nf$$module$js$threejs$three_min[a].dispose()};
rb$$module$js$threejs$three_min.prototype._cleanup=function(a){this._pingPongRenderTarget.dispose();this._renderer.setRenderTarget(ui$$module$js$threejs$three_min);a.scissorTest=!1;Ag$$module$js$threejs$three_min(a,0,0,a.width,a.height)};rb$$module$js$threejs$three_min.prototype._fromTexture=function(a){ui$$module$js$threejs$three_min=this._renderer.getRenderTarget();var b=this._allocateTargets(a);this._textureToCubeUV(a,b);this._applyPMREM(b);this._cleanup(b);return b};
rb$$module$js$threejs$three_min.prototype._allocateTargets=function(a){var b=void 0===a||1009!==a.type?!1:3E3===a.encoding||3001===a.encoding||3007===a.encoding;b={magFilter:1003,minFilter:1003,generateMipmaps:!1,type:1009,format:1023,encoding:b?a.encoding:3002,depthBuffer:!1};var c=qj$$module$js$threejs$three_min(b);c.depthBuffer=a?!1:!0;this._pingPongRenderTarget=qj$$module$js$threejs$three_min(b);return c};
rb$$module$js$threejs$three_min.prototype._compileMaterial=function(a){a=new Qa$$module$js$threejs$three_min(Nf$$module$js$threejs$three_min[0],a);this._renderer.compile(a,si$$module$js$threejs$three_min)};
rb$$module$js$threejs$three_min.prototype._sceneToCubeUV=function(a,b,c,d){b=new eb$$module$js$threejs$three_min(90,1,b,c);c=[1,-1,1,1,1,1];var e=[1,1,1,-1,-1,-1],g=this._renderer,h=g.outputEncoding,k=g.toneMapping,l=g.getClearColor(),m=g.getClearAlpha();g.toneMapping=0;g.outputEncoding=3E3;var n=a.background;if(n&&n.isColor){n.convertSRGBToLinear();var p=Math.min(Math.max(Math.ceil(Math.log2(Math.max(n.r,n.g,n.b))),-128),127);n=n.multiplyScalar(Math.pow(2,-p));g.setClearColor(n,(p+128)/255);a.background=
null}for(n=0;6>n;n++)p=n%3,0==p?(b.up.set(0,c[n],0),b.lookAt(e[n],0,0)):1==p?(b.up.set(0,0,c[n]),b.lookAt(0,e[n],0)):(b.up.set(0,c[n],0),b.lookAt(0,0,e[n])),Ag$$module$js$threejs$three_min(d,p*gc$$module$js$threejs$three_min,2<n?gc$$module$js$threejs$three_min:0,gc$$module$js$threejs$three_min,gc$$module$js$threejs$three_min),g.setRenderTarget(d),g.render(a,b);g.toneMapping=k;g.outputEncoding=h;g.setClearColor(l,m)};
rb$$module$js$threejs$three_min.prototype._textureToCubeUV=function(a,b){var c=this._renderer;a.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=sj$$module$js$threejs$three_min()):null==this._equirectShader&&(this._equirectShader=rj$$module$js$threejs$three_min());var d=a.isCubeTexture?this._cubemapShader:this._equirectShader,e=new Qa$$module$js$threejs$three_min(Nf$$module$js$threejs$three_min[0],d);d=d.uniforms;d.envMap.value=a;a.isCubeTexture||d.texelSize.value.set(1/a.image.width,
1/a.image.height);d.inputEncoding.value=hc$$module$js$threejs$three_min[a.encoding];d.outputEncoding.value=hc$$module$js$threejs$three_min[b.texture.encoding];Ag$$module$js$threejs$three_min(b,0,0,3*gc$$module$js$threejs$three_min,2*gc$$module$js$threejs$three_min);c.setRenderTarget(b);c.render(e,si$$module$js$threejs$three_min)};
rb$$module$js$threejs$three_min.prototype._applyPMREM=function(a){var b=this._renderer,c=b.autoClear;b.autoClear=!1;for(var d=1;d<ek$$module$js$threejs$three_min;d++)this._blur(a,d-1,d,Math.sqrt(ch$$module$js$threejs$three_min[d]*ch$$module$js$threejs$three_min[d]-ch$$module$js$threejs$three_min[d-1]*ch$$module$js$threejs$three_min[d-1]),gk$$module$js$threejs$three_min[(d-1)%gk$$module$js$threejs$three_min.length]);b.autoClear=c};
rb$$module$js$threejs$three_min.prototype._blur=function(a,b,c,d,e){var g=this._pingPongRenderTarget;this._halfBlur(a,g,b,c,d,"latitudinal",e);this._halfBlur(g,a,c,c,d,"longitudinal",e)};
rb$$module$js$threejs$three_min.prototype._halfBlur=function(a,b,c,d,e,g,h){var k=this._renderer,l=this._blurMaterial;"latitudinal"!==g&&"longitudinal"!==g&&console.error("blur direction must be either latitudinal or longitudinal!");var m=new Qa$$module$js$threejs$three_min(Nf$$module$js$threejs$three_min[d],l);l=l.uniforms;var n=fk$$module$js$threejs$three_min[c]-1;n=isFinite(e)?Math.PI/(2*n):2*Math.PI/39;var p=e/n,t=isFinite(e)?1+Math.floor(3*p):20;20<t&&console.warn("sigmaRadians, "+e+", is too large and will clip, as it requested "+
t+" samples when the maximum is set to 20");e=[];for(var w=0,x=0;20>x;++x){var A=x/p;A=Math.exp(-A*A/2);e.push(A);0==x?w+=A:x<t&&(w+=2*A)}for(p=0;p<e.length;p++)e[p]/=w;l.envMap.value=a.texture;l.samples.value=t;l.weights.value=e;l.latitudinal.value="latitudinal"===g;h&&(l.poleAxis.value=h);l.dTheta.value=n;l.mipInt.value=8-c;l.inputEncoding.value=hc$$module$js$threejs$three_min[a.texture.encoding];l.outputEncoding.value=hc$$module$js$threejs$three_min[a.texture.encoding];a=fk$$module$js$threejs$three_min[d];
Ag$$module$js$threejs$three_min(b,3*Math.max(0,gc$$module$js$threejs$three_min-2*a),(0===d?0:2*gc$$module$js$threejs$three_min)+2*a*(4<d?d-8+4:0),3*a,2*a);k.setRenderTarget(b);k.render(m,si$$module$js$threejs$three_min)};oa$$module$js$threejs$three_min.create=function(a,b){console.log("THREE.Curve.create() has been deprecated");a.prototype=Object.create(oa$$module$js$threejs$three_min.prototype);a.prototype.constructor=a;a.prototype.getPoint=b;return a};
Object.assign(qc$$module$js$threejs$three_min.prototype,{createPointsGeometry:function(a){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");a=this.getPoints(a);return this.createGeometry(a)},createSpacedPointsGeometry:function(a){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");a=this.getSpacedPoints(a);return this.createGeometry(a)},
createGeometry:function(a){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var b=new sa$$module$js$threejs$three_min,c=0,d=a.length;c<d;c++){var e=a[c];b.vertices.push(new w$$module$js$threejs$three_min(e.x,e.y,e.z||0))}return b}});Object.assign(Wb$$module$js$threejs$three_min.prototype,{fromPoints:function(a){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints().");return this.setFromPoints(a)}});
tj$$module$js$threejs$three_min.prototype=Object.create(ob$$module$js$threejs$three_min.prototype);uj$$module$js$threejs$three_min.prototype=Object.create(ob$$module$js$threejs$three_min.prototype);Xh$$module$js$threejs$three_min.prototype=Object.create(ob$$module$js$threejs$three_min.prototype);
Object.assign(Xh$$module$js$threejs$three_min.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});uf$$module$js$threejs$three_min.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};
ke$$module$js$threejs$three_min.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Object.assign(Ma$$module$js$threejs$three_min.prototype,{extractUrlBase:function(a){console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.");return qi$$module$js$threejs$three_min.extractUrlBase(a)}});
Ma$$module$js$threejs$three_min.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Object.assign(vg$$module$js$threejs$three_min.prototype,{setTexturePath:function(a){console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().");return this.setResourcePath(a)}});
Object.assign($a$$module$js$threejs$three_min.prototype,{center:function(a){console.warn("THREE.Box2: .center() has been renamed to .getCenter().");return this.getCenter(a)},empty:function(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},size:function(a){console.warn("THREE.Box2: .size() has been renamed to .getSize().");
return this.getSize(a)}});
Object.assign(za$$module$js$threejs$three_min.prototype,{center:function(a){console.warn("THREE.Box3: .center() has been renamed to .getCenter().");return this.getCenter(a)},empty:function(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionSphere:function(a){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)},
size:function(a){console.warn("THREE.Box3: .size() has been renamed to .getSize().");return this.getSize(a)}});Object.assign(Wa$$module$js$threejs$three_min.prototype,{empty:function(){console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty().");return this.isEmpty()}});xb$$module$js$threejs$three_min.prototype.setFromMatrix=function(a){console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().");return this.setFromProjectionMatrix(a)};
Cb$$module$js$threejs$three_min.prototype.center=function(a){console.warn("THREE.Line3: .center() has been renamed to .getCenter().");return this.getCenter(a)};
Object.assign(xa$$module$js$threejs$three_min,{random16:function(){console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead.");return Math.random()},nearestPowerOfTwo:function(a){console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().");return xa$$module$js$threejs$three_min.floorPowerOfTwo(a)},nextPowerOfTwo:function(a){console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().");return xa$$module$js$threejs$three_min.ceilPowerOfTwo(a)}});
Object.assign(Da$$module$js$threejs$three_min.prototype,{flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},multiplyVector3:function(a){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return a.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(a){console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.");
return a.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});
Object.assign(da$$module$js$threejs$three_min.prototype,{extractPosition:function(a){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");return this.copyPosition(a)},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},getPosition:function(){console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");return(new w$$module$js$threejs$three_min).setFromMatrixColumn(this,
3)},setRotationFromQuaternion:function(a){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return this.makeRotationFromQuaternion(a)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(a){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector4:function(a){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");
return a.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");a.transformDirection(this)},crossVector:function(a){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},
rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(a){console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},
applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(a,b,c,d,e,g){console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.");return this.makePerspective(a,b,d,c,e,g)}});Na$$module$js$threejs$three_min.prototype.isIntersectionLine=function(a){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");return this.intersectsLine(a)};
ua$$module$js$threejs$three_min.prototype.multiplyVector3=function(a){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return a.applyQuaternion(this)};
Object.assign(Ta$$module$js$threejs$three_min.prototype,{isIntersectionBox:function(a){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionPlane:function(a){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");return this.intersectsPlane(a)},isIntersectionSphere:function(a){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});
Object.assign(Ga$$module$js$threejs$three_min.prototype,{area:function(){console.warn("THREE.Triangle: .area() has been renamed to .getArea().");return this.getArea()},barycoordFromPoint:function(a,b){console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().");return this.getBarycoord(a,b)},midpoint:function(a){console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint().");return this.getMidpoint(a)},normal:function(a){console.warn("THREE.Triangle: .normal() has been renamed to .getNormal().");
return this.getNormal(a)},plane:function(a){console.warn("THREE.Triangle: .plane() has been renamed to .getPlane().");return this.getPlane(a)}});
Object.assign(Ga$$module$js$threejs$three_min,{barycoordFromPoint:function(a,b,c,d,e){console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().");return Ga$$module$js$threejs$three_min.getBarycoord(a,b,c,d,e)},normal:function(a,b,c,d){console.warn("THREE.Triangle: .normal() has been renamed to .getNormal().");return Ga$$module$js$threejs$three_min.getNormal(a,b,c,d)}});
Object.assign(Pc$$module$js$threejs$three_min.prototype,{extractAllPoints:function(a){console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.");return this.extractPoints(a)},extrude:function(a){console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.");return new hd$$module$js$threejs$three_min(this,a)},makeGeometry:function(a){console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.");return new jd$$module$js$threejs$three_min(this,
a)}});
Object.assign(L$$module$js$threejs$three_min.prototype,{fromAttribute:function(a,b,c){console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},distanceToManhattan:function(a){console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().");return this.manhattanDistanceTo(a)},lengthManhattan:function(){console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});
Object.assign(w$$module$js$threejs$three_min.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(a){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");
return this.setFromMatrixPosition(a)},getScaleFromMatrix:function(a){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");return this.setFromMatrixScale(a)},getColumnFromMatrix:function(a,b){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return this.setFromMatrixColumn(b,a)},applyProjection:function(a){console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.");return this.applyMatrix4(a)},
fromAttribute:function(a,b,c){console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},distanceToManhattan:function(a){console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().");return this.manhattanDistanceTo(a)},lengthManhattan:function(){console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});
Object.assign(ca$$module$js$threejs$three_min.prototype,{fromAttribute:function(a,b,c){console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},lengthManhattan:function(){console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});
Object.assign(sa$$module$js$threejs$three_min.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(a){console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4().");return this.applyMatrix4(a)}});
Object.assign(ha$$module$js$threejs$three_min.prototype,{getChildByName:function(a){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(a)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(a,b){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(b,a)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},
applyMatrix:function(a){console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().");return this.applyMatrix4(a)}});
Object.defineProperties(ha$$module$js$threejs$three_min.prototype,{eulerOrder:{get:function(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=a}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});
Object.assign(Qa$$module$js$threejs$three_min.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});
Object.defineProperties(Qa$$module$js$threejs$three_min.prototype,{drawMode:{get:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.");return 0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});
Object.defineProperties(Se$$module$js$threejs$three_min.prototype,{objects:{get:function(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}});Object.defineProperty(Yf$$module$js$threejs$three_min.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});Xf$$module$js$threejs$three_min.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};
Object.defineProperty(oa$$module$js$threejs$three_min.prototype,"__arcLengthDivisions",{get:function(){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");return this.arcLengthDivisions},set:function(a){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");this.arcLengthDivisions=a}});
eb$$module$js$threejs$three_min.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");void 0!==b&&(this.filmGauge=b);this.setFocalLength(a)};
Object.defineProperties(Sa$$module$js$threejs$three_min.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");
this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");
this.shadow.camera.far=a}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=a}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");
this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=a}}});
Object.defineProperties(pa$$module$js$threejs$three_min.prototype,{length:{get:function(){console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead.");return this.array.length}},dynamic:{get:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.");return 35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.");this.setUsage(35048)}}});
Object.assign(pa$$module$js$threejs$three_min.prototype,{setDynamic:function(a){console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.");this.setUsage(!0===a?35048:35044);return this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});
Object.assign(ka$$module$js$threejs$three_min.prototype,{addIndex:function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(a)},addAttribute:function(a,b,c){console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().");return b&&b.isBufferAttribute||b&&b.isInterleavedBufferAttribute?"index"===a?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(b),this):this.setAttribute(a,
b):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(a,new pa$$module$js$threejs$three_min(b,c)))},addDrawCall:function(a,b,c){void 0!==c&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(a,b)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},
computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(a){console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().");return this.deleteAttribute(a)},applyMatrix:function(a){console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().");return this.applyMatrix4(a)}});
Object.defineProperties(ka$$module$js$threejs$three_min.prototype,{drawcalls:{get:function(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");return this.groups}},offsets:{get:function(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}}});
Object.defineProperties(sf$$module$js$threejs$three_min.prototype,{maxInstancedCount:{get:function(){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.");return this.instanceCount},set:function(a){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.");this.instanceCount=a}}});
Object.defineProperties(Sh$$module$js$threejs$three_min.prototype,{linePrecision:{get:function(){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.");return this.params.Line.threshold},set:function(a){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.");this.params.Line.threshold=a}}});
Object.defineProperties(Gb$$module$js$threejs$three_min.prototype,{dynamic:{get:function(){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.");return 35048===this.usage},set:function(a){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.");this.setUsage(a)}}});
Object.assign(Gb$$module$js$threejs$three_min.prototype,{setDynamic:function(a){console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.");this.setUsage(!0===a?35048:35044);return this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});
Object.assign(bc$$module$js$threejs$three_min.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.assign(Jc$$module$js$threejs$three_min.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}});
Object.defineProperties(Yg$$module$js$threejs$three_min.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.");return this}}});
Object.defineProperties(ra$$module$js$threejs$three_min.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){console.warn("THREE.Material: .wrapRGB has been removed.");return new S$$module$js$threejs$three_min}},
shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(a){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.");this.flatShading=1===a}},stencilMask:{get:function(){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead.");return this.stencilFuncMask},set:function(a){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead.");
this.stencilFuncMask=a}}});Object.defineProperties(Oc$$module$js$threejs$three_min.prototype,{metal:{get:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");return!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});
Object.defineProperties(Nc$$module$js$threejs$three_min.prototype,{transparency:{get:function(){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.");return this.transmission},set:function(a){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.");this.transmission=a}}});
Object.defineProperties(sb$$module$js$threejs$three_min.prototype,{derivatives:{get:function(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=a}}});
Object.assign(Ne$$module$js$threejs$three_min.prototype,{clearTarget:function(a,b,c,d){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.");this.setRenderTarget(a);this.clear(b,c,d)},animate:function(a){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop().");this.setAnimationLoop(a)},getCurrentRenderTarget:function(){console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().");return this.getRenderTarget()},
getMaxAnisotropy:function(){console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().");return this.capabilities.getMaxAnisotropy()},getPrecision:function(){console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.");return this.capabilities.precision},resetGLState:function(){console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset().");return this.state.reset()},supportsFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");
return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");
return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.");
return this.capabilities.vertexTextures},supportsInstancedArrays:function(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");this.setScissorTest(a)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},
addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},
setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().");return this.getActiveMipmapLevel()}});
Object.defineProperties(Ne$$module$js$threejs$three_min.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=a}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},
set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.");return this.getContext()}},vr:{get:function(){console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr");return this.xr}},gammaInput:{get:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.");
return!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.");return!1},set:function(a){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.");this.outputEncoding=!0===a?3001:3E3}},toneMappingWhitePoint:{get:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.");
return 1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});
Object.defineProperties(Ui$$module$js$threejs$three_min.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},
renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});
Object.defineProperties(Db$$module$js$threejs$three_min.prototype,{wrapS:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");this.texture.wrapS=a}},wrapT:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");
this.texture.wrapT=a}},magFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=a}},minFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");
this.texture.minFilter=a}},anisotropy:{get:function(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=a}},offset:{get:function(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");
this.texture.offset=a}},repeat:{get:function(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=a}},format:{get:function(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");return this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=a}},type:{get:function(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");
return this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=a}},generateMipmaps:{get:function(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=a}}});
Object.defineProperties(Ja$$module$js$threejs$three_min.prototype,{load:{value:function(a){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var b=this;(new wg$$module$js$threejs$three_min).load(a,function(c){b.setBuffer(c)});return this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}});
Xg$$module$js$threejs$three_min.prototype.getData=function(){console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");return this.getFrequencyData()};Hd$$module$js$threejs$three_min.prototype.updateCubeMap=function(a,b){console.warn("THREE.CubeCamera: .updateCubeMap() is now .update().");return this.update(a,b)};Sc$$module$js$threejs$three_min.crossOrigin=void 0;
Sc$$module$js$threejs$three_min.loadTexture=function(a,b,c,d){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var e=new lg$$module$js$threejs$three_min;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a};
Sc$$module$js$threejs$three_min.loadTextureCube=function(a,b,c,d){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var e=new jg$$module$js$threejs$three_min;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a};Sc$$module$js$threejs$three_min.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};
Sc$$module$js$threejs$three_min.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"120"}}));r$$module$js$threejs$three_min.ACESFilmicToneMapping=4;r$$module$js$threejs$three_min.AddEquation=100;r$$module$js$threejs$three_min.AddOperation=2;
r$$module$js$threejs$three_min.AdditiveAnimationBlendMode=2501;r$$module$js$threejs$three_min.AdditiveBlending=2;r$$module$js$threejs$three_min.AlphaFormat=1021;r$$module$js$threejs$three_min.AlwaysDepth=1;r$$module$js$threejs$three_min.AlwaysStencilFunc=519;r$$module$js$threejs$three_min.AmbientLight=qg$$module$js$threejs$three_min;r$$module$js$threejs$three_min.AmbientLightProbe=Mh$$module$js$threejs$three_min;r$$module$js$threejs$three_min.AnimationClip=Mb$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.AnimationLoader=Bh$$module$js$threejs$three_min;r$$module$js$threejs$three_min.AnimationMixer=Ph$$module$js$threejs$three_min;r$$module$js$threejs$three_min.AnimationObjectGroup=nj$$module$js$threejs$three_min;r$$module$js$threejs$three_min.AnimationUtils=Va$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ArcCurve=ge$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ArrayCamera=Tf$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.ArrowHelper=Rc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Audio=Ja$$module$js$threejs$three_min;r$$module$js$threejs$three_min.AudioAnalyser=Xg$$module$js$threejs$three_min;r$$module$js$threejs$three_min.AudioContext=Nh$$module$js$threejs$three_min;r$$module$js$threejs$three_min.AudioListener=Xb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.AudioLoader=wg$$module$js$threejs$three_min;r$$module$js$threejs$three_min.AxesHelper=yf$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.AxisHelper=function(a){console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper.");return new yf$$module$js$threejs$three_min(a)};r$$module$js$threejs$three_min.BackSide=1;r$$module$js$threejs$three_min.BasicDepthPacking=3200;r$$module$js$threejs$three_min.BasicShadowMap=0;r$$module$js$threejs$three_min.BinaryTextureLoader=function(a){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.");return new kg$$module$js$threejs$three_min(a)};
r$$module$js$threejs$three_min.Bone=uh$$module$js$threejs$three_min;r$$module$js$threejs$three_min.BooleanKeyframeTrack=fg$$module$js$threejs$three_min;r$$module$js$threejs$three_min.BoundingBoxHelper=function(a,b){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.");return new Qc$$module$js$threejs$three_min(a,b)};r$$module$js$threejs$three_min.Box2=$a$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Box3=za$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.Box3Helper=wf$$module$js$threejs$three_min;r$$module$js$threejs$three_min.BoxBufferGeometry=Bc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.BoxGeometry=Fd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.BoxHelper=Qc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.BufferAttribute=pa$$module$js$threejs$three_min;r$$module$js$threejs$three_min.BufferGeometry=ka$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.BufferGeometryLoader=ug$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ByteType=1010;r$$module$js$threejs$three_min.Cache=vd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Camera=ac$$module$js$threejs$three_min;r$$module$js$threejs$three_min.CameraHelper=vf$$module$js$threejs$three_min;r$$module$js$threejs$three_min.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")};
r$$module$js$threejs$three_min.CanvasTexture=Te$$module$js$threejs$three_min;r$$module$js$threejs$three_min.CatmullRomCurve3=ob$$module$js$threejs$three_min;r$$module$js$threejs$three_min.CineonToneMapping=3;r$$module$js$threejs$three_min.CircleBufferGeometry=ce$$module$js$threejs$three_min;r$$module$js$threejs$three_min.CircleGeometry=nf$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ClampToEdgeWrapping=1001;r$$module$js$threejs$three_min.Clock=ie$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.ClosedSplineCurve3=tj$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Color=S$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ColorKeyframeTrack=gg$$module$js$threejs$three_min;r$$module$js$threejs$three_min.CompressedTexture=Qd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.CompressedTextureLoader=Ch$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ConeBufferGeometry=mf$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.ConeGeometry=lf$$module$js$threejs$three_min;r$$module$js$threejs$three_min.CubeCamera=Hd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.CubeGeometry=Fd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.CubeReflectionMapping=301;r$$module$js$threejs$three_min.CubeRefractionMapping=302;r$$module$js$threejs$three_min.CubeTexture=kc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.CubeTextureLoader=jg$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.CubeUVReflectionMapping=306;r$$module$js$threejs$three_min.CubeUVRefractionMapping=307;r$$module$js$threejs$three_min.CubicBezierCurve=Sb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.CubicBezierCurve3=dc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.CubicInterpolant=dg$$module$js$threejs$three_min;r$$module$js$threejs$three_min.CullFaceBack=1;r$$module$js$threejs$three_min.CullFaceFront=2;
r$$module$js$threejs$three_min.CullFaceFrontBack=3;r$$module$js$threejs$three_min.CullFaceNone=0;r$$module$js$threejs$three_min.Curve=oa$$module$js$threejs$three_min;r$$module$js$threejs$three_min.CurvePath=qc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.CustomBlending=5;r$$module$js$threejs$three_min.CustomToneMapping=5;r$$module$js$threejs$three_min.CylinderBufferGeometry=oc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.CylinderGeometry=ld$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.Cylindrical=Ae$$module$js$threejs$three_min;r$$module$js$threejs$three_min.DataTexture=bd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.DataTexture2DArray=Id$$module$js$threejs$three_min;r$$module$js$threejs$three_min.DataTexture3D=Jd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.DataTextureLoader=kg$$module$js$threejs$three_min;r$$module$js$threejs$three_min.DecrementStencilOp=7683;r$$module$js$threejs$three_min.DecrementWrapStencilOp=34056;
r$$module$js$threejs$three_min.DefaultLoadingManager=jj$$module$js$threejs$three_min;r$$module$js$threejs$three_min.DepthFormat=1026;r$$module$js$threejs$three_min.DepthStencilFormat=1027;r$$module$js$threejs$three_min.DepthTexture=Ue$$module$js$threejs$three_min;r$$module$js$threejs$three_min.DirectionalLight=pg$$module$js$threejs$three_min;r$$module$js$threejs$three_min.DirectionalLightHelper=ne$$module$js$threejs$three_min;r$$module$js$threejs$three_min.DiscreteInterpolant=eg$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.DodecahedronBufferGeometry=Vd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.DodecahedronGeometry=$e$$module$js$threejs$three_min;r$$module$js$threejs$three_min.DoubleSide=2;r$$module$js$threejs$three_min.DstAlphaFactor=206;r$$module$js$threejs$three_min.DstColorFactor=208;
r$$module$js$threejs$three_min.DynamicBufferAttribute=function(a,b){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.");return(new pa$$module$js$threejs$three_min(a,b)).setUsage(35048)};r$$module$js$threejs$three_min.DynamicCopyUsage=35050;r$$module$js$threejs$three_min.DynamicDrawUsage=35048;r$$module$js$threejs$three_min.DynamicReadUsage=35049;r$$module$js$threejs$three_min.EdgesGeometry=be$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.EdgesHelper=function(a,b){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.");return new Za$$module$js$threejs$three_min(new be$$module$js$threejs$three_min(a.geometry),new Ya$$module$js$threejs$three_min({color:void 0!==b?b:16777215}))};r$$module$js$threejs$three_min.EllipseCurve=Ib$$module$js$threejs$three_min;r$$module$js$threejs$three_min.EqualDepth=4;r$$module$js$threejs$three_min.EqualStencilFunc=514;
r$$module$js$threejs$three_min.EquirectangularReflectionMapping=303;r$$module$js$threejs$three_min.EquirectangularRefractionMapping=304;r$$module$js$threejs$three_min.Euler=hb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.EventDispatcher=wb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ExtrudeBufferGeometry=bc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ExtrudeGeometry=hd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Face3=ad$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.Face4=function(a,b,c,d,e,g,h){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new ad$$module$js$threejs$three_min(a,b,c,e,g,h)};r$$module$js$threejs$three_min.FaceColors=1;r$$module$js$threejs$three_min.FileLoader=Nb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.FlatShading=1;
r$$module$js$threejs$three_min.Float32Attribute=function(a,b){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.");return new ea$$module$js$threejs$three_min(a,b)};r$$module$js$threejs$three_min.Float32BufferAttribute=ea$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.Float64Attribute=function(a,b){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.");return new He$$module$js$threejs$three_min(a,b)};r$$module$js$threejs$three_min.Float64BufferAttribute=He$$module$js$threejs$three_min;r$$module$js$threejs$three_min.FloatType=1015;r$$module$js$threejs$three_min.Fog=Hf$$module$js$threejs$three_min;r$$module$js$threejs$three_min.FogExp2=Gf$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.Font=Jh$$module$js$threejs$three_min;r$$module$js$threejs$three_min.FontLoader=Kh$$module$js$threejs$three_min;r$$module$js$threejs$three_min.FrontSide=0;r$$module$js$threejs$three_min.Frustum=xb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.GLBufferAttribute=Rh$$module$js$threejs$three_min;r$$module$js$threejs$three_min.GLSL1="100";r$$module$js$threejs$three_min.GLSL3="300 es";r$$module$js$threejs$three_min.GammaEncoding=3007;
r$$module$js$threejs$three_min.Geometry=sa$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.GeometryUtils={merge:function(a,b,c){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");if(b.isMesh){b.matrixAutoUpdate&&b.updateMatrix();var d=b.matrix;b=b.geometry}a.merge(b,d,c)},center:function(a){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return a.center()}};r$$module$js$threejs$three_min.GreaterDepth=6;
r$$module$js$threejs$three_min.GreaterEqualDepth=5;r$$module$js$threejs$three_min.GreaterEqualStencilFunc=518;r$$module$js$threejs$three_min.GreaterStencilFunc=516;r$$module$js$threejs$three_min.GridHelper=uf$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Group=Gc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.HalfFloatType=1016;r$$module$js$threejs$three_min.HemisphereLight=mg$$module$js$threejs$three_min;r$$module$js$threejs$three_min.HemisphereLightHelper=me$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.HemisphereLightProbe=Lh$$module$js$threejs$three_min;r$$module$js$threejs$three_min.IcosahedronBufferGeometry=Ud$$module$js$threejs$three_min;r$$module$js$threejs$three_min.IcosahedronGeometry=Ze$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ImageBitmapLoader=Hh$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ImageLoader=fe$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ImageUtils=Sc$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.ImmediateRenderObject=tf$$module$js$threejs$three_min;r$$module$js$threejs$three_min.IncrementStencilOp=7682;r$$module$js$threejs$three_min.IncrementWrapStencilOp=34055;r$$module$js$threejs$three_min.InstancedBufferAttribute=tg$$module$js$threejs$three_min;r$$module$js$threejs$three_min.InstancedBufferGeometry=sf$$module$js$threejs$three_min;r$$module$js$threejs$three_min.InstancedInterleavedBuffer=Qh$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.InstancedMesh=Zf$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Int16Attribute=function(a,b){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.");return new Fe$$module$js$threejs$three_min(a,b)};r$$module$js$threejs$three_min.Int16BufferAttribute=Fe$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.Int32Attribute=function(a,b){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.");return new Ge$$module$js$threejs$three_min(a,b)};r$$module$js$threejs$three_min.Int32BufferAttribute=Ge$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Int8Attribute=function(a,b){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.");return new Ce$$module$js$threejs$three_min(a,b)};
r$$module$js$threejs$three_min.Int8BufferAttribute=Ce$$module$js$threejs$three_min;r$$module$js$threejs$three_min.IntType=1013;r$$module$js$threejs$three_min.InterleavedBuffer=Gb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.InterleavedBufferAttribute=Kc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Interpolant=Hb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.InterpolateDiscrete=2300;r$$module$js$threejs$three_min.InterpolateLinear=2301;
r$$module$js$threejs$three_min.InterpolateSmooth=2302;r$$module$js$threejs$three_min.InvertStencilOp=5386;r$$module$js$threejs$three_min.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")};r$$module$js$threejs$three_min.KeepStencilOp=7680;r$$module$js$threejs$three_min.KeyframeTrack=lb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.LOD=Se$$module$js$threejs$three_min;r$$module$js$threejs$three_min.LatheBufferGeometry=ae$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.LatheGeometry=kf$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Layers=$b$$module$js$threejs$three_min;r$$module$js$threejs$three_min.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")};r$$module$js$threejs$three_min.LessDepth=2;r$$module$js$threejs$three_min.LessEqualDepth=3;r$$module$js$threejs$three_min.LessEqualStencilFunc=515;r$$module$js$threejs$three_min.LessStencilFunc=513;
r$$module$js$threejs$three_min.Light=Sa$$module$js$threejs$three_min;r$$module$js$threejs$three_min.LightProbe=Ob$$module$js$threejs$three_min;r$$module$js$threejs$three_min.LightShadow=fc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Line=yb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Line3=Cb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.LineBasicMaterial=Ya$$module$js$threejs$three_min;r$$module$js$threejs$three_min.LineCurve=Ab$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.LineCurve3=Tb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.LineDashedMaterial=rd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.LineLoop=$f$$module$js$threejs$three_min;r$$module$js$threejs$three_min.LinePieces=1;r$$module$js$threejs$three_min.LineSegments=Za$$module$js$threejs$three_min;r$$module$js$threejs$three_min.LineStrip=0;r$$module$js$threejs$three_min.LinearEncoding=3E3;r$$module$js$threejs$three_min.LinearFilter=1006;
r$$module$js$threejs$three_min.LinearInterpolant=of$$module$js$threejs$three_min;r$$module$js$threejs$three_min.LinearMipMapLinearFilter=1008;r$$module$js$threejs$three_min.LinearMipMapNearestFilter=1007;r$$module$js$threejs$three_min.LinearMipmapLinearFilter=1008;r$$module$js$threejs$three_min.LinearMipmapNearestFilter=1007;r$$module$js$threejs$three_min.LinearToneMapping=1;r$$module$js$threejs$three_min.Loader=Ma$$module$js$threejs$three_min;r$$module$js$threejs$three_min.LoaderUtils=qi$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.LoadingManager=Ah$$module$js$threejs$three_min;r$$module$js$threejs$three_min.LogLuvEncoding=3003;r$$module$js$threejs$three_min.LoopOnce=2200;r$$module$js$threejs$three_min.LoopPingPong=2202;r$$module$js$threejs$three_min.LoopRepeat=2201;r$$module$js$threejs$three_min.LuminanceAlphaFormat=1025;r$$module$js$threejs$three_min.LuminanceFormat=1024;r$$module$js$threejs$three_min.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2};
r$$module$js$threejs$three_min.Material=ra$$module$js$threejs$three_min;r$$module$js$threejs$three_min.MaterialLoader=sg$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Math=xa$$module$js$threejs$three_min;r$$module$js$threejs$three_min.MathUtils=xa$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Matrix3=Da$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Matrix4=da$$module$js$threejs$three_min;r$$module$js$threejs$three_min.MaxEquation=104;
r$$module$js$threejs$three_min.Mesh=Qa$$module$js$threejs$three_min;r$$module$js$threejs$three_min.MeshBasicMaterial=Kb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.MeshDepthMaterial=Ec$$module$js$threejs$three_min;r$$module$js$threejs$three_min.MeshDistanceMaterial=Fc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.MeshFaceMaterial=function(a){console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead.");return a};
r$$module$js$threejs$three_min.MeshLambertMaterial=pd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.MeshMatcapMaterial=qd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.MeshNormalMaterial=od$$module$js$threejs$three_min;r$$module$js$threejs$three_min.MeshPhongMaterial=Oc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.MeshPhysicalMaterial=Nc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.MeshStandardMaterial=cc$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.MeshToonMaterial=nd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.MinEquation=103;r$$module$js$threejs$three_min.MirroredRepeatWrapping=1002;r$$module$js$threejs$three_min.MixOperation=1;r$$module$js$threejs$three_min.MultiMaterial=function(a){void 0===a&&(a=[]);console.warn("THREE.MultiMaterial has been removed. Use an Array instead.");a.isMultiMaterial=!0;a.materials=a;a.clone=function(){return a.slice()};return a};
r$$module$js$threejs$three_min.MultiplyBlending=4;r$$module$js$threejs$three_min.MultiplyOperation=0;r$$module$js$threejs$three_min.NearestFilter=1003;r$$module$js$threejs$three_min.NearestMipMapLinearFilter=1005;r$$module$js$threejs$three_min.NearestMipMapNearestFilter=1004;r$$module$js$threejs$three_min.NearestMipmapLinearFilter=1005;r$$module$js$threejs$three_min.NearestMipmapNearestFilter=1004;r$$module$js$threejs$three_min.NeverDepth=0;r$$module$js$threejs$three_min.NeverStencilFunc=512;
r$$module$js$threejs$three_min.NoBlending=0;r$$module$js$threejs$three_min.NoColors=0;r$$module$js$threejs$three_min.NoToneMapping=0;r$$module$js$threejs$three_min.NormalAnimationBlendMode=2500;r$$module$js$threejs$three_min.NormalBlending=1;r$$module$js$threejs$three_min.NotEqualDepth=7;r$$module$js$threejs$three_min.NotEqualStencilFunc=517;r$$module$js$threejs$three_min.NumberKeyframeTrack=de$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Object3D=ha$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.ObjectLoader=vg$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ObjectSpaceNormalMap=1;r$$module$js$threejs$three_min.OctahedronBufferGeometry=fd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.OctahedronGeometry=Ye$$module$js$threejs$three_min;r$$module$js$threejs$three_min.OneFactor=201;r$$module$js$threejs$three_min.OneMinusDstAlphaFactor=207;r$$module$js$threejs$three_min.OneMinusDstColorFactor=209;
r$$module$js$threejs$three_min.OneMinusSrcAlphaFactor=205;r$$module$js$threejs$three_min.OneMinusSrcColorFactor=203;r$$module$js$threejs$three_min.OrthographicCamera=he$$module$js$threejs$three_min;r$$module$js$threejs$three_min.PCFShadowMap=1;r$$module$js$threejs$three_min.PCFSoftShadowMap=2;r$$module$js$threejs$three_min.PMREMGenerator=rb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ParametricBufferGeometry=Sd$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.ParametricGeometry=Ve$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Particle=function(a){console.warn("THREE.Particle has been renamed to THREE.Sprite.");return new Qe$$module$js$threejs$three_min(a)};r$$module$js$threejs$three_min.ParticleBasicMaterial=function(a){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");return new Rb$$module$js$threejs$three_min(a)};
r$$module$js$threejs$three_min.ParticleSystem=function(a,b){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");return new Pd$$module$js$threejs$three_min(a,b)};r$$module$js$threejs$three_min.ParticleSystemMaterial=function(a){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");return new Rb$$module$js$threejs$three_min(a)};r$$module$js$threejs$three_min.Path=Wb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.PerspectiveCamera=eb$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.Plane=Na$$module$js$threejs$three_min;r$$module$js$threejs$three_min.PlaneBufferGeometry=cd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.PlaneGeometry=Je$$module$js$threejs$three_min;r$$module$js$threejs$three_min.PlaneHelper=xf$$module$js$threejs$three_min;r$$module$js$threejs$three_min.PointCloud=function(a,b){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new Pd$$module$js$threejs$three_min(a,b)};
r$$module$js$threejs$three_min.PointCloudMaterial=function(a){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");return new Rb$$module$js$threejs$three_min(a)};r$$module$js$threejs$three_min.PointLight=og$$module$js$threejs$three_min;r$$module$js$threejs$three_min.PointLightHelper=le$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Points=Pd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.PointsMaterial=Rb$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.PolarGridHelper=xg$$module$js$threejs$three_min;r$$module$js$threejs$three_min.PolyhedronBufferGeometry=zb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.PolyhedronGeometry=We$$module$js$threejs$three_min;r$$module$js$threejs$three_min.PositionalAudio=tb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.PropertyBinding=qb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.PropertyMixer=Oh$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.QuadraticBezierCurve=Ub$$module$js$threejs$three_min;r$$module$js$threejs$three_min.QuadraticBezierCurve3=ec$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Quaternion=ua$$module$js$threejs$three_min;r$$module$js$threejs$three_min.QuaternionKeyframeTrack=pf$$module$js$threejs$three_min;r$$module$js$threejs$three_min.QuaternionLinearInterpolant=hg$$module$js$threejs$three_min;r$$module$js$threejs$three_min.REVISION="120";
r$$module$js$threejs$three_min.RGBADepthPacking=3201;r$$module$js$threejs$three_min.RGBAFormat=1023;r$$module$js$threejs$three_min.RGBAIntegerFormat=1033;r$$module$js$threejs$three_min.RGBA_ASTC_10x10_Format=37819;r$$module$js$threejs$three_min.RGBA_ASTC_10x5_Format=37816;r$$module$js$threejs$three_min.RGBA_ASTC_10x6_Format=37817;r$$module$js$threejs$three_min.RGBA_ASTC_10x8_Format=37818;r$$module$js$threejs$three_min.RGBA_ASTC_12x10_Format=37820;
r$$module$js$threejs$three_min.RGBA_ASTC_12x12_Format=37821;r$$module$js$threejs$three_min.RGBA_ASTC_4x4_Format=37808;r$$module$js$threejs$three_min.RGBA_ASTC_5x4_Format=37809;r$$module$js$threejs$three_min.RGBA_ASTC_5x5_Format=37810;r$$module$js$threejs$three_min.RGBA_ASTC_6x5_Format=37811;r$$module$js$threejs$three_min.RGBA_ASTC_6x6_Format=37812;r$$module$js$threejs$three_min.RGBA_ASTC_8x5_Format=37813;r$$module$js$threejs$three_min.RGBA_ASTC_8x6_Format=37814;
r$$module$js$threejs$three_min.RGBA_ASTC_8x8_Format=37815;r$$module$js$threejs$three_min.RGBA_BPTC_Format=36492;r$$module$js$threejs$three_min.RGBA_ETC2_EAC_Format=37496;r$$module$js$threejs$three_min.RGBA_PVRTC_2BPPV1_Format=35843;r$$module$js$threejs$three_min.RGBA_PVRTC_4BPPV1_Format=35842;r$$module$js$threejs$three_min.RGBA_S3TC_DXT1_Format=33777;r$$module$js$threejs$three_min.RGBA_S3TC_DXT3_Format=33778;r$$module$js$threejs$three_min.RGBA_S3TC_DXT5_Format=33779;
r$$module$js$threejs$three_min.RGBDEncoding=3006;r$$module$js$threejs$three_min.RGBEEncoding=3002;r$$module$js$threejs$three_min.RGBEFormat=1023;r$$module$js$threejs$three_min.RGBFormat=1022;r$$module$js$threejs$three_min.RGBIntegerFormat=1032;r$$module$js$threejs$three_min.RGBM16Encoding=3005;r$$module$js$threejs$three_min.RGBM7Encoding=3004;r$$module$js$threejs$three_min.RGB_ETC1_Format=36196;r$$module$js$threejs$three_min.RGB_ETC2_Format=37492;
r$$module$js$threejs$three_min.RGB_PVRTC_2BPPV1_Format=35841;r$$module$js$threejs$three_min.RGB_PVRTC_4BPPV1_Format=35840;r$$module$js$threejs$three_min.RGB_S3TC_DXT1_Format=33776;r$$module$js$threejs$three_min.RGFormat=1030;r$$module$js$threejs$three_min.RGIntegerFormat=1031;r$$module$js$threejs$three_min.RawShaderMaterial=pc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Ray=Ta$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Raycaster=Sh$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.RectAreaLight=rg$$module$js$threejs$three_min;r$$module$js$threejs$three_min.RedFormat=1028;r$$module$js$threejs$three_min.RedIntegerFormat=1029;r$$module$js$threejs$three_min.ReinhardToneMapping=2;r$$module$js$threejs$three_min.RepeatWrapping=1E3;r$$module$js$threejs$three_min.ReplaceStencilOp=7681;r$$module$js$threejs$three_min.ReverseSubtractEquation=102;r$$module$js$threejs$three_min.RingBufferGeometry=$d$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.RingGeometry=jf$$module$js$threejs$three_min;r$$module$js$threejs$three_min.SRGB8_ALPHA8_ASTC_10x10_Format=37851;r$$module$js$threejs$three_min.SRGB8_ALPHA8_ASTC_10x5_Format=37848;r$$module$js$threejs$three_min.SRGB8_ALPHA8_ASTC_10x6_Format=37849;r$$module$js$threejs$three_min.SRGB8_ALPHA8_ASTC_10x8_Format=37850;r$$module$js$threejs$three_min.SRGB8_ALPHA8_ASTC_12x10_Format=37852;r$$module$js$threejs$three_min.SRGB8_ALPHA8_ASTC_12x12_Format=37853;
r$$module$js$threejs$three_min.SRGB8_ALPHA8_ASTC_4x4_Format=37840;r$$module$js$threejs$three_min.SRGB8_ALPHA8_ASTC_5x4_Format=37841;r$$module$js$threejs$three_min.SRGB8_ALPHA8_ASTC_5x5_Format=37842;r$$module$js$threejs$three_min.SRGB8_ALPHA8_ASTC_6x5_Format=37843;r$$module$js$threejs$three_min.SRGB8_ALPHA8_ASTC_6x6_Format=37844;r$$module$js$threejs$three_min.SRGB8_ALPHA8_ASTC_8x5_Format=37845;r$$module$js$threejs$three_min.SRGB8_ALPHA8_ASTC_8x6_Format=37846;
r$$module$js$threejs$three_min.SRGB8_ALPHA8_ASTC_8x8_Format=37847;r$$module$js$threejs$three_min.Scene=Jc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.SceneUtils={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};
r$$module$js$threejs$three_min.ShaderChunk=Ba$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ShaderLib=Pb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ShaderMaterial=sb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ShadowMaterial=md$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Shape=Pc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ShapeBufferGeometry=kd$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.ShapeGeometry=jd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ShapePath=Ih$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ShapeUtils=nc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.ShortType=1011;r$$module$js$threejs$three_min.Skeleton=Yf$$module$js$threejs$three_min;r$$module$js$threejs$three_min.SkeletonHelper=ke$$module$js$threejs$three_min;r$$module$js$threejs$three_min.SkinnedMesh=Xf$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.SmoothShading=2;r$$module$js$threejs$three_min.Sphere=Wa$$module$js$threejs$three_min;r$$module$js$threejs$three_min.SphereBufferGeometry=id$$module$js$threejs$three_min;r$$module$js$threejs$three_min.SphereGeometry=hf$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Spherical=Ad$$module$js$threejs$three_min;r$$module$js$threejs$three_min.SphericalHarmonics3=pb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Spline=Xh$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.SplineCurve=Vb$$module$js$threejs$three_min;r$$module$js$threejs$three_min.SplineCurve3=uj$$module$js$threejs$three_min;r$$module$js$threejs$three_min.SpotLight=ng$$module$js$threejs$three_min;r$$module$js$threejs$three_min.SpotLightHelper=je$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Sprite=Qe$$module$js$threejs$three_min;r$$module$js$threejs$three_min.SpriteMaterial=Lc$$module$js$threejs$three_min;r$$module$js$threejs$three_min.SrcAlphaFactor=204;
r$$module$js$threejs$three_min.SrcAlphaSaturateFactor=210;r$$module$js$threejs$three_min.SrcColorFactor=202;r$$module$js$threejs$three_min.StaticCopyUsage=35046;r$$module$js$threejs$three_min.StaticDrawUsage=35044;r$$module$js$threejs$three_min.StaticReadUsage=35045;r$$module$js$threejs$three_min.StereoCamera=lj$$module$js$threejs$three_min;r$$module$js$threejs$three_min.StreamCopyUsage=35042;r$$module$js$threejs$three_min.StreamDrawUsage=35040;r$$module$js$threejs$three_min.StreamReadUsage=35041;
r$$module$js$threejs$three_min.StringKeyframeTrack=ig$$module$js$threejs$three_min;r$$module$js$threejs$three_min.SubtractEquation=101;r$$module$js$threejs$three_min.SubtractiveBlending=3;r$$module$js$threejs$three_min.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3};r$$module$js$threejs$three_min.TangentSpaceNormalMap=0;r$$module$js$threejs$three_min.TetrahedronBufferGeometry=Td$$module$js$threejs$three_min;r$$module$js$threejs$three_min.TetrahedronGeometry=Xe$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.TextBufferGeometry=Zd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.TextGeometry=gf$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Texture=Oa$$module$js$threejs$three_min;r$$module$js$threejs$three_min.TextureLoader=lg$$module$js$threejs$three_min;r$$module$js$threejs$three_min.TorusBufferGeometry=Xd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.TorusGeometry=cf$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.TorusKnotBufferGeometry=Wd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.TorusKnotGeometry=bf$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Triangle=Ga$$module$js$threejs$three_min;r$$module$js$threejs$three_min.TriangleFanDrawMode=2;r$$module$js$threejs$three_min.TriangleStripDrawMode=1;r$$module$js$threejs$three_min.TrianglesDrawMode=0;r$$module$js$threejs$three_min.TubeBufferGeometry=gd$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.TubeGeometry=af$$module$js$threejs$three_min;r$$module$js$threejs$three_min.UVMapping=300;r$$module$js$threejs$three_min.Uint16Attribute=function(a,b){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.");return new Zc$$module$js$threejs$three_min(a,b)};r$$module$js$threejs$three_min.Uint16BufferAttribute=Zc$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.Uint32Attribute=function(a,b){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.");return new $c$$module$js$threejs$three_min(a,b)};r$$module$js$threejs$three_min.Uint32BufferAttribute=$c$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.Uint8Attribute=function(a,b){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.");return new De$$module$js$threejs$three_min(a,b)};r$$module$js$threejs$three_min.Uint8BufferAttribute=De$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.Uint8ClampedAttribute=function(a,b){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.");return new Ee$$module$js$threejs$three_min(a,b)};r$$module$js$threejs$three_min.Uint8ClampedBufferAttribute=Ee$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Uniform=Yg$$module$js$threejs$three_min;r$$module$js$threejs$three_min.UniformsLib=fa$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.UniformsUtils=Ri$$module$js$threejs$three_min;r$$module$js$threejs$three_min.UnsignedByteType=1009;r$$module$js$threejs$three_min.UnsignedInt248Type=1020;r$$module$js$threejs$three_min.UnsignedIntType=1014;r$$module$js$threejs$three_min.UnsignedShort4444Type=1017;r$$module$js$threejs$three_min.UnsignedShort5551Type=1018;r$$module$js$threejs$three_min.UnsignedShort565Type=1019;r$$module$js$threejs$three_min.UnsignedShortType=1012;
r$$module$js$threejs$three_min.VSMShadowMap=3;r$$module$js$threejs$three_min.Vector2=L$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Vector3=w$$module$js$threejs$three_min;r$$module$js$threejs$three_min.Vector4=ca$$module$js$threejs$three_min;r$$module$js$threejs$three_min.VectorKeyframeTrack=ee$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.Vertex=function(a,b,c){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");return new w$$module$js$threejs$three_min(a,b,c)};r$$module$js$threejs$three_min.VertexColors=2;r$$module$js$threejs$three_min.VideoTexture=xh$$module$js$threejs$three_min;r$$module$js$threejs$three_min.WebGL1Renderer=th$$module$js$threejs$three_min;r$$module$js$threejs$three_min.WebGLCubeRenderTarget=Cc$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.WebGLMultisampleRenderTarget=dh$$module$js$threejs$three_min;r$$module$js$threejs$three_min.WebGLRenderTarget=Db$$module$js$threejs$three_min;r$$module$js$threejs$three_min.WebGLRenderTargetCube=function(a,b,c){console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).");return new Cc$$module$js$threejs$three_min(a,c)};r$$module$js$threejs$three_min.WebGLRenderer=Ne$$module$js$threejs$three_min;
r$$module$js$threejs$three_min.WebGLUtils=Vi$$module$js$threejs$three_min;r$$module$js$threejs$three_min.WireframeGeometry=Rd$$module$js$threejs$three_min;r$$module$js$threejs$three_min.WireframeHelper=function(a,b){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.");return new Za$$module$js$threejs$three_min(new Rd$$module$js$threejs$three_min(a.geometry),new Ya$$module$js$threejs$three_min({color:void 0!==b?b:16777215}))};
r$$module$js$threejs$three_min.WrapAroundEnding=2402;r$$module$js$threejs$three_min.XHRLoader=function(a){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader.");return new Nb$$module$js$threejs$three_min(a)};r$$module$js$threejs$three_min.ZeroCurvatureEnding=2400;r$$module$js$threejs$three_min.ZeroFactor=200;r$$module$js$threejs$three_min.ZeroSlopeEnding=2401;r$$module$js$threejs$three_min.ZeroStencilOp=0;r$$module$js$threejs$three_min.sRGBEncoding=3001;
Object.defineProperty(r$$module$js$threejs$three_min,"__esModule",{value:!0});void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Number.isInteger&&(Number.isInteger=function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a});void 0===Math.sign&&(Math.sign=function(a){return 0>a?-1:0<a?1:+a});!1==="name"in Function.prototype&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});
void 0===Object.assign&&(Object.assign=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");const b=Object(a);for(let c=1;c<arguments.length;c++){const d=arguments[c];if(void 0!==d&&null!==d)for(const e in d)Object.prototype.hasOwnProperty.call(d,e)&&(b[e]=d[e])}return b});
const REVISION$$module$js$threejs$three_module="120",MOUSE$$module$js$threejs$three_module={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH$$module$js$threejs$three_module={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone$$module$js$threejs$three_module=0,CullFaceBack$$module$js$threejs$three_module=1,CullFaceFront$$module$js$threejs$three_module=2,CullFaceFrontBack$$module$js$threejs$three_module=3,BasicShadowMap$$module$js$threejs$three_module=0,PCFShadowMap$$module$js$threejs$three_module=
1,PCFSoftShadowMap$$module$js$threejs$three_module=2,VSMShadowMap$$module$js$threejs$three_module=3,FrontSide$$module$js$threejs$three_module=0,BackSide$$module$js$threejs$three_module=1,DoubleSide$$module$js$threejs$three_module=2,FlatShading$$module$js$threejs$three_module=1,SmoothShading$$module$js$threejs$three_module=2,NoBlending$$module$js$threejs$three_module=0,NormalBlending$$module$js$threejs$three_module=1,AdditiveBlending$$module$js$threejs$three_module=2,SubtractiveBlending$$module$js$threejs$three_module=
3,MultiplyBlending$$module$js$threejs$three_module=4,CustomBlending$$module$js$threejs$three_module=5,AddEquation$$module$js$threejs$three_module=100,SubtractEquation$$module$js$threejs$three_module=101,ReverseSubtractEquation$$module$js$threejs$three_module=102,MinEquation$$module$js$threejs$three_module=103,MaxEquation$$module$js$threejs$three_module=104,ZeroFactor$$module$js$threejs$three_module=200,OneFactor$$module$js$threejs$three_module=201,SrcColorFactor$$module$js$threejs$three_module=202,
OneMinusSrcColorFactor$$module$js$threejs$three_module=203,SrcAlphaFactor$$module$js$threejs$three_module=204,OneMinusSrcAlphaFactor$$module$js$threejs$three_module=205,DstAlphaFactor$$module$js$threejs$three_module=206,OneMinusDstAlphaFactor$$module$js$threejs$three_module=207,DstColorFactor$$module$js$threejs$three_module=208,OneMinusDstColorFactor$$module$js$threejs$three_module=209,SrcAlphaSaturateFactor$$module$js$threejs$three_module=210,NeverDepth$$module$js$threejs$three_module=0,AlwaysDepth$$module$js$threejs$three_module=
1,LessDepth$$module$js$threejs$three_module=2,LessEqualDepth$$module$js$threejs$three_module=3,EqualDepth$$module$js$threejs$three_module=4,GreaterEqualDepth$$module$js$threejs$three_module=5,GreaterDepth$$module$js$threejs$three_module=6,NotEqualDepth$$module$js$threejs$three_module=7,MultiplyOperation$$module$js$threejs$three_module=0,MixOperation$$module$js$threejs$three_module=1,AddOperation$$module$js$threejs$three_module=2,NoToneMapping$$module$js$threejs$three_module=0,LinearToneMapping$$module$js$threejs$three_module=
1,ReinhardToneMapping$$module$js$threejs$three_module=2,CineonToneMapping$$module$js$threejs$three_module=3,ACESFilmicToneMapping$$module$js$threejs$three_module=4,CustomToneMapping$$module$js$threejs$three_module=5,UVMapping$$module$js$threejs$three_module=300,CubeReflectionMapping$$module$js$threejs$three_module=301,CubeRefractionMapping$$module$js$threejs$three_module=302,EquirectangularReflectionMapping$$module$js$threejs$three_module=303,EquirectangularRefractionMapping$$module$js$threejs$three_module=
304,CubeUVReflectionMapping$$module$js$threejs$three_module=306,CubeUVRefractionMapping$$module$js$threejs$three_module=307,RepeatWrapping$$module$js$threejs$three_module=1E3,ClampToEdgeWrapping$$module$js$threejs$three_module=1001,MirroredRepeatWrapping$$module$js$threejs$three_module=1002,NearestFilter$$module$js$threejs$three_module=1003,NearestMipmapNearestFilter$$module$js$threejs$three_module=1004,NearestMipMapNearestFilter$$module$js$threejs$three_module=1004,NearestMipmapLinearFilter$$module$js$threejs$three_module=
1005,NearestMipMapLinearFilter$$module$js$threejs$three_module=1005,LinearFilter$$module$js$threejs$three_module=1006,LinearMipmapNearestFilter$$module$js$threejs$three_module=1007,LinearMipMapNearestFilter$$module$js$threejs$three_module=1007,LinearMipmapLinearFilter$$module$js$threejs$three_module=1008,LinearMipMapLinearFilter$$module$js$threejs$three_module=1008,UnsignedByteType$$module$js$threejs$three_module=1009,ByteType$$module$js$threejs$three_module=1010,ShortType$$module$js$threejs$three_module=
1011,UnsignedShortType$$module$js$threejs$three_module=1012,IntType$$module$js$threejs$three_module=1013,UnsignedIntType$$module$js$threejs$three_module=1014,FloatType$$module$js$threejs$three_module=1015,HalfFloatType$$module$js$threejs$three_module=1016,UnsignedShort4444Type$$module$js$threejs$three_module=1017,UnsignedShort5551Type$$module$js$threejs$three_module=1018,UnsignedShort565Type$$module$js$threejs$three_module=1019,UnsignedInt248Type$$module$js$threejs$three_module=1020,AlphaFormat$$module$js$threejs$three_module=
1021,RGBFormat$$module$js$threejs$three_module=1022,RGBAFormat$$module$js$threejs$three_module=1023,LuminanceFormat$$module$js$threejs$three_module=1024,LuminanceAlphaFormat$$module$js$threejs$three_module=1025,RGBEFormat$$module$js$threejs$three_module=RGBAFormat$$module$js$threejs$three_module,DepthFormat$$module$js$threejs$three_module=1026,DepthStencilFormat$$module$js$threejs$three_module=1027,RedFormat$$module$js$threejs$three_module=1028,RedIntegerFormat$$module$js$threejs$three_module=1029,
RGFormat$$module$js$threejs$three_module=1030,RGIntegerFormat$$module$js$threejs$three_module=1031,RGBIntegerFormat$$module$js$threejs$three_module=1032,RGBAIntegerFormat$$module$js$threejs$three_module=1033,RGB_S3TC_DXT1_Format$$module$js$threejs$three_module=33776,RGBA_S3TC_DXT1_Format$$module$js$threejs$three_module=33777,RGBA_S3TC_DXT3_Format$$module$js$threejs$three_module=33778,RGBA_S3TC_DXT5_Format$$module$js$threejs$three_module=33779,RGB_PVRTC_4BPPV1_Format$$module$js$threejs$three_module=
35840,RGB_PVRTC_2BPPV1_Format$$module$js$threejs$three_module=35841,RGBA_PVRTC_4BPPV1_Format$$module$js$threejs$three_module=35842,RGBA_PVRTC_2BPPV1_Format$$module$js$threejs$three_module=35843,RGB_ETC1_Format$$module$js$threejs$three_module=36196,RGB_ETC2_Format$$module$js$threejs$three_module=37492,RGBA_ETC2_EAC_Format$$module$js$threejs$three_module=37496,RGBA_ASTC_4x4_Format$$module$js$threejs$three_module=37808,RGBA_ASTC_5x4_Format$$module$js$threejs$three_module=37809,RGBA_ASTC_5x5_Format$$module$js$threejs$three_module=
37810,RGBA_ASTC_6x5_Format$$module$js$threejs$three_module=37811,RGBA_ASTC_6x6_Format$$module$js$threejs$three_module=37812,RGBA_ASTC_8x5_Format$$module$js$threejs$three_module=37813,RGBA_ASTC_8x6_Format$$module$js$threejs$three_module=37814,RGBA_ASTC_8x8_Format$$module$js$threejs$three_module=37815,RGBA_ASTC_10x5_Format$$module$js$threejs$three_module=37816,RGBA_ASTC_10x6_Format$$module$js$threejs$three_module=37817,RGBA_ASTC_10x8_Format$$module$js$threejs$three_module=37818,RGBA_ASTC_10x10_Format$$module$js$threejs$three_module=
37819,RGBA_ASTC_12x10_Format$$module$js$threejs$three_module=37820,RGBA_ASTC_12x12_Format$$module$js$threejs$three_module=37821,RGBA_BPTC_Format$$module$js$threejs$three_module=36492,SRGB8_ALPHA8_ASTC_4x4_Format$$module$js$threejs$three_module=37840,SRGB8_ALPHA8_ASTC_5x4_Format$$module$js$threejs$three_module=37841,SRGB8_ALPHA8_ASTC_5x5_Format$$module$js$threejs$three_module=37842,SRGB8_ALPHA8_ASTC_6x5_Format$$module$js$threejs$three_module=37843,SRGB8_ALPHA8_ASTC_6x6_Format$$module$js$threejs$three_module=
37844,SRGB8_ALPHA8_ASTC_8x5_Format$$module$js$threejs$three_module=37845,SRGB8_ALPHA8_ASTC_8x6_Format$$module$js$threejs$three_module=37846,SRGB8_ALPHA8_ASTC_8x8_Format$$module$js$threejs$three_module=37847,SRGB8_ALPHA8_ASTC_10x5_Format$$module$js$threejs$three_module=37848,SRGB8_ALPHA8_ASTC_10x6_Format$$module$js$threejs$three_module=37849,SRGB8_ALPHA8_ASTC_10x8_Format$$module$js$threejs$three_module=37850,SRGB8_ALPHA8_ASTC_10x10_Format$$module$js$threejs$three_module=37851,SRGB8_ALPHA8_ASTC_12x10_Format$$module$js$threejs$three_module=
37852,SRGB8_ALPHA8_ASTC_12x12_Format$$module$js$threejs$three_module=37853,LoopOnce$$module$js$threejs$three_module=2200,LoopRepeat$$module$js$threejs$three_module=2201,LoopPingPong$$module$js$threejs$three_module=2202,InterpolateDiscrete$$module$js$threejs$three_module=2300,InterpolateLinear$$module$js$threejs$three_module=2301,InterpolateSmooth$$module$js$threejs$three_module=2302,ZeroCurvatureEnding$$module$js$threejs$three_module=2400,ZeroSlopeEnding$$module$js$threejs$three_module=2401,WrapAroundEnding$$module$js$threejs$three_module=
2402,NormalAnimationBlendMode$$module$js$threejs$three_module=2500,AdditiveAnimationBlendMode$$module$js$threejs$three_module=2501,TrianglesDrawMode$$module$js$threejs$three_module=0,TriangleStripDrawMode$$module$js$threejs$three_module=1,TriangleFanDrawMode$$module$js$threejs$three_module=2,LinearEncoding$$module$js$threejs$three_module=3E3,sRGBEncoding$$module$js$threejs$three_module=3001,GammaEncoding$$module$js$threejs$three_module=3007,RGBEEncoding$$module$js$threejs$three_module=3002,LogLuvEncoding$$module$js$threejs$three_module=
3003,RGBM7Encoding$$module$js$threejs$three_module=3004,RGBM16Encoding$$module$js$threejs$three_module=3005,RGBDEncoding$$module$js$threejs$three_module=3006,BasicDepthPacking$$module$js$threejs$three_module=3200,RGBADepthPacking$$module$js$threejs$three_module=3201,TangentSpaceNormalMap$$module$js$threejs$three_module=0,ObjectSpaceNormalMap$$module$js$threejs$three_module=1,ZeroStencilOp$$module$js$threejs$three_module=0,KeepStencilOp$$module$js$threejs$three_module=7680,ReplaceStencilOp$$module$js$threejs$three_module=
7681,IncrementStencilOp$$module$js$threejs$three_module=7682,DecrementStencilOp$$module$js$threejs$three_module=7683,IncrementWrapStencilOp$$module$js$threejs$three_module=34055,DecrementWrapStencilOp$$module$js$threejs$three_module=34056,InvertStencilOp$$module$js$threejs$three_module=5386,NeverStencilFunc$$module$js$threejs$three_module=512,LessStencilFunc$$module$js$threejs$three_module=513,EqualStencilFunc$$module$js$threejs$three_module=514,LessEqualStencilFunc$$module$js$threejs$three_module=
515,GreaterStencilFunc$$module$js$threejs$three_module=516,NotEqualStencilFunc$$module$js$threejs$three_module=517,GreaterEqualStencilFunc$$module$js$threejs$three_module=518,AlwaysStencilFunc$$module$js$threejs$three_module=519,StaticDrawUsage$$module$js$threejs$three_module=35044,DynamicDrawUsage$$module$js$threejs$three_module=35048,StreamDrawUsage$$module$js$threejs$three_module=35040,StaticReadUsage$$module$js$threejs$three_module=35045,DynamicReadUsage$$module$js$threejs$three_module=35049,
StreamReadUsage$$module$js$threejs$three_module=35041,StaticCopyUsage$$module$js$threejs$three_module=35046,DynamicCopyUsage$$module$js$threejs$three_module=35050,StreamCopyUsage$$module$js$threejs$three_module=35042,GLSL1$$module$js$threejs$three_module="100",GLSL3$$module$js$threejs$three_module="300 es";function EventDispatcher$$module$js$threejs$three_module(){}
Object.assign(EventDispatcher$$module$js$threejs$three_module.prototype,{addEventListener:function(a,b){void 0===this._listeners&&(this._listeners={});const c=this._listeners;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)},hasEventListener:function(a,b){if(void 0===this._listeners)return!1;const c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)},removeEventListener:function(a,b){void 0!==this._listeners&&(a=this._listeners[a],void 0!==a&&(b=a.indexOf(b),-1!==b&&a.splice(b,
1)))},dispatchEvent:function(a){if(void 0!==this._listeners){var b=this._listeners[a.type];if(void 0!==b){a.target=this;b=b.slice(0);for(let c=0,d=b.length;c<d;c++)b[c].call(this,a)}}}});const _lut$$module$js$threejs$three_module=[];for(let a=0;256>a;a++)_lut$$module$js$threejs$three_module[a]=(16>a?"0":"")+a.toString(16);let _seed$$module$js$threejs$three_module=1234567;
const MathUtils$$module$js$threejs$three_module={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const a=4294967295*Math.random()|0,b=4294967295*Math.random()|0,c=4294967295*Math.random()|0,d=4294967295*Math.random()|0;return(_lut$$module$js$threejs$three_module[a&255]+_lut$$module$js$threejs$three_module[a>>8&255]+_lut$$module$js$threejs$three_module[a>>16&255]+_lut$$module$js$threejs$three_module[a>>24&255]+"-"+_lut$$module$js$threejs$three_module[b&255]+_lut$$module$js$threejs$three_module[b>>
8&255]+"-"+_lut$$module$js$threejs$three_module[b>>16&15|64]+_lut$$module$js$threejs$three_module[b>>24&255]+"-"+_lut$$module$js$threejs$three_module[c&63|128]+_lut$$module$js$threejs$three_module[c>>8&255]+"-"+_lut$$module$js$threejs$three_module[c>>16&255]+_lut$$module$js$threejs$three_module[c>>24&255]+_lut$$module$js$threejs$three_module[d&255]+_lut$$module$js$threejs$three_module[d>>8&255]+_lut$$module$js$threejs$three_module[d>>16&255]+_lut$$module$js$threejs$three_module[d>>24&255]).toUpperCase()},
clamp:function(a,b,c){return Math.max(b,Math.min(c,a))},euclideanModulo:function(a,b){return(a%b+b)%b},mapLinear:function(a,b,c,d,e){return d+(a-b)*(e-d)/(c-b)},lerp:function(a,b,c){return(1-c)*a+c*b},smoothstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+
Math.random()*(b-a)},randFloatSpread:function(a){return a*(.5-Math.random())},seededRandom:function(a){void 0!==a&&(_seed$$module$js$threejs$three_module=a%2147483647);_seed$$module$js$threejs$three_module=16807*_seed$$module$js$threejs$three_module%2147483647;return(_seed$$module$js$threejs$three_module-1)/2147483646},degToRad:function(a){return a*MathUtils$$module$js$threejs$three_module.DEG2RAD},radToDeg:function(a){return a*MathUtils$$module$js$threejs$three_module.RAD2DEG},isPowerOfTwo:function(a){return 0===
(a&a-1)&&0!==a},ceilPowerOfTwo:function(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))},floorPowerOfTwo:function(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))},setQuaternionFromProperEuler:function(a,b,c,d,e){var g=Math.cos;const h=Math.sin,k=g(c/2);c=h(c/2);const l=g((b+d)/2),m=h((b+d)/2),n=g((b-d)/2),p=h((b-d)/2);g=g((d-b)/2);b=h((d-b)/2);switch(e){case "XYX":a.set(k*m,c*n,c*p,k*l);break;case "YZY":a.set(c*p,k*m,c*n,k*l);break;case "ZXZ":a.set(c*n,c*p,k*m,k*l);break;case "XZX":a.set(k*
m,c*b,c*g,k*l);break;case "YXY":a.set(c*g,k*m,c*b,k*l);break;case "ZYZ":a.set(c*b,c*g,k*m,k*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+e)}}};
class Vector2$$module$js$threejs$three_module{constructor(a=0,b=0){Object.defineProperty(this,"isVector2",{value:!0});this.x=a;this.y=b}get width(){return this.x}set width(a){this.x=a}get height(){return this.y}set height(a){this.y=a}set(a,b){this.x=a;this.y=b;return this}setScalar(a){this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;
case 1:return this.y;default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,this.y)}copy(a){this.x=a.x;this.y=a.y;return this}add(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;return this}addScalar(a){this.x+=a;this.y+=a;return this}addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this}addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*
b;return this}sub(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;return this}subScalar(a){this.x-=a;this.y-=a;return this}subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this}multiply(a){this.x*=a.x;this.y*=a.y;return this}multiplyScalar(a){this.x*=a;this.y*=a;return this}divide(a){this.x/=a.x;this.y/=a.y;return this}divideScalar(a){return this.multiplyScalar(1/a)}applyMatrix3(a){const b=
this.x,c=this.y;a=a.elements;this.x=a[0]*b+a[3]*c+a[6];this.y=a[1]*b+a[4]*c+a[7];return this}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this}clamp(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this}clampScalar(a,b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));return this}clampLength(a,b){const c=this.length();return this.divideScalar(c||
1).multiplyScalar(Math.max(a,Math.min(b,c)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this}negate(){this.x=-this.x;this.y=-this.y;return this}dot(a){return this.x*a.x+this.y*a.y}cross(a){return this.x*a.y-
this.y*a.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const b=this.x-a.x;a=this.y-a.y;return b*b+a*a}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,
b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this}lerpVectors(a,b,c){this.x=a.x+(b.x-a.x)*c;this.y=a.y+(b.y-a.y)*c;return this}equals(a){return a.x===this.x&&a.y===this.y}fromArray(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this}toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a}fromBufferAttribute(a,b,c){void 0!==c&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);return this}rotateAround(a,
b){const c=Math.cos(b);b=Math.sin(b);const d=this.x-a.x,e=this.y-a.y;this.x=d*c-e*b+a.x;this.y=d*b+e*c+a.y;return this}random(){this.x=Math.random();this.y=Math.random();return this}}
class Matrix3$$module$js$threejs$three_module{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0});this.elements=[1,0,0,0,1,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(a,b,c,d,e,g,h,k,l){const m=this.elements;m[0]=a;m[1]=d;m[2]=h;m[3]=b;m[4]=e;m[5]=k;m[6]=c;m[7]=g;m[8]=l;return this}identity(){this.set(1,0,0,0,1,0,0,0,1);return this}clone(){return(new this.constructor).fromArray(this.elements)}copy(a){const b=
this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return this}extractBasis(a,b,c){a.setFromMatrix3Column(this,0);b.setFromMatrix3Column(this,1);c.setFromMatrix3Column(this,2);return this}setFromMatrix4(a){a=a.elements;this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]);return this}multiply(a){return this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,b){var c=a.elements,d=b.elements;
b=this.elements;a=c[0];const e=c[3],g=c[6],h=c[1],k=c[4],l=c[7],m=c[2],n=c[5];c=c[8];const p=d[0],t=d[3],w=d[6],x=d[1],A=d[4],r=d[7],E=d[2],B=d[5];d=d[8];b[0]=a*p+e*x+g*E;b[3]=a*t+e*A+g*B;b[6]=a*w+e*r+g*d;b[1]=h*p+k*x+l*E;b[4]=h*t+k*A+l*B;b[7]=h*w+k*r+l*d;b[2]=m*p+n*x+c*E;b[5]=m*t+n*A+c*B;b[8]=m*w+n*r+c*d;return this}multiplyScalar(a){const b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this}determinant(){var a=this.elements;const b=a[0],c=a[1],d=a[2],
e=a[3],g=a[4],h=a[5],k=a[6],l=a[7];a=a[8];return b*g*a-b*h*l-c*e*a+c*h*k+d*e*l-d*g*k}getInverse(a,b){void 0!==b&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var c=a.elements;a=this.elements;b=c[0];const d=c[1],e=c[2],g=c[3],h=c[4],k=c[5],l=c[6],m=c[7];c=c[8];const n=c*h-k*m,p=k*l-c*g,t=m*g-h*l;var w=b*n+d*p+e*t;if(0===w)return this.set(0,0,0,0,0,0,0,0,0);w=1/w;a[0]=n*w;a[1]=(e*m-c*d)*w;a[2]=(k*d-e*h)*w;a[3]=p*w;a[4]=(c*b-e*l)*w;a[5]=(e*g-k*b)*w;
a[6]=t*w;a[7]=(d*l-m*b)*w;a[8]=(h*b-d*g)*w;return this}transpose(){let a;const b=this.elements;a=b[1];b[1]=b[3];b[3]=a;a=b[2];b[2]=b[6];b[6]=a;a=b[5];b[5]=b[7];b[7]=a;return this}getNormalMatrix(a){return this.setFromMatrix4(a).getInverse(this).transpose()}transposeIntoArray(a){const b=this.elements;a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this}setUvTransform(a,b,c,d,e,g,h){const k=Math.cos(e);e=Math.sin(e);this.set(c*k,c*e,-c*(k*g+e*h)+g+a,
-d*e,d*k,-d*(-e*g+k*h)+h+b,0,0,1)}scale(a,b){const c=this.elements;c[0]*=a;c[3]*=a;c[6]*=a;c[1]*=b;c[4]*=b;c[7]*=b;return this}rotate(a){const b=Math.cos(a);a=Math.sin(a);const c=this.elements,d=c[0],e=c[3],g=c[6],h=c[1],k=c[4],l=c[7];c[0]=b*d+a*h;c[3]=b*e+a*k;c[6]=b*g+a*l;c[1]=-a*d+b*h;c[4]=-a*e+b*k;c[7]=-a*g+b*l;return this}translate(a,b){const c=this.elements;c[0]+=a*c[2];c[3]+=a*c[5];c[6]+=a*c[8];c[1]+=b*c[2];c[4]+=b*c[5];c[7]+=b*c[8];return this}equals(a){const b=this.elements;a=a.elements;for(let c=
0;9>c;c++)if(b[c]!==a[c])return!1;return!0}fromArray(a,b){void 0===b&&(b=0);for(let c=0;9>c;c++)this.elements[c]=a[c+b];return this}toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);const c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a}}let _canvas$$module$js$threejs$three_module;
const ImageUtils$$module$js$threejs$three_module={getDataURL:function(a){if(/^data:/i.test(a.src)||"undefined"==typeof HTMLCanvasElement)return a.src;if(!(a instanceof HTMLCanvasElement)){void 0===_canvas$$module$js$threejs$three_module&&(_canvas$$module$js$threejs$three_module=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"));_canvas$$module$js$threejs$three_module.width=a.width;_canvas$$module$js$threejs$three_module.height=a.height;const b=_canvas$$module$js$threejs$three_module.getContext("2d");
a instanceof ImageData?b.putImageData(a,0,0):b.drawImage(a,0,0,a.width,a.height);a=_canvas$$module$js$threejs$three_module}return 2048<a.width||2048<a.height?a.toDataURL("image/jpeg",.6):a.toDataURL("image/png")}};let textureId$$module$js$threejs$three_module=0;
function Texture$$module$js$threejs$three_module(a,b,c,d,e,g,h,k,l,m){Object.defineProperty(this,"id",{value:textureId$$module$js$threejs$three_module++});this.uuid=MathUtils$$module$js$threejs$three_module.generateUUID();this.name="";this.image=void 0!==a?a:Texture$$module$js$threejs$three_module.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==b?b:Texture$$module$js$threejs$three_module.DEFAULT_MAPPING;this.wrapS=void 0!==c?c:ClampToEdgeWrapping$$module$js$threejs$three_module;this.wrapT=void 0!==
d?d:ClampToEdgeWrapping$$module$js$threejs$three_module;this.magFilter=void 0!==e?e:LinearFilter$$module$js$threejs$three_module;this.minFilter=void 0!==g?g:LinearMipmapLinearFilter$$module$js$threejs$three_module;this.anisotropy=void 0!==l?l:1;this.format=void 0!==h?h:RGBAFormat$$module$js$threejs$three_module;this.internalFormat=null;this.type=void 0!==k?k:UnsignedByteType$$module$js$threejs$three_module;this.offset=new Vector2$$module$js$threejs$three_module(0,0);this.repeat=new Vector2$$module$js$threejs$three_module(1,
1);this.center=new Vector2$$module$js$threejs$three_module(0,0);this.rotation=0;this.matrixAutoUpdate=!0;this.matrix=new Matrix3$$module$js$threejs$three_module;this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==m?m:LinearEncoding$$module$js$threejs$three_module;this.version=0;this.onUpdate=null}Texture$$module$js$threejs$three_module.DEFAULT_IMAGE=void 0;Texture$$module$js$threejs$three_module.DEFAULT_MAPPING=UVMapping$$module$js$threejs$three_module;
Texture$$module$js$threejs$three_module.prototype=Object.assign(Object.create(EventDispatcher$$module$js$threejs$three_module.prototype),{constructor:Texture$$module$js$threejs$three_module,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=a.name;this.image=a.image;this.mipmaps=a.mipmaps.slice(0);this.mapping=
a.mapping;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.internalFormat=a.internalFormat;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.center.copy(a.center);this.rotation=a.rotation;this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrix.copy(a.matrix);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;
this.encoding=a.encoding;return this},toJSON:function(a){const b=void 0===a||"string"===typeof a;if(!b&&void 0!==a.textures[this.uuid])return a.textures[this.uuid];const c={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,
minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const d=this.image;void 0===d.uuid&&(d.uuid=MathUtils$$module$js$threejs$three_module.generateUUID());if(!b&&void 0===a.images[d.uuid]){let e;if(Array.isArray(d)){e=[];for(let g=0,h=d.length;g<h;g++)e.push(ImageUtils$$module$js$threejs$three_module.getDataURL(d[g]))}else e=ImageUtils$$module$js$threejs$three_module.getDataURL(d);
a.images[d.uuid]={uuid:d.uuid,url:e}}c.image=d.uuid}b||(a.textures[this.uuid]=c);return c},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(a){if(this.mapping!==UVMapping$$module$js$threejs$three_module)return a;a.applyMatrix3(this.matrix);if(0>a.x||1<a.x)switch(this.wrapS){case RepeatWrapping$$module$js$threejs$three_module:a.x-=Math.floor(a.x);break;case ClampToEdgeWrapping$$module$js$threejs$three_module:a.x=0>a.x?0:1;break;case MirroredRepeatWrapping$$module$js$threejs$three_module:a.x=
1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapT){case RepeatWrapping$$module$js$threejs$three_module:a.y-=Math.floor(a.y);break;case ClampToEdgeWrapping$$module$js$threejs$three_module:a.y=0>a.y?0:1;break;case MirroredRepeatWrapping$$module$js$threejs$three_module:a.y=1===Math.abs(Math.floor(a.y)%2)?Math.ceil(a.y)-a.y:a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y);return a}});
Object.defineProperty(Texture$$module$js$threejs$three_module.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});
class Vector4$$module$js$threejs$three_module{constructor(a=0,b=0,c=0,d=1){Object.defineProperty(this,"isVector4",{value:!0});this.x=a;this.y=b;this.z=c;this.w=d}get width(){return this.z}set width(a){this.z=a}get height(){return this.w}set height(a){this.w=a}set(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this}setScalar(a){this.w=this.z=this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setZ(a){this.z=a;return this}setW(a){this.w=a;return this}setComponent(a,
b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this}add(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this}addScalar(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this}addVectors(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this}addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;this.w+=a.w*b;return this}sub(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=
a.z;this.w-=a.w;return this}subScalar(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this}subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this}multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this}applyMatrix4(a){const b=this.x,c=this.y,d=this.z,e=this.w;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12]*e;this.y=a[1]*b+a[5]*c+a[9]*d+a[13]*e;this.z=a[2]*b+a[6]*c+a[10]*d+a[14]*e;this.w=a[3]*b+a[7]*c+a[11]*d+a[15]*e;return this}divideScalar(a){return this.multiplyScalar(1/
a)}setAxisAngleFromQuaternion(a){this.w=2*Math.acos(a.w);const b=Math.sqrt(1-a.w*a.w);1E-4>b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this}setAxisAngleFromRotationMatrix(a){a=a.elements;var b=a[0];var c=a[4];var d=a[8];const e=a[1];var g=a[5],h=a[9];var k=a[2];var l=a[6];var m=a[10];if(.01>Math.abs(c-e)&&.01>Math.abs(d-k)&&.01>Math.abs(h-l)){if(.1>Math.abs(c+e)&&.1>Math.abs(d+k)&&.1>Math.abs(h+l)&&.1>Math.abs(b+g+m-3))return this.set(1,0,0,0),this;a=Math.PI;b=(b+
1)/2;g=(g+1)/2;m=(m+1)/2;c=(c+e)/4;d=(d+k)/4;h=(h+l)/4;b>g&&b>m?.01>b?(l=0,c=k=.707106781):(l=Math.sqrt(b),k=c/l,c=d/l):g>m?.01>g?(l=.707106781,k=0,c=.707106781):(k=Math.sqrt(g),l=c/k,c=h/k):.01>m?(k=l=.707106781,c=0):(c=Math.sqrt(m),l=d/c,k=h/c);this.set(l,k,c,a);return this}a=Math.sqrt((l-h)*(l-h)+(d-k)*(d-k)+(e-c)*(e-c));.001>Math.abs(a)&&(a=1);this.x=(l-h)/a;this.y=(d-k)/a;this.z=(e-c)/a;this.w=Math.acos((b+g+m-1)/2);return this}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=
Math.min(this.z,a.z);this.w=Math.min(this.w,a.w);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this}clamp(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));this.w=Math.max(a.w,Math.min(b.w,this.w));return this}clampScalar(a,b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));this.z=Math.max(a,Math.min(b,
this.z));this.w=Math.max(a,Math.min(b,this.w));return this}clampLength(a,b){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=
Math.round(this.w);return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*
this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this}lerpVectors(a,b,c){this.x=a.x+(b.x-a.x)*c;this.y=a.y+(b.y-a.y)*c;this.z=a.z+(b.z-a.z)*c;this.w=a.w+(b.w-a.w)*c;return this}equals(a){return a.x===
this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w}fromArray(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this}toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a}fromBufferAttribute(a,b,c){void 0!==c&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);this.w=a.getW(b);return this}random(){this.x=Math.random();this.y=
Math.random();this.z=Math.random();this.w=Math.random();return this}}
function WebGLRenderTarget$$module$js$threejs$three_module(a,b,c){this.width=a;this.height=b;this.scissor=new Vector4$$module$js$threejs$three_module(0,0,a,b);this.scissorTest=!1;this.viewport=new Vector4$$module$js$threejs$three_module(0,0,a,b);c=c||{};this.texture=new Texture$$module$js$threejs$three_module(void 0,c.mapping,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding);this.texture.image={};this.texture.image.width=a;this.texture.image.height=b;this.texture.generateMipmaps=
void 0!==c.generateMipmaps?c.generateMipmaps:!1;this.texture.minFilter=void 0!==c.minFilter?c.minFilter:LinearFilter$$module$js$threejs$three_module;this.depthBuffer=void 0!==c.depthBuffer?c.depthBuffer:!0;this.stencilBuffer=void 0!==c.stencilBuffer?c.stencilBuffer:!1;this.depthTexture=void 0!==c.depthTexture?c.depthTexture:null}
WebGLRenderTarget$$module$js$threejs$three_module.prototype=Object.assign(Object.create(EventDispatcher$$module$js$threejs$three_module.prototype),{constructor:WebGLRenderTarget$$module$js$threejs$three_module,isWebGLRenderTarget:!0,setSize:function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.texture.image.width=a,this.texture.image.height=b,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.width=
a.width;this.height=a.height;this.viewport.copy(a.viewport);this.texture=a.texture.clone();this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;this.depthTexture=a.depthTexture;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function WebGLMultisampleRenderTarget$$module$js$threejs$three_module(a,b,c){WebGLRenderTarget$$module$js$threejs$three_module.call(this,a,b,c);this.samples=4}
WebGLMultisampleRenderTarget$$module$js$threejs$three_module.prototype=Object.assign(Object.create(WebGLRenderTarget$$module$js$threejs$three_module.prototype),{constructor:WebGLMultisampleRenderTarget$$module$js$threejs$three_module,isWebGLMultisampleRenderTarget:!0,copy:function(a){WebGLRenderTarget$$module$js$threejs$three_module.prototype.copy.call(this,a);this.samples=a.samples;return this}});
class Quaternion$$module$js$threejs$three_module{constructor(a=0,b=0,c=0,d=1){Object.defineProperty(this,"isQuaternion",{value:!0});this._x=a;this._y=b;this._z=c;this._w=d}static slerp(a,b,c,d){return c.copy(a).slerp(b,d)}static slerpFlat(a,b,c,d,e,g,h){let k=c[d+0],l=c[d+1],m=c[d+2];c=c[d+3];d=e[g+0];const n=e[g+1],p=e[g+2];e=e[g+3];if(c!==e||k!==d||l!==n||m!==p){g=1-h;var t=k*d+l*n+m*p+c*e,w=0<=t?1:-1,x=1-t*t;x>Number.EPSILON&&(x=Math.sqrt(x),t=Math.atan2(x,t*w),g=Math.sin(g*t)/x,h=Math.sin(h*t)/
x);w*=h;k=k*g+d*w;l=l*g+n*w;m=m*g+p*w;c=c*g+e*w;g===1-h&&(h=1/Math.sqrt(k*k+l*l+m*m+c*c),k*=h,l*=h,m*=h,c*=h)}a[b]=k;a[b+1]=l;a[b+2]=m;a[b+3]=c}static multiplyQuaternionsFlat(a,b,c,d,e,g){const h=c[d],k=c[d+1],l=c[d+2];c=c[d+3];d=e[g];const m=e[g+1],n=e[g+2];e=e[g+3];a[b]=h*e+c*d+k*n-l*m;a[b+1]=k*e+c*m+l*d-h*n;a[b+2]=l*e+c*n+h*m-k*d;a[b+3]=c*e-h*d-k*m-l*n;return a}get x(){return this._x}set x(a){this._x=a;this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a;this._onChangeCallback()}get z(){return this._z}set z(a){this._z=
a;this._onChangeCallback()}get w(){return this._w}set w(a){this._w=a;this._onChangeCallback()}set(a,b,c,d){this._x=a;this._y=b;this._z=c;this._w=d;this._onChangeCallback();return this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(a){this._x=a.x;this._y=a.y;this._z=a.z;this._w=a.w;this._onChangeCallback();return this}setFromEuler(a,b){if(!a||!a.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var c=a._x,
d=a._y,e=a._z;a=a._order;var g=Math.cos;const h=Math.sin,k=g(c/2),l=g(d/2);g=g(e/2);c=h(c/2);d=h(d/2);e=h(e/2);switch(a){case "XYZ":this._x=c*l*g+k*d*e;this._y=k*d*g-c*l*e;this._z=k*l*e+c*d*g;this._w=k*l*g-c*d*e;break;case "YXZ":this._x=c*l*g+k*d*e;this._y=k*d*g-c*l*e;this._z=k*l*e-c*d*g;this._w=k*l*g+c*d*e;break;case "ZXY":this._x=c*l*g-k*d*e;this._y=k*d*g+c*l*e;this._z=k*l*e+c*d*g;this._w=k*l*g-c*d*e;break;case "ZYX":this._x=c*l*g-k*d*e;this._y=k*d*g+c*l*e;this._z=k*l*e-c*d*g;this._w=k*l*g+c*d*
e;break;case "YZX":this._x=c*l*g+k*d*e;this._y=k*d*g+c*l*e;this._z=k*l*e-c*d*g;this._w=k*l*g-c*d*e;break;case "XZY":this._x=c*l*g-k*d*e;this._y=k*d*g-c*l*e;this._z=k*l*e+c*d*g;this._w=k*l*g+c*d*e;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}!1!==b&&this._onChangeCallback();return this}setFromAxisAngle(a,b){b/=2;const c=Math.sin(b);this._x=a.x*c;this._y=a.y*c;this._z=a.z*c;this._w=Math.cos(b);this._onChangeCallback();return this}setFromRotationMatrix(a){var b=
a.elements,c=b[0];a=b[4];const d=b[8],e=b[1],g=b[5],h=b[9],k=b[2],l=b[6];b=b[10];const m=c+g+b;0<m?(c=.5/Math.sqrt(m+1),this._w=.25/c,this._x=(l-h)*c,this._y=(d-k)*c,this._z=(e-a)*c):c>g&&c>b?(c=2*Math.sqrt(1+c-g-b),this._w=(l-h)/c,this._x=.25*c,this._y=(a+e)/c,this._z=(d+k)/c):g>b?(c=2*Math.sqrt(1+g-c-b),this._w=(d-k)/c,this._x=(a+e)/c,this._y=.25*c,this._z=(h+l)/c):(c=2*Math.sqrt(1+b-c-g),this._w=(e-a)/c,this._x=(d+k)/c,this._y=(h+l)/c,this._z=.25*c);this._onChangeCallback();return this}setFromUnitVectors(a,
b){let c=a.dot(b)+1;1E-6>c?(c=0,Math.abs(a.x)>Math.abs(a.z)?(this._x=-a.y,this._y=a.x,this._z=0):(this._x=0,this._y=-a.z,this._z=a.y)):(this._x=a.y*b.z-a.z*b.y,this._y=a.z*b.x-a.x*b.z,this._z=a.x*b.y-a.y*b.x);this._w=c;return this.normalize()}angleTo(a){return 2*Math.acos(Math.abs(MathUtils$$module$js$threejs$three_module.clamp(this.dot(a),-1,1)))}rotateTowards(a,b){const c=this.angleTo(a);if(0===c)return this;this.slerp(a,Math.min(1,b/c));return this}identity(){return this.set(0,0,0,1)}inverse(){return this.conjugate()}conjugate(){this._x*=
-1;this._y*=-1;this._z*=-1;this._onChangeCallback();return this}dot(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this._onChangeCallback();return this}multiply(a,b){return void 0!==b?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),
this.multiplyQuaternions(a,b)):this.multiplyQuaternions(this,a)}premultiply(a){return this.multiplyQuaternions(a,this)}multiplyQuaternions(a,b){const c=a._x,d=a._y,e=a._z;a=a._w;const g=b._x,h=b._y,k=b._z;b=b._w;this._x=c*b+a*g+d*k-e*h;this._y=d*b+a*h+e*g-c*k;this._z=e*b+a*k+c*h-d*g;this._w=a*b-c*g-d*h-e*k;this._onChangeCallback();return this}slerp(a,b){if(0===b)return this;if(1===b)return this.copy(a);const c=this._x,d=this._y,e=this._z,g=this._w;var h=g*a._w+c*a._x+d*a._y+e*a._z;0>h?(this._w=-a._w,
this._x=-a._x,this._y=-a._y,this._z=-a._z,h=-h):this.copy(a);if(1<=h)return this._w=g,this._x=c,this._y=d,this._z=e,this;a=1-h*h;if(a<=Number.EPSILON)return h=1-b,this._w=h*g+b*this._w,this._x=h*c+b*this._x,this._y=h*d+b*this._y,this._z=h*e+b*this._z,this.normalize(),this._onChangeCallback(),this;a=Math.sqrt(a);const k=Math.atan2(a,h);h=Math.sin((1-b)*k)/a;b=Math.sin(b*k)/a;this._w=g*h+this._w*b;this._x=c*h+this._x*b;this._y=d*h+this._y*b;this._z=e*h+this._z*b;this._onChangeCallback();return this}equals(a){return a._x===
this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w}fromArray(a,b){void 0===b&&(b=0);this._x=a[b];this._y=a[b+1];this._z=a[b+2];this._w=a[b+3];this._onChangeCallback();return this}toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._w;return a}fromBufferAttribute(a,b){this._x=a.getX(b);this._y=a.getY(b);this._z=a.getZ(b);this._w=a.getW(b);return this}_onChange(a){this._onChangeCallback=a;return this}_onChangeCallback(){}}
class Vector3$$module$js$threejs$three_module{constructor(a=0,b=0,c=0){Object.defineProperty(this,"isVector3",{value:!0});this.x=a;this.y=b;this.z=c}set(a,b,c){void 0===c&&(c=this.z);this.x=a;this.y=b;this.z=c;return this}setScalar(a){this.z=this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setZ(a){this.z=a;return this}setComponent(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;
case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(a){this.x=a.x;this.y=a.y;this.z=a.z;return this}add(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this}addScalar(a){this.x+=a;this.y+=a;this.z+=a;return this}addVectors(a,b){this.x=a.x+b.x;this.y=a.y+
b.y;this.z=a.z+b.z;return this}addScaledVector(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this}sub(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this}subScalar(a){this.x-=a;this.y-=a;this.z-=a;return this}subVectors(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this}multiply(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),
this.multiplyVectors(a,b);this.x*=a.x;this.y*=a.y;this.z*=a.z;return this}multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;return this}multiplyVectors(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this}applyEuler(a){a&&a.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");return this.applyQuaternion(_quaternion$$module$js$threejs$three_module.setFromEuler(a))}applyAxisAngle(a,b){return this.applyQuaternion(_quaternion$$module$js$threejs$three_module.setFromAxisAngle(a,
b))}applyMatrix3(a){const b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[3]*c+a[6]*d;this.y=a[1]*b+a[4]*c+a[7]*d;this.z=a[2]*b+a[5]*c+a[8]*d;return this}applyNormalMatrix(a){return this.applyMatrix3(a).normalize()}applyMatrix4(a){const b=this.x,c=this.y,d=this.z;a=a.elements;const e=1/(a[3]*b+a[7]*c+a[11]*d+a[15]);this.x=(a[0]*b+a[4]*c+a[8]*d+a[12])*e;this.y=(a[1]*b+a[5]*c+a[9]*d+a[13])*e;this.z=(a[2]*b+a[6]*c+a[10]*d+a[14])*e;return this}applyQuaternion(a){var b=this.x;const c=this.y,d=
this.z,e=a.x,g=a.y,h=a.z;a=a.w;const k=a*b+g*d-h*c,l=a*c+h*b-e*d,m=a*d+e*c-g*b;b=-e*b-g*c-h*d;this.x=k*a+b*-e+l*-h-m*-g;this.y=l*a+b*-g+m*-e-k*-h;this.z=m*a+b*-h+k*-g-l*-e;return this}project(a){return this.applyMatrix4(a.matrixWorldInverse).applyMatrix4(a.projectionMatrix)}unproject(a){return this.applyMatrix4(a.projectionMatrixInverse).applyMatrix4(a.matrixWorld)}transformDirection(a){const b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d;this.y=a[1]*b+a[5]*c+a[9]*d;this.z=a[2]*
b+a[6]*c+a[10]*d;return this.normalize()}divide(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this}divideScalar(a){return this.multiplyScalar(1/a)}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this}clamp(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this}clampScalar(a,
b){this.x=Math.max(a,Math.min(b,this.x));this.y=Math.max(a,Math.min(b,this.y));this.z=Math.max(a,Math.min(b,this.z));return this}clampLength(a,b){const c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);
return this}roundToZero(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||
1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this}lerpVectors(a,b,c){this.x=a.x+(b.x-a.x)*c;this.y=a.y+(b.y-a.y)*c;this.z=a.z+(b.z-a.z)*c;return this}cross(a,b){return void 0!==b?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(a,b)):this.crossVectors(this,a)}crossVectors(a,b){const c=a.x,d=a.y;a=a.z;const e=b.x,g=b.y;b=b.z;
this.x=d*b-a*g;this.y=a*e-c*b;this.z=c*g-d*e;return this}projectOnVector(a){var b=a.lengthSq();if(0===b)return this.set(0,0,0);b=a.dot(this)/b;return this.copy(a).multiplyScalar(b)}projectOnPlane(a){_vector$$module$js$threejs$three_module.copy(this).projectOnVector(a);return this.sub(_vector$$module$js$threejs$three_module)}reflect(a){return this.sub(_vector$$module$js$threejs$three_module.copy(a).multiplyScalar(2*this.dot(a)))}angleTo(a){const b=Math.sqrt(this.lengthSq()*a.lengthSq());if(0===b)return Math.PI/
2;a=this.dot(a)/b;return Math.acos(MathUtils$$module$js$threejs$three_module.clamp(a,-1,1))}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)+Math.abs(this.z-a.z)}setFromSpherical(a){return this.setFromSphericalCoords(a.radius,a.phi,a.theta)}setFromSphericalCoords(a,b,c){const d=Math.sin(b)*a;this.x=d*Math.sin(c);this.y=Math.cos(b)*a;
this.z=d*Math.cos(c);return this}setFromCylindrical(a){return this.setFromCylindricalCoords(a.radius,a.theta,a.y)}setFromCylindricalCoords(a,b,c){this.x=a*Math.sin(b);this.y=c;this.z=a*Math.cos(b);return this}setFromMatrixPosition(a){a=a.elements;this.x=a[12];this.y=a[13];this.z=a[14];return this}setFromMatrixScale(a){const b=this.setFromMatrixColumn(a,0).length(),c=this.setFromMatrixColumn(a,1).length();a=this.setFromMatrixColumn(a,2).length();this.x=b;this.y=c;this.z=a;return this}setFromMatrixColumn(a,
b){return this.fromArray(a.elements,4*b)}setFromMatrix3Column(a,b){return this.fromArray(a.elements,3*b)}equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z}fromArray(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this}toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a}fromBufferAttribute(a,b,c){void 0!==c&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);
this.z=a.getZ(b);return this}random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();return this}}const _vector$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_quaternion$$module$js$threejs$three_module=new Quaternion$$module$js$threejs$three_module;
class Box3$$module$js$threejs$three_module{constructor(a,b){Object.defineProperty(this,"isBox3",{value:!0});this.min=void 0!==a?a:new Vector3$$module$js$threejs$three_module(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new Vector3$$module$js$threejs$three_module(-Infinity,-Infinity,-Infinity)}set(a,b){this.min.copy(a);this.max.copy(b);return this}setFromArray(a){let b=Infinity,c=Infinity,d=Infinity,e=-Infinity,g=-Infinity,h=-Infinity;for(let k=0,l=a.length;k<l;k+=3){const m=a[k],n=a[k+1],p=a[k+
2];m<b&&(b=m);n<c&&(c=n);p<d&&(d=p);m>e&&(e=m);n>g&&(g=n);p>h&&(h=p)}this.min.set(b,c,d);this.max.set(e,g,h);return this}setFromBufferAttribute(a){let b=Infinity,c=Infinity,d=Infinity,e=-Infinity,g=-Infinity,h=-Infinity;for(let k=0,l=a.count;k<l;k++){const m=a.getX(k),n=a.getY(k),p=a.getZ(k);m<b&&(b=m);n<c&&(c=n);p<d&&(d=p);m>e&&(e=m);n>g&&(g=n);p>h&&(h=p)}this.min.set(b,c,d);this.max.set(e,g,h);return this}setFromPoints(a){this.makeEmpty();for(let b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);
return this}setFromCenterAndSize(a,b){b=_vector$1$$module$js$threejs$three_module.copy(b).multiplyScalar(.5);this.min.copy(a).sub(b);this.max.copy(a).add(b);return this}setFromObject(a){this.makeEmpty();return this.expandByObject(a)}clone(){return(new this.constructor).copy(this)}copy(a){this.min.copy(a.min);this.max.copy(a.max);return this}makeEmpty(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this}isEmpty(){return this.max.x<this.min.x||this.max.y<
this.min.y||this.max.z<this.min.z}getCenter(a){void 0===a&&(console.warn("THREE.Box3: .getCenter() target is now required"),a=new Vector3$$module$js$threejs$three_module);return this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(a){void 0===a&&(console.warn("THREE.Box3: .getSize() target is now required"),a=new Vector3$$module$js$threejs$three_module);return this.isEmpty()?a.set(0,0,0):a.subVectors(this.max,this.min)}expandByPoint(a){this.min.min(a);this.max.max(a);
return this}expandByVector(a){this.min.sub(a);this.max.add(a);return this}expandByScalar(a){this.min.addScalar(-a);this.max.addScalar(a);return this}expandByObject(a){a.updateWorldMatrix(!1,!1);const b=a.geometry;void 0!==b&&(null===b.boundingBox&&b.computeBoundingBox(),_box$$module$js$threejs$three_module.copy(b.boundingBox),_box$$module$js$threejs$three_module.applyMatrix4(a.matrixWorld),this.union(_box$$module$js$threejs$three_module));a=a.children;for(let c=0,d=a.length;c<d;c++)this.expandByObject(a[c]);
return this}containsPoint(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0}containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z}getParameter(a,b){void 0===b&&(console.warn("THREE.Box3: .getParameter() target is now required"),b=new Vector3$$module$js$threejs$three_module);return b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-
this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0}intersectsSphere(a){this.clampPoint(a.center,_vector$1$$module$js$threejs$three_module);return _vector$1$$module$js$threejs$three_module.distanceToSquared(a.center)<=a.radius*a.radius}intersectsPlane(a){let b,c;0<a.normal.x?(b=a.normal.x*this.min.x,c=a.normal.x*this.max.x):(b=a.normal.x*this.max.x,
c=a.normal.x*this.min.x);0<a.normal.y?(b+=a.normal.y*this.min.y,c+=a.normal.y*this.max.y):(b+=a.normal.y*this.max.y,c+=a.normal.y*this.min.y);0<a.normal.z?(b+=a.normal.z*this.min.z,c+=a.normal.z*this.max.z):(b+=a.normal.z*this.max.z,c+=a.normal.z*this.min.z);return b<=-a.constant&&c>=-a.constant}intersectsTriangle(a){if(this.isEmpty())return!1;this.getCenter(_center$$module$js$threejs$three_module);_extents$$module$js$threejs$three_module.subVectors(this.max,_center$$module$js$threejs$three_module);
_v0$$module$js$threejs$three_module.subVectors(a.a,_center$$module$js$threejs$three_module);_v1$$module$js$threejs$three_module.subVectors(a.b,_center$$module$js$threejs$three_module);_v2$$module$js$threejs$three_module.subVectors(a.c,_center$$module$js$threejs$three_module);_f0$$module$js$threejs$three_module.subVectors(_v1$$module$js$threejs$three_module,_v0$$module$js$threejs$three_module);_f1$$module$js$threejs$three_module.subVectors(_v2$$module$js$threejs$three_module,_v1$$module$js$threejs$three_module);
_f2$$module$js$threejs$three_module.subVectors(_v0$$module$js$threejs$three_module,_v2$$module$js$threejs$three_module);a=[0,-_f0$$module$js$threejs$three_module.z,_f0$$module$js$threejs$three_module.y,0,-_f1$$module$js$threejs$three_module.z,_f1$$module$js$threejs$three_module.y,0,-_f2$$module$js$threejs$three_module.z,_f2$$module$js$threejs$three_module.y,_f0$$module$js$threejs$three_module.z,0,-_f0$$module$js$threejs$three_module.x,_f1$$module$js$threejs$three_module.z,0,-_f1$$module$js$threejs$three_module.x,
_f2$$module$js$threejs$three_module.z,0,-_f2$$module$js$threejs$three_module.x,-_f0$$module$js$threejs$three_module.y,_f0$$module$js$threejs$three_module.x,0,-_f1$$module$js$threejs$three_module.y,_f1$$module$js$threejs$three_module.x,0,-_f2$$module$js$threejs$three_module.y,_f2$$module$js$threejs$three_module.x,0];if(!satForAxes$$module$js$threejs$three_module(a,_v0$$module$js$threejs$three_module,_v1$$module$js$threejs$three_module,_v2$$module$js$threejs$three_module,_extents$$module$js$threejs$three_module))return!1;
a=[1,0,0,0,1,0,0,0,1];if(!satForAxes$$module$js$threejs$three_module(a,_v0$$module$js$threejs$three_module,_v1$$module$js$threejs$three_module,_v2$$module$js$threejs$three_module,_extents$$module$js$threejs$three_module))return!1;_triangleNormal$$module$js$threejs$three_module.crossVectors(_f0$$module$js$threejs$three_module,_f1$$module$js$threejs$three_module);a=[_triangleNormal$$module$js$threejs$three_module.x,_triangleNormal$$module$js$threejs$three_module.y,_triangleNormal$$module$js$threejs$three_module.z];
return satForAxes$$module$js$threejs$three_module(a,_v0$$module$js$threejs$three_module,_v1$$module$js$threejs$three_module,_v2$$module$js$threejs$three_module,_extents$$module$js$threejs$three_module)}clampPoint(a,b){void 0===b&&(console.warn("THREE.Box3: .clampPoint() target is now required"),b=new Vector3$$module$js$threejs$three_module);return b.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return _vector$1$$module$js$threejs$three_module.copy(a).clamp(this.min,this.max).sub(a).length()}getBoundingSphere(a){void 0===
a&&console.error("THREE.Box3: .getBoundingSphere() target is now required");this.getCenter(a.center);a.radius=.5*this.getSize(_vector$1$$module$js$threejs$three_module).length();return a}intersect(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this}union(a){this.min.min(a.min);this.max.max(a.max);return this}applyMatrix4(a){if(this.isEmpty())return this;_points$$module$js$threejs$three_module[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(a);_points$$module$js$threejs$three_module[1].set(this.min.x,
this.min.y,this.max.z).applyMatrix4(a);_points$$module$js$threejs$three_module[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(a);_points$$module$js$threejs$three_module[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(a);_points$$module$js$threejs$three_module[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(a);_points$$module$js$threejs$three_module[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(a);_points$$module$js$threejs$three_module[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(a);
_points$$module$js$threejs$three_module[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(a);this.setFromPoints(_points$$module$js$threejs$three_module);return this}translate(a){this.min.add(a);this.max.add(a);return this}equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}
function satForAxes$$module$js$threejs$three_module(a,b,c,d,e){for(let g=0,h=a.length-3;g<=h;g+=3){_testAxis$$module$js$threejs$three_module.fromArray(a,g);const k=e.x*Math.abs(_testAxis$$module$js$threejs$three_module.x)+e.y*Math.abs(_testAxis$$module$js$threejs$three_module.y)+e.z*Math.abs(_testAxis$$module$js$threejs$three_module.z),l=b.dot(_testAxis$$module$js$threejs$three_module),m=c.dot(_testAxis$$module$js$threejs$three_module),n=d.dot(_testAxis$$module$js$threejs$three_module);if(Math.max(-Math.max(l,
m,n),Math.min(l,m,n))>k)return!1}return!0}
const _points$$module$js$threejs$three_module=[new Vector3$$module$js$threejs$three_module,new Vector3$$module$js$threejs$three_module,new Vector3$$module$js$threejs$three_module,new Vector3$$module$js$threejs$three_module,new Vector3$$module$js$threejs$three_module,new Vector3$$module$js$threejs$three_module,new Vector3$$module$js$threejs$three_module,new Vector3$$module$js$threejs$three_module],_vector$1$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_box$$module$js$threejs$three_module=
new Box3$$module$js$threejs$three_module,_v0$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_v1$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_v2$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_f0$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_f1$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_f2$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,
_center$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_extents$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_triangleNormal$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_testAxis$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_box$1$$module$js$threejs$three_module=new Box3$$module$js$threejs$three_module;
class Sphere$$module$js$threejs$three_module{constructor(a,b){this.center=void 0!==a?a:new Vector3$$module$js$threejs$three_module;this.radius=void 0!==b?b:-1}set(a,b){this.center.copy(a);this.radius=b;return this}setFromPoints(a,b){const c=this.center;void 0!==b?c.copy(b):_box$1$$module$js$threejs$three_module.setFromPoints(a).getCenter(c);b=0;for(let d=0,e=a.length;d<e;d++)b=Math.max(b,c.distanceToSquared(a[d]));this.radius=Math.sqrt(b);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.center.copy(a.center);
this.radius=a.radius;return this}isEmpty(){return 0>this.radius}makeEmpty(){this.center.set(0,0,0);this.radius=-1;return this}containsPoint(a){return a.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(a){return a.distanceTo(this.center)-this.radius}intersectsSphere(a){const b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=b*b}intersectsBox(a){return a.intersectsSphere(this)}intersectsPlane(a){return Math.abs(a.distanceToPoint(this.center))<=this.radius}clampPoint(a,
b){const c=this.center.distanceToSquared(a);void 0===b&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),b=new Vector3$$module$js$threejs$three_module);b.copy(a);c>this.radius*this.radius&&(b.sub(this.center).normalize(),b.multiplyScalar(this.radius).add(this.center));return b}getBoundingBox(a){void 0===a&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),a=new Box3$$module$js$threejs$three_module);if(this.isEmpty())return a.makeEmpty(),a;a.set(this.center,
this.center);a.expandByScalar(this.radius);return a}applyMatrix4(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this}translate(a){this.center.add(a);return this}equals(a){return a.center.equals(this.center)&&a.radius===this.radius}}
const _vector$2$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_segCenter$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_segDir$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_diff$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_edge1$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_edge2$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,
_normal$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module;
class Ray$$module$js$threejs$three_module{constructor(a,b){this.origin=void 0!==a?a:new Vector3$$module$js$threejs$three_module;this.direction=void 0!==b?b:new Vector3$$module$js$threejs$three_module(0,0,-1)}set(a,b){this.origin.copy(a);this.direction.copy(b);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this}at(a,b){void 0===b&&(console.warn("THREE.Ray: .at() target is now required"),b=new Vector3$$module$js$threejs$three_module);
return b.copy(this.direction).multiplyScalar(a).add(this.origin)}lookAt(a){this.direction.copy(a).sub(this.origin).normalize();return this}recast(a){this.origin.copy(this.at(a,_vector$2$$module$js$threejs$three_module));return this}closestPointToPoint(a,b){void 0===b&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),b=new Vector3$$module$js$threejs$three_module);b.subVectors(a,this.origin);a=b.dot(this.direction);return 0>a?b.copy(this.origin):b.copy(this.direction).multiplyScalar(a).add(this.origin)}distanceToPoint(a){return Math.sqrt(this.distanceSqToPoint(a))}distanceSqToPoint(a){const b=
_vector$2$$module$js$threejs$three_module.subVectors(a,this.origin).dot(this.direction);if(0>b)return this.origin.distanceToSquared(a);_vector$2$$module$js$threejs$three_module.copy(this.direction).multiplyScalar(b).add(this.origin);return _vector$2$$module$js$threejs$three_module.distanceToSquared(a)}distanceSqToSegment(a,b,c,d){_segCenter$$module$js$threejs$three_module.copy(a).add(b).multiplyScalar(.5);_segDir$$module$js$threejs$three_module.copy(b).sub(a).normalize();_diff$$module$js$threejs$three_module.copy(this.origin).sub(_segCenter$$module$js$threejs$three_module);
var e=.5*a.distanceTo(b),g=-this.direction.dot(_segDir$$module$js$threejs$three_module);const h=_diff$$module$js$threejs$three_module.dot(this.direction),k=-_diff$$module$js$threejs$three_module.dot(_segDir$$module$js$threejs$three_module),l=_diff$$module$js$threejs$three_module.lengthSq(),m=Math.abs(1-g*g);let n;0<m?(a=g*k-h,b=g*h-k,n=e*m,0<=a?b>=-n?b<=n?(e=1/m,a*=e,b*=e,g=a*(a+g*b+2*h)+b*(g*a+b+2*k)+l):(b=e,a=Math.max(0,-(g*b+h)),g=-a*a+b*(b+2*k)+l):(b=-e,a=Math.max(0,-(g*b+h)),g=-a*a+b*(b+2*k)+
l):b<=-n?(a=Math.max(0,-(-g*e+h)),b=0<a?-e:Math.min(Math.max(-e,-k),e),g=-a*a+b*(b+2*k)+l):b<=n?(a=0,b=Math.min(Math.max(-e,-k),e),g=b*(b+2*k)+l):(a=Math.max(0,-(g*e+h)),b=0<a?e:Math.min(Math.max(-e,-k),e),g=-a*a+b*(b+2*k)+l)):(b=0<g?-e:e,a=Math.max(0,-(g*b+h)),g=-a*a+b*(b+2*k)+l);c&&c.copy(this.direction).multiplyScalar(a).add(this.origin);d&&d.copy(_segDir$$module$js$threejs$three_module).multiplyScalar(b).add(_segCenter$$module$js$threejs$three_module);return g}intersectSphere(a,b){_vector$2$$module$js$threejs$three_module.subVectors(a.center,
this.origin);var c=_vector$2$$module$js$threejs$three_module.dot(this.direction),d=_vector$2$$module$js$threejs$three_module.dot(_vector$2$$module$js$threejs$three_module)-c*c;a=a.radius*a.radius;if(d>a)return null;a=Math.sqrt(a-d);d=c-a;c+=a;return 0>d&&0>c?null:0>d?this.at(c,b):this.at(d,b)}intersectsSphere(a){return this.distanceSqToPoint(a.center)<=a.radius*a.radius}distanceToPlane(a){const b=a.normal.dot(this.direction);if(0===b)return 0===a.distanceToPoint(this.origin)?0:null;a=-(this.origin.dot(a.normal)+
a.constant)/b;return 0<=a?a:null}intersectPlane(a,b){a=this.distanceToPlane(a);return null===a?null:this.at(a,b)}intersectsPlane(a){const b=a.distanceToPoint(this.origin);return 0===b||0>a.normal.dot(this.direction)*b?!0:!1}intersectBox(a,b){let c;var d=1/this.direction.x;var e=1/this.direction.y;const g=1/this.direction.z,h=this.origin;0<=d?(c=(a.min.x-h.x)*d,d*=a.max.x-h.x):(c=(a.max.x-h.x)*d,d*=a.min.x-h.x);if(0<=e){var k=(a.min.y-h.y)*e;e*=a.max.y-h.y}else k=(a.max.y-h.y)*e,e*=a.min.y-h.y;if(c>
e||k>d)return null;if(k>c||c!==c)c=k;if(e<d||d!==d)d=e;0<=g?(k=(a.min.z-h.z)*g,a=(a.max.z-h.z)*g):(k=(a.max.z-h.z)*g,a=(a.min.z-h.z)*g);if(c>a||k>d)return null;if(k>c||c!==c)c=k;if(a<d||d!==d)d=a;return 0>d?null:this.at(0<=c?c:d,b)}intersectsBox(a){return null!==this.intersectBox(a,_vector$2$$module$js$threejs$three_module)}intersectTriangle(a,b,c,d,e){_edge1$$module$js$threejs$three_module.subVectors(b,a);_edge2$$module$js$threejs$three_module.subVectors(c,a);_normal$$module$js$threejs$three_module.crossVectors(_edge1$$module$js$threejs$three_module,
_edge2$$module$js$threejs$three_module);b=this.direction.dot(_normal$$module$js$threejs$three_module);if(0<b){if(d)return null;d=1}else if(0>b)d=-1,b=-b;else return null;_diff$$module$js$threejs$three_module.subVectors(this.origin,a);a=d*this.direction.dot(_edge2$$module$js$threejs$three_module.crossVectors(_diff$$module$js$threejs$three_module,_edge2$$module$js$threejs$three_module));if(0>a)return null;c=d*this.direction.dot(_edge1$$module$js$threejs$three_module.cross(_diff$$module$js$threejs$three_module));
if(0>c||a+c>b)return null;a=-d*_diff$$module$js$threejs$three_module.dot(_normal$$module$js$threejs$three_module);return 0>a?null:this.at(a/b,e)}applyMatrix4(a){this.origin.applyMatrix4(a);this.direction.transformDirection(a);return this}equals(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}}
class Matrix4$$module$js$threejs$three_module{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0});this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(a,b,c,d,e,g,h,k,l,m,n,p,t,w,x,A){const r=this.elements;r[0]=a;r[4]=b;r[8]=c;r[12]=d;r[1]=e;r[5]=g;r[9]=h;r[13]=k;r[2]=l;r[6]=m;r[10]=n;r[14]=p;r[3]=t;r[7]=w;r[11]=x;r[15]=A;return this}identity(){this.set(1,0,0,0,0,1,0,0,0,
0,1,0,0,0,0,1);return this}clone(){return(new Matrix4$$module$js$threejs$three_module).fromArray(this.elements)}copy(a){const b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return this}copyPosition(a){const b=this.elements;a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this}extractBasis(a,b,c){a.setFromMatrixColumn(this,0);b.setFromMatrixColumn(this,
1);c.setFromMatrixColumn(this,2);return this}makeBasis(a,b,c){this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1);return this}extractRotation(a){const b=this.elements,c=a.elements,d=1/_v1$1$$module$js$threejs$three_module.setFromMatrixColumn(a,0).length(),e=1/_v1$1$$module$js$threejs$three_module.setFromMatrixColumn(a,1).length();a=1/_v1$1$$module$js$threejs$three_module.setFromMatrixColumn(a,2).length();b[0]=c[0]*d;b[1]=c[1]*d;b[2]=c[2]*d;b[3]=0;b[4]=c[4]*e;b[5]=c[5]*e;b[6]=c[6]*e;b[7]=0;
b[8]=c[8]*a;b[9]=c[9]*a;b[10]=c[10]*a;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this}makeRotationFromEuler(a){a&&a.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const b=this.elements;var c=a.x,d=a.y,e=a.z;const g=Math.cos(c);c=Math.sin(c);const h=Math.cos(d);d=Math.sin(d);const k=Math.cos(e);e=Math.sin(e);if("XYZ"===a.order){a=g*k;var l=g*e,m=c*k,n=c*e;b[0]=h*k;b[4]=-h*e;b[8]=d;b[1]=l+m*d;b[5]=a-n*d;b[9]=-c*h;b[2]=
n-a*d;b[6]=m+l*d;b[10]=g*h}else"YXZ"===a.order?(a=h*k,l=h*e,m=d*k,n=d*e,b[0]=a+n*c,b[4]=m*c-l,b[8]=g*d,b[1]=g*e,b[5]=g*k,b[9]=-c,b[2]=l*c-m,b[6]=n+a*c,b[10]=g*h):"ZXY"===a.order?(a=h*k,l=h*e,m=d*k,n=d*e,b[0]=a-n*c,b[4]=-g*e,b[8]=m+l*c,b[1]=l+m*c,b[5]=g*k,b[9]=n-a*c,b[2]=-g*d,b[6]=c,b[10]=g*h):"ZYX"===a.order?(a=g*k,l=g*e,m=c*k,n=c*e,b[0]=h*k,b[4]=m*d-l,b[8]=a*d+n,b[1]=h*e,b[5]=n*d+a,b[9]=l*d-m,b[2]=-d,b[6]=c*h,b[10]=g*h):"YZX"===a.order?(a=g*h,l=g*d,m=c*h,n=c*d,b[0]=h*k,b[4]=n-a*e,b[8]=m*e+l,b[1]=
e,b[5]=g*k,b[9]=-c*k,b[2]=-d*k,b[6]=l*e+m,b[10]=a-n*e):"XZY"===a.order&&(a=g*h,l=g*d,m=c*h,n=c*d,b[0]=h*k,b[4]=-e,b[8]=d*k,b[1]=a*e+n,b[5]=g*k,b[9]=l*e-m,b[2]=m*e-l,b[6]=c*k,b[10]=n*e+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this}makeRotationFromQuaternion(a){return this.compose(_zero$$module$js$threejs$three_module,a,_one$$module$js$threejs$three_module)}lookAt(a,b,c){const d=this.elements;_z$$module$js$threejs$three_module.subVectors(a,b);0===_z$$module$js$threejs$three_module.lengthSq()&&
(_z$$module$js$threejs$three_module.z=1);_z$$module$js$threejs$three_module.normalize();_x$$module$js$threejs$three_module.crossVectors(c,_z$$module$js$threejs$three_module);0===_x$$module$js$threejs$three_module.lengthSq()&&(1===Math.abs(c.z)?_z$$module$js$threejs$three_module.x+=1E-4:_z$$module$js$threejs$three_module.z+=1E-4,_z$$module$js$threejs$three_module.normalize(),_x$$module$js$threejs$three_module.crossVectors(c,_z$$module$js$threejs$three_module));_x$$module$js$threejs$three_module.normalize();
_y$$module$js$threejs$three_module.crossVectors(_z$$module$js$threejs$three_module,_x$$module$js$threejs$three_module);d[0]=_x$$module$js$threejs$three_module.x;d[4]=_y$$module$js$threejs$three_module.x;d[8]=_z$$module$js$threejs$three_module.x;d[1]=_x$$module$js$threejs$three_module.y;d[5]=_y$$module$js$threejs$three_module.y;d[9]=_z$$module$js$threejs$three_module.y;d[2]=_x$$module$js$threejs$three_module.z;d[6]=_y$$module$js$threejs$three_module.z;d[10]=_z$$module$js$threejs$three_module.z;return this}multiply(a,
b){return void 0!==b?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(a,b)):this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,b){var c=a.elements,d=b.elements;b=this.elements;a=c[0];const e=c[4],g=c[8],h=c[12],k=c[1],l=c[5],m=c[9],n=c[13],p=c[2],t=c[6],w=c[10],x=c[14],A=c[3],r=c[7],E=c[11];c=c[15];const B=d[0],G=d[4],H=d[8],O=d[12],N=d[1],U=d[5],W=d[9],J=d[13],
aa=d[2],ba=d[6],z=d[10],K=d[14],Q=d[3],M=d[7],L=d[11];d=d[15];b[0]=a*B+e*N+g*aa+h*Q;b[4]=a*G+e*U+g*ba+h*M;b[8]=a*H+e*W+g*z+h*L;b[12]=a*O+e*J+g*K+h*d;b[1]=k*B+l*N+m*aa+n*Q;b[5]=k*G+l*U+m*ba+n*M;b[9]=k*H+l*W+m*z+n*L;b[13]=k*O+l*J+m*K+n*d;b[2]=p*B+t*N+w*aa+x*Q;b[6]=p*G+t*U+w*ba+x*M;b[10]=p*H+t*W+w*z+x*L;b[14]=p*O+t*J+w*K+x*d;b[3]=A*B+r*N+E*aa+c*Q;b[7]=A*G+r*U+E*ba+c*M;b[11]=A*H+r*W+E*z+c*L;b[15]=A*O+r*J+E*K+c*d;return this}multiplyScalar(a){const b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=
a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this}determinant(){const a=this.elements,b=a[0],c=a[4],d=a[8],e=a[12],g=a[1],h=a[5],k=a[9],l=a[13],m=a[2],n=a[6],p=a[10],t=a[14];return a[3]*(+e*k*n-d*l*n-e*h*p+c*l*p+d*h*t-c*k*t)+a[7]*(+b*k*t-b*l*p+e*g*p-d*g*t+d*l*m-e*k*m)+a[11]*(+b*l*n-b*h*t-e*g*n+c*g*t+e*h*m-c*l*m)+a[15]*(-d*h*m-b*k*n+b*h*p+d*g*n-c*g*p+c*k*m)}transpose(){const a=this.elements;let b;b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=
b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this}setPosition(a,b,c){const d=this.elements;a.isVector3?(d[12]=a.x,d[13]=a.y,d[14]=a.z):(d[12]=a,d[13]=b,d[14]=c);return this}getInverse(a,b){void 0!==b&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");b=this.elements;var c=a.elements;a=c[0];const d=c[1],e=c[2],g=c[3],h=c[4],k=c[5],l=c[6],m=c[7],n=c[8],p=c[9],t=c[10],w=c[11],x=c[12],A=
c[13],r=c[14];c=c[15];const E=p*r*m-A*t*m+A*l*w-k*r*w-p*l*c+k*t*c,B=x*t*m-n*r*m-x*l*w+h*r*w+n*l*c-h*t*c,G=n*A*m-x*p*m+x*k*w-h*A*w-n*k*c+h*p*c,H=x*p*l-n*A*l-x*k*t+h*A*t+n*k*r-h*p*r;var O=a*E+d*B+e*G+g*H;if(0===O)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);O=1/O;b[0]=E*O;b[1]=(A*t*g-p*r*g-A*e*w+d*r*w+p*e*c-d*t*c)*O;b[2]=(k*r*g-A*l*g+A*e*m-d*r*m-k*e*c+d*l*c)*O;b[3]=(p*l*g-k*t*g-p*e*m+d*t*m+k*e*w-d*l*w)*O;b[4]=B*O;b[5]=(n*r*g-x*t*g+x*e*w-a*r*w-n*e*c+a*t*c)*O;b[6]=(x*l*g-h*r*g-x*e*m+a*r*m+h*e*c-a*
l*c)*O;b[7]=(h*t*g-n*l*g+n*e*m-a*t*m-h*e*w+a*l*w)*O;b[8]=G*O;b[9]=(x*p*g-n*A*g-x*d*w+a*A*w+n*d*c-a*p*c)*O;b[10]=(h*A*g-x*k*g+x*d*m-a*A*m-h*d*c+a*k*c)*O;b[11]=(n*k*g-h*p*g-n*d*m+a*p*m+h*d*w-a*k*w)*O;b[12]=H*O;b[13]=(n*A*e-x*p*e+x*d*t-a*A*t-n*d*r+a*p*r)*O;b[14]=(x*k*e-h*A*e-x*d*l+a*A*l+h*d*r-a*k*r)*O;b[15]=(h*p*e-n*k*e+n*d*l-a*p*l-h*d*t+a*k*t)*O;return this}scale(a){const b=this.elements,c=a.x,d=a.y;a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=c;b[7]*=d;b[11]*=
a;return this}getMaxScaleOnAxis(){const a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]))}makeTranslation(a,b,c){this.set(1,0,0,a,0,1,0,b,0,0,1,c,0,0,0,1);return this}makeRotationX(a){const b=Math.cos(a);a=Math.sin(a);this.set(1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1);return this}makeRotationY(a){const b=Math.cos(a);a=Math.sin(a);this.set(b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1);return this}makeRotationZ(a){const b=Math.cos(a);
a=Math.sin(a);this.set(b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1);return this}makeRotationAxis(a,b){const c=Math.cos(b);b=Math.sin(b);const d=1-c,e=a.x,g=a.y;a=a.z;const h=d*e,k=d*g;this.set(h*e+c,h*g-b*a,h*a+b*g,0,h*g+b*a,k*g+c,k*a-b*e,0,h*a-b*g,k*a+b*e,d*a*a+c,0,0,0,0,1);return this}makeScale(a,b,c){this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1);return this}makeShear(a,b,c){this.set(1,b,c,0,a,1,c,0,a,b,1,0,0,0,0,1);return this}compose(a,b,c){const d=this.elements;var e=b._x,g=b._y,h=b._z,k=b._w,l=e+e,m=g+g,n=
h+h;b=e*l;const p=e*m;e*=n;const t=g*m;g*=n;h*=n;l*=k;m*=k;k*=n;n=c.x;const w=c.y;c=c.z;d[0]=(1-(t+h))*n;d[1]=(p+k)*n;d[2]=(e-m)*n;d[3]=0;d[4]=(p-k)*w;d[5]=(1-(b+h))*w;d[6]=(g+l)*w;d[7]=0;d[8]=(e+m)*c;d[9]=(g-l)*c;d[10]=(1-(b+t))*c;d[11]=0;d[12]=a.x;d[13]=a.y;d[14]=a.z;d[15]=1;return this}decompose(a,b,c){var d=this.elements;let e=_v1$1$$module$js$threejs$three_module.set(d[0],d[1],d[2]).length();const g=_v1$1$$module$js$threejs$three_module.set(d[4],d[5],d[6]).length(),h=_v1$1$$module$js$threejs$three_module.set(d[8],
d[9],d[10]).length();0>this.determinant()&&(e=-e);a.x=d[12];a.y=d[13];a.z=d[14];_m1$$module$js$threejs$three_module.copy(this);a=1/e;d=1/g;const k=1/h;_m1$$module$js$threejs$three_module.elements[0]*=a;_m1$$module$js$threejs$three_module.elements[1]*=a;_m1$$module$js$threejs$three_module.elements[2]*=a;_m1$$module$js$threejs$three_module.elements[4]*=d;_m1$$module$js$threejs$three_module.elements[5]*=d;_m1$$module$js$threejs$three_module.elements[6]*=d;_m1$$module$js$threejs$three_module.elements[8]*=
k;_m1$$module$js$threejs$three_module.elements[9]*=k;_m1$$module$js$threejs$three_module.elements[10]*=k;b.setFromRotationMatrix(_m1$$module$js$threejs$three_module);c.x=e;c.y=g;c.z=h;return this}makePerspective(a,b,c,d,e,g){void 0===g&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const h=this.elements;h[0]=2*e/(b-a);h[4]=0;h[8]=(b+a)/(b-a);h[12]=0;h[1]=0;h[5]=2*e/(c-d);h[9]=(c+d)/(c-d);h[13]=0;h[2]=0;h[6]=0;h[10]=-(g+e)/(g-e);
h[14]=-2*g*e/(g-e);h[3]=0;h[7]=0;h[11]=-1;h[15]=0;return this}makeOrthographic(a,b,c,d,e,g){const h=this.elements,k=1/(b-a),l=1/(c-d),m=1/(g-e);h[0]=2*k;h[4]=0;h[8]=0;h[12]=-((b+a)*k);h[1]=0;h[5]=2*l;h[9]=0;h[13]=-((c+d)*l);h[2]=0;h[6]=0;h[10]=-2*m;h[14]=-((g+e)*m);h[3]=0;h[7]=0;h[11]=0;h[15]=1;return this}equals(a){const b=this.elements;a=a.elements;for(let c=0;16>c;c++)if(b[c]!==a[c])return!1;return!0}fromArray(a,b){void 0===b&&(b=0);for(let c=0;16>c;c++)this.elements[c]=a[c+b];return this}toArray(a,
b){void 0===a&&(a=[]);void 0===b&&(b=0);const c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a}}
const _v1$1$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_m1$$module$js$threejs$three_module=new Matrix4$$module$js$threejs$three_module,_zero$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module(0,0,0),_one$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module(1,1,1),_x$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_y$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,
_z$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module;
class Euler$$module$js$threejs$three_module{constructor(a=0,b=0,c=0,d=Euler$$module$js$threejs$three_module.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0});this._x=a;this._y=b;this._z=c;this._order=d}get x(){return this._x}set x(a){this._x=a;this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a;this._onChangeCallback()}get z(){return this._z}set z(a){this._z=a;this._onChangeCallback()}get order(){return this._order}set order(a){this._order=a;this._onChangeCallback()}set(a,
b,c,d){this._x=a;this._y=b;this._z=c;this._order=d||this._order;this._onChangeCallback();return this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this._onChangeCallback();return this}setFromRotationMatrix(a,b,c){const d=MathUtils$$module$js$threejs$three_module.clamp;var e=a.elements;a=e[0];const g=e[4],h=e[8],k=e[1],l=e[5],m=e[9],n=e[2],p=e[6];e=e[10];b=b||this._order;switch(b){case "XYZ":this._y=Math.asin(d(h,
-1,1));.9999999>Math.abs(h)?(this._x=Math.atan2(-m,e),this._z=Math.atan2(-g,a)):(this._x=Math.atan2(p,l),this._z=0);break;case "YXZ":this._x=Math.asin(-d(m,-1,1));.9999999>Math.abs(m)?(this._y=Math.atan2(h,e),this._z=Math.atan2(k,l)):(this._y=Math.atan2(-n,a),this._z=0);break;case "ZXY":this._x=Math.asin(d(p,-1,1));.9999999>Math.abs(p)?(this._y=Math.atan2(-n,e),this._z=Math.atan2(-g,l)):(this._y=0,this._z=Math.atan2(k,a));break;case "ZYX":this._y=Math.asin(-d(n,-1,1));.9999999>Math.abs(n)?(this._x=
Math.atan2(p,e),this._z=Math.atan2(k,a)):(this._x=0,this._z=Math.atan2(-g,l));break;case "YZX":this._z=Math.asin(d(k,-1,1));.9999999>Math.abs(k)?(this._x=Math.atan2(-m,l),this._y=Math.atan2(-n,a)):(this._x=0,this._y=Math.atan2(h,e));break;case "XZY":this._z=Math.asin(-d(g,-1,1));.9999999>Math.abs(g)?(this._x=Math.atan2(p,l),this._y=Math.atan2(h,a)):(this._x=Math.atan2(-m,e),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+b)}this._order=
b;!1!==c&&this._onChangeCallback();return this}setFromQuaternion(a,b,c){_matrix$$module$js$threejs$three_module.makeRotationFromQuaternion(a);return this.setFromRotationMatrix(_matrix$$module$js$threejs$three_module,b,c)}setFromVector3(a,b){return this.set(a.x,a.y,a.z,b||this._order)}reorder(a){_quaternion$1$$module$js$threejs$three_module.setFromEuler(this);return this.setFromQuaternion(_quaternion$1$$module$js$threejs$three_module,a)}equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&
a._order===this._order}fromArray(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this._onChangeCallback();return this}toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a}toVector3(a){return a?a.set(this._x,this._y,this._z):new Vector3$$module$js$threejs$three_module(this._x,this._y,this._z)}_onChange(a){this._onChangeCallback=a;return this}_onChangeCallback(){}}
Euler$$module$js$threejs$three_module.DefaultOrder="XYZ";Euler$$module$js$threejs$three_module.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");const _matrix$$module$js$threejs$three_module=new Matrix4$$module$js$threejs$three_module,_quaternion$1$$module$js$threejs$three_module=new Quaternion$$module$js$threejs$three_module;
class Layers$$module$js$threejs$three_module{constructor(){this.mask=1}set(a){this.mask=1<<a|0}enable(a){this.mask=this.mask|1<<a|0}enableAll(){this.mask=-1}toggle(a){this.mask^=1<<a|0}disable(a){this.mask&=~(1<<a|0)}disableAll(){this.mask=0}test(a){return 0!==(this.mask&a.mask)}}let _object3DId$$module$js$threejs$three_module=0;
const _v1$2$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_q1$$module$js$threejs$three_module=new Quaternion$$module$js$threejs$three_module,_m1$1$$module$js$threejs$three_module=new Matrix4$$module$js$threejs$three_module,_target$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_position$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_scale$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,
_quaternion$2$$module$js$threejs$three_module=new Quaternion$$module$js$threejs$three_module,_xAxis$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module(1,0,0),_yAxis$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module(0,1,0),_zAxis$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module(0,0,1),_addedEvent$$module$js$threejs$three_module={type:"added"},_removedEvent$$module$js$threejs$three_module={type:"removed"};
function Object3D$$module$js$threejs$three_module(){Object.defineProperty(this,"id",{value:_object3DId$$module$js$threejs$three_module++});this.uuid=MathUtils$$module$js$threejs$three_module.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=Object3D$$module$js$threejs$three_module.DefaultUp.clone();const a=new Vector3$$module$js$threejs$three_module,b=new Euler$$module$js$threejs$three_module,c=new Quaternion$$module$js$threejs$three_module,d=new Vector3$$module$js$threejs$three_module(1,
1,1);b._onChange(function(){c.setFromEuler(b,!1)});c._onChange(function(){b.setFromQuaternion(c,void 0,!1)});Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:a},rotation:{configurable:!0,enumerable:!0,value:b},quaternion:{configurable:!0,enumerable:!0,value:c},scale:{configurable:!0,enumerable:!0,value:d},modelViewMatrix:{value:new Matrix4$$module$js$threejs$three_module},normalMatrix:{value:new Matrix3$$module$js$threejs$three_module}});this.matrix=new Matrix4$$module$js$threejs$three_module;
this.matrixWorld=new Matrix4$$module$js$threejs$three_module;this.matrixAutoUpdate=Object3D$$module$js$threejs$three_module.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new Layers$$module$js$threejs$three_module;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={}}Object3D$$module$js$threejs$three_module.DefaultUp=new Vector3$$module$js$threejs$three_module(0,1,0);
Object3D$$module$js$threejs$three_module.DefaultMatrixAutoUpdate=!0;
Object3D$$module$js$threejs$three_module.prototype=Object.assign(Object.create(EventDispatcher$$module$js$threejs$three_module.prototype),{constructor:Object3D$$module$js$threejs$three_module,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(a){this.matrixAutoUpdate&&this.updateMatrix();this.matrix.premultiply(a);this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(a){this.quaternion.premultiply(a);return this},setRotationFromAxisAngle:function(a,
b){this.quaternion.setFromAxisAngle(a,b)},setRotationFromEuler:function(a){this.quaternion.setFromEuler(a,!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(a,b){_q1$$module$js$threejs$three_module.setFromAxisAngle(a,b);this.quaternion.multiply(_q1$$module$js$threejs$three_module);return this},rotateOnWorldAxis:function(a,b){_q1$$module$js$threejs$three_module.setFromAxisAngle(a,b);this.quaternion.premultiply(_q1$$module$js$threejs$three_module);
return this},rotateX:function(a){return this.rotateOnAxis(_xAxis$$module$js$threejs$three_module,a)},rotateY:function(a){return this.rotateOnAxis(_yAxis$$module$js$threejs$three_module,a)},rotateZ:function(a){return this.rotateOnAxis(_zAxis$$module$js$threejs$three_module,a)},translateOnAxis:function(a,b){_v1$2$$module$js$threejs$three_module.copy(a).applyQuaternion(this.quaternion);this.position.add(_v1$2$$module$js$threejs$three_module.multiplyScalar(b));return this},translateX:function(a){return this.translateOnAxis(_xAxis$$module$js$threejs$three_module,
a)},translateY:function(a){return this.translateOnAxis(_yAxis$$module$js$threejs$three_module,a)},translateZ:function(a){return this.translateOnAxis(_zAxis$$module$js$threejs$three_module,a)},localToWorld:function(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(a){return a.applyMatrix4(_m1$1$$module$js$threejs$three_module.getInverse(this.matrixWorld))},lookAt:function(a,b,c){a.isVector3?_target$$module$js$threejs$three_module.copy(a):_target$$module$js$threejs$three_module.set(a,
b,c);a=this.parent;this.updateWorldMatrix(!0,!1);_position$$module$js$threejs$three_module.setFromMatrixPosition(this.matrixWorld);this.isCamera||this.isLight?_m1$1$$module$js$threejs$three_module.lookAt(_position$$module$js$threejs$three_module,_target$$module$js$threejs$three_module,this.up):_m1$1$$module$js$threejs$three_module.lookAt(_target$$module$js$threejs$three_module,_position$$module$js$threejs$three_module,this.up);this.quaternion.setFromRotationMatrix(_m1$1$$module$js$threejs$three_module);
a&&(_m1$1$$module$js$threejs$three_module.extractRotation(a.matrixWorld),_q1$$module$js$threejs$three_module.setFromRotationMatrix(_m1$1$$module$js$threejs$three_module),this.quaternion.premultiply(_q1$$module$js$threejs$three_module.inverse()))},add:function(a){if(1<arguments.length){for(let b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a&&a.isObject3D?(null!==a.parent&&a.parent.remove(a),
a.parent=this,this.children.push(a),a.dispatchEvent(_addedEvent$$module$js$threejs$three_module)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",a);return this},remove:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);return this}b=this.children.indexOf(a);-1!==b&&(a.parent=null,this.children.splice(b,1),a.dispatchEvent(_removedEvent$$module$js$threejs$three_module));return this},attach:function(a){this.updateWorldMatrix(!0,
!1);_m1$1$$module$js$threejs$three_module.getInverse(this.matrixWorld);null!==a.parent&&(a.parent.updateWorldMatrix(!0,!1),_m1$1$$module$js$threejs$three_module.multiply(a.parent.matrixWorld));a.applyMatrix4(_m1$1$$module$js$threejs$three_module);a.updateWorldMatrix(!1,!1);this.add(a);return this},getObjectById:function(a){return this.getObjectByProperty("id",a)},getObjectByName:function(a){return this.getObjectByProperty("name",a)},getObjectByProperty:function(a,b){if(this[a]===b)return this;for(let c=
0,d=this.children.length;c<d;c++){const e=this.children[c].getObjectByProperty(a,b);if(void 0!==e)return e}},getWorldPosition:function(a){void 0===a&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),a=new Vector3$$module$js$threejs$three_module);this.updateMatrixWorld(!0);return a.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(a){void 0===a&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),a=new Quaternion$$module$js$threejs$three_module);
this.updateMatrixWorld(!0);this.matrixWorld.decompose(_position$$module$js$threejs$three_module,a,_scale$$module$js$threejs$three_module);return a},getWorldScale:function(a){void 0===a&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),a=new Vector3$$module$js$threejs$three_module);this.updateMatrixWorld(!0);this.matrixWorld.decompose(_position$$module$js$threejs$three_module,_quaternion$2$$module$js$threejs$three_module,a);return a},getWorldDirection:function(a){void 0===a&&
(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),a=new Vector3$$module$js$threejs$three_module);this.updateMatrixWorld(!0);const b=this.matrixWorld.elements;return a.set(b[8],b[9],b[10]).normalize()},raycast:function(){},traverse:function(a){a(this);const b=this.children;for(let c=0,d=b.length;c<d;c++)b[c].traverse(a)},traverseVisible:function(a){if(!1!==this.visible){a(this);var b=this.children;for(let c=0,d=b.length;c<d;c++)b[c].traverseVisible(a)}},traverseAncestors:function(a){const b=
this.parent;null!==b&&(a(b),b.traverseAncestors(a))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;const b=this.children;for(let c=0,d=b.length;c<d;c++)b[c].updateMatrixWorld(a)},
updateWorldMatrix:function(a,b){const c=this.parent;!0===a&&null!==c&&c.updateWorldMatrix(!0,!1);this.matrixAutoUpdate&&this.updateMatrix();null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix);if(!0===b){a=this.children;for(let d=0,e=a.length;d<e;d++)a[d].updateWorldMatrix(!1,!0)}},toJSON:function(a){function b(k,l){void 0===k[l.uuid]&&(k[l.uuid]=l.toJSON(a));return l.uuid}function c(k){const l=[];for(const m in k){const n=k[m];
delete n.metadata;l.push(n)}return l}var d=void 0===a||"string"===typeof a;const e={};d&&(a={geometries:{},materials:{},textures:{},images:{},shapes:{}},e.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const g={};g.uuid=this.uuid;g.type=this.type;""!==this.name&&(g.name=this.name);!0===this.castShadow&&(g.castShadow=!0);!0===this.receiveShadow&&(g.receiveShadow=!0);!1===this.visible&&(g.visible=!1);!1===this.frustumCulled&&(g.frustumCulled=!1);0!==this.renderOrder&&(g.renderOrder=
this.renderOrder);"{}"!==JSON.stringify(this.userData)&&(g.userData=this.userData);g.layers=this.layers.mask;g.matrix=this.matrix.toArray();!1===this.matrixAutoUpdate&&(g.matrixAutoUpdate=!1);this.isInstancedMesh&&(g.type="InstancedMesh",g.count=this.count,g.instanceMatrix=this.instanceMatrix.toJSON());if(this.isMesh||this.isLine||this.isPoints){g.geometry=b(a.geometries,this.geometry);var h=this.geometry.parameters;if(void 0!==h&&void 0!==h.shapes)if(h=h.shapes,Array.isArray(h))for(let k=0,l=h.length;k<
l;k++)b(a.shapes,h[k]);else b(a.shapes,h)}if(void 0!==this.material)if(Array.isArray(this.material)){h=[];for(let k=0,l=this.material.length;k<l;k++)h.push(b(a.materials,this.material[k]));g.material=h}else g.material=b(a.materials,this.material);if(0<this.children.length)for(g.children=[],h=0;h<this.children.length;h++)g.children.push(this.children[h].toJSON(a).object);if(d){d=c(a.geometries);h=c(a.materials);const k=c(a.textures),l=c(a.images),m=c(a.shapes);0<d.length&&(e.geometries=d);0<h.length&&
(e.materials=h);0<k.length&&(e.textures=k);0<l.length&&(e.images=l);0<m.length&&(e.shapes=m)}e.object=g;return e},clone:function(a){return(new this.constructor).copy(this,a)},copy:function(a,b){void 0===b&&(b=!0);this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.rotation.order=a.rotation.order;this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=
a.matrixWorldNeedsUpdate;this.layers.mask=a.layers.mask;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===b)for(b=0;b<a.children.length;b++)this.add(a.children[b].clone());return this}});
const _vector1$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_vector2$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_normalMatrix$$module$js$threejs$three_module=new Matrix3$$module$js$threejs$three_module;
class Plane$$module$js$threejs$three_module{constructor(a,b){Object.defineProperty(this,"isPlane",{value:!0});this.normal=void 0!==a?a:new Vector3$$module$js$threejs$three_module(1,0,0);this.constant=void 0!==b?b:0}set(a,b){this.normal.copy(a);this.constant=b;return this}setComponents(a,b,c,d){this.normal.set(a,b,c);this.constant=d;return this}setFromNormalAndCoplanarPoint(a,b){this.normal.copy(a);this.constant=-b.dot(this.normal);return this}setFromCoplanarPoints(a,b,c){b=_vector1$$module$js$threejs$three_module.subVectors(c,
b).cross(_vector2$$module$js$threejs$three_module.subVectors(a,b)).normalize();this.setFromNormalAndCoplanarPoint(b,a);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.normal.copy(a.normal);this.constant=a.constant;return this}normalize(){const a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this}negate(){this.constant*=-1;this.normal.negate();return this}distanceToPoint(a){return this.normal.dot(a)+this.constant}distanceToSphere(a){return this.distanceToPoint(a.center)-
a.radius}projectPoint(a,b){void 0===b&&(console.warn("THREE.Plane: .projectPoint() target is now required"),b=new Vector3$$module$js$threejs$three_module);return b.copy(this.normal).multiplyScalar(-this.distanceToPoint(a)).add(a)}intersectLine(a,b){void 0===b&&(console.warn("THREE.Plane: .intersectLine() target is now required"),b=new Vector3$$module$js$threejs$three_module);const c=a.delta(_vector1$$module$js$threejs$three_module);var d=this.normal.dot(c);if(0===d){if(0===this.distanceToPoint(a.start))return b.copy(a.start)}else if(d=
-(a.start.dot(this.normal)+this.constant)/d,!(0>d||1<d))return b.copy(c).multiplyScalar(d).add(a.start)}intersectsLine(a){const b=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b}intersectsBox(a){return a.intersectsPlane(this)}intersectsSphere(a){return a.intersectsPlane(this)}coplanarPoint(a){void 0===a&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),a=new Vector3$$module$js$threejs$three_module);return a.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(a,
b){b=b||_normalMatrix$$module$js$threejs$three_module.getNormalMatrix(a);a=this.coplanarPoint(_vector1$$module$js$threejs$three_module).applyMatrix4(a);b=this.normal.applyMatrix3(b).normalize();this.constant=-a.dot(b);return this}translate(a){this.constant-=a.dot(this.normal);return this}equals(a){return a.normal.equals(this.normal)&&a.constant===this.constant}}
const _v0$1$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_v1$3$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_v2$1$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_v3$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_vab$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_vac$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_vbc$$module$js$threejs$three_module=
new Vector3$$module$js$threejs$three_module,_vap$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_vbp$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_vcp$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module;
class Triangle$$module$js$threejs$three_module{constructor(a,b,c){this.a=void 0!==a?a:new Vector3$$module$js$threejs$three_module;this.b=void 0!==b?b:new Vector3$$module$js$threejs$three_module;this.c=void 0!==c?c:new Vector3$$module$js$threejs$three_module}static getNormal(a,b,c,d){void 0===d&&(console.warn("THREE.Triangle: .getNormal() target is now required"),d=new Vector3$$module$js$threejs$three_module);d.subVectors(c,b);_v0$1$$module$js$threejs$three_module.subVectors(a,b);d.cross(_v0$1$$module$js$threejs$three_module);
a=d.lengthSq();return 0<a?d.multiplyScalar(1/Math.sqrt(a)):d.set(0,0,0)}static getBarycoord(a,b,c,d,e){_v0$1$$module$js$threejs$three_module.subVectors(d,b);_v1$3$$module$js$threejs$three_module.subVectors(c,b);_v2$1$$module$js$threejs$three_module.subVectors(a,b);a=_v0$1$$module$js$threejs$three_module.dot(_v0$1$$module$js$threejs$three_module);b=_v0$1$$module$js$threejs$three_module.dot(_v1$3$$module$js$threejs$three_module);c=_v0$1$$module$js$threejs$three_module.dot(_v2$1$$module$js$threejs$three_module);
var g=_v1$3$$module$js$threejs$three_module.dot(_v1$3$$module$js$threejs$three_module);d=_v1$3$$module$js$threejs$three_module.dot(_v2$1$$module$js$threejs$three_module);var h=a*g-b*b;void 0===e&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),e=new Vector3$$module$js$threejs$three_module);if(0===h)return e.set(-2,-1,-1);h=1/h;g=(g*c-b*d)*h;a=(a*d-b*c)*h;return e.set(1-g-a,a,g)}static containsPoint(a,b,c,d){this.getBarycoord(a,b,c,d,_v3$$module$js$threejs$three_module);return 0<=
_v3$$module$js$threejs$three_module.x&&0<=_v3$$module$js$threejs$three_module.y&&1>=_v3$$module$js$threejs$three_module.x+_v3$$module$js$threejs$three_module.y}static getUV(a,b,c,d,e,g,h,k){this.getBarycoord(a,b,c,d,_v3$$module$js$threejs$three_module);k.set(0,0);k.addScaledVector(e,_v3$$module$js$threejs$three_module.x);k.addScaledVector(g,_v3$$module$js$threejs$three_module.y);k.addScaledVector(h,_v3$$module$js$threejs$three_module.z);return k}static isFrontFacing(a,b,c,d){_v0$1$$module$js$threejs$three_module.subVectors(c,
b);_v1$3$$module$js$threejs$three_module.subVectors(a,b);return 0>_v0$1$$module$js$threejs$three_module.cross(_v1$3$$module$js$threejs$three_module).dot(d)?!0:!1}set(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this}setFromPointsAndIndices(a,b,c,d){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[d]);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this}getArea(){_v0$1$$module$js$threejs$three_module.subVectors(this.c,
this.b);_v1$3$$module$js$threejs$three_module.subVectors(this.a,this.b);return.5*_v0$1$$module$js$threejs$three_module.cross(_v1$3$$module$js$threejs$three_module).length()}getMidpoint(a){void 0===a&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),a=new Vector3$$module$js$threejs$three_module);return a.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(a){return Triangle$$module$js$threejs$three_module.getNormal(this.a,this.b,this.c,a)}getPlane(a){void 0===
a&&(console.warn("THREE.Triangle: .getPlane() target is now required"),a=new Plane$$module$js$threejs$three_module);return a.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(a,b){return Triangle$$module$js$threejs$three_module.getBarycoord(a,this.a,this.b,this.c,b)}getUV(a,b,c,d,e){return Triangle$$module$js$threejs$three_module.getUV(a,this.a,this.b,this.c,b,c,d,e)}containsPoint(a){return Triangle$$module$js$threejs$three_module.containsPoint(a,this.a,this.b,this.c)}isFrontFacing(a){return Triangle$$module$js$threejs$three_module.isFrontFacing(this.a,
this.b,this.c,a)}intersectsBox(a){return a.intersectsTriangle(this)}closestPointToPoint(a,b){void 0===b&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),b=new Vector3$$module$js$threejs$three_module);const c=this.a;var d=this.b,e=this.c;_vab$$module$js$threejs$three_module.subVectors(d,c);_vac$$module$js$threejs$three_module.subVectors(e,c);_vap$$module$js$threejs$three_module.subVectors(a,c);var g=_vab$$module$js$threejs$three_module.dot(_vap$$module$js$threejs$three_module),
h=_vac$$module$js$threejs$three_module.dot(_vap$$module$js$threejs$three_module);if(0>=g&&0>=h)return b.copy(c);_vbp$$module$js$threejs$three_module.subVectors(a,d);const k=_vab$$module$js$threejs$three_module.dot(_vbp$$module$js$threejs$three_module),l=_vac$$module$js$threejs$three_module.dot(_vbp$$module$js$threejs$three_module);if(0<=k&&l<=k)return b.copy(d);var m=g*l-k*h;if(0>=m&&0<=g&&0>=k)return d=g/(g-k),b.copy(c).addScaledVector(_vab$$module$js$threejs$three_module,d);_vcp$$module$js$threejs$three_module.subVectors(a,
e);a=_vab$$module$js$threejs$three_module.dot(_vcp$$module$js$threejs$three_module);const n=_vac$$module$js$threejs$three_module.dot(_vcp$$module$js$threejs$three_module);if(0<=n&&a<=n)return b.copy(e);g=a*h-g*n;if(0>=g&&0<=h&&0>=n)return m=h/(h-n),b.copy(c).addScaledVector(_vac$$module$js$threejs$three_module,m);h=k*n-a*l;if(0>=h&&0<=l-k&&0<=a-n)return _vbc$$module$js$threejs$three_module.subVectors(e,d),m=(l-k)/(l-k+(a-n)),b.copy(d).addScaledVector(_vbc$$module$js$threejs$three_module,m);e=1/(h+
g+m);d=g*e;m*=e;return b.copy(c).addScaledVector(_vab$$module$js$threejs$three_module,d).addScaledVector(_vac$$module$js$threejs$three_module,m)}equals(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}}
const _colorKeywords$$module$js$threejs$three_module={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,
darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,
green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,
lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,
palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,
steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA$$module$js$threejs$three_module={h:0,s:0,l:0},_hslB$$module$js$threejs$three_module={h:0,s:0,l:0};function hue2rgb$$module$js$threejs$three_module(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+6*(b-a)*(2/3-c):a}
function SRGBToLinear$$module$js$threejs$three_module(a){return.04045>a?.0773993808*a:Math.pow(.9478672986*a+.0521327014,2.4)}function LinearToSRGB$$module$js$threejs$three_module(a){return.0031308>a?12.92*a:1.055*Math.pow(a,.41666)-.055}
class Color$$module$js$threejs$three_module{constructor(a,b,c){Object.defineProperty(this,"isColor",{value:!0});return void 0===b&&void 0===c?this.set(a):this.setRGB(a,b,c)}set(a){a&&a.isColor?this.copy(a):"number"===typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a);return this}setScalar(a){this.b=this.g=this.r=a;return this}setHex(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this}setRGB(a,b,c){this.r=a;this.g=b;this.b=c;return this}setHSL(a,
b,c){a=MathUtils$$module$js$threejs$three_module.euclideanModulo(a,1);b=MathUtils$$module$js$threejs$three_module.clamp(b,0,1);c=MathUtils$$module$js$threejs$three_module.clamp(c,0,1);0===b?this.r=this.g=this.b=c:(b=.5>=c?c*(1+b):c+b-c*b,c=2*c-b,this.r=hue2rgb$$module$js$threejs$three_module(c,b,a+1/3),this.g=hue2rgb$$module$js$threejs$three_module(c,b,a),this.b=hue2rgb$$module$js$threejs$three_module(c,b,a-1/3));return this}setStyle(a){function b(e){void 0!==e&&1>parseFloat(e)&&console.warn("THREE.Color: Alpha component of "+
a+" will be ignored.")}var c;if(c=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(a)){var d=c[2];switch(c[1]){case "rgb":case "rgba":if(c=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=Math.min(255,parseInt(c[1],10))/255,this.g=Math.min(255,parseInt(c[2],10))/255,this.b=Math.min(255,parseInt(c[3],10))/255,b(c[5]),this;if(c=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=Math.min(100,parseInt(c[1],10))/100,this.g=Math.min(100,parseInt(c[2],
10))/100,this.b=Math.min(100,parseInt(c[3],10))/100,b(c[5]),this;break;case "hsl":case "hsla":if(c=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d)){d=parseFloat(c[1])/360;const e=parseInt(c[2],10)/100,g=parseInt(c[3],10)/100;b(c[5]);return this.setHSL(d,e,g)}}}else if(c=/^#([A-Fa-f0-9]+)$/.exec(a)){c=c[1];d=c.length;if(3===d)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),
16)/255,this;if(6===d)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}return a&&0<a.length?this.setColorName(a):this}setColorName(a){const b=_colorKeywords$$module$js$threejs$three_module[a];void 0!==b?this.setHex(b):console.warn("THREE.Color: Unknown color "+a);return this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(a){this.r=a.r;this.g=a.g;this.b=a.b;return this}copyGammaToLinear(a,
b){void 0===b&&(b=2);this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this}copyLinearToGamma(a,b){void 0===b&&(b=2);b=0<b?1/b:1;this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this}convertGammaToLinear(a){this.copyGammaToLinear(this,a);return this}convertLinearToGamma(a){this.copyLinearToGamma(this,a);return this}copySRGBToLinear(a){this.r=SRGBToLinear$$module$js$threejs$three_module(a.r);this.g=SRGBToLinear$$module$js$threejs$three_module(a.g);
this.b=SRGBToLinear$$module$js$threejs$three_module(a.b);return this}copyLinearToSRGB(a){this.r=LinearToSRGB$$module$js$threejs$three_module(a.r);this.g=LinearToSRGB$$module$js$threejs$three_module(a.g);this.b=LinearToSRGB$$module$js$threejs$three_module(a.b);return this}convertSRGBToLinear(){this.copySRGBToLinear(this);return this}convertLinearToSRGB(){this.copyLinearToSRGB(this);return this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(a){void 0===
a&&(console.warn("THREE.Color: .getHSL() target is now required"),a={h:0,s:0,l:0});const b=this.r,c=this.g,d=this.b,e=Math.max(b,c,d);var g=Math.min(b,c,d);let h;const k=(g+e)/2;if(g===e)g=h=0;else{const l=e-g;g=.5>=k?l/(e+g):l/(2-e-g);switch(e){case b:h=(c-d)/l+(c<d?6:0);break;case c:h=(d-b)/l+2;break;case d:h=(b-c)/l+4}h/=6}a.h=h;a.s=g;a.l=k;return a}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(a,b,c){this.getHSL(_hslA$$module$js$threejs$three_module);
_hslA$$module$js$threejs$three_module.h+=a;_hslA$$module$js$threejs$three_module.s+=b;_hslA$$module$js$threejs$three_module.l+=c;this.setHSL(_hslA$$module$js$threejs$three_module.h,_hslA$$module$js$threejs$three_module.s,_hslA$$module$js$threejs$three_module.l);return this}add(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this}addColors(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this}addScalar(a){this.r+=a;this.g+=a;this.b+=a;return this}sub(a){this.r=Math.max(0,this.r-a.r);this.g=Math.max(0,
this.g-a.g);this.b=Math.max(0,this.b-a.b);return this}multiply(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this}multiplyScalar(a){this.r*=a;this.g*=a;this.b*=a;return this}lerp(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this}lerpHSL(a,b){this.getHSL(_hslA$$module$js$threejs$three_module);a.getHSL(_hslB$$module$js$threejs$three_module);a=MathUtils$$module$js$threejs$three_module.lerp(_hslA$$module$js$threejs$three_module.h,_hslB$$module$js$threejs$three_module.h,
b);const c=MathUtils$$module$js$threejs$three_module.lerp(_hslA$$module$js$threejs$three_module.s,_hslB$$module$js$threejs$three_module.s,b);b=MathUtils$$module$js$threejs$three_module.lerp(_hslA$$module$js$threejs$three_module.l,_hslB$$module$js$threejs$three_module.l,b);this.setHSL(a,c,b);return this}equals(a){return a.r===this.r&&a.g===this.g&&a.b===this.b}fromArray(a,b){void 0===b&&(b=0);this.r=a[b];this.g=a[b+1];this.b=a[b+2];return this}toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=
this.r;a[b+1]=this.g;a[b+2]=this.b;return a}fromBufferAttribute(a,b){this.r=a.getX(b);this.g=a.getY(b);this.b=a.getZ(b);!0===a.normalized&&(this.r/=255,this.g/=255,this.b/=255);return this}toJSON(){return this.getHex()}}Color$$module$js$threejs$three_module.NAMES=_colorKeywords$$module$js$threejs$three_module;Color$$module$js$threejs$three_module.prototype.r=1;Color$$module$js$threejs$three_module.prototype.g=1;Color$$module$js$threejs$three_module.prototype.b=1;
class Face3$$module$js$threejs$three_module{constructor(a,b,c,d,e,g){this.a=a;this.b=b;this.c=c;this.normal=d&&d.isVector3?d:new Vector3$$module$js$threejs$three_module;this.vertexNormals=Array.isArray(d)?d:[];this.color=e&&e.isColor?e:new Color$$module$js$threejs$three_module;this.vertexColors=Array.isArray(e)?e:[];this.materialIndex=void 0!==g?g:0}clone(){return(new this.constructor).copy(this)}copy(a){this.a=a.a;this.b=a.b;this.c=a.c;this.normal.copy(a.normal);this.color.copy(a.color);this.materialIndex=
a.materialIndex;for(let b=0,c=a.vertexNormals.length;b<c;b++)this.vertexNormals[b]=a.vertexNormals[b].clone();for(let b=0,c=a.vertexColors.length;b<c;b++)this.vertexColors[b]=a.vertexColors[b].clone();return this}}let materialId$$module$js$threejs$three_module=0;
function Material$$module$js$threejs$three_module(){Object.defineProperty(this,"id",{value:materialId$$module$js$threejs$three_module++});this.uuid=MathUtils$$module$js$threejs$three_module.generateUUID();this.name="";this.type="Material";this.fog=!0;this.blending=NormalBlending$$module$js$threejs$three_module;this.side=FrontSide$$module$js$threejs$three_module;this.vertexColors=this.flatShading=!1;this.opacity=1;this.transparent=!1;this.blendSrc=SrcAlphaFactor$$module$js$threejs$three_module;this.blendDst=
OneMinusSrcAlphaFactor$$module$js$threejs$three_module;this.blendEquation=AddEquation$$module$js$threejs$three_module;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=LessEqualDepth$$module$js$threejs$three_module;this.depthWrite=this.depthTest=!0;this.stencilWriteMask=255;this.stencilFunc=AlwaysStencilFunc$$module$js$threejs$three_module;this.stencilRef=0;this.stencilFuncMask=255;this.stencilZPass=this.stencilZFail=this.stencilFail=KeepStencilOp$$module$js$threejs$three_module;
this.stencilWrite=!1;this.clippingPlanes=null;this.clipShadows=this.clipIntersection=!1;this.shadowSide=null;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.dithering=!1;this.alphaTest=0;this.premultipliedAlpha=!1;this.toneMapped=this.visible=!0;this.userData={};this.version=0}
Material$$module$js$threejs$three_module.prototype=Object.assign(Object.create(EventDispatcher$$module$js$threejs$three_module.prototype),{constructor:Material$$module$js$threejs$three_module,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(a){if(void 0!==a)for(const b in a){const c=a[b];if(void 0===c){console.warn("THREE.Material: '"+b+"' parameter is undefined.");continue}if("shading"===b){console.warn("THREE."+
this.type+": .shading has been removed. Use the boolean .flatShading instead.");this.flatShading=c===FlatShading$$module$js$threejs$three_module?!0:!1;continue}const d=this[b];void 0===d?console.warn("THREE."+this.type+": '"+b+"' is not a property of this material."):d&&d.isColor?d.set(c):d&&d.isVector3&&c&&c.isVector3?d.copy(c):this[b]=c}},toJSON:function(a){function b(e){const g=[];for(const h in e){const k=e[h];delete k.metadata;g.push(k)}return g}var c=void 0===a||"string"===typeof a;c&&(a={textures:{},
images:{}});const d={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};d.uuid=this.uuid;d.type=this.type;""!==this.name&&(d.name=this.name);this.color&&this.color.isColor&&(d.color=this.color.getHex());void 0!==this.roughness&&(d.roughness=this.roughness);void 0!==this.metalness&&(d.metalness=this.metalness);this.sheen&&this.sheen.isColor&&(d.sheen=this.sheen.getHex());this.emissive&&this.emissive.isColor&&(d.emissive=this.emissive.getHex());this.emissiveIntensity&&1!==this.emissiveIntensity&&
(d.emissiveIntensity=this.emissiveIntensity);this.specular&&this.specular.isColor&&(d.specular=this.specular.getHex());void 0!==this.shininess&&(d.shininess=this.shininess);void 0!==this.clearcoat&&(d.clearcoat=this.clearcoat);void 0!==this.clearcoatRoughness&&(d.clearcoatRoughness=this.clearcoatRoughness);this.clearcoatMap&&this.clearcoatMap.isTexture&&(d.clearcoatMap=this.clearcoatMap.toJSON(a).uuid);this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(d.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(a).uuid);
this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(d.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(a).uuid,d.clearcoatNormalScale=this.clearcoatNormalScale.toArray());this.map&&this.map.isTexture&&(d.map=this.map.toJSON(a).uuid);this.matcap&&this.matcap.isTexture&&(d.matcap=this.matcap.toJSON(a).uuid);this.alphaMap&&this.alphaMap.isTexture&&(d.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap&&this.lightMap.isTexture&&(d.lightMap=this.lightMap.toJSON(a).uuid);this.aoMap&&this.aoMap.isTexture&&
(d.aoMap=this.aoMap.toJSON(a).uuid,d.aoMapIntensity=this.aoMapIntensity);this.bumpMap&&this.bumpMap.isTexture&&(d.bumpMap=this.bumpMap.toJSON(a).uuid,d.bumpScale=this.bumpScale);this.normalMap&&this.normalMap.isTexture&&(d.normalMap=this.normalMap.toJSON(a).uuid,d.normalMapType=this.normalMapType,d.normalScale=this.normalScale.toArray());this.displacementMap&&this.displacementMap.isTexture&&(d.displacementMap=this.displacementMap.toJSON(a).uuid,d.displacementScale=this.displacementScale,d.displacementBias=
this.displacementBias);this.roughnessMap&&this.roughnessMap.isTexture&&(d.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap&&this.metalnessMap.isTexture&&(d.metalnessMap=this.metalnessMap.toJSON(a).uuid);this.emissiveMap&&this.emissiveMap.isTexture&&(d.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap&&this.specularMap.isTexture&&(d.specularMap=this.specularMap.toJSON(a).uuid);this.envMap&&this.envMap.isTexture&&(d.envMap=this.envMap.toJSON(a).uuid,d.reflectivity=this.reflectivity,
d.refractionRatio=this.refractionRatio,void 0!==this.combine&&(d.combine=this.combine),void 0!==this.envMapIntensity&&(d.envMapIntensity=this.envMapIntensity));this.gradientMap&&this.gradientMap.isTexture&&(d.gradientMap=this.gradientMap.toJSON(a).uuid);void 0!==this.size&&(d.size=this.size);void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation);this.blending!==NormalBlending$$module$js$threejs$three_module&&(d.blending=this.blending);!0===this.flatShading&&(d.flatShading=this.flatShading);
this.side!==FrontSide$$module$js$threejs$three_module&&(d.side=this.side);this.vertexColors&&(d.vertexColors=!0);1>this.opacity&&(d.opacity=this.opacity);!0===this.transparent&&(d.transparent=this.transparent);d.depthFunc=this.depthFunc;d.depthTest=this.depthTest;d.depthWrite=this.depthWrite;d.stencilWrite=this.stencilWrite;d.stencilWriteMask=this.stencilWriteMask;d.stencilFunc=this.stencilFunc;d.stencilRef=this.stencilRef;d.stencilFuncMask=this.stencilFuncMask;d.stencilFail=this.stencilFail;d.stencilZFail=
this.stencilZFail;d.stencilZPass=this.stencilZPass;this.rotation&&0!==this.rotation&&(d.rotation=this.rotation);!0===this.polygonOffset&&(d.polygonOffset=!0);0!==this.polygonOffsetFactor&&(d.polygonOffsetFactor=this.polygonOffsetFactor);0!==this.polygonOffsetUnits&&(d.polygonOffsetUnits=this.polygonOffsetUnits);this.linewidth&&1!==this.linewidth&&(d.linewidth=this.linewidth);void 0!==this.dashSize&&(d.dashSize=this.dashSize);void 0!==this.gapSize&&(d.gapSize=this.gapSize);void 0!==this.scale&&(d.scale=
this.scale);!0===this.dithering&&(d.dithering=!0);0<this.alphaTest&&(d.alphaTest=this.alphaTest);!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha);!0===this.wireframe&&(d.wireframe=this.wireframe);1<this.wireframeLinewidth&&(d.wireframeLinewidth=this.wireframeLinewidth);"round"!==this.wireframeLinecap&&(d.wireframeLinecap=this.wireframeLinecap);"round"!==this.wireframeLinejoin&&(d.wireframeLinejoin=this.wireframeLinejoin);!0===this.morphTargets&&(d.morphTargets=!0);!0===
this.morphNormals&&(d.morphNormals=!0);!0===this.skinning&&(d.skinning=!0);!1===this.visible&&(d.visible=!1);!1===this.toneMapped&&(d.toneMapped=!1);"{}"!==JSON.stringify(this.userData)&&(d.userData=this.userData);c&&(c=b(a.textures),a=b(a.images),0<c.length&&(d.textures=c),0<a.length&&(d.images=a));return d},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=a.name;this.fog=a.fog;this.blending=a.blending;this.side=a.side;this.flatShading=a.flatShading;this.vertexColors=
a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.stencilWriteMask=a.stencilWriteMask;this.stencilFunc=a.stencilFunc;this.stencilRef=a.stencilRef;this.stencilFuncMask=a.stencilFuncMask;this.stencilFail=
a.stencilFail;this.stencilZFail=a.stencilZFail;this.stencilZPass=a.stencilZPass;this.stencilWrite=a.stencilWrite;const b=a.clippingPlanes;let c=null;if(null!==b){const d=b.length;c=Array(d);for(let e=0;e!==d;++e)c[e]=b[e].clone()}this.clippingPlanes=c;this.clipIntersection=a.clipIntersection;this.clipShadows=a.clipShadows;this.shadowSide=a.shadowSide;this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=
a.polygonOffsetUnits;this.dithering=a.dithering;this.alphaTest=a.alphaTest;this.premultipliedAlpha=a.premultipliedAlpha;this.visible=a.visible;this.toneMapped=a.toneMapped;this.userData=JSON.parse(JSON.stringify(a.userData));return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(Material$$module$js$threejs$three_module.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});
function MeshBasicMaterial$$module$js$threejs$three_module(a){Material$$module$js$threejs$three_module.call(this);this.type="MeshBasicMaterial";this.color=new Color$$module$js$threejs$three_module(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=MultiplyOperation$$module$js$threejs$three_module;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=
this.wireframeLinecap="round";this.morphTargets=this.skinning=!1;this.setValues(a)}MeshBasicMaterial$$module$js$threejs$three_module.prototype=Object.create(Material$$module$js$threejs$three_module.prototype);MeshBasicMaterial$$module$js$threejs$three_module.prototype.constructor=MeshBasicMaterial$$module$js$threejs$three_module;MeshBasicMaterial$$module$js$threejs$three_module.prototype.isMeshBasicMaterial=!0;
MeshBasicMaterial$$module$js$threejs$three_module.prototype.copy=function(a){Material$$module$js$threejs$three_module.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;
this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;return this};const _vector$3$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_vector2$1$$module$js$threejs$three_module=new Vector2$$module$js$threejs$three_module;
function BufferAttribute$$module$js$threejs$three_module(a,b,c){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="";this.array=a;this.itemSize=b;this.count=void 0!==a?a.length/b:0;this.normalized=!0===c;this.usage=StaticDrawUsage$$module$js$threejs$three_module;this.updateRange={offset:0,count:-1};this.version=0}Object.defineProperty(BufferAttribute$$module$js$threejs$three_module.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});
Object.assign(BufferAttribute$$module$js$threejs$three_module.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(a){this.usage=a;return this},copy:function(a){this.name=a.name;this.array=new a.array.constructor(a.array);this.itemSize=a.itemSize;this.count=a.count;this.normalized=a.normalized;this.usage=a.usage;return this},copyAt:function(a,b,c){a*=this.itemSize;c*=b.itemSize;for(let d=0,e=this.itemSize;d<e;d++)this.array[a+d]=b.array[c+d];return this},copyArray:function(a){this.array.set(a);
return this},copyColorsArray:function(a){const b=this.array;let c=0;for(let d=0,e=a.length;d<e;d++){let g=a[d];void 0===g&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",d),g=new Color$$module$js$threejs$three_module);b[c++]=g.r;b[c++]=g.g;b[c++]=g.b}return this},copyVector2sArray:function(a){const b=this.array;let c=0;for(let d=0,e=a.length;d<e;d++){let g=a[d];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",d),g=new Vector2$$module$js$threejs$three_module);
b[c++]=g.x;b[c++]=g.y}return this},copyVector3sArray:function(a){const b=this.array;let c=0;for(let d=0,e=a.length;d<e;d++){let g=a[d];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",d),g=new Vector3$$module$js$threejs$three_module);b[c++]=g.x;b[c++]=g.y;b[c++]=g.z}return this},copyVector4sArray:function(a){const b=this.array;let c=0;for(let d=0,e=a.length;d<e;d++){let g=a[d];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",
d),g=new Vector4$$module$js$threejs$three_module);b[c++]=g.x;b[c++]=g.y;b[c++]=g.z;b[c++]=g.w}return this},applyMatrix3:function(a){if(2===this.itemSize)for(let b=0,c=this.count;b<c;b++)_vector2$1$$module$js$threejs$three_module.fromBufferAttribute(this,b),_vector2$1$$module$js$threejs$three_module.applyMatrix3(a),this.setXY(b,_vector2$1$$module$js$threejs$three_module.x,_vector2$1$$module$js$threejs$three_module.y);else if(3===this.itemSize)for(let b=0,c=this.count;b<c;b++)_vector$3$$module$js$threejs$three_module.fromBufferAttribute(this,
b),_vector$3$$module$js$threejs$three_module.applyMatrix3(a),this.setXYZ(b,_vector$3$$module$js$threejs$three_module.x,_vector$3$$module$js$threejs$three_module.y,_vector$3$$module$js$threejs$three_module.z);return this},applyMatrix4:function(a){for(let b=0,c=this.count;b<c;b++)_vector$3$$module$js$threejs$three_module.x=this.getX(b),_vector$3$$module$js$threejs$three_module.y=this.getY(b),_vector$3$$module$js$threejs$three_module.z=this.getZ(b),_vector$3$$module$js$threejs$three_module.applyMatrix4(a),
this.setXYZ(b,_vector$3$$module$js$threejs$three_module.x,_vector$3$$module$js$threejs$three_module.y,_vector$3$$module$js$threejs$three_module.z);return this},applyNormalMatrix:function(a){for(let b=0,c=this.count;b<c;b++)_vector$3$$module$js$threejs$three_module.x=this.getX(b),_vector$3$$module$js$threejs$three_module.y=this.getY(b),_vector$3$$module$js$threejs$three_module.z=this.getZ(b),_vector$3$$module$js$threejs$three_module.applyNormalMatrix(a),this.setXYZ(b,_vector$3$$module$js$threejs$three_module.x,
_vector$3$$module$js$threejs$three_module.y,_vector$3$$module$js$threejs$three_module.z);return this},transformDirection:function(a){for(let b=0,c=this.count;b<c;b++)_vector$3$$module$js$threejs$three_module.x=this.getX(b),_vector$3$$module$js$threejs$three_module.y=this.getY(b),_vector$3$$module$js$threejs$three_module.z=this.getZ(b),_vector$3$$module$js$threejs$three_module.transformDirection(a),this.setXYZ(b,_vector$3$$module$js$threejs$three_module.x,_vector$3$$module$js$threejs$three_module.y,
_vector$3$$module$js$threejs$three_module.z);return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},getX:function(a){return this.array[a*this.itemSize]},setX:function(a,b){this.array[a*this.itemSize]=b;return this},getY:function(a){return this.array[a*this.itemSize+1]},setY:function(a,b){this.array[a*this.itemSize+1]=b;return this},getZ:function(a){return this.array[a*this.itemSize+2]},setZ:function(a,b){this.array[a*this.itemSize+2]=b;return this},getW:function(a){return this.array[a*
this.itemSize+3]},setW:function(a,b){this.array[a*this.itemSize+3]=b;return this},setXY:function(a,b,c){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;this.array[a+3]=e;return this},onUpload:function(a){this.onUploadCallback=a;return this},clone:function(){return(new this.constructor(this.array,
this.itemSize)).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function Int8BufferAttribute$$module$js$threejs$three_module(a,b,c){BufferAttribute$$module$js$threejs$three_module.call(this,new Int8Array(a),b,c)}Int8BufferAttribute$$module$js$threejs$three_module.prototype=Object.create(BufferAttribute$$module$js$threejs$three_module.prototype);
Int8BufferAttribute$$module$js$threejs$three_module.prototype.constructor=Int8BufferAttribute$$module$js$threejs$three_module;function Uint8BufferAttribute$$module$js$threejs$three_module(a,b,c){BufferAttribute$$module$js$threejs$three_module.call(this,new Uint8Array(a),b,c)}Uint8BufferAttribute$$module$js$threejs$three_module.prototype=Object.create(BufferAttribute$$module$js$threejs$three_module.prototype);Uint8BufferAttribute$$module$js$threejs$three_module.prototype.constructor=Uint8BufferAttribute$$module$js$threejs$three_module;
function Uint8ClampedBufferAttribute$$module$js$threejs$three_module(a,b,c){BufferAttribute$$module$js$threejs$three_module.call(this,new Uint8ClampedArray(a),b,c)}Uint8ClampedBufferAttribute$$module$js$threejs$three_module.prototype=Object.create(BufferAttribute$$module$js$threejs$three_module.prototype);Uint8ClampedBufferAttribute$$module$js$threejs$three_module.prototype.constructor=Uint8ClampedBufferAttribute$$module$js$threejs$three_module;
function Int16BufferAttribute$$module$js$threejs$three_module(a,b,c){BufferAttribute$$module$js$threejs$three_module.call(this,new Int16Array(a),b,c)}Int16BufferAttribute$$module$js$threejs$three_module.prototype=Object.create(BufferAttribute$$module$js$threejs$three_module.prototype);Int16BufferAttribute$$module$js$threejs$three_module.prototype.constructor=Int16BufferAttribute$$module$js$threejs$three_module;
function Uint16BufferAttribute$$module$js$threejs$three_module(a,b,c){BufferAttribute$$module$js$threejs$three_module.call(this,new Uint16Array(a),b,c)}Uint16BufferAttribute$$module$js$threejs$three_module.prototype=Object.create(BufferAttribute$$module$js$threejs$three_module.prototype);Uint16BufferAttribute$$module$js$threejs$three_module.prototype.constructor=Uint16BufferAttribute$$module$js$threejs$three_module;
function Int32BufferAttribute$$module$js$threejs$three_module(a,b,c){BufferAttribute$$module$js$threejs$three_module.call(this,new Int32Array(a),b,c)}Int32BufferAttribute$$module$js$threejs$three_module.prototype=Object.create(BufferAttribute$$module$js$threejs$three_module.prototype);Int32BufferAttribute$$module$js$threejs$three_module.prototype.constructor=Int32BufferAttribute$$module$js$threejs$three_module;
function Uint32BufferAttribute$$module$js$threejs$three_module(a,b,c){BufferAttribute$$module$js$threejs$three_module.call(this,new Uint32Array(a),b,c)}Uint32BufferAttribute$$module$js$threejs$three_module.prototype=Object.create(BufferAttribute$$module$js$threejs$three_module.prototype);Uint32BufferAttribute$$module$js$threejs$three_module.prototype.constructor=Uint32BufferAttribute$$module$js$threejs$three_module;
function Float32BufferAttribute$$module$js$threejs$three_module(a,b,c){BufferAttribute$$module$js$threejs$three_module.call(this,new Float32Array(a),b,c)}Float32BufferAttribute$$module$js$threejs$three_module.prototype=Object.create(BufferAttribute$$module$js$threejs$three_module.prototype);Float32BufferAttribute$$module$js$threejs$three_module.prototype.constructor=Float32BufferAttribute$$module$js$threejs$three_module;
function Float64BufferAttribute$$module$js$threejs$three_module(a,b,c){BufferAttribute$$module$js$threejs$three_module.call(this,new Float64Array(a),b,c)}Float64BufferAttribute$$module$js$threejs$three_module.prototype=Object.create(BufferAttribute$$module$js$threejs$three_module.prototype);Float64BufferAttribute$$module$js$threejs$three_module.prototype.constructor=Float64BufferAttribute$$module$js$threejs$three_module;
class DirectGeometry$$module$js$threejs$three_module{constructor(){this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}computeGroups(a){const b=[];let c,d=void 0;const e=a.faces;for(a=0;a<e.length;a++){const g=e[a];g.materialIndex!==d&&(d=g.materialIndex,
void 0!==c&&(c.count=3*a-c.start,b.push(c)),c={start:3*a,materialIndex:d})}void 0!==c&&(c.count=3*a-c.start,b.push(c));this.groups=b}fromGeometry(a){const b=a.faces,c=a.vertices,d=a.faceVertexUvs,e=d[0]&&0<d[0].length,g=d[1]&&0<d[1].length,h=a.morphTargets,k=h.length;let l;if(0<k){l=[];for(var m=0;m<k;m++)l[m]={name:h[m].name,data:[]};this.morphTargets.position=l}m=a.morphNormals;const n=m.length;let p;if(0<n){p=[];for(var t=0;t<n;t++)p[t]={name:m[t].name,data:[]};this.morphTargets.normal=p}t=a.skinIndices;
const w=a.skinWeights,x=t.length===c.length,A=w.length===c.length;0<c.length&&0===b.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let B=0;B<b.length;B++){const G=b[B];this.vertices.push(c[G.a],c[G.b],c[G.c]);var r=G.vertexNormals;3===r.length?this.normals.push(r[0],r[1],r[2]):(r=G.normal,this.normals.push(r,r,r));r=G.vertexColors;3===r.length?this.colors.push(r[0],r[1],r[2]):(r=G.color,this.colors.push(r,r,r));!0===e&&(r=d[0][B],void 0!==r?this.uvs.push(r[0],
r[1],r[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",B),this.uvs.push(new Vector2$$module$js$threejs$three_module,new Vector2$$module$js$threejs$three_module,new Vector2$$module$js$threejs$three_module)));!0===g&&(r=d[1][B],void 0!==r?this.uvs2.push(r[0],r[1],r[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",B),this.uvs2.push(new Vector2$$module$js$threejs$three_module,new Vector2$$module$js$threejs$three_module,new Vector2$$module$js$threejs$three_module)));
for(r=0;r<k;r++){var E=h[r].vertices;l[r].data.push(E[G.a],E[G.b],E[G.c])}for(r=0;r<n;r++)E=m[r].vertexNormals[B],p[r].data.push(E.a,E.b,E.c);x&&this.skinIndices.push(t[G.a],t[G.b],t[G.c]);A&&this.skinWeights.push(w[G.a],w[G.b],w[G.c])}this.computeGroups(a);this.verticesNeedUpdate=a.verticesNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;null!==a.boundingSphere&&(this.boundingSphere=
a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return this}}function arrayMax$$module$js$threejs$three_module(a){if(0===a.length)return-Infinity;let b=a[0];for(let c=1,d=a.length;c<d;++c)a[c]>b&&(b=a[c]);return b}let _bufferGeometryId$$module$js$threejs$three_module=1;
const _m1$2$$module$js$threejs$three_module=new Matrix4$$module$js$threejs$three_module,_obj$$module$js$threejs$three_module=new Object3D$$module$js$threejs$three_module,_offset$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_box$2$$module$js$threejs$three_module=new Box3$$module$js$threejs$three_module,_boxMorphTargets$$module$js$threejs$three_module=new Box3$$module$js$threejs$three_module,_vector$4$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module;
function BufferGeometry$$module$js$threejs$three_module(){Object.defineProperty(this,"id",{value:_bufferGeometryId$$module$js$threejs$three_module+=2});this.uuid=MathUtils$$module$js$threejs$three_module.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.morphTargetsRelative=!1;this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity};this.userData={}}
BufferGeometry$$module$js$threejs$three_module.prototype=Object.assign(Object.create(EventDispatcher$$module$js$threejs$three_module.prototype),{constructor:BufferGeometry$$module$js$threejs$three_module,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(a){Array.isArray(a)?this.index=new (65535<arrayMax$$module$js$threejs$three_module(a)?Uint32BufferAttribute$$module$js$threejs$three_module:Uint16BufferAttribute$$module$js$threejs$three_module)(a,1):this.index=a},getAttribute:function(a){return this.attributes[a]},
setAttribute:function(a,b){this.attributes[a]=b;return this},deleteAttribute:function(a){delete this.attributes[a];return this},addGroup:function(a,b,c){this.groups.push({start:a,count:b,materialIndex:void 0!==c?c:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(a,b){this.drawRange.start=a;this.drawRange.count=b},applyMatrix4:function(a){var b=this.attributes.position;void 0!==b&&(b.applyMatrix4(a),b.needsUpdate=!0);b=this.attributes.normal;if(void 0!==b){const c=(new Matrix3$$module$js$threejs$three_module).getNormalMatrix(a);
b.applyNormalMatrix(c);b.needsUpdate=!0}b=this.attributes.tangent;void 0!==b&&(b.transformDirection(a),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();return this},rotateX:function(a){_m1$2$$module$js$threejs$three_module.makeRotationX(a);this.applyMatrix4(_m1$2$$module$js$threejs$three_module);return this},rotateY:function(a){_m1$2$$module$js$threejs$three_module.makeRotationY(a);this.applyMatrix4(_m1$2$$module$js$threejs$three_module);
return this},rotateZ:function(a){_m1$2$$module$js$threejs$three_module.makeRotationZ(a);this.applyMatrix4(_m1$2$$module$js$threejs$three_module);return this},translate:function(a,b,c){_m1$2$$module$js$threejs$three_module.makeTranslation(a,b,c);this.applyMatrix4(_m1$2$$module$js$threejs$three_module);return this},scale:function(a,b,c){_m1$2$$module$js$threejs$three_module.makeScale(a,b,c);this.applyMatrix4(_m1$2$$module$js$threejs$three_module);return this},lookAt:function(a){_obj$$module$js$threejs$three_module.lookAt(a);
_obj$$module$js$threejs$three_module.updateMatrix();this.applyMatrix4(_obj$$module$js$threejs$three_module.matrix);return this},center:function(){this.computeBoundingBox();this.boundingBox.getCenter(_offset$$module$js$threejs$three_module).negate();this.translate(_offset$$module$js$threejs$three_module.x,_offset$$module$js$threejs$three_module.y,_offset$$module$js$threejs$three_module.z);return this},setFromObject:function(a){const b=a.geometry;if(a.isPoints||a.isLine){a=new Float32BufferAttribute$$module$js$threejs$three_module(3*
b.vertices.length,3);const c=new Float32BufferAttribute$$module$js$threejs$three_module(3*b.colors.length,3);this.setAttribute("position",a.copyVector3sArray(b.vertices));this.setAttribute("color",c.copyColorsArray(b.colors));b.lineDistances&&b.lineDistances.length===b.vertices.length&&(a=new Float32BufferAttribute$$module$js$threejs$three_module(b.lineDistances.length,1),this.setAttribute("lineDistance",a.copyArray(b.lineDistances)));null!==b.boundingSphere&&(this.boundingSphere=b.boundingSphere.clone());
null!==b.boundingBox&&(this.boundingBox=b.boundingBox.clone())}else a.isMesh&&b&&b.isGeometry&&this.fromGeometry(b);return this},setFromPoints:function(a){const b=[];for(let c=0,d=a.length;c<d;c++){const e=a[c];b.push(e.x,e.y,e.z||0)}this.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(b,3));return this},updateFromObject:function(a){let b=a.geometry;if(a.isMesh){var c=b.__directGeometry;!0===b.elementsNeedUpdate&&(c=void 0,b.elementsNeedUpdate=!1);if(void 0===c)return this.fromGeometry(b);
c.verticesNeedUpdate=b.verticesNeedUpdate;c.normalsNeedUpdate=b.normalsNeedUpdate;c.colorsNeedUpdate=b.colorsNeedUpdate;c.uvsNeedUpdate=b.uvsNeedUpdate;c.groupsNeedUpdate=b.groupsNeedUpdate;b.verticesNeedUpdate=!1;b.normalsNeedUpdate=!1;b.colorsNeedUpdate=!1;b.uvsNeedUpdate=!1;b.groupsNeedUpdate=!1;b=c}!0===b.verticesNeedUpdate&&(c=this.attributes.position,void 0!==c&&(c.copyVector3sArray(b.vertices),c.needsUpdate=!0),b.verticesNeedUpdate=!1);!0===b.normalsNeedUpdate&&(c=this.attributes.normal,void 0!==
c&&(c.copyVector3sArray(b.normals),c.needsUpdate=!0),b.normalsNeedUpdate=!1);!0===b.colorsNeedUpdate&&(c=this.attributes.color,void 0!==c&&(c.copyColorsArray(b.colors),c.needsUpdate=!0),b.colorsNeedUpdate=!1);b.uvsNeedUpdate&&(c=this.attributes.uv,void 0!==c&&(c.copyVector2sArray(b.uvs),c.needsUpdate=!0),b.uvsNeedUpdate=!1);b.lineDistancesNeedUpdate&&(c=this.attributes.lineDistance,void 0!==c&&(c.copyArray(b.lineDistances),c.needsUpdate=!0),b.lineDistancesNeedUpdate=!1);b.groupsNeedUpdate&&(b.computeGroups(a.geometry),
this.groups=b.groups,b.groupsNeedUpdate=!1);return this},fromGeometry:function(a){a.__directGeometry=(new DirectGeometry$$module$js$threejs$three_module).fromGeometry(a);return this.fromDirectGeometry(a.__directGeometry)},fromDirectGeometry:function(a){var b=new Float32Array(3*a.vertices.length);this.setAttribute("position",(new BufferAttribute$$module$js$threejs$three_module(b,3)).copyVector3sArray(a.vertices));0<a.normals.length&&(b=new Float32Array(3*a.normals.length),this.setAttribute("normal",
(new BufferAttribute$$module$js$threejs$three_module(b,3)).copyVector3sArray(a.normals)));0<a.colors.length&&(b=new Float32Array(3*a.colors.length),this.setAttribute("color",(new BufferAttribute$$module$js$threejs$three_module(b,3)).copyColorsArray(a.colors)));0<a.uvs.length&&(b=new Float32Array(2*a.uvs.length),this.setAttribute("uv",(new BufferAttribute$$module$js$threejs$three_module(b,2)).copyVector2sArray(a.uvs)));0<a.uvs2.length&&(b=new Float32Array(2*a.uvs2.length),this.setAttribute("uv2",(new BufferAttribute$$module$js$threejs$three_module(b,
2)).copyVector2sArray(a.uvs2)));this.groups=a.groups;for(var c in a.morphTargets){b=[];const d=a.morphTargets[c];for(let e=0,g=d.length;e<g;e++){const h=d[e],k=new Float32BufferAttribute$$module$js$threejs$three_module(3*h.data.length,3);k.name=h.name;b.push(k.copyVector3sArray(h.data))}this.morphAttributes[c]=b}0<a.skinIndices.length&&(c=new Float32BufferAttribute$$module$js$threejs$three_module(4*a.skinIndices.length,4),this.setAttribute("skinIndex",c.copyVector4sArray(a.skinIndices)));0<a.skinWeights.length&&
(c=new Float32BufferAttribute$$module$js$threejs$three_module(4*a.skinWeights.length,4),this.setAttribute("skinWeight",c.copyVector4sArray(a.skinWeights)));null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Box3$$module$js$threejs$three_module);const a=this.attributes.position,b=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',
this),this.boundingBox.set(new Vector3$$module$js$threejs$three_module(-Infinity,-Infinity,-Infinity),new Vector3$$module$js$threejs$three_module(Infinity,Infinity,Infinity));else{if(void 0!==a){if(this.boundingBox.setFromBufferAttribute(a),b)for(let c=0,d=b.length;c<d;c++)_box$2$$module$js$threejs$three_module.setFromBufferAttribute(b[c]),this.morphTargetsRelative?(_vector$4$$module$js$threejs$three_module.addVectors(this.boundingBox.min,_box$2$$module$js$threejs$three_module.min),this.boundingBox.expandByPoint(_vector$4$$module$js$threejs$three_module),
_vector$4$$module$js$threejs$three_module.addVectors(this.boundingBox.max,_box$2$$module$js$threejs$three_module.max),this.boundingBox.expandByPoint(_vector$4$$module$js$threejs$three_module)):(this.boundingBox.expandByPoint(_box$2$$module$js$threejs$three_module.min),this.boundingBox.expandByPoint(_box$2$$module$js$threejs$three_module.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',
this)}},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Sphere$$module$js$threejs$three_module);const a=this.attributes.position,b=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3$$module$js$threejs$three_module,Infinity);else if(a){const c=this.boundingSphere.center;
_box$2$$module$js$threejs$three_module.setFromBufferAttribute(a);if(b)for(let e=0,g=b.length;e<g;e++)_boxMorphTargets$$module$js$threejs$three_module.setFromBufferAttribute(b[e]),this.morphTargetsRelative?(_vector$4$$module$js$threejs$three_module.addVectors(_box$2$$module$js$threejs$three_module.min,_boxMorphTargets$$module$js$threejs$three_module.min),_box$2$$module$js$threejs$three_module.expandByPoint(_vector$4$$module$js$threejs$three_module),_vector$4$$module$js$threejs$three_module.addVectors(_box$2$$module$js$threejs$three_module.max,
_boxMorphTargets$$module$js$threejs$three_module.max),_box$2$$module$js$threejs$three_module.expandByPoint(_vector$4$$module$js$threejs$three_module)):(_box$2$$module$js$threejs$three_module.expandByPoint(_boxMorphTargets$$module$js$threejs$three_module.min),_box$2$$module$js$threejs$three_module.expandByPoint(_boxMorphTargets$$module$js$threejs$three_module.max));_box$2$$module$js$threejs$three_module.getCenter(c);let d=0;for(let e=0,g=a.count;e<g;e++)_vector$4$$module$js$threejs$three_module.fromBufferAttribute(a,
e),d=Math.max(d,c.distanceToSquared(_vector$4$$module$js$threejs$three_module));if(b)for(let e=0,g=b.length;e<g;e++){const h=b[e],k=this.morphTargetsRelative;for(let l=0,m=h.count;l<m;l++)_vector$4$$module$js$threejs$three_module.fromBufferAttribute(h,l),k&&(_offset$$module$js$threejs$three_module.fromBufferAttribute(a,l),_vector$4$$module$js$threejs$three_module.add(_offset$$module$js$threejs$three_module)),d=Math.max(d,c.distanceToSquared(_vector$4$$module$js$threejs$three_module))}this.boundingSphere.radius=
Math.sqrt(d);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const a=this.index,b=this.getAttribute("position");if(void 0!==b){let c=this.getAttribute("normal");if(void 0===c)c=new BufferAttribute$$module$js$threejs$three_module(new Float32Array(3*b.count),3),this.setAttribute("normal",c);else for(let p=
0,t=c.count;p<t;p++)c.setXYZ(p,0,0,0);const d=new Vector3$$module$js$threejs$three_module,e=new Vector3$$module$js$threejs$three_module,g=new Vector3$$module$js$threejs$three_module,h=new Vector3$$module$js$threejs$three_module,k=new Vector3$$module$js$threejs$three_module,l=new Vector3$$module$js$threejs$three_module,m=new Vector3$$module$js$threejs$three_module,n=new Vector3$$module$js$threejs$three_module;if(a)for(let p=0,t=a.count;p<t;p+=3){const w=a.getX(p+0),x=a.getX(p+1),A=a.getX(p+2);d.fromBufferAttribute(b,
w);e.fromBufferAttribute(b,x);g.fromBufferAttribute(b,A);m.subVectors(g,e);n.subVectors(d,e);m.cross(n);h.fromBufferAttribute(c,w);k.fromBufferAttribute(c,x);l.fromBufferAttribute(c,A);h.add(m);k.add(m);l.add(m);c.setXYZ(w,h.x,h.y,h.z);c.setXYZ(x,k.x,k.y,k.z);c.setXYZ(A,l.x,l.y,l.z)}else for(let p=0,t=b.count;p<t;p+=3)d.fromBufferAttribute(b,p+0),e.fromBufferAttribute(b,p+1),g.fromBufferAttribute(b,p+2),m.subVectors(g,e),n.subVectors(d,e),m.cross(n),c.setXYZ(p+0,m.x,m.y,m.z),c.setXYZ(p+1,m.x,m.y,
m.z),c.setXYZ(p+2,m.x,m.y,m.z);this.normalizeNormals();c.needsUpdate=!0}},merge:function(a,b){if(a&&a.isBufferGeometry){void 0===b&&(b=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var c=this.attributes;for(const e in c){if(void 0===a.attributes[e])continue;const g=c[e].array;var d=a.attributes[e];const h=d.array;d=d.itemSize*b;const k=Math.min(h.length,g.length-d);for(let l=
0,m=d;l<k;l++,m++)g[m]=h[l]}return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",a)},normalizeNormals:function(){const a=this.attributes.normal;for(let b=0,c=a.count;b<c;b++)_vector$4$$module$js$threejs$three_module.fromBufferAttribute(a,b),_vector$4$$module$js$threejs$three_module.normalize(),a.setXYZ(b,_vector$4$$module$js$threejs$three_module.x,_vector$4$$module$js$threejs$three_module.y,_vector$4$$module$js$threejs$three_module.z)},toNonIndexed:function(){function a(k,
l){const m=k.array,n=k.itemSize;k=k.normalized;const p=new m.constructor(l.length*n);let t,w=0;for(let x=0,A=l.length;x<A;x++){t=l[x]*n;for(let r=0;r<n;r++)p[w++]=m[t++]}return new BufferAttribute$$module$js$threejs$three_module(p,n,k)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const b=new BufferGeometry$$module$js$threejs$three_module;var c=this.index.array,d=this.attributes;for(var e in d){var g=a(d[e],c);b.setAttribute(e,
g)}d=this.morphAttributes;for(var h in d){e=[];g=d[h];for(let k=0,l=g.length;k<l;k++){const m=a(g[k],c);e.push(m)}b.morphAttributes[h]=e}b.morphTargetsRelative=this.morphTargetsRelative;c=this.groups;for(let k=0,l=c.length;k<l;k++)h=c[k],b.addGroup(h.start,h.count,h.materialIndex);return b},toJSON:function(){const a={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};a.uuid=this.uuid;a.type=this.type;""!==this.name&&(a.name=this.name);0<Object.keys(this.userData).length&&
(a.userData=this.userData);if(void 0!==this.parameters){var b=this.parameters;for(var c in b)void 0!==b[c]&&(a[c]=b[c]);return a}a.data={attributes:{}};c=this.index;null!==c&&(a.data.index={type:c.array.constructor.name,array:Array.prototype.slice.call(c.array)});c=this.attributes;for(var d in c){var e=c[d],g=e.toJSON(a.data);""!==e.name&&(g.name=e.name);a.data.attributes[d]=g}d={};c=!1;for(b in this.morphAttributes){e=this.morphAttributes[b];g=[];for(let h=0,k=e.length;h<k;h++){const l=e[h],m=l.toJSON(a.data);
""!==l.name&&(m.name=l.name);g.push(m)}0<g.length&&(d[b]=g,c=!0)}c&&(a.data.morphAttributes=d,a.data.morphTargetsRelative=this.morphTargetsRelative);b=this.groups;0<b.length&&(a.data.groups=JSON.parse(JSON.stringify(b)));b=this.boundingSphere;null!==b&&(a.data.boundingSphere={center:b.center.toArray(),radius:b.radius});return a},clone:function(){return(new BufferGeometry$$module$js$threejs$three_module).copy(this)},copy:function(a){this.index=null;this.attributes={};this.morphAttributes={};this.groups=
[];this.boundingSphere=this.boundingBox=null;var b={};this.name=a.name;var c=a.index;null!==c&&this.setIndex(c.clone(b));c=a.attributes;for(var d in c)this.setAttribute(d,c[d].clone(b));d=a.morphAttributes;for(var e in d){c=[];const g=d[e];for(let h=0,k=g.length;h<k;h++)c.push(g[h].clone(b));this.morphAttributes[e]=c}this.morphTargetsRelative=a.morphTargetsRelative;b=a.groups;for(let g=0,h=b.length;g<h;g++)e=b[g],this.addGroup(e.start,e.count,e.materialIndex);b=a.boundingBox;null!==b&&(this.boundingBox=
b.clone());b=a.boundingSphere;null!==b&&(this.boundingSphere=b.clone());this.drawRange.start=a.drawRange.start;this.drawRange.count=a.drawRange.count;this.userData=a.userData;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
const _inverseMatrix$$module$js$threejs$three_module=new Matrix4$$module$js$threejs$three_module,_ray$$module$js$threejs$three_module=new Ray$$module$js$threejs$three_module,_sphere$$module$js$threejs$three_module=new Sphere$$module$js$threejs$three_module,_vA$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_vB$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_vC$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_tempA$$module$js$threejs$three_module=
new Vector3$$module$js$threejs$three_module,_tempB$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_tempC$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_morphA$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_morphB$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_morphC$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_uvA$$module$js$threejs$three_module=new Vector2$$module$js$threejs$three_module,
_uvB$$module$js$threejs$three_module=new Vector2$$module$js$threejs$three_module,_uvC$$module$js$threejs$three_module=new Vector2$$module$js$threejs$three_module,_intersectionPoint$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_intersectionPointWorld$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module;
function Mesh$$module$js$threejs$three_module(a,b){Object3D$$module$js$threejs$three_module.call(this);this.type="Mesh";this.geometry=void 0!==a?a:new BufferGeometry$$module$js$threejs$three_module;this.material=void 0!==b?b:new MeshBasicMaterial$$module$js$threejs$three_module;this.updateMorphTargets()}
Mesh$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Object3D$$module$js$threejs$three_module.prototype),{constructor:Mesh$$module$js$threejs$three_module,isMesh:!0,copy:function(a){Object3D$$module$js$threejs$three_module.prototype.copy.call(this,a);void 0!==a.morphTargetInfluences&&(this.morphTargetInfluences=a.morphTargetInfluences.slice());void 0!==a.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},a.morphTargetDictionary));this.material=a.material;this.geometry=
a.geometry;return this},updateMorphTargets:function(){var a=this.geometry;if(a.isBufferGeometry){a=a.morphAttributes;var b=Object.keys(a);if(0<b.length&&(a=a[b[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let c=0,d=a.length;c<d;c++)b=a[c].name||String(c),this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=c}}else a=a.morphTargets,void 0!==a&&0<a.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},
raycast:function(a,b){var c=this.geometry;const d=this.material;var e=this.matrixWorld;if(void 0!==d&&(null===c.boundingSphere&&c.computeBoundingSphere(),_sphere$$module$js$threejs$three_module.copy(c.boundingSphere),_sphere$$module$js$threejs$three_module.applyMatrix4(e),!1!==a.ray.intersectsSphere(_sphere$$module$js$threejs$three_module)&&(_inverseMatrix$$module$js$threejs$three_module.getInverse(e),_ray$$module$js$threejs$three_module.copy(a.ray).applyMatrix4(_inverseMatrix$$module$js$threejs$three_module),
null===c.boundingBox||!1!==_ray$$module$js$threejs$three_module.intersectsBox(c.boundingBox))))if(c.isBufferGeometry){var g=c.index,h=c.attributes.position;e=c.morphAttributes.position;var k=c.morphTargetsRelative,l=c.attributes.uv,m=c.attributes.uv2,n=c.groups,p=c.drawRange;if(null!==g)if(Array.isArray(d))for(let A=0,r=n.length;A<r;A++){var t=n[A],w=d[t.materialIndex];c=Math.max(t.start,p.start);var x=Math.min(t.start+t.count,p.start+p.count);for(let E=c,B=x;E<B;E+=3){c=g.getX(E);x=g.getX(E+1);const G=
g.getX(E+2);if(c=checkBufferGeometryIntersection$$module$js$threejs$three_module(this,w,a,_ray$$module$js$threejs$three_module,h,e,k,l,m,c,x,G))c.faceIndex=Math.floor(E/3),c.face.materialIndex=t.materialIndex,b.push(c)}}else{c=Math.max(0,p.start);p=Math.min(g.count,p.start+p.count);for(let A=c,r=p;A<r;A+=3)if(c=g.getX(A),p=g.getX(A+1),n=g.getX(A+2),c=checkBufferGeometryIntersection$$module$js$threejs$three_module(this,d,a,_ray$$module$js$threejs$three_module,h,e,k,l,m,c,p,n))c.faceIndex=Math.floor(A/
3),b.push(c)}else if(void 0!==h)if(Array.isArray(d))for(let A=0,r=n.length;A<r;A++){g=n[A];t=d[g.materialIndex];c=Math.max(g.start,p.start);w=Math.min(g.start+g.count,p.start+p.count);for(let E=c,B=w;E<B;E+=3)if(c=checkBufferGeometryIntersection$$module$js$threejs$three_module(this,t,a,_ray$$module$js$threejs$three_module,h,e,k,l,m,E,E+1,E+2))c.faceIndex=Math.floor(E/3),c.face.materialIndex=g.materialIndex,b.push(c)}else{c=Math.max(0,p.start);g=Math.min(h.count,p.start+p.count);for(let A=c,r=g;A<
r;A+=3)if(c=checkBufferGeometryIntersection$$module$js$threejs$three_module(this,d,a,_ray$$module$js$threejs$three_module,h,e,k,l,m,A,A+1,A+2))c.faceIndex=Math.floor(A/3),b.push(c)}}else if(c.isGeometry){e=Array.isArray(d);k=c.vertices;l=c.faces;m=c.faceVertexUvs[0];0<m.length&&(h=m);for(let A=0,r=l.length;A<r;A++)if(m=l[A],c=e?d[m.materialIndex]:d,void 0!==c&&(g=k[m.a],p=k[m.b],n=k[m.c],c=checkIntersection$$module$js$threejs$three_module(this,c,a,_ray$$module$js$threejs$three_module,g,p,n,_intersectionPoint$$module$js$threejs$three_module)))h&&
h[A]&&(t=h[A],_uvA$$module$js$threejs$three_module.copy(t[0]),_uvB$$module$js$threejs$three_module.copy(t[1]),_uvC$$module$js$threejs$three_module.copy(t[2]),c.uv=Triangle$$module$js$threejs$three_module.getUV(_intersectionPoint$$module$js$threejs$three_module,g,p,n,_uvA$$module$js$threejs$three_module,_uvB$$module$js$threejs$three_module,_uvC$$module$js$threejs$three_module,new Vector2$$module$js$threejs$three_module)),c.face=m,c.faceIndex=A,b.push(c)}}});
function checkIntersection$$module$js$threejs$three_module(a,b,c,d,e,g,h,k){if(null===(b.side===BackSide$$module$js$threejs$three_module?d.intersectTriangle(h,g,e,!0,k):d.intersectTriangle(e,g,h,b.side!==DoubleSide$$module$js$threejs$three_module,k)))return null;_intersectionPointWorld$$module$js$threejs$three_module.copy(k);_intersectionPointWorld$$module$js$threejs$three_module.applyMatrix4(a.matrixWorld);b=c.ray.origin.distanceTo(_intersectionPointWorld$$module$js$threejs$three_module);return b<
c.near||b>c.far?null:{distance:b,point:_intersectionPointWorld$$module$js$threejs$three_module.clone(),object:a}}
function checkBufferGeometryIntersection$$module$js$threejs$three_module(a,b,c,d,e,g,h,k,l,m,n,p){_vA$$module$js$threejs$three_module.fromBufferAttribute(e,m);_vB$$module$js$threejs$three_module.fromBufferAttribute(e,n);_vC$$module$js$threejs$three_module.fromBufferAttribute(e,p);e=a.morphTargetInfluences;if(b.morphTargets&&g&&e){_morphA$$module$js$threejs$three_module.set(0,0,0);_morphB$$module$js$threejs$three_module.set(0,0,0);_morphC$$module$js$threejs$three_module.set(0,0,0);for(let t=0,w=g.length;t<
w;t++){const x=e[t],A=g[t];0!==x&&(_tempA$$module$js$threejs$three_module.fromBufferAttribute(A,m),_tempB$$module$js$threejs$three_module.fromBufferAttribute(A,n),_tempC$$module$js$threejs$three_module.fromBufferAttribute(A,p),h?(_morphA$$module$js$threejs$three_module.addScaledVector(_tempA$$module$js$threejs$three_module,x),_morphB$$module$js$threejs$three_module.addScaledVector(_tempB$$module$js$threejs$three_module,x),_morphC$$module$js$threejs$three_module.addScaledVector(_tempC$$module$js$threejs$three_module,
x)):(_morphA$$module$js$threejs$three_module.addScaledVector(_tempA$$module$js$threejs$three_module.sub(_vA$$module$js$threejs$three_module),x),_morphB$$module$js$threejs$three_module.addScaledVector(_tempB$$module$js$threejs$three_module.sub(_vB$$module$js$threejs$three_module),x),_morphC$$module$js$threejs$three_module.addScaledVector(_tempC$$module$js$threejs$three_module.sub(_vC$$module$js$threejs$three_module),x)))}_vA$$module$js$threejs$three_module.add(_morphA$$module$js$threejs$three_module);
_vB$$module$js$threejs$three_module.add(_morphB$$module$js$threejs$three_module);_vC$$module$js$threejs$three_module.add(_morphC$$module$js$threejs$three_module)}a.isSkinnedMesh&&(a.boneTransform(m,_vA$$module$js$threejs$three_module),a.boneTransform(n,_vB$$module$js$threejs$three_module),a.boneTransform(p,_vC$$module$js$threejs$three_module));if(a=checkIntersection$$module$js$threejs$three_module(a,b,c,d,_vA$$module$js$threejs$three_module,_vB$$module$js$threejs$three_module,_vC$$module$js$threejs$three_module,
_intersectionPoint$$module$js$threejs$three_module))k&&(_uvA$$module$js$threejs$three_module.fromBufferAttribute(k,m),_uvB$$module$js$threejs$three_module.fromBufferAttribute(k,n),_uvC$$module$js$threejs$three_module.fromBufferAttribute(k,p),a.uv=Triangle$$module$js$threejs$three_module.getUV(_intersectionPoint$$module$js$threejs$three_module,_vA$$module$js$threejs$three_module,_vB$$module$js$threejs$three_module,_vC$$module$js$threejs$three_module,_uvA$$module$js$threejs$three_module,_uvB$$module$js$threejs$three_module,
_uvC$$module$js$threejs$three_module,new Vector2$$module$js$threejs$three_module)),l&&(_uvA$$module$js$threejs$three_module.fromBufferAttribute(l,m),_uvB$$module$js$threejs$three_module.fromBufferAttribute(l,n),_uvC$$module$js$threejs$three_module.fromBufferAttribute(l,p),a.uv2=Triangle$$module$js$threejs$three_module.getUV(_intersectionPoint$$module$js$threejs$three_module,_vA$$module$js$threejs$three_module,_vB$$module$js$threejs$three_module,_vC$$module$js$threejs$three_module,_uvA$$module$js$threejs$three_module,
_uvB$$module$js$threejs$three_module,_uvC$$module$js$threejs$three_module,new Vector2$$module$js$threejs$three_module)),k=new Face3$$module$js$threejs$three_module(m,n,p),Triangle$$module$js$threejs$three_module.getNormal(_vA$$module$js$threejs$three_module,_vB$$module$js$threejs$three_module,_vC$$module$js$threejs$three_module,k.normal),a.face=k;return a}let _geometryId$$module$js$threejs$three_module=0;
const _m1$3$$module$js$threejs$three_module=new Matrix4$$module$js$threejs$three_module,_obj$1$$module$js$threejs$three_module=new Object3D$$module$js$threejs$three_module,_offset$1$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module;
function Geometry$$module$js$threejs$three_module(){Object.defineProperty(this,"id",{value:_geometryId$$module$js$threejs$three_module+=2});this.uuid=MathUtils$$module$js$threejs$three_module.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=
this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}
Geometry$$module$js$threejs$three_module.prototype=Object.assign(Object.create(EventDispatcher$$module$js$threejs$three_module.prototype),{constructor:Geometry$$module$js$threejs$three_module,isGeometry:!0,applyMatrix4:function(a){const b=(new Matrix3$$module$js$threejs$three_module).getNormalMatrix(a);for(let c=0,d=this.vertices.length;c<d;c++)this.vertices[c].applyMatrix4(a);for(let c=0,d=this.faces.length;c<d;c++){a=this.faces[c];a.normal.applyMatrix3(b).normalize();for(let e=0,g=a.vertexNormals.length;e<
g;e++)a.vertexNormals[e].applyMatrix3(b).normalize()}null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();this.normalsNeedUpdate=this.verticesNeedUpdate=!0;return this},rotateX:function(a){_m1$3$$module$js$threejs$three_module.makeRotationX(a);this.applyMatrix4(_m1$3$$module$js$threejs$three_module);return this},rotateY:function(a){_m1$3$$module$js$threejs$three_module.makeRotationY(a);this.applyMatrix4(_m1$3$$module$js$threejs$three_module);
return this},rotateZ:function(a){_m1$3$$module$js$threejs$three_module.makeRotationZ(a);this.applyMatrix4(_m1$3$$module$js$threejs$three_module);return this},translate:function(a,b,c){_m1$3$$module$js$threejs$three_module.makeTranslation(a,b,c);this.applyMatrix4(_m1$3$$module$js$threejs$three_module);return this},scale:function(a,b,c){_m1$3$$module$js$threejs$three_module.makeScale(a,b,c);this.applyMatrix4(_m1$3$$module$js$threejs$three_module);return this},lookAt:function(a){_obj$1$$module$js$threejs$three_module.lookAt(a);
_obj$1$$module$js$threejs$three_module.updateMatrix();this.applyMatrix4(_obj$1$$module$js$threejs$three_module.matrix);return this},fromBufferGeometry:function(a){function b(n,p,t,w){const x=void 0===k?[]:[c.colors[n].clone(),c.colors[p].clone(),c.colors[t].clone()],A=void 0===h?[]:[(new Vector3$$module$js$threejs$three_module).fromBufferAttribute(h,n),(new Vector3$$module$js$threejs$three_module).fromBufferAttribute(h,p),(new Vector3$$module$js$threejs$three_module).fromBufferAttribute(h,t)];w=new Face3$$module$js$threejs$three_module(n,
p,t,A,x,w);c.faces.push(w);void 0!==l&&c.faceVertexUvs[0].push([(new Vector2$$module$js$threejs$three_module).fromBufferAttribute(l,n),(new Vector2$$module$js$threejs$three_module).fromBufferAttribute(l,p),(new Vector2$$module$js$threejs$three_module).fromBufferAttribute(l,t)]);void 0!==m&&c.faceVertexUvs[1].push([(new Vector2$$module$js$threejs$three_module).fromBufferAttribute(m,n),(new Vector2$$module$js$threejs$three_module).fromBufferAttribute(m,p),(new Vector2$$module$js$threejs$three_module).fromBufferAttribute(m,
t)])}const c=this;var d=null!==a.index?a.index:void 0,e=a.attributes;if(void 0===e.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var g=e.position;const h=e.normal,k=e.color,l=e.uv,m=e.uv2;void 0!==m&&(this.faceVertexUvs[1]=[]);for(e=0;e<g.count;e++)c.vertices.push((new Vector3$$module$js$threejs$three_module).fromBufferAttribute(g,e)),void 0!==k&&c.colors.push((new Color$$module$js$threejs$three_module).fromBufferAttribute(k,
e));e=a.groups;if(0<e.length)for(g=0;g<e.length;g++){const n=e[g],p=n.start,t=n.count;for(let w=p,x=p+t;w<x;w+=3)void 0!==d?b(d.getX(w),d.getX(w+1),d.getX(w+2),n.materialIndex):b(w,w+1,w+2,n.materialIndex)}else if(void 0!==d)for(e=0;e<d.count;e+=3)b(d.getX(e),d.getX(e+1),d.getX(e+2));else for(d=0;d<g.count;d+=3)b(d,d+1,d+2);this.computeFaceNormals();null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this},center:function(){this.computeBoundingBox();
this.boundingBox.getCenter(_offset$1$$module$js$threejs$three_module).negate();this.translate(_offset$1$$module$js$threejs$three_module.x,_offset$1$$module$js$threejs$three_module.y,_offset$1$$module$js$threejs$three_module.z);return this},normalize:function(){this.computeBoundingSphere();const a=this.boundingSphere.center;var b=this.boundingSphere.radius;b=0===b?1:1/b;const c=new Matrix4$$module$js$threejs$three_module;c.set(b,0,0,-b*a.x,0,b,0,-b*a.y,0,0,b,-b*a.z,0,0,0,1);this.applyMatrix4(c);return this},
computeFaceNormals:function(){const a=new Vector3$$module$js$threejs$three_module,b=new Vector3$$module$js$threejs$three_module;for(let c=0,d=this.faces.length;c<d;c++){const e=this.faces[c],g=this.vertices[e.a],h=this.vertices[e.b];a.subVectors(this.vertices[e.c],h);b.subVectors(g,h);a.cross(b);a.normalize();e.normal.copy(a)}},computeVertexNormals:function(a){void 0===a&&(a=!0);const b=Array(this.vertices.length);for(let d=0,e=this.vertices.length;d<e;d++)b[d]=new Vector3$$module$js$threejs$three_module;
if(a){a=new Vector3$$module$js$threejs$three_module;var c=new Vector3$$module$js$threejs$three_module;for(let d=0,e=this.faces.length;d<e;d++){const g=this.faces[d],h=this.vertices[g.a],k=this.vertices[g.b];a.subVectors(this.vertices[g.c],k);c.subVectors(h,k);a.cross(c);b[g.a].add(a);b[g.b].add(a);b[g.c].add(a)}}else{this.computeFaceNormals();for(let d=0,e=this.faces.length;d<e;d++)a=this.faces[d],b[a.a].add(a.normal),b[a.b].add(a.normal),b[a.c].add(a.normal)}for(let d=0,e=this.vertices.length;d<
e;d++)b[d].normalize();for(let d=0,e=this.faces.length;d<e;d++)a=this.faces[d],c=a.vertexNormals,3===c.length?(c[0].copy(b[a.a]),c[1].copy(b[a.b]),c[2].copy(b[a.c])):(c[0]=b[a.a].clone(),c[1]=b[a.b].clone(),c[2]=b[a.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let a=0,b=this.faces.length;a<b;a++){const c=this.faces[a],d=c.vertexNormals;3===d.length?(d[0].copy(c.normal),d[1].copy(c.normal),d[2].copy(c.normal)):(d[0]=
c.normal.clone(),d[1]=c.normal.clone(),d[2]=c.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let e=0,g=this.faces.length;e<g;e++){var a=this.faces[e];a.__originalFaceNormal?a.__originalFaceNormal.copy(a.normal):a.__originalFaceNormal=a.normal.clone();a.__originalVertexNormals||(a.__originalVertexNormals=[]);for(let h=0,k=a.vertexNormals.length;h<k;h++)a.__originalVertexNormals[h]?a.__originalVertexNormals[h].copy(a.vertexNormals[h]):a.__originalVertexNormals[h]=
a.vertexNormals[h].clone()}a=new Geometry$$module$js$threejs$three_module;a.faces=this.faces;for(let e=0,g=this.morphTargets.length;e<g;e++){if(!this.morphNormals[e]){this.morphNormals[e]={};this.morphNormals[e].faceNormals=[];this.morphNormals[e].vertexNormals=[];var b=this.morphNormals[e].faceNormals,c=this.morphNormals[e].vertexNormals;for(let h=0,k=this.faces.length;h<k;h++){var d=new Vector3$$module$js$threejs$three_module;const l={a:new Vector3$$module$js$threejs$three_module,b:new Vector3$$module$js$threejs$three_module,
c:new Vector3$$module$js$threejs$three_module};b.push(d);c.push(l)}}b=this.morphNormals[e];a.vertices=this.morphTargets[e].vertices;a.computeFaceNormals();a.computeVertexNormals();for(let h=0,k=this.faces.length;h<k;h++)c=this.faces[h],d=b.vertexNormals[h],b.faceNormals[h].copy(c.normal),d.a.copy(c.vertexNormals[0]),d.b.copy(c.vertexNormals[1]),d.c.copy(c.vertexNormals[2])}for(let e=0,g=this.faces.length;e<g;e++)a=this.faces[e],a.normal=a.__originalFaceNormal,a.vertexNormals=a.__originalVertexNormals},
computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Box3$$module$js$threejs$three_module);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Sphere$$module$js$threejs$three_module);this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,b,c){if(a&&a.isGeometry){var d,e=this.vertices.length,g=this.vertices,h=a.vertices,k=this.faces,l=a.faces,m=this.colors,n=a.colors;void 0===c&&(c=
0);void 0!==b&&(d=(new Matrix3$$module$js$threejs$three_module).getNormalMatrix(b));for(let p=0,t=h.length;p<t;p++){const w=h[p].clone();void 0!==b&&w.applyMatrix4(b);g.push(w)}for(let p=0,t=n.length;p<t;p++)m.push(n[p].clone());for(let p=0,t=l.length;p<t;p++){b=l[p];n=b.vertexNormals;g=b.vertexColors;h=new Face3$$module$js$threejs$three_module(b.a+e,b.b+e,b.c+e);h.normal.copy(b.normal);void 0!==d&&h.normal.applyMatrix3(d).normalize();for(let w=0,x=n.length;w<x;w++)m=n[w].clone(),void 0!==d&&m.applyMatrix3(d).normalize(),
h.vertexNormals.push(m);h.color.copy(b.color);for(let w=0,x=g.length;w<x;w++)m=g[w],h.vertexColors.push(m.clone());h.materialIndex=b.materialIndex+c;k.push(h)}for(let p=0,t=a.faceVertexUvs.length;p<t;p++){c=a.faceVertexUvs[p];void 0===this.faceVertexUvs[p]&&(this.faceVertexUvs[p]=[]);for(let w=0,x=c.length;w<x;w++){d=c[w];e=[];for(let A=0,r=d.length;A<r;A++)e.push(d[A].clone());this.faceVertexUvs[p].push(e)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",
a)},mergeMesh:function(a){a&&a.isMesh?(a.matrixAutoUpdate&&a.updateMatrix(),this.merge(a.geometry,a.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",a)},mergeVertices:function(){var a={};const b=[];var c=[],d=Math.pow(10,4);for(let g=0,h=this.vertices.length;g<h;g++){var e=this.vertices[g];e=Math.round(e.x*d)+"_"+Math.round(e.y*d)+"_"+Math.round(e.z*d);void 0===a[e]?(a[e]=g,b.push(this.vertices[g]),c[g]=b.length-1):c[g]=c[a[e]]}a=[];for(let g=0,h=this.faces.length;g<
h;g++)for(d=this.faces[g],d.a=c[d.a],d.b=c[d.b],d.c=c[d.c],d=[d.a,d.b,d.c],e=0;3>e;e++)if(d[e]===d[(e+1)%3]){a.push(g);break}for(c=a.length-1;0<=c;c--){d=a[c];this.faces.splice(d,1);for(let g=0,h=this.faceVertexUvs.length;g<h;g++)this.faceVertexUvs[g].splice(d,1)}c=this.vertices.length-b.length;this.vertices=b;return c},setFromPoints:function(a){this.vertices=[];for(let b=0,c=a.length;b<c;b++){const d=a[b];this.vertices.push(new Vector3$$module$js$threejs$three_module(d.x,d.y,d.z||0))}return this},
sortFacesByMaterialIndex:function(){const a=this.faces,b=a.length;for(var c=0;c<b;c++)a[c]._id=c;a.sort(function(h,k){return h.materialIndex-k.materialIndex});c=this.faceVertexUvs[0];const d=this.faceVertexUvs[1];let e,g;c&&c.length===b&&(e=[]);d&&d.length===b&&(g=[]);for(let h=0;h<b;h++){const k=a[h]._id;e&&e.push(c[k]);g&&g.push(d[k])}e&&(this.faceVertexUvs[0]=e);g&&(this.faceVertexUvs[1]=g)},toJSON:function(){function a(E,B,G){return G?E|1<<B:E&~(1<<B)}function b(E){const B=E.x.toString()+E.y.toString()+
E.z.toString();if(void 0!==m[B])return m[B];m[B]=l.length/3;l.push(E.x,E.y,E.z);return m[B]}function c(E){const B=E.r.toString()+E.g.toString()+E.b.toString();if(void 0!==p[B])return p[B];p[B]=n.length;n.push(E.getHex());return p[B]}function d(E){const B=E.x.toString()+E.y.toString();if(void 0!==w[B])return w[B];w[B]=t.length/2;t.push(E.x,E.y);return w[B]}const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};e.uuid=this.uuid;e.type=this.type;""!==this.name&&(e.name=this.name);
if(void 0!==this.parameters){var g=this.parameters;for(var h in g)void 0!==g[h]&&(e[h]=g[h]);return e}g=[];for(h=0;h<this.vertices.length;h++){var k=this.vertices[h];g.push(k.x,k.y,k.z)}h=[];const l=[],m={},n=[],p={},t=[],w={};for(k=0;k<this.faces.length;k++){var x=this.faces[k],A=void 0!==this.faceVertexUvs[0][k],r=0<x.normal.length();const E=0<x.vertexNormals.length,B=1!==x.color.r||1!==x.color.g||1!==x.color.b,G=0<x.vertexColors.length;let H=0;H=a(H,0,0);H=a(H,1,!0);H=a(H,2,!1);H=a(H,3,A);H=a(H,
4,r);H=a(H,5,E);H=a(H,6,B);H=a(H,7,G);h.push(H);h.push(x.a,x.b,x.c);h.push(x.materialIndex);A&&(A=this.faceVertexUvs[0][k],h.push(d(A[0]),d(A[1]),d(A[2])));r&&h.push(b(x.normal));E&&(r=x.vertexNormals,h.push(b(r[0]),b(r[1]),b(r[2])));B&&h.push(c(x.color));G&&(x=x.vertexColors,h.push(c(x[0]),c(x[1]),c(x[2])))}e.data={};e.data.vertices=g;e.data.normals=l;0<n.length&&(e.data.colors=n);0<t.length&&(e.data.uvs=[t]);e.data.faces=h;return e},clone:function(){return(new Geometry$$module$js$threejs$three_module).copy(this)},
copy:function(a){this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.name=a.name;var b=a.vertices;for(let e=0,g=b.length;e<g;e++)this.vertices.push(b[e].clone());b=a.colors;for(let e=0,g=b.length;e<g;e++)this.colors.push(b[e].clone());b=a.faces;for(let e=0,g=b.length;e<g;e++)this.faces.push(b[e].clone());for(let e=0,g=a.faceVertexUvs.length;e<
g;e++){b=a.faceVertexUvs[e];void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]);for(let h=0,k=b.length;h<k;h++){var c=b[h],d=[];for(let l=0,m=c.length;l<m;l++)d.push(c[l].clone());this.faceVertexUvs[e].push(d)}}b=a.morphTargets;for(let e=0,g=b.length;e<g;e++){c={};c.name=b[e].name;if(void 0!==b[e].vertices){c.vertices=[];for(let h=0,k=b[e].vertices.length;h<k;h++)c.vertices.push(b[e].vertices[h].clone())}if(void 0!==b[e].normals){c.normals=[];for(let h=0,k=b[e].normals.length;h<k;h++)c.normals.push(b[e].normals[h].clone())}this.morphTargets.push(c)}b=
a.morphNormals;for(let e=0,g=b.length;e<g;e++){c={};if(void 0!==b[e].vertexNormals){c.vertexNormals=[];for(let h=0,k=b[e].vertexNormals.length;h<k;h++){d=b[e].vertexNormals[h];const l={};l.a=d.a.clone();l.b=d.b.clone();l.c=d.c.clone();c.vertexNormals.push(l)}}if(void 0!==b[e].faceNormals){c.faceNormals=[];for(let h=0,k=b[e].faceNormals.length;h<k;h++)c.faceNormals.push(b[e].faceNormals[h].clone())}this.morphNormals.push(c)}b=a.skinWeights;for(let e=0,g=b.length;e<g;e++)this.skinWeights.push(b[e].clone());
b=a.skinIndices;for(let e=0,g=b.length;e<g;e++)this.skinIndices.push(b[e].clone());b=a.lineDistances;for(let e=0,g=b.length;e<g;e++)this.lineDistances.push(b[e]);b=a.boundingBox;null!==b&&(this.boundingBox=b.clone());b=a.boundingSphere;null!==b&&(this.boundingSphere=b.clone());this.elementsNeedUpdate=a.elementsNeedUpdate;this.verticesNeedUpdate=a.verticesNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.lineDistancesNeedUpdate=
a.lineDistancesNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
class BoxGeometry$$module$js$threejs$three_module extends Geometry$$module$js$threejs$three_module{constructor(a,b,c,d,e,g){super();this.type="BoxGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:g};this.fromBufferGeometry(new BoxBufferGeometry$$module$js$threejs$three_module(a,b,c,d,e,g));this.mergeVertices()}}
class BoxBufferGeometry$$module$js$threejs$three_module extends BufferGeometry$$module$js$threejs$three_module{constructor(a=1,b=1,c=1,d=1,e=1,g=1){function h(x,A,r,E,B,G,H,O,N,U,W){const J=G/N,aa=H/U,ba=G/2,z=H/2,K=O/2;H=N+1;const Q=U+1;let M=G=0;const L=new Vector3$$module$js$threejs$three_module;for(let T=0;T<Q;T++){const X=T*aa-z;for(let y=0;y<H;y++)L[x]=(y*J-ba)*E,L[A]=X*B,L[r]=K,m.push(L.x,L.y,L.z),L[x]=0,L[A]=0,L[r]=0<O?1:-1,n.push(L.x,L.y,L.z),p.push(y/N),p.push(1-T/U),G+=1}for(x=0;x<U;x++)for(A=
0;A<N;A++)r=t+A+H*(x+1),E=t+(A+1)+H*(x+1),B=t+(A+1)+H*x,l.push(t+A+H*x,r,B),l.push(r,E,B),M+=6;k.addGroup(w,M,W);w+=M;t+=G}super();this.type="BoxBufferGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:g};const k=this;d=Math.floor(d);e=Math.floor(e);g=Math.floor(g);const l=[],m=[],n=[],p=[];let t=0,w=0;h("z","y","x",-1,-1,c,b,a,g,e,0);h("z","y","x",1,-1,c,b,-a,g,e,1);h("x","z","y",1,1,a,c,b,d,g,2);h("x","z","y",1,-1,a,c,-b,d,g,3);h("x","y","z",1,-1,
a,b,c,d,e,4);h("x","y","z",-1,-1,a,b,-c,d,e,5);this.setIndex(l);this.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(m,3));this.setAttribute("normal",new Float32BufferAttribute$$module$js$threejs$three_module(n,3));this.setAttribute("uv",new Float32BufferAttribute$$module$js$threejs$three_module(p,2))}}
function cloneUniforms$$module$js$threejs$three_module(a){const b={};for(const c in a){b[c]={};for(const d in a[c]){const e=a[c][d];e&&(e.isColor||e.isMatrix3||e.isMatrix4||e.isVector2||e.isVector3||e.isVector4||e.isTexture)?b[c][d]=e.clone():Array.isArray(e)?b[c][d]=e.slice():b[c][d]=e}}return b}function mergeUniforms$$module$js$threejs$three_module(a){const b={};for(let c=0;c<a.length;c++){const d=cloneUniforms$$module$js$threejs$three_module(a[c]);for(const e in d)b[e]=d[e]}return b}
const UniformsUtils$$module$js$threejs$three_module={clone:cloneUniforms$$module$js$threejs$three_module,merge:mergeUniforms$$module$js$threejs$three_module};var default_vertex$$module$js$threejs$three_module="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",default_fragment$$module$js$threejs$three_module="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";
function ShaderMaterial$$module$js$threejs$three_module(a){Material$$module$js$threejs$three_module.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader=default_vertex$$module$js$threejs$three_module;this.fragmentShader=default_fragment$$module$js$threejs$three_module;this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,
shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;this.uniformsNeedUpdate=!1;this.glslVersion=null;void 0!==a&&(void 0!==a.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(a))}ShaderMaterial$$module$js$threejs$three_module.prototype=Object.create(Material$$module$js$threejs$three_module.prototype);
ShaderMaterial$$module$js$threejs$three_module.prototype.constructor=ShaderMaterial$$module$js$threejs$three_module;ShaderMaterial$$module$js$threejs$three_module.prototype.isShaderMaterial=!0;
ShaderMaterial$$module$js$threejs$three_module.prototype.copy=function(a){Material$$module$js$threejs$three_module.prototype.copy.call(this,a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=cloneUniforms$$module$js$threejs$three_module(a.uniforms);this.defines=Object.assign({},a.defines);this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.lights=a.lights;this.clipping=a.clipping;this.skinning=a.skinning;this.morphTargets=a.morphTargets;
this.morphNormals=a.morphNormals;this.extensions=Object.assign({},a.extensions);this.glslVersion=a.glslVersion;return this};
ShaderMaterial$$module$js$threejs$three_module.prototype.toJSON=function(a){const b=Material$$module$js$threejs$three_module.prototype.toJSON.call(this,a);b.glslVersion=this.glslVersion;b.uniforms={};for(const c in this.uniforms){const d=this.uniforms[c].value;b.uniforms[c]=d&&d.isTexture?{type:"t",value:d.toJSON(a).uuid}:d&&d.isColor?{type:"c",value:d.getHex()}:d&&d.isVector2?{type:"v2",value:d.toArray()}:d&&d.isVector3?{type:"v3",value:d.toArray()}:d&&d.isVector4?{type:"v4",value:d.toArray()}:d&&
d.isMatrix3?{type:"m3",value:d.toArray()}:d&&d.isMatrix4?{type:"m4",value:d.toArray()}:{value:d}}0<Object.keys(this.defines).length&&(b.defines=this.defines);b.vertexShader=this.vertexShader;b.fragmentShader=this.fragmentShader;a={};for(const c in this.extensions)!0===this.extensions[c]&&(a[c]=!0);0<Object.keys(a).length&&(b.extensions=a);return b};
function Camera$$module$js$threejs$three_module(){Object3D$$module$js$threejs$three_module.call(this);this.type="Camera";this.matrixWorldInverse=new Matrix4$$module$js$threejs$three_module;this.projectionMatrix=new Matrix4$$module$js$threejs$three_module;this.projectionMatrixInverse=new Matrix4$$module$js$threejs$three_module}
Camera$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Object3D$$module$js$threejs$three_module.prototype),{constructor:Camera$$module$js$threejs$three_module,isCamera:!0,copy:function(a,b){Object3D$$module$js$threejs$three_module.prototype.copy.call(this,a,b);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);this.projectionMatrixInverse.copy(a.projectionMatrixInverse);return this},getWorldDirection:function(a){void 0===a&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),
a=new Vector3$$module$js$threejs$three_module);this.updateMatrixWorld(!0);const b=this.matrixWorld.elements;return a.set(-b[8],-b[9],-b[10]).normalize()},updateMatrixWorld:function(a){Object3D$$module$js$threejs$three_module.prototype.updateMatrixWorld.call(this,a);this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(a,b){Object3D$$module$js$threejs$three_module.prototype.updateWorldMatrix.call(this,a,b);this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}});
function PerspectiveCamera$$module$js$threejs$three_module(a,b,c,d){Camera$$module$js$threejs$three_module.call(this);this.type="PerspectiveCamera";this.fov=void 0!==a?a:50;this.zoom=1;this.near=void 0!==c?c:.1;this.far=void 0!==d?d:2E3;this.focus=10;this.aspect=void 0!==b?b:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}
PerspectiveCamera$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Camera$$module$js$threejs$three_module.prototype),{constructor:PerspectiveCamera$$module$js$threejs$three_module,isPerspectiveCamera:!0,copy:function(a,b){Camera$$module$js$threejs$three_module.prototype.copy.call(this,a,b);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=
a.filmOffset;return this},setFocalLength:function(a){a=.5*this.getFilmHeight()/a;this.fov=2*MathUtils$$module$js$threejs$three_module.RAD2DEG*Math.atan(a);this.updateProjectionMatrix()},getFocalLength:function(){const a=Math.tan(.5*MathUtils$$module$js$threejs$three_module.DEG2RAD*this.fov);return.5*this.getFilmHeight()/a},getEffectiveFOV:function(){return 2*MathUtils$$module$js$threejs$three_module.RAD2DEG*Math.atan(Math.tan(.5*MathUtils$$module$js$threejs$three_module.DEG2RAD*this.fov)/this.zoom)},
getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(a,b,c,d,e,g){this.aspect=a/b;null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=c;this.view.offsetY=d;this.view.width=e;this.view.height=g;this.updateProjectionMatrix()},clearViewOffset:function(){null!==
this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()},updateProjectionMatrix:function(){const a=this.near;let b=a*Math.tan(.5*MathUtils$$module$js$threejs$three_module.DEG2RAD*this.fov)/this.zoom,c=2*b,d=this.aspect*c,e=-.5*d;var g=this.view;if(null!==this.view&&this.view.enabled){const h=g.fullWidth,k=g.fullHeight;e+=g.offsetX*d/h;b-=g.offsetY*c/k;d*=g.width/h;c*=g.height/k}g=this.filmOffset;0!==g&&(e+=a*g/this.getFilmWidth());this.projectionMatrix.makePerspective(e,e+d,b,b-c,a,this.far);
this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(a){a=Object3D$$module$js$threejs$three_module.prototype.toJSON.call(this,a);a.object.fov=this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return a}});
const fov$$module$js$threejs$three_module=90,aspect$$module$js$threejs$three_module=1;
function CubeCamera$$module$js$threejs$three_module(a,b,c){Object3D$$module$js$threejs$three_module.call(this);this.type="CubeCamera";if(!0!==c.isWebGLCubeRenderTarget)console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");else{this.renderTarget=c;var d=new PerspectiveCamera$$module$js$threejs$three_module(fov$$module$js$threejs$three_module,aspect$$module$js$threejs$three_module,a,b);d.layers=this.layers;d.up.set(0,-1,0);d.lookAt(new Vector3$$module$js$threejs$three_module(1,
0,0));this.add(d);var e=new PerspectiveCamera$$module$js$threejs$three_module(fov$$module$js$threejs$three_module,aspect$$module$js$threejs$three_module,a,b);e.layers=this.layers;e.up.set(0,-1,0);e.lookAt(new Vector3$$module$js$threejs$three_module(-1,0,0));this.add(e);var g=new PerspectiveCamera$$module$js$threejs$three_module(fov$$module$js$threejs$three_module,aspect$$module$js$threejs$three_module,a,b);g.layers=this.layers;g.up.set(0,0,1);g.lookAt(new Vector3$$module$js$threejs$three_module(0,
1,0));this.add(g);var h=new PerspectiveCamera$$module$js$threejs$three_module(fov$$module$js$threejs$three_module,aspect$$module$js$threejs$three_module,a,b);h.layers=this.layers;h.up.set(0,0,-1);h.lookAt(new Vector3$$module$js$threejs$three_module(0,-1,0));this.add(h);var k=new PerspectiveCamera$$module$js$threejs$three_module(fov$$module$js$threejs$three_module,aspect$$module$js$threejs$three_module,a,b);k.layers=this.layers;k.up.set(0,-1,0);k.lookAt(new Vector3$$module$js$threejs$three_module(0,
0,1));this.add(k);var l=new PerspectiveCamera$$module$js$threejs$three_module(fov$$module$js$threejs$three_module,aspect$$module$js$threejs$three_module,a,b);l.layers=this.layers;l.up.set(0,-1,0);l.lookAt(new Vector3$$module$js$threejs$three_module(0,0,-1));this.add(l);this.update=function(m,n){null===this.parent&&this.updateMatrixWorld();const p=m.xr.enabled,t=m.getRenderTarget();m.xr.enabled=!1;const w=c.texture.generateMipmaps;c.texture.generateMipmaps=!1;m.setRenderTarget(c,0);m.render(n,d);m.setRenderTarget(c,
1);m.render(n,e);m.setRenderTarget(c,2);m.render(n,g);m.setRenderTarget(c,3);m.render(n,h);m.setRenderTarget(c,4);m.render(n,k);c.texture.generateMipmaps=w;m.setRenderTarget(c,5);m.render(n,l);m.setRenderTarget(t);m.xr.enabled=p};this.clear=function(m,n,p,t){const w=m.getRenderTarget();for(let x=0;6>x;x++)m.setRenderTarget(c,x),m.clear(n,p,t);m.setRenderTarget(w)}}}CubeCamera$$module$js$threejs$three_module.prototype=Object.create(Object3D$$module$js$threejs$three_module.prototype);
CubeCamera$$module$js$threejs$three_module.prototype.constructor=CubeCamera$$module$js$threejs$three_module;function WebGLCubeRenderTarget$$module$js$threejs$three_module(a,b,c){Number.isInteger(b)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),b=c);WebGLRenderTarget$$module$js$threejs$three_module.call(this,a,a,b);this.texture.isWebGLCubeRenderTargetTexture=!0}WebGLCubeRenderTarget$$module$js$threejs$three_module.prototype=Object.create(WebGLRenderTarget$$module$js$threejs$three_module.prototype);
WebGLCubeRenderTarget$$module$js$threejs$three_module.prototype.constructor=WebGLCubeRenderTarget$$module$js$threejs$three_module;WebGLCubeRenderTarget$$module$js$threejs$three_module.prototype.isWebGLCubeRenderTarget=!0;
WebGLCubeRenderTarget$$module$js$threejs$three_module.prototype.fromEquirectangularTexture=function(a,b){this.texture.type=b.type;this.texture.format=RGBAFormat$$module$js$threejs$three_module;this.texture.encoding=b.encoding;this.texture.generateMipmaps=b.generateMipmaps;this.texture.minFilter=b.minFilter;this.texture.magFilter=b.magFilter;var c=new BoxBufferGeometry$$module$js$threejs$three_module(5,5,5),d=new ShaderMaterial$$module$js$threejs$three_module({name:"CubemapFromEquirect",uniforms:cloneUniforms$$module$js$threejs$three_module({tEquirect:{value:null}}),
vertexShader:"\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",fragmentShader:"\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t",
side:BackSide$$module$js$threejs$three_module,blending:NoBlending$$module$js$threejs$three_module});d.uniforms.tEquirect.value=b;c=new Mesh$$module$js$threejs$three_module(c,d);d=b.minFilter;b.minFilter===LinearMipmapLinearFilter$$module$js$threejs$three_module&&(b.minFilter=LinearFilter$$module$js$threejs$three_module);(new CubeCamera$$module$js$threejs$three_module(1,10,this)).update(a,c);b.minFilter=d;c.geometry.dispose();c.material.dispose();return this};
function DataTexture$$module$js$threejs$three_module(a,b,c,d,e,g,h,k,l,m,n,p){Texture$$module$js$threejs$three_module.call(this,null,g,h,k,l,m,d,e,n,p);this.image={data:a||null,width:b||1,height:c||1};this.magFilter=void 0!==l?l:NearestFilter$$module$js$threejs$three_module;this.minFilter=void 0!==m?m:NearestFilter$$module$js$threejs$three_module;this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1;this.needsUpdate=!0}DataTexture$$module$js$threejs$three_module.prototype=Object.create(Texture$$module$js$threejs$three_module.prototype);
DataTexture$$module$js$threejs$three_module.prototype.constructor=DataTexture$$module$js$threejs$three_module;DataTexture$$module$js$threejs$three_module.prototype.isDataTexture=!0;const _sphere$1$$module$js$threejs$three_module=new Sphere$$module$js$threejs$three_module,_vector$5$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module;
class Frustum$$module$js$threejs$three_module{constructor(a,b,c,d,e,g){this.planes=[void 0!==a?a:new Plane$$module$js$threejs$three_module,void 0!==b?b:new Plane$$module$js$threejs$three_module,void 0!==c?c:new Plane$$module$js$threejs$three_module,void 0!==d?d:new Plane$$module$js$threejs$three_module,void 0!==e?e:new Plane$$module$js$threejs$three_module,void 0!==g?g:new Plane$$module$js$threejs$three_module]}set(a,b,c,d,e,g){const h=this.planes;h[0].copy(a);h[1].copy(b);h[2].copy(c);h[3].copy(d);
h[4].copy(e);h[5].copy(g);return this}clone(){return(new this.constructor).copy(this)}copy(a){const b=this.planes;for(let c=0;6>c;c++)b[c].copy(a.planes[c]);return this}setFromProjectionMatrix(a){const b=this.planes;var c=a.elements;a=c[0];const d=c[1],e=c[2],g=c[3],h=c[4],k=c[5],l=c[6],m=c[7],n=c[8],p=c[9],t=c[10],w=c[11],x=c[12],A=c[13],r=c[14];c=c[15];b[0].setComponents(g-a,m-h,w-n,c-x).normalize();b[1].setComponents(g+a,m+h,w+n,c+x).normalize();b[2].setComponents(g+d,m+k,w+p,c+A).normalize();
b[3].setComponents(g-d,m-k,w-p,c-A).normalize();b[4].setComponents(g-e,m-l,w-t,c-r).normalize();b[5].setComponents(g+e,m+l,w+t,c+r).normalize();return this}intersectsObject(a){const b=a.geometry;null===b.boundingSphere&&b.computeBoundingSphere();_sphere$1$$module$js$threejs$three_module.copy(b.boundingSphere).applyMatrix4(a.matrixWorld);return this.intersectsSphere(_sphere$1$$module$js$threejs$three_module)}intersectsSprite(a){_sphere$1$$module$js$threejs$three_module.center.set(0,0,0);_sphere$1$$module$js$threejs$three_module.radius=
.7071067811865476;_sphere$1$$module$js$threejs$three_module.applyMatrix4(a.matrixWorld);return this.intersectsSphere(_sphere$1$$module$js$threejs$three_module)}intersectsSphere(a){const b=this.planes,c=a.center;a=-a.radius;for(let d=0;6>d;d++)if(b[d].distanceToPoint(c)<a)return!1;return!0}intersectsBox(a){const b=this.planes;for(let c=0;6>c;c++){const d=b[c];_vector$5$$module$js$threejs$three_module.x=0<d.normal.x?a.max.x:a.min.x;_vector$5$$module$js$threejs$three_module.y=0<d.normal.y?a.max.y:a.min.y;
_vector$5$$module$js$threejs$three_module.z=0<d.normal.z?a.max.z:a.min.z;if(0>d.distanceToPoint(_vector$5$$module$js$threejs$three_module))return!1}return!0}containsPoint(a){const b=this.planes;for(let c=0;6>c;c++)if(0>b[c].distanceToPoint(a))return!1;return!0}}
function WebGLAnimation$$module$js$threejs$three_module(){function a(g,h){d(g,h);e=b.requestAnimationFrame(a)}let b=null,c=!1,d=null,e=null;return{start:function(){!0!==c&&null!==d&&(e=b.requestAnimationFrame(a),c=!0)},stop:function(){b.cancelAnimationFrame(e);c=!1},setAnimationLoop:function(g){d=g},setContext:function(g){b=g}}}
function WebGLAttributes$$module$js$threejs$three_module(a,b){function c(g,h){const k=g.array,l=g.usage,m=a.createBuffer();a.bindBuffer(h,m);a.bufferData(h,k,l);g.onUploadCallback();h=5126;k instanceof Float32Array?h=5126:k instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):k instanceof Uint16Array?h=5123:k instanceof Int16Array?h=5122:k instanceof Uint32Array?h=5125:k instanceof Int32Array?h=5124:k instanceof Int8Array?h=5120:k instanceof
Uint8Array&&(h=5121);return{buffer:m,type:h,bytesPerElement:k.BYTES_PER_ELEMENT,version:g.version}}const d=b.isWebGL2,e=new WeakMap;return{get:function(g){g.isInterleavedBufferAttribute&&(g=g.data);return e.get(g)},remove:function(g){g.isInterleavedBufferAttribute&&(g=g.data);const h=e.get(g);h&&(a.deleteBuffer(h.buffer),e.delete(g))},update:function(g,h){if(g.isGLBufferAttribute)h=e.get(g),(!h||h.version<g.version)&&e.set(g,{buffer:g.buffer,type:g.type,bytesPerElement:g.elementSize,version:g.version});
else{g.isInterleavedBufferAttribute&&(g=g.data);var k=e.get(g);if(void 0===k)e.set(g,c(g,h));else if(k.version<g.version){{const l=g.array,m=g.updateRange;a.bindBuffer(h,k.buffer);-1===m.count?a.bufferSubData(h,0,l):(d?a.bufferSubData(h,m.offset*l.BYTES_PER_ELEMENT,l,m.offset,m.count):a.bufferSubData(h,m.offset*l.BYTES_PER_ELEMENT,l.subarray(m.offset,m.offset+m.count)),m.count=-1)}k.version=g.version}}}}}
class PlaneGeometry$$module$js$threejs$three_module extends Geometry$$module$js$threejs$three_module{constructor(a,b,c,d){super();this.type="PlaneGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};this.fromBufferGeometry(new PlaneBufferGeometry$$module$js$threejs$three_module(a,b,c,d));this.mergeVertices()}}
class PlaneBufferGeometry$$module$js$threejs$three_module extends BufferGeometry$$module$js$threejs$three_module{constructor(a,b,c,d){super();this.type="PlaneBufferGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};a=a||1;b=b||1;var e=a/2,g=b/2;c=Math.floor(c)||1;d=Math.floor(d)||1;const h=c+1;var k=d+1,l=a/c,m=b/d;b=[];a=[];const n=[],p=[];for(let t=0;t<k;t++){const w=t*m-g;for(let x=0;x<h;x++)a.push(x*l-e,-w,0),n.push(0,0,1),p.push(x/c),p.push(1-t/d)}for(e=0;e<d;e++)for(g=
0;g<c;g++)k=g+h*(e+1),l=g+1+h*(e+1),m=g+1+h*e,b.push(g+h*e,k,m),b.push(k,l,m);this.setIndex(b);this.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(a,3));this.setAttribute("normal",new Float32BufferAttribute$$module$js$threejs$three_module(n,3));this.setAttribute("uv",new Float32BufferAttribute$$module$js$threejs$three_module(p,2))}}
var alphamap_fragment$$module$js$threejs$three_module="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment$$module$js$threejs$three_module="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment$$module$js$threejs$three_module="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment$$module$js$threejs$three_module="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",
aomap_pars_fragment$$module$js$threejs$three_module="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex$$module$js$threejs$three_module="vec3 transformed = vec3( position );",beginnormal_vertex$$module$js$threejs$three_module="vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs$$module$js$threejs$three_module="vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",
bumpmap_pars_fragment$$module$js$threejs$three_module="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",
clipping_planes_fragment$$module$js$threejs$three_module="#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",
clipping_planes_pars_fragment$$module$js$threejs$three_module="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex$$module$js$threejs$three_module="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex$$module$js$threejs$three_module="#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment$$module$js$threejs$three_module="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",
color_pars_fragment$$module$js$threejs$three_module="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex$$module$js$threejs$three_module="#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex$$module$js$threejs$three_module="#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",
common$$module$js$threejs$three_module="#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",
cube_uv_reflection_fragment$$module$js$threejs$three_module="#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",
defaultnormal_vertex$$module$js$threejs$three_module="vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",
displacementmap_pars_vertex$$module$js$threejs$three_module="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex$$module$js$threejs$three_module="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment$$module$js$threejs$three_module="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",
emissivemap_pars_fragment$$module$js$threejs$three_module="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment$$module$js$threejs$three_module="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment$$module$js$threejs$three_module="\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",
envmap_fragment$$module$js$threejs$three_module="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",
envmap_common_pars_fragment$$module$js$threejs$three_module="#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment$$module$js$threejs$three_module="#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",
envmap_pars_vertex$$module$js$threejs$three_module="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_vertex$$module$js$threejs$three_module="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",
fog_vertex$$module$js$threejs$three_module="#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex$$module$js$threejs$three_module="#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment$$module$js$threejs$three_module="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",
fog_pars_fragment$$module$js$threejs$three_module="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment$$module$js$threejs$three_module="#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",
lightmap_fragment$$module$js$threejs$three_module="#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment$$module$js$threejs$three_module="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex$$module$js$threejs$three_module="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",
lights_pars_begin$$module$js$threejs$three_module="uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",
envmap_physical_pars_fragment$$module$js$threejs$three_module="#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",
lights_toon_fragment$$module$js$threejs$three_module="ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment$$module$js$threejs$three_module="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",
lights_phong_fragment$$module$js$threejs$three_module="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment$$module$js$threejs$three_module="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",
lights_physical_fragment$$module$js$threejs$three_module="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",
lights_physical_pars_fragment$$module$js$threejs$three_module="struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",
lights_fragment_begin$$module$js$threejs$three_module="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",
lights_fragment_maps$$module$js$threejs$three_module="#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",
lights_fragment_end$$module$js$threejs$three_module="#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment$$module$js$threejs$three_module="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",
logdepthbuf_pars_fragment$$module$js$threejs$three_module="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex$$module$js$threejs$three_module="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex$$module$js$threejs$three_module=
"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment$$module$js$threejs$three_module="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",
map_pars_fragment$$module$js$threejs$three_module="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment$$module$js$threejs$three_module="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment$$module$js$threejs$three_module=
"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment$$module$js$threejs$three_module="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment$$module$js$threejs$three_module="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",
morphnormal_vertex$$module$js$threejs$three_module="#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex$$module$js$threejs$three_module="#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",
morphtarget_vertex$$module$js$threejs$three_module="#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",
normal_fragment_begin$$module$js$threejs$three_module="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",
normal_fragment_maps$$module$js$threejs$three_module="#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",
normalmap_pars_fragment$$module$js$threejs$three_module="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",
clearcoat_normal_fragment_begin$$module$js$threejs$three_module="#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps$$module$js$threejs$three_module="#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",
clearcoat_pars_fragment$$module$js$threejs$three_module="#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing$$module$js$threejs$three_module="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",
premultiplied_alpha_fragment$$module$js$threejs$three_module="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex$$module$js$threejs$three_module="vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment$$module$js$threejs$three_module="#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",
dithering_pars_fragment$$module$js$threejs$three_module="#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment$$module$js$threejs$three_module="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",
roughnessmap_pars_fragment$$module$js$threejs$three_module="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment$$module$js$threejs$three_module="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",
shadowmap_pars_vertex$$module$js$threejs$three_module="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",
shadowmap_vertex$$module$js$threejs$three_module="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",
shadowmask_pars_fragment$$module$js$threejs$three_module="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",
skinbase_vertex$$module$js$threejs$three_module="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex$$module$js$threejs$three_module="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",
skinning_vertex$$module$js$threejs$three_module="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex$$module$js$threejs$three_module="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",
specularmap_fragment$$module$js$threejs$three_module="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment$$module$js$threejs$three_module="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment$$module$js$threejs$three_module="#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",
tonemapping_pars_fragment$$module$js$threejs$three_module="#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",
transmissionmap_fragment$$module$js$threejs$three_module="#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment$$module$js$threejs$three_module="#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment$$module$js$threejs$three_module="#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex$$module$js$threejs$three_module="#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",
uv_vertex$$module$js$threejs$three_module="#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment$$module$js$threejs$three_module="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex$$module$js$threejs$three_module="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex$$module$js$threejs$three_module="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",
worldpos_vertex$$module$js$threejs$three_module="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag$$module$js$threejs$three_module="uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
background_vert$$module$js$threejs$three_module="varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag$$module$js$threejs$three_module="#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",
cube_vert$$module$js$threejs$three_module="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag$$module$js$threejs$three_module="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",
depth_vert$$module$js$threejs$three_module="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",
distanceRGBA_frag$$module$js$threejs$three_module="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",
distanceRGBA_vert$$module$js$threejs$three_module="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",
equirect_frag$$module$js$threejs$three_module="uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert$$module$js$threejs$three_module="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",
linedashed_frag$$module$js$threejs$three_module="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",
linedashed_vert$$module$js$threejs$three_module="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",
meshbasic_frag$$module$js$threejs$three_module="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshbasic_vert$$module$js$threejs$three_module="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",
meshlambert_frag$$module$js$threejs$three_module="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshlambert_vert$$module$js$threejs$three_module="#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
meshmatcap_frag$$module$js$threejs$three_module="#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshmatcap_vert$$module$js$threejs$three_module="#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",
meshtoon_frag$$module$js$threejs$three_module="#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshtoon_vert$$module$js$threejs$three_module="#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
meshphong_frag$$module$js$threejs$three_module="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshphong_vert$$module$js$threejs$three_module="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
meshphysical_frag$$module$js$threejs$three_module="#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",
meshphysical_vert$$module$js$threejs$three_module="#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",
normal_frag$$module$js$threejs$three_module="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",
normal_vert$$module$js$threejs$three_module="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",
points_frag$$module$js$threejs$three_module="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",
points_vert$$module$js$threejs$three_module="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",
shadow_frag$$module$js$threejs$three_module="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert$$module$js$threejs$three_module=
"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag$$module$js$threejs$three_module="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",
sprite_vert$$module$js$threejs$three_module="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}";
const ShaderChunk$$module$js$threejs$three_module={alphamap_fragment:alphamap_fragment$$module$js$threejs$three_module,alphamap_pars_fragment:alphamap_pars_fragment$$module$js$threejs$three_module,alphatest_fragment:alphatest_fragment$$module$js$threejs$three_module,aomap_fragment:aomap_fragment$$module$js$threejs$three_module,aomap_pars_fragment:aomap_pars_fragment$$module$js$threejs$three_module,begin_vertex:begin_vertex$$module$js$threejs$three_module,beginnormal_vertex:beginnormal_vertex$$module$js$threejs$three_module,
bsdfs:bsdfs$$module$js$threejs$three_module,bumpmap_pars_fragment:bumpmap_pars_fragment$$module$js$threejs$three_module,clipping_planes_fragment:clipping_planes_fragment$$module$js$threejs$three_module,clipping_planes_pars_fragment:clipping_planes_pars_fragment$$module$js$threejs$three_module,clipping_planes_pars_vertex:clipping_planes_pars_vertex$$module$js$threejs$three_module,clipping_planes_vertex:clipping_planes_vertex$$module$js$threejs$three_module,color_fragment:color_fragment$$module$js$threejs$three_module,
color_pars_fragment:color_pars_fragment$$module$js$threejs$three_module,color_pars_vertex:color_pars_vertex$$module$js$threejs$three_module,color_vertex:color_vertex$$module$js$threejs$three_module,common:common$$module$js$threejs$three_module,cube_uv_reflection_fragment:cube_uv_reflection_fragment$$module$js$threejs$three_module,defaultnormal_vertex:defaultnormal_vertex$$module$js$threejs$three_module,displacementmap_pars_vertex:displacementmap_pars_vertex$$module$js$threejs$three_module,displacementmap_vertex:displacementmap_vertex$$module$js$threejs$three_module,
emissivemap_fragment:emissivemap_fragment$$module$js$threejs$three_module,emissivemap_pars_fragment:emissivemap_pars_fragment$$module$js$threejs$three_module,encodings_fragment:encodings_fragment$$module$js$threejs$three_module,encodings_pars_fragment:encodings_pars_fragment$$module$js$threejs$three_module,envmap_fragment:envmap_fragment$$module$js$threejs$three_module,envmap_common_pars_fragment:envmap_common_pars_fragment$$module$js$threejs$three_module,envmap_pars_fragment:envmap_pars_fragment$$module$js$threejs$three_module,
envmap_pars_vertex:envmap_pars_vertex$$module$js$threejs$three_module,envmap_physical_pars_fragment:envmap_physical_pars_fragment$$module$js$threejs$three_module,envmap_vertex:envmap_vertex$$module$js$threejs$three_module,fog_vertex:fog_vertex$$module$js$threejs$three_module,fog_pars_vertex:fog_pars_vertex$$module$js$threejs$three_module,fog_fragment:fog_fragment$$module$js$threejs$three_module,fog_pars_fragment:fog_pars_fragment$$module$js$threejs$three_module,gradientmap_pars_fragment:gradientmap_pars_fragment$$module$js$threejs$three_module,
lightmap_fragment:lightmap_fragment$$module$js$threejs$three_module,lightmap_pars_fragment:lightmap_pars_fragment$$module$js$threejs$three_module,lights_lambert_vertex:lights_lambert_vertex$$module$js$threejs$three_module,lights_pars_begin:lights_pars_begin$$module$js$threejs$three_module,lights_toon_fragment:lights_toon_fragment$$module$js$threejs$three_module,lights_toon_pars_fragment:lights_toon_pars_fragment$$module$js$threejs$three_module,lights_phong_fragment:lights_phong_fragment$$module$js$threejs$three_module,
lights_phong_pars_fragment:lights_phong_pars_fragment$$module$js$threejs$three_module,lights_physical_fragment:lights_physical_fragment$$module$js$threejs$three_module,lights_physical_pars_fragment:lights_physical_pars_fragment$$module$js$threejs$three_module,lights_fragment_begin:lights_fragment_begin$$module$js$threejs$three_module,lights_fragment_maps:lights_fragment_maps$$module$js$threejs$three_module,lights_fragment_end:lights_fragment_end$$module$js$threejs$three_module,logdepthbuf_fragment:logdepthbuf_fragment$$module$js$threejs$three_module,
logdepthbuf_pars_fragment:logdepthbuf_pars_fragment$$module$js$threejs$three_module,logdepthbuf_pars_vertex:logdepthbuf_pars_vertex$$module$js$threejs$three_module,logdepthbuf_vertex:logdepthbuf_vertex$$module$js$threejs$three_module,map_fragment:map_fragment$$module$js$threejs$three_module,map_pars_fragment:map_pars_fragment$$module$js$threejs$three_module,map_particle_fragment:map_particle_fragment$$module$js$threejs$three_module,map_particle_pars_fragment:map_particle_pars_fragment$$module$js$threejs$three_module,
metalnessmap_fragment:metalnessmap_fragment$$module$js$threejs$three_module,metalnessmap_pars_fragment:metalnessmap_pars_fragment$$module$js$threejs$three_module,morphnormal_vertex:morphnormal_vertex$$module$js$threejs$three_module,morphtarget_pars_vertex:morphtarget_pars_vertex$$module$js$threejs$three_module,morphtarget_vertex:morphtarget_vertex$$module$js$threejs$three_module,normal_fragment_begin:normal_fragment_begin$$module$js$threejs$three_module,normal_fragment_maps:normal_fragment_maps$$module$js$threejs$three_module,
normalmap_pars_fragment:normalmap_pars_fragment$$module$js$threejs$three_module,clearcoat_normal_fragment_begin:clearcoat_normal_fragment_begin$$module$js$threejs$three_module,clearcoat_normal_fragment_maps:clearcoat_normal_fragment_maps$$module$js$threejs$three_module,clearcoat_pars_fragment:clearcoat_pars_fragment$$module$js$threejs$three_module,packing:packing$$module$js$threejs$three_module,premultiplied_alpha_fragment:premultiplied_alpha_fragment$$module$js$threejs$three_module,project_vertex:project_vertex$$module$js$threejs$three_module,
dithering_fragment:dithering_fragment$$module$js$threejs$three_module,dithering_pars_fragment:dithering_pars_fragment$$module$js$threejs$three_module,roughnessmap_fragment:roughnessmap_fragment$$module$js$threejs$three_module,roughnessmap_pars_fragment:roughnessmap_pars_fragment$$module$js$threejs$three_module,shadowmap_pars_fragment:shadowmap_pars_fragment$$module$js$threejs$three_module,shadowmap_pars_vertex:shadowmap_pars_vertex$$module$js$threejs$three_module,shadowmap_vertex:shadowmap_vertex$$module$js$threejs$three_module,
shadowmask_pars_fragment:shadowmask_pars_fragment$$module$js$threejs$three_module,skinbase_vertex:skinbase_vertex$$module$js$threejs$three_module,skinning_pars_vertex:skinning_pars_vertex$$module$js$threejs$three_module,skinning_vertex:skinning_vertex$$module$js$threejs$three_module,skinnormal_vertex:skinnormal_vertex$$module$js$threejs$three_module,specularmap_fragment:specularmap_fragment$$module$js$threejs$three_module,specularmap_pars_fragment:specularmap_pars_fragment$$module$js$threejs$three_module,
tonemapping_fragment:tonemapping_fragment$$module$js$threejs$three_module,tonemapping_pars_fragment:tonemapping_pars_fragment$$module$js$threejs$three_module,transmissionmap_fragment:transmissionmap_fragment$$module$js$threejs$three_module,transmissionmap_pars_fragment:transmissionmap_pars_fragment$$module$js$threejs$three_module,uv_pars_fragment:uv_pars_fragment$$module$js$threejs$three_module,uv_pars_vertex:uv_pars_vertex$$module$js$threejs$three_module,uv_vertex:uv_vertex$$module$js$threejs$three_module,
uv2_pars_fragment:uv2_pars_fragment$$module$js$threejs$three_module,uv2_pars_vertex:uv2_pars_vertex$$module$js$threejs$three_module,uv2_vertex:uv2_vertex$$module$js$threejs$three_module,worldpos_vertex:worldpos_vertex$$module$js$threejs$three_module,background_frag:background_frag$$module$js$threejs$three_module,background_vert:background_vert$$module$js$threejs$three_module,cube_frag:cube_frag$$module$js$threejs$three_module,cube_vert:cube_vert$$module$js$threejs$three_module,depth_frag:depth_frag$$module$js$threejs$three_module,
depth_vert:depth_vert$$module$js$threejs$three_module,distanceRGBA_frag:distanceRGBA_frag$$module$js$threejs$three_module,distanceRGBA_vert:distanceRGBA_vert$$module$js$threejs$three_module,equirect_frag:equirect_frag$$module$js$threejs$three_module,equirect_vert:equirect_vert$$module$js$threejs$three_module,linedashed_frag:linedashed_frag$$module$js$threejs$three_module,linedashed_vert:linedashed_vert$$module$js$threejs$three_module,meshbasic_frag:meshbasic_frag$$module$js$threejs$three_module,meshbasic_vert:meshbasic_vert$$module$js$threejs$three_module,
meshlambert_frag:meshlambert_frag$$module$js$threejs$three_module,meshlambert_vert:meshlambert_vert$$module$js$threejs$three_module,meshmatcap_frag:meshmatcap_frag$$module$js$threejs$three_module,meshmatcap_vert:meshmatcap_vert$$module$js$threejs$three_module,meshtoon_frag:meshtoon_frag$$module$js$threejs$three_module,meshtoon_vert:meshtoon_vert$$module$js$threejs$three_module,meshphong_frag:meshphong_frag$$module$js$threejs$three_module,meshphong_vert:meshphong_vert$$module$js$threejs$three_module,
meshphysical_frag:meshphysical_frag$$module$js$threejs$three_module,meshphysical_vert:meshphysical_vert$$module$js$threejs$three_module,normal_frag:normal_frag$$module$js$threejs$three_module,normal_vert:normal_vert$$module$js$threejs$three_module,points_frag:points_frag$$module$js$threejs$three_module,points_vert:points_vert$$module$js$threejs$three_module,shadow_frag:shadow_frag$$module$js$threejs$three_module,shadow_vert:shadow_vert$$module$js$threejs$three_module,sprite_frag:sprite_frag$$module$js$threejs$three_module,
sprite_vert:sprite_vert$$module$js$threejs$three_module},UniformsLib$$module$js$threejs$three_module={common:{diffuse:{value:new Color$$module$js$threejs$three_module(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3$$module$js$threejs$three_module},uv2Transform:{value:new Matrix3$$module$js$threejs$three_module},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},
maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2$$module$js$threejs$three_module(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},
gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:2.5E-4},fogNear:{value:1},fogFar:{value:2E3},fogColor:{value:new Color$$module$js$threejs$three_module(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],
properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},
pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color$$module$js$threejs$three_module(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Matrix3$$module$js$threejs$three_module}},sprite:{diffuse:{value:new Color$$module$js$threejs$three_module(15658734)},
opacity:{value:1},center:{value:new Vector2$$module$js$threejs$three_module(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Matrix3$$module$js$threejs$three_module}}},ShaderLib$$module$js$threejs$three_module={basic:{uniforms:mergeUniforms$$module$js$threejs$three_module([UniformsLib$$module$js$threejs$three_module.common,UniformsLib$$module$js$threejs$three_module.specularmap,UniformsLib$$module$js$threejs$three_module.envmap,UniformsLib$$module$js$threejs$three_module.aomap,
UniformsLib$$module$js$threejs$three_module.lightmap,UniformsLib$$module$js$threejs$three_module.fog]),vertexShader:ShaderChunk$$module$js$threejs$three_module.meshbasic_vert,fragmentShader:ShaderChunk$$module$js$threejs$three_module.meshbasic_frag},lambert:{uniforms:mergeUniforms$$module$js$threejs$three_module([UniformsLib$$module$js$threejs$three_module.common,UniformsLib$$module$js$threejs$three_module.specularmap,UniformsLib$$module$js$threejs$three_module.envmap,UniformsLib$$module$js$threejs$three_module.aomap,
UniformsLib$$module$js$threejs$three_module.lightmap,UniformsLib$$module$js$threejs$three_module.emissivemap,UniformsLib$$module$js$threejs$three_module.fog,UniformsLib$$module$js$threejs$three_module.lights,{emissive:{value:new Color$$module$js$threejs$three_module(0)}}]),vertexShader:ShaderChunk$$module$js$threejs$three_module.meshlambert_vert,fragmentShader:ShaderChunk$$module$js$threejs$three_module.meshlambert_frag},phong:{uniforms:mergeUniforms$$module$js$threejs$three_module([UniformsLib$$module$js$threejs$three_module.common,
UniformsLib$$module$js$threejs$three_module.specularmap,UniformsLib$$module$js$threejs$three_module.envmap,UniformsLib$$module$js$threejs$three_module.aomap,UniformsLib$$module$js$threejs$three_module.lightmap,UniformsLib$$module$js$threejs$three_module.emissivemap,UniformsLib$$module$js$threejs$three_module.bumpmap,UniformsLib$$module$js$threejs$three_module.normalmap,UniformsLib$$module$js$threejs$three_module.displacementmap,UniformsLib$$module$js$threejs$three_module.fog,UniformsLib$$module$js$threejs$three_module.lights,
{emissive:{value:new Color$$module$js$threejs$three_module(0)},specular:{value:new Color$$module$js$threejs$three_module(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk$$module$js$threejs$three_module.meshphong_vert,fragmentShader:ShaderChunk$$module$js$threejs$three_module.meshphong_frag},standard:{uniforms:mergeUniforms$$module$js$threejs$three_module([UniformsLib$$module$js$threejs$three_module.common,UniformsLib$$module$js$threejs$three_module.envmap,UniformsLib$$module$js$threejs$three_module.aomap,
UniformsLib$$module$js$threejs$three_module.lightmap,UniformsLib$$module$js$threejs$three_module.emissivemap,UniformsLib$$module$js$threejs$three_module.bumpmap,UniformsLib$$module$js$threejs$three_module.normalmap,UniformsLib$$module$js$threejs$three_module.displacementmap,UniformsLib$$module$js$threejs$three_module.roughnessmap,UniformsLib$$module$js$threejs$three_module.metalnessmap,UniformsLib$$module$js$threejs$three_module.fog,UniformsLib$$module$js$threejs$three_module.lights,{emissive:{value:new Color$$module$js$threejs$three_module(0)},
roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk$$module$js$threejs$three_module.meshphysical_vert,fragmentShader:ShaderChunk$$module$js$threejs$three_module.meshphysical_frag},toon:{uniforms:mergeUniforms$$module$js$threejs$three_module([UniformsLib$$module$js$threejs$three_module.common,UniformsLib$$module$js$threejs$three_module.aomap,UniformsLib$$module$js$threejs$three_module.lightmap,UniformsLib$$module$js$threejs$three_module.emissivemap,UniformsLib$$module$js$threejs$three_module.bumpmap,
UniformsLib$$module$js$threejs$three_module.normalmap,UniformsLib$$module$js$threejs$three_module.displacementmap,UniformsLib$$module$js$threejs$three_module.gradientmap,UniformsLib$$module$js$threejs$three_module.fog,UniformsLib$$module$js$threejs$three_module.lights,{emissive:{value:new Color$$module$js$threejs$three_module(0)}}]),vertexShader:ShaderChunk$$module$js$threejs$three_module.meshtoon_vert,fragmentShader:ShaderChunk$$module$js$threejs$three_module.meshtoon_frag},matcap:{uniforms:mergeUniforms$$module$js$threejs$three_module([UniformsLib$$module$js$threejs$three_module.common,
UniformsLib$$module$js$threejs$three_module.bumpmap,UniformsLib$$module$js$threejs$three_module.normalmap,UniformsLib$$module$js$threejs$three_module.displacementmap,UniformsLib$$module$js$threejs$three_module.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk$$module$js$threejs$three_module.meshmatcap_vert,fragmentShader:ShaderChunk$$module$js$threejs$three_module.meshmatcap_frag},points:{uniforms:mergeUniforms$$module$js$threejs$three_module([UniformsLib$$module$js$threejs$three_module.points,
UniformsLib$$module$js$threejs$three_module.fog]),vertexShader:ShaderChunk$$module$js$threejs$three_module.points_vert,fragmentShader:ShaderChunk$$module$js$threejs$three_module.points_frag},dashed:{uniforms:mergeUniforms$$module$js$threejs$three_module([UniformsLib$$module$js$threejs$three_module.common,UniformsLib$$module$js$threejs$three_module.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk$$module$js$threejs$three_module.linedashed_vert,fragmentShader:ShaderChunk$$module$js$threejs$three_module.linedashed_frag},
depth:{uniforms:mergeUniforms$$module$js$threejs$three_module([UniformsLib$$module$js$threejs$three_module.common,UniformsLib$$module$js$threejs$three_module.displacementmap]),vertexShader:ShaderChunk$$module$js$threejs$three_module.depth_vert,fragmentShader:ShaderChunk$$module$js$threejs$three_module.depth_frag},normal:{uniforms:mergeUniforms$$module$js$threejs$three_module([UniformsLib$$module$js$threejs$three_module.common,UniformsLib$$module$js$threejs$three_module.bumpmap,UniformsLib$$module$js$threejs$three_module.normalmap,
UniformsLib$$module$js$threejs$three_module.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk$$module$js$threejs$three_module.normal_vert,fragmentShader:ShaderChunk$$module$js$threejs$three_module.normal_frag},sprite:{uniforms:mergeUniforms$$module$js$threejs$three_module([UniformsLib$$module$js$threejs$three_module.sprite,UniformsLib$$module$js$threejs$three_module.fog]),vertexShader:ShaderChunk$$module$js$threejs$three_module.sprite_vert,fragmentShader:ShaderChunk$$module$js$threejs$three_module.sprite_frag},
background:{uniforms:{uvTransform:{value:new Matrix3$$module$js$threejs$three_module},t2D:{value:null}},vertexShader:ShaderChunk$$module$js$threejs$three_module.background_vert,fragmentShader:ShaderChunk$$module$js$threejs$three_module.background_frag},cube:{uniforms:mergeUniforms$$module$js$threejs$three_module([UniformsLib$$module$js$threejs$three_module.envmap,{opacity:{value:1}}]),vertexShader:ShaderChunk$$module$js$threejs$three_module.cube_vert,fragmentShader:ShaderChunk$$module$js$threejs$three_module.cube_frag},
equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk$$module$js$threejs$three_module.equirect_vert,fragmentShader:ShaderChunk$$module$js$threejs$three_module.equirect_frag},distanceRGBA:{uniforms:mergeUniforms$$module$js$threejs$three_module([UniformsLib$$module$js$threejs$three_module.common,UniformsLib$$module$js$threejs$three_module.displacementmap,{referencePosition:{value:new Vector3$$module$js$threejs$three_module},nearDistance:{value:1},farDistance:{value:1E3}}]),vertexShader:ShaderChunk$$module$js$threejs$three_module.distanceRGBA_vert,
fragmentShader:ShaderChunk$$module$js$threejs$three_module.distanceRGBA_frag},shadow:{uniforms:mergeUniforms$$module$js$threejs$three_module([UniformsLib$$module$js$threejs$three_module.lights,UniformsLib$$module$js$threejs$three_module.fog,{color:{value:new Color$$module$js$threejs$three_module(0)},opacity:{value:1}}]),vertexShader:ShaderChunk$$module$js$threejs$three_module.shadow_vert,fragmentShader:ShaderChunk$$module$js$threejs$three_module.shadow_frag}};
ShaderLib$$module$js$threejs$three_module.physical={uniforms:mergeUniforms$$module$js$threejs$three_module([ShaderLib$$module$js$threejs$three_module.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2$$module$js$threejs$three_module(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Color$$module$js$threejs$three_module(0)},transmission:{value:0},transmissionMap:{value:null}}]),
vertexShader:ShaderChunk$$module$js$threejs$three_module.meshphysical_vert,fragmentShader:ShaderChunk$$module$js$threejs$three_module.meshphysical_frag};
function WebGLBackground$$module$js$threejs$three_module(a,b,c,d,e){function g(w,x){c.buffers.color.setClear(w.r,w.g,w.b,x,e)}const h=new Color$$module$js$threejs$three_module(0);let k=0,l,m,n=null,p=0,t=null;return{getClearColor:function(){return h},setClearColor:function(w,x){h.set(w);k=void 0!==x?x:1;g(h,k)},getClearAlpha:function(){return k},setClearAlpha:function(w){k=w;g(h,k)},render:function(w,x,A,r){(x=!0===x.isScene?x.background:null)&&x.isTexture&&(x=b.get(x));A=a.xr;(A=A.getSession&&A.getSession())&&
"additive"===A.environmentBlendMode&&(x=null);null===x?g(h,k):x&&x.isColor&&(g(x,1),r=!0);(a.autoClear||r)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil);if(x&&(x.isCubeTexture||x.isWebGLCubeRenderTarget||x.isWebGLCubeRenderTargetTexture||x.mapping===CubeUVReflectionMapping$$module$js$threejs$three_module)){void 0===m&&(m=new Mesh$$module$js$threejs$three_module(new BoxBufferGeometry$$module$js$threejs$three_module(1,1,1),new ShaderMaterial$$module$js$threejs$three_module({name:"BackgroundCubeMaterial",
uniforms:cloneUniforms$$module$js$threejs$three_module(ShaderLib$$module$js$threejs$three_module.cube.uniforms),vertexShader:ShaderLib$$module$js$threejs$three_module.cube.vertexShader,fragmentShader:ShaderLib$$module$js$threejs$three_module.cube.fragmentShader,side:BackSide$$module$js$threejs$three_module,depthTest:!1,depthWrite:!1,fog:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(E,B,G){this.matrixWorld.copyPosition(G.matrixWorld)},Object.defineProperty(m.material,
"envMap",{get:function(){return this.uniforms.envMap.value}}),d.update(m));x.isWebGLCubeRenderTarget&&(x=x.texture);m.material.uniforms.envMap.value=x;m.material.uniforms.flipEnvMap.value=x.isCubeTexture?-1:1;if(n!==x||p!==x.version||t!==a.toneMapping)m.material.needsUpdate=!0,n=x,p=x.version,t=a.toneMapping;w.unshift(m,m.geometry,m.material,0,0,null)}else if(x&&x.isTexture){void 0===l&&(l=new Mesh$$module$js$threejs$three_module(new PlaneBufferGeometry$$module$js$threejs$three_module(2,2),new ShaderMaterial$$module$js$threejs$three_module({name:"BackgroundMaterial",
uniforms:cloneUniforms$$module$js$threejs$three_module(ShaderLib$$module$js$threejs$three_module.background.uniforms),vertexShader:ShaderLib$$module$js$threejs$three_module.background.vertexShader,fragmentShader:ShaderLib$$module$js$threejs$three_module.background.fragmentShader,side:FrontSide$$module$js$threejs$three_module,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),d.update(l));
l.material.uniforms.t2D.value=x;!0===x.matrixAutoUpdate&&x.updateMatrix();l.material.uniforms.uvTransform.value.copy(x.matrix);if(n!==x||p!==x.version||t!==a.toneMapping)l.material.needsUpdate=!0,n=x,p=x.version,t=a.toneMapping;w.unshift(l,l.geometry,l.material,0,0,null)}}}}
function WebGLBindingStates$$module$js$threejs$three_module(a,b,c,d){function e(G){return d.isWebGL2?a.bindVertexArray(G):x.bindVertexArrayOES(G)}function g(G){return d.isWebGL2?a.deleteVertexArray(G):x.deleteVertexArrayOES(G)}function h(G){const H=[],O=[],N=[];for(let U=0;U<w;U++)H[U]=0,O[U]=0,N[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:O,attributeDivisors:N,object:G,attributes:{},index:null}}function k(){const G=B.newAttributes;for(let H=0,O=G.length;H<
O;H++)G[H]=0}function l(G){m(G,0)}function m(G,H){const O=B.enabledAttributes,N=B.attributeDivisors;B.newAttributes[G]=1;0===O[G]&&(a.enableVertexAttribArray(G),O[G]=1);N[G]!==H&&((d.isWebGL2?a:b.get("ANGLE_instanced_arrays"))[d.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](G,H),N[G]=H)}function n(){const G=B.newAttributes,H=B.enabledAttributes;for(let O=0,N=H.length;O<N;O++)H[O]!==G[O]&&(a.disableVertexAttribArray(O),H[O]=0)}function p(){t();B!==E&&(B=E,e(B.object))}function t(){E.geometry=
null;E.program=null;E.wireframe=!1}const w=a.getParameter(34921),x=d.isWebGL2?null:b.get("OES_vertex_array_object"),A=d.isWebGL2||null!==x,r={},E=h(null);let B=E;return{setup:function(G,H,O,N,U){var W=!1;if(A){W=!0===H.wireframe;var J=r[N.id];void 0===J&&(J={},r[N.id]=J);var aa=J[O.id];void 0===aa&&(aa={},J[O.id]=aa);J=aa[W];void 0===J&&(J=h(d.isWebGL2?a.createVertexArray():x.createVertexArrayOES()),aa[W]=J);W=J;B!==W&&(B=W,e(B.object));a:if(W=B.attributes,aa=N.attributes,Object.keys(W).length!==
Object.keys(aa).length)W=!0;else{for(var ba in aa){J=W[ba];var z=aa[ba];if(void 0===J||J.attribute!==z||J.data!==z.data){W=!0;break a}}W=B.index!==U?!0:!1}if(W){ba={};aa=N.attributes;for(var K in aa)J=aa[K],z={},z.attribute=J,J.data&&(z.data=J.data),ba[K]=z;B.attributes=ba;B.index=U}}else if(K=!0===H.wireframe,B.geometry!==N.id||B.program!==O.id||B.wireframe!==K)B.geometry=N.id,B.program=O.id,B.wireframe=K,W=!0;!0===G.isInstancedMesh&&(W=!0);null!==U&&c.update(U,34963);if(W){if(!1!==d.isWebGL2||!G.isInstancedMesh&&
!N.isInstancedBufferGeometry||null!==b.get("ANGLE_instanced_arrays")){k();K=N.attributes;O=O.getAttributes();H=H.defaultAttributeValues;for(const L in O)if(W=O[L],0<=W){var Q=K[L];if(void 0!==Q){ba=Q.normalized;z=Q.itemSize;J=c.get(Q);if(void 0===J)continue;const T=J.buffer;aa=J.type;J=J.bytesPerElement;if(Q.isInterleavedBufferAttribute){const X=Q.data;var M=X.stride;Q=Q.offset;X&&X.isInstancedInterleavedBuffer?(m(W,X.meshPerAttribute),void 0===N._maxInstanceCount&&(N._maxInstanceCount=X.meshPerAttribute*
X.count)):l(W);a.bindBuffer(34962,T);M*=J;J*=Q;!0!==d.isWebGL2||5124!==aa&&5125!==aa?a.vertexAttribPointer(W,z,aa,ba,M,J):a.vertexAttribIPointer(W,z,aa,M,J)}else Q.isInstancedBufferAttribute?(m(W,Q.meshPerAttribute),void 0===N._maxInstanceCount&&(N._maxInstanceCount=Q.meshPerAttribute*Q.count)):l(W),a.bindBuffer(34962,T),J=z,!0!==d.isWebGL2||5124!==aa&&5125!==aa?a.vertexAttribPointer(W,J,aa,ba,0,0):a.vertexAttribIPointer(W,J,aa,0,0)}else if("instanceMatrix"===L)aa=c.get(G.instanceMatrix),void 0!==
aa&&(ba=aa.buffer,aa=aa.type,m(W+0,1),m(W+1,1),m(W+2,1),m(W+3,1),a.bindBuffer(34962,ba),a.vertexAttribPointer(W+0,4,aa,!1,64,0),a.vertexAttribPointer(W+1,4,aa,!1,64,16),a.vertexAttribPointer(W+2,4,aa,!1,64,32),a.vertexAttribPointer(W+3,4,aa,!1,64,48));else if("instanceColor"===L)aa=c.get(G.instanceColor),void 0!==aa&&(ba=aa.buffer,aa=aa.type,m(W,1),a.bindBuffer(34962,ba),a.vertexAttribPointer(W,3,aa,!1,12,0));else if(void 0!==H&&(ba=H[L],void 0!==ba))switch(ba.length){case 2:a.vertexAttrib2fv(W,ba);
break;case 3:a.vertexAttrib3fv(W,ba);break;case 4:a.vertexAttrib4fv(W,ba);break;default:a.vertexAttrib1fv(W,ba)}}n()}null!==U&&a.bindBuffer(34963,c.get(U).buffer)}},reset:p,resetDefaultState:t,dispose:function(){p();for(const G in r){const H=r[G];for(const O in H){const N=H[O];for(const U in N)g(N[U].object),delete N[U];delete H[O]}delete r[G]}},releaseStatesOfGeometry:function(G){if(void 0!==r[G.id]){var H=r[G.id];for(const O in H){const N=H[O];for(const U in N)g(N[U].object),delete N[U];delete H[O]}delete r[G.id]}},
releaseStatesOfProgram:function(G){for(const H in r){const O=r[H];if(void 0===O[G.id])continue;const N=O[G.id];for(const U in N)g(N[U].object),delete N[U];delete O[G.id]}},initAttributes:k,enableAttribute:l,disableUnusedAttributes:n}}
function WebGLBufferRenderer$$module$js$threejs$three_module(a,b,c,d){const e=d.isWebGL2;let g;this.setMode=function(h){g=h};this.render=function(h,k){a.drawArrays(g,h,k);c.update(k,g,1)};this.renderInstances=function(h,k,l){if(0!==l){if(e){var m=a;var n="drawArraysInstanced"}else if(m=b.get("ANGLE_instanced_arrays"),n="drawArraysInstancedANGLE",null===m){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
return}m[n](g,h,k,l);c.update(k,g,l)}}}
function WebGLCapabilities$$module$js$threejs$three_module(a,b,c){function d(G){if("highp"===G){if(0<a.getShaderPrecisionFormat(35633,36338).precision&&0<a.getShaderPrecisionFormat(35632,36338).precision)return"highp";G="mediump"}return"mediump"===G&&0<a.getShaderPrecisionFormat(35633,36337).precision&&0<a.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}let e;const g="undefined"!==typeof WebGL2RenderingContext&&a instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&
a instanceof WebGL2ComputeRenderingContext;let h=void 0!==c.precision?c.precision:"highp";var k=d(h);k!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",k,"instead."),h=k);c=!0===c.logarithmicDepthBuffer;k=a.getParameter(34930);const l=a.getParameter(35660),m=a.getParameter(3379),n=a.getParameter(34076),p=a.getParameter(34921),t=a.getParameter(36347),w=a.getParameter(36348),x=a.getParameter(36349),A=0<l,r=g||!!b.get("OES_texture_float"),E=A&&r,B=g?a.getParameter(36183):0;return{isWebGL2:g,
getMaxAnisotropy:function(){if(void 0!==e)return e;const G=b.get("EXT_texture_filter_anisotropic");return e=null!==G?a.getParameter(G.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:d,precision:h,logarithmicDepthBuffer:c,maxTextures:k,maxVertexTextures:l,maxTextureSize:m,maxCubemapSize:n,maxAttributes:p,maxVertexUniforms:t,maxVaryings:w,maxFragmentUniforms:x,vertexTextures:A,floatFragmentTextures:r,floatVertexTextures:E,maxSamples:B}}
function WebGLClipping$$module$js$threejs$three_module(a){function b(){n.value!==e&&(n.value=e,n.needsUpdate=0<g);d.numPlanes=g;d.numIntersection=0}function c(p,t,w,x){const A=null!==p?p.length:0;let r=null;if(0!==A){r=n.value;if(!0!==x||null===r){x=w+4*A;t=t.matrixWorldInverse;m.getNormalMatrix(t);if(null===r||r.length<x)r=new Float32Array(x);for(let E=0,B=w;E!==A;++E,B+=4)l.copy(p[E]).applyMatrix4(t,m),l.normal.toArray(r,B),r[B+3]=l.constant}n.value=r;n.needsUpdate=!0}d.numPlanes=A;d.numIntersection=
0;return r}const d=this;let e=null,g=0,h=!1,k=!1;const l=new Plane$$module$js$threejs$three_module,m=new Matrix3$$module$js$threejs$three_module,n={value:null,needsUpdate:!1};this.uniform=n;this.numIntersection=this.numPlanes=0;this.init=function(p,t,w){const x=0!==p.length||t||0!==g||h;h=t;e=c(p,w,0);g=p.length;return x};this.beginShadows=function(){k=!0;c(null)};this.endShadows=function(){k=!1;b()};this.setState=function(p,t,w){const x=p.clippingPlanes,A=p.clipIntersection;var r=p.clipShadows;p=
a.get(p);if(!h||null===x||0===x.length||k&&!r)k?c(null):b();else{r=k?0:g;const E=4*r;let B=p.clippingState||null;n.value=B;B=c(x,t,E,w);for(t=0;t!==E;++t)B[t]=e[t];p.clippingState=B;this.numIntersection=A?this.numPlanes:0;this.numPlanes+=r}}}
function WebGLCubeMaps$$module$js$threejs$three_module(a){function b(d,e){e===EquirectangularReflectionMapping$$module$js$threejs$three_module?d.mapping=CubeReflectionMapping$$module$js$threejs$three_module:e===EquirectangularRefractionMapping$$module$js$threejs$three_module&&(d.mapping=CubeRefractionMapping$$module$js$threejs$three_module);return d}let c=new WeakMap;return{get:function(d){if(d&&d.isTexture){var e=d.mapping;if(e===EquirectangularReflectionMapping$$module$js$threejs$three_module||
e===EquirectangularRefractionMapping$$module$js$threejs$three_module){if(c.has(d))return e=c.get(d).texture,b(e,d.mapping);var g=d.image;if(g&&0<g.height){e=a.getRenderList();const h=a.getRenderTarget(),k=a.getRenderState();g=new WebGLCubeRenderTarget$$module$js$threejs$three_module(g.height/2);g.fromEquirectangularTexture(a,d);c.set(d,g);a.setRenderTarget(h);a.setRenderList(e);a.setRenderState(k);return b(g.texture,d.mapping)}return null}}return d},dispose:function(){c=new WeakMap}}}
function WebGLExtensions$$module$js$threejs$three_module(a){const b={};return{has:function(c){if(void 0!==b[c])return null!==b[c];let d;switch(c){case "WEBGL_depth_texture":d=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case "EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
break;case "WEBGL_compressed_texture_s3tc":d=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":d=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:d=a.getExtension(c)}b[c]=d;return null!==d},get:function(c){this.has(c)||console.warn("THREE.WebGLRenderer: "+c+" extension not supported.");
return b[c]}}}
function WebGLGeometries$$module$js$threejs$three_module(a,b,c,d){function e(l){l=l.target;const m=h.get(l);null!==m.index&&b.remove(m.index);for(var n in m.attributes)b.remove(m.attributes[n]);l.removeEventListener("dispose",e);h.delete(l);if(n=k.get(m))b.remove(n),k.delete(m);d.releaseStatesOfGeometry(l);!0===l.isInstancedBufferGeometry&&delete l._maxInstanceCount;c.memory.geometries--}function g(l){var m=[],n=l.index,p=l.attributes.position;if(null!==n){p=n.array;n=n.version;for(let x=0,A=p.length;x<
A;x+=3){var t=p[x+0],w=p[x+1];const r=p[x+2];m.push(t,w,w,r,r,t)}}else{t=p.array;n=p.version;for(let x=0,A=t.length/3-1;x<A;x+=3)p=x+0,t=x+1,w=x+2,m.push(p,t,t,w,w,p)}m=new (65535<arrayMax$$module$js$threejs$three_module(m)?Uint32BufferAttribute$$module$js$threejs$three_module:Uint16BufferAttribute$$module$js$threejs$three_module)(m,1);m.version=n;(n=k.get(l))&&b.remove(n);k.set(l,m)}const h=new WeakMap,k=new WeakMap;return{get:function(l,m){let n=h.get(m);if(n)return n;m.addEventListener("dispose",
e);m.isBufferGeometry?n=m:m.isGeometry&&(void 0===m._bufferGeometry&&(m._bufferGeometry=(new BufferGeometry$$module$js$threejs$three_module).setFromObject(l)),n=m._bufferGeometry);h.set(m,n);c.memory.geometries++;return n},update:function(l){var m=l.attributes;for(const n in m)b.update(m[n],34962);l=l.morphAttributes;for(const n in l){m=l[n];for(let p=0,t=m.length;p<t;p++)b.update(m[p],34962)}},getWireframeAttribute:function(l){const m=k.get(l);if(m){const n=l.index;null!==n&&m.version<n.version&&
g(l)}else g(l);return k.get(l)}}}
function WebGLIndexedBufferRenderer$$module$js$threejs$three_module(a,b,c,d){const e=d.isWebGL2;let g,h,k;this.setMode=function(l){g=l};this.setIndex=function(l){h=l.type;k=l.bytesPerElement};this.render=function(l,m){a.drawElements(g,m,h,l*k);c.update(m,g,1)};this.renderInstances=function(l,m,n){if(0!==n){if(e){var p=a;var t="drawElementsInstanced"}else if(p=b.get("ANGLE_instanced_arrays"),t="drawElementsInstancedANGLE",null===p){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[t](g,
m,h,l*k,n);c.update(m,g,n)}}}
function WebGLInfo$$module$js$threejs$three_module(a){const b={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:b,programs:null,autoReset:!0,reset:function(){b.frame++;b.calls=0;b.triangles=0;b.points=0;b.lines=0},update:function(c,d,e){b.calls++;switch(d){case 4:b.triangles+=c/3*e;break;case 1:b.lines+=c/2*e;break;case 3:b.lines+=e*(c-1);break;case 2:b.lines+=e*c;break;case 0:b.points+=e*c;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",d)}}}}
function numericalSort$$module$js$threejs$three_module(a,b){return a[0]-b[0]}function absNumericalSort$$module$js$threejs$three_module(a,b){return Math.abs(b[1])-Math.abs(a[1])}
function WebGLMorphtargets$$module$js$threejs$three_module(a){const b={},c=new Float32Array(8),d=[];for(let e=0;8>e;e++)d[e]=[e,0];return{update:function(e,g,h,k){var l=e.morphTargetInfluences;e=void 0===l?0:l.length;var m=b[g.id];if(void 0===m){m=[];for(var n=0;n<e;n++)m[n]=[n,0];b[g.id]=m}for(n=0;n<e;n++){var p=m[n];p[0]=n;p[1]=l[n]}m.sort(absNumericalSort$$module$js$threejs$three_module);for(l=0;8>l;l++)l<e&&m[l][1]?(d[l][0]=m[l][0],d[l][1]=m[l][1]):(d[l][0]=Number.MAX_SAFE_INTEGER,d[l][1]=0);
d.sort(numericalSort$$module$js$threejs$three_module);e=h.morphTargets&&g.morphAttributes.position;h=h.morphNormals&&g.morphAttributes.normal;m=0;for(l=0;8>l;l++)p=d[l],n=p[0],p=p[1],n!==Number.MAX_SAFE_INTEGER&&p?(e&&g.getAttribute("morphTarget"+l)!==e[n]&&g.setAttribute("morphTarget"+l,e[n]),h&&g.getAttribute("morphNormal"+l)!==h[n]&&g.setAttribute("morphNormal"+l,h[n]),c[l]=p,m+=p):(e&&void 0!==g.getAttribute("morphTarget"+l)&&g.deleteAttribute("morphTarget"+l),h&&void 0!==g.getAttribute("morphNormal"+
l)&&g.deleteAttribute("morphNormal"+l),c[l]=0);g=g.morphTargetsRelative?1:1-m;k.getUniforms().setValue(a,"morphTargetBaseInfluence",g);k.getUniforms().setValue(a,"morphTargetInfluences",c)}}}
function WebGLObjects$$module$js$threejs$three_module(a,b,c,d){let e=new WeakMap;return{update:function(g){const h=d.render.frame,k=g.geometry,l=b.get(g,k);e.get(l)!==h&&(k.isGeometry&&l.updateFromObject(g),b.update(l),e.set(l,h));g.isInstancedMesh&&(c.update(g.instanceMatrix,34962),null!==g.instanceColor&&c.update(g.instanceColor,34962));return l},dispose:function(){e=new WeakMap}}}
function CubeTexture$$module$js$threejs$three_module(a,b,c,d,e,g,h,k,l,m){a=void 0!==a?a:[];b=void 0!==b?b:CubeReflectionMapping$$module$js$threejs$three_module;h=void 0!==h?h:RGBFormat$$module$js$threejs$three_module;Texture$$module$js$threejs$three_module.call(this,a,b,c,d,e,g,h,k,l,m);this.flipY=!1}CubeTexture$$module$js$threejs$three_module.prototype=Object.create(Texture$$module$js$threejs$three_module.prototype);CubeTexture$$module$js$threejs$three_module.prototype.constructor=CubeTexture$$module$js$threejs$three_module;
CubeTexture$$module$js$threejs$three_module.prototype.isCubeTexture=!0;Object.defineProperty(CubeTexture$$module$js$threejs$three_module.prototype,"images",{get:function(){return this.image},set:function(a){this.image=a}});
function DataTexture2DArray$$module$js$threejs$three_module(a,b,c,d){Texture$$module$js$threejs$three_module.call(this,null);this.image={data:a||null,width:b||1,height:c||1,depth:d||1};this.minFilter=this.magFilter=NearestFilter$$module$js$threejs$three_module;this.wrapR=ClampToEdgeWrapping$$module$js$threejs$three_module;this.flipY=this.generateMipmaps=!1;this.needsUpdate=!0}DataTexture2DArray$$module$js$threejs$three_module.prototype=Object.create(Texture$$module$js$threejs$three_module.prototype);
DataTexture2DArray$$module$js$threejs$three_module.prototype.constructor=DataTexture2DArray$$module$js$threejs$three_module;DataTexture2DArray$$module$js$threejs$three_module.prototype.isDataTexture2DArray=!0;
function DataTexture3D$$module$js$threejs$three_module(a,b,c,d){Texture$$module$js$threejs$three_module.call(this,null);this.image={data:a||null,width:b||1,height:c||1,depth:d||1};this.minFilter=this.magFilter=NearestFilter$$module$js$threejs$three_module;this.wrapR=ClampToEdgeWrapping$$module$js$threejs$three_module;this.flipY=this.generateMipmaps=!1;this.needsUpdate=!0}DataTexture3D$$module$js$threejs$three_module.prototype=Object.create(Texture$$module$js$threejs$three_module.prototype);
DataTexture3D$$module$js$threejs$three_module.prototype.constructor=DataTexture3D$$module$js$threejs$three_module;DataTexture3D$$module$js$threejs$three_module.prototype.isDataTexture3D=!0;
const emptyTexture$$module$js$threejs$three_module=new Texture$$module$js$threejs$three_module,emptyTexture2dArray$$module$js$threejs$three_module=new DataTexture2DArray$$module$js$threejs$three_module,emptyTexture3d$$module$js$threejs$three_module=new DataTexture3D$$module$js$threejs$three_module,emptyCubeTexture$$module$js$threejs$three_module=new CubeTexture$$module$js$threejs$three_module,arrayCacheF32$$module$js$threejs$three_module=[],arrayCacheI32$$module$js$threejs$three_module=[],mat4array$$module$js$threejs$three_module=
new Float32Array(16),mat3array$$module$js$threejs$three_module=new Float32Array(9),mat2array$$module$js$threejs$three_module=new Float32Array(4);function flatten$$module$js$threejs$three_module(a,b,c){const d=a[0];if(0>=d||0<d)return a;const e=b*c;let g=arrayCacheF32$$module$js$threejs$three_module[e];void 0===g&&(g=new Float32Array(e),arrayCacheF32$$module$js$threejs$three_module[e]=g);if(0!==b){d.toArray(g,0);for(let h=1,k=0;h!==b;++h)k+=c,a[h].toArray(g,k)}return g}
function arraysEqual$$module$js$threejs$three_module(a,b){if(a.length!==b.length)return!1;for(let c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}function copyArray$$module$js$threejs$three_module(a,b){for(let c=0,d=b.length;c<d;c++)a[c]=b[c]}
function allocTexUnits$$module$js$threejs$three_module(a,b){let c=arrayCacheI32$$module$js$threejs$three_module[b];void 0===c&&(c=new Int32Array(b),arrayCacheI32$$module$js$threejs$three_module[b]=c);for(let d=0;d!==b;++d)c[d]=a.allocateTextureUnit();return c}function setValueV1f$$module$js$threejs$three_module(a,b){const c=this.cache;c[0]!==b&&(a.uniform1f(this.addr,b),c[0]=b)}
function setValueV2f$$module$js$threejs$three_module(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y)a.uniform2f(this.addr,b.x,b.y),c[0]=b.x,c[1]=b.y}else arraysEqual$$module$js$threejs$three_module(c,b)||(a.uniform2fv(this.addr,b),copyArray$$module$js$threejs$three_module(c,b))}
function setValueV3f$$module$js$threejs$three_module(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z)a.uniform3f(this.addr,b.x,b.y,b.z),c[0]=b.x,c[1]=b.y,c[2]=b.z}else if(void 0!==b.r){if(c[0]!==b.r||c[1]!==b.g||c[2]!==b.b)a.uniform3f(this.addr,b.r,b.g,b.b),c[0]=b.r,c[1]=b.g,c[2]=b.b}else arraysEqual$$module$js$threejs$three_module(c,b)||(a.uniform3fv(this.addr,b),copyArray$$module$js$threejs$three_module(c,b))}
function setValueV4f$$module$js$threejs$three_module(a,b){const c=this.cache;if(void 0!==b.x){if(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z||c[3]!==b.w)a.uniform4f(this.addr,b.x,b.y,b.z,b.w),c[0]=b.x,c[1]=b.y,c[2]=b.z,c[3]=b.w}else arraysEqual$$module$js$threejs$three_module(c,b)||(a.uniform4fv(this.addr,b),copyArray$$module$js$threejs$three_module(c,b))}
function setValueM2$$module$js$threejs$three_module(a,b){const c=this.cache,d=b.elements;void 0===d?arraysEqual$$module$js$threejs$three_module(c,b)||(a.uniformMatrix2fv(this.addr,!1,b),copyArray$$module$js$threejs$three_module(c,b)):arraysEqual$$module$js$threejs$three_module(c,d)||(mat2array$$module$js$threejs$three_module.set(d),a.uniformMatrix2fv(this.addr,!1,mat2array$$module$js$threejs$three_module),copyArray$$module$js$threejs$three_module(c,d))}
function setValueM3$$module$js$threejs$three_module(a,b){const c=this.cache,d=b.elements;void 0===d?arraysEqual$$module$js$threejs$three_module(c,b)||(a.uniformMatrix3fv(this.addr,!1,b),copyArray$$module$js$threejs$three_module(c,b)):arraysEqual$$module$js$threejs$three_module(c,d)||(mat3array$$module$js$threejs$three_module.set(d),a.uniformMatrix3fv(this.addr,!1,mat3array$$module$js$threejs$three_module),copyArray$$module$js$threejs$three_module(c,d))}
function setValueM4$$module$js$threejs$three_module(a,b){const c=this.cache,d=b.elements;void 0===d?arraysEqual$$module$js$threejs$three_module(c,b)||(a.uniformMatrix4fv(this.addr,!1,b),copyArray$$module$js$threejs$three_module(c,b)):arraysEqual$$module$js$threejs$three_module(c,d)||(mat4array$$module$js$threejs$three_module.set(d),a.uniformMatrix4fv(this.addr,!1,mat4array$$module$js$threejs$three_module),copyArray$$module$js$threejs$three_module(c,d))}
function setValueT1$$module$js$threejs$three_module(a,b,c){const d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.safeSetTexture2D(b||emptyTexture$$module$js$threejs$three_module,e)}function setValueT2DArray1$$module$js$threejs$three_module(a,b,c){const d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.setTexture2DArray(b||emptyTexture2dArray$$module$js$threejs$three_module,e)}
function setValueT3D1$$module$js$threejs$three_module(a,b,c){const d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.setTexture3D(b||emptyTexture3d$$module$js$threejs$three_module,e)}function setValueT6$$module$js$threejs$three_module(a,b,c){const d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e);c.safeSetTextureCube(b||emptyCubeTexture$$module$js$threejs$three_module,e)}
function setValueV1i$$module$js$threejs$three_module(a,b){const c=this.cache;c[0]!==b&&(a.uniform1i(this.addr,b),c[0]=b)}function setValueV2i$$module$js$threejs$three_module(a,b){const c=this.cache;arraysEqual$$module$js$threejs$three_module(c,b)||(a.uniform2iv(this.addr,b),copyArray$$module$js$threejs$three_module(c,b))}
function setValueV3i$$module$js$threejs$three_module(a,b){const c=this.cache;arraysEqual$$module$js$threejs$three_module(c,b)||(a.uniform3iv(this.addr,b),copyArray$$module$js$threejs$three_module(c,b))}function setValueV4i$$module$js$threejs$three_module(a,b){const c=this.cache;arraysEqual$$module$js$threejs$three_module(c,b)||(a.uniform4iv(this.addr,b),copyArray$$module$js$threejs$three_module(c,b))}
function setValueV1ui$$module$js$threejs$three_module(a,b){const c=this.cache;c[0]!==b&&(a.uniform1ui(this.addr,b),c[0]=b)}
function getSingularSetter$$module$js$threejs$three_module(a){switch(a){case 5126:return setValueV1f$$module$js$threejs$three_module;case 35664:return setValueV2f$$module$js$threejs$three_module;case 35665:return setValueV3f$$module$js$threejs$three_module;case 35666:return setValueV4f$$module$js$threejs$three_module;case 35674:return setValueM2$$module$js$threejs$three_module;case 35675:return setValueM3$$module$js$threejs$three_module;case 35676:return setValueM4$$module$js$threejs$three_module;
case 5124:case 35670:return setValueV1i$$module$js$threejs$three_module;case 35667:case 35671:return setValueV2i$$module$js$threejs$three_module;case 35668:case 35672:return setValueV3i$$module$js$threejs$three_module;case 35669:case 35673:return setValueV4i$$module$js$threejs$three_module;case 5125:return setValueV1ui$$module$js$threejs$three_module;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1$$module$js$threejs$three_module;case 35679:case 36299:case 36307:return setValueT3D1$$module$js$threejs$three_module;
case 35680:case 36300:case 36308:case 36293:return setValueT6$$module$js$threejs$three_module;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1$$module$js$threejs$three_module}}function setValueV1fArray$$module$js$threejs$three_module(a,b){a.uniform1fv(this.addr,b)}function setValueV1iArray$$module$js$threejs$three_module(a,b){a.uniform1iv(this.addr,b)}function setValueV2iArray$$module$js$threejs$three_module(a,b){a.uniform2iv(this.addr,b)}
function setValueV3iArray$$module$js$threejs$three_module(a,b){a.uniform3iv(this.addr,b)}function setValueV4iArray$$module$js$threejs$three_module(a,b){a.uniform4iv(this.addr,b)}function setValueV2fArray$$module$js$threejs$three_module(a,b){b=flatten$$module$js$threejs$three_module(b,this.size,2);a.uniform2fv(this.addr,b)}function setValueV3fArray$$module$js$threejs$three_module(a,b){b=flatten$$module$js$threejs$three_module(b,this.size,3);a.uniform3fv(this.addr,b)}
function setValueV4fArray$$module$js$threejs$three_module(a,b){b=flatten$$module$js$threejs$three_module(b,this.size,4);a.uniform4fv(this.addr,b)}function setValueM2Array$$module$js$threejs$three_module(a,b){b=flatten$$module$js$threejs$three_module(b,this.size,4);a.uniformMatrix2fv(this.addr,!1,b)}function setValueM3Array$$module$js$threejs$three_module(a,b){b=flatten$$module$js$threejs$three_module(b,this.size,9);a.uniformMatrix3fv(this.addr,!1,b)}
function setValueM4Array$$module$js$threejs$three_module(a,b){b=flatten$$module$js$threejs$three_module(b,this.size,16);a.uniformMatrix4fv(this.addr,!1,b)}function setValueT1Array$$module$js$threejs$three_module(a,b,c){const d=b.length,e=allocTexUnits$$module$js$threejs$three_module(c,d);a.uniform1iv(this.addr,e);for(a=0;a!==d;++a)c.safeSetTexture2D(b[a]||emptyTexture$$module$js$threejs$three_module,e[a])}
function setValueT6Array$$module$js$threejs$three_module(a,b,c){const d=b.length,e=allocTexUnits$$module$js$threejs$three_module(c,d);a.uniform1iv(this.addr,e);for(a=0;a!==d;++a)c.safeSetTextureCube(b[a]||emptyCubeTexture$$module$js$threejs$three_module,e[a])}
function getPureArraySetter$$module$js$threejs$three_module(a){switch(a){case 5126:return setValueV1fArray$$module$js$threejs$three_module;case 35664:return setValueV2fArray$$module$js$threejs$three_module;case 35665:return setValueV3fArray$$module$js$threejs$three_module;case 35666:return setValueV4fArray$$module$js$threejs$three_module;case 35674:return setValueM2Array$$module$js$threejs$three_module;case 35675:return setValueM3Array$$module$js$threejs$three_module;case 35676:return setValueM4Array$$module$js$threejs$three_module;
case 5124:case 35670:return setValueV1iArray$$module$js$threejs$three_module;case 35667:case 35671:return setValueV2iArray$$module$js$threejs$three_module;case 35668:case 35672:return setValueV3iArray$$module$js$threejs$three_module;case 35669:case 35673:return setValueV4iArray$$module$js$threejs$three_module;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array$$module$js$threejs$three_module;case 35680:case 36300:case 36308:case 36293:return setValueT6Array$$module$js$threejs$three_module}}
function SingleUniform$$module$js$threejs$three_module(a,b,c){this.id=a;this.addr=c;this.cache=[];this.setValue=getSingularSetter$$module$js$threejs$three_module(b.type)}function PureArrayUniform$$module$js$threejs$three_module(a,b,c){this.id=a;this.addr=c;this.cache=[];this.size=b.size;this.setValue=getPureArraySetter$$module$js$threejs$three_module(b.type)}
PureArrayUniform$$module$js$threejs$three_module.prototype.updateCache=function(a){const b=this.cache;a instanceof Float32Array&&b.length!==a.length&&(this.cache=new Float32Array(a.length));copyArray$$module$js$threejs$three_module(b,a)};function StructuredUniform$$module$js$threejs$three_module(a){this.id=a;this.seq=[];this.map={}}
StructuredUniform$$module$js$threejs$three_module.prototype.setValue=function(a,b,c){const d=this.seq;for(let e=0,g=d.length;e!==g;++e){const h=d[e];h.setValue(a,b[h.id],c)}};const RePathPart$$module$js$threejs$three_module=/([\w\d_]+)(\])?(\[|\.)?/g;function addUniform$$module$js$threejs$three_module(a,b){a.seq.push(b);a.map[b.id]=b}
function parseUniform$$module$js$threejs$three_module(a,b,c){const d=a.name,e=d.length;for(RePathPart$$module$js$threejs$three_module.lastIndex=0;;){var g=RePathPart$$module$js$threejs$three_module.exec(d);const h=RePathPart$$module$js$threejs$three_module.lastIndex;let k=g[1];const l=g[3];"]"===g[2]&&(k|=0);if(void 0===l||"["===l&&h+2===e){addUniform$$module$js$threejs$three_module(c,void 0===l?new SingleUniform$$module$js$threejs$three_module(k,a,b):new PureArrayUniform$$module$js$threejs$three_module(k,
a,b));break}else g=c.map[k],void 0===g&&(g=new StructuredUniform$$module$js$threejs$three_module(k),addUniform$$module$js$threejs$three_module(c,g)),c=g}}function WebGLUniforms$$module$js$threejs$three_module(a,b){this.seq=[];this.map={};const c=a.getProgramParameter(b,35718);for(let d=0;d<c;++d){const e=a.getActiveUniform(b,d),g=a.getUniformLocation(b,e.name);parseUniform$$module$js$threejs$three_module(e,g,this)}}
WebGLUniforms$$module$js$threejs$three_module.prototype.setValue=function(a,b,c,d){b=this.map[b];void 0!==b&&b.setValue(a,c,d)};WebGLUniforms$$module$js$threejs$three_module.prototype.setOptional=function(a,b,c){b=b[c];void 0!==b&&this.setValue(a,c,b)};WebGLUniforms$$module$js$threejs$three_module.upload=function(a,b,c,d){for(let e=0,g=b.length;e!==g;++e){const h=b[e],k=c[h.id];!1!==k.needsUpdate&&h.setValue(a,k.value,d)}};
WebGLUniforms$$module$js$threejs$three_module.seqWithValue=function(a,b){const c=[];for(let d=0,e=a.length;d!==e;++d){const g=a[d];g.id in b&&c.push(g)}return c};function WebGLShader$$module$js$threejs$three_module(a,b,c){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return b}let programIdCount$$module$js$threejs$three_module=0;function addLineNumbers$$module$js$threejs$three_module(a){a=a.split("\n");for(let b=0;b<a.length;b++)a[b]=b+1+": "+a[b];return a.join("\n")}
function getEncodingComponents$$module$js$threejs$three_module(a){switch(a){case LinearEncoding$$module$js$threejs$three_module:return["Linear","( value )"];case sRGBEncoding$$module$js$threejs$three_module:return["sRGB","( value )"];case RGBEEncoding$$module$js$threejs$three_module:return["RGBE","( value )"];case RGBM7Encoding$$module$js$threejs$three_module:return["RGBM","( value, 7.0 )"];case RGBM16Encoding$$module$js$threejs$three_module:return["RGBM","( value, 16.0 )"];case RGBDEncoding$$module$js$threejs$three_module:return["RGBD",
"( value, 256.0 )"];case GammaEncoding$$module$js$threejs$three_module:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case LogLuvEncoding$$module$js$threejs$three_module:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",a),["Linear","( value )"]}}
function getShaderErrors$$module$js$threejs$three_module(a,b,c){const d=a.getShaderParameter(b,35713),e=a.getShaderInfoLog(b).trim();if(d&&""===e)return"";a=a.getShaderSource(b);return"THREE.WebGLShader: gl.getShaderInfoLog() "+c+"\n"+e+addLineNumbers$$module$js$threejs$three_module(a)}function getTexelDecodingFunction$$module$js$threejs$three_module(a,b){b=getEncodingComponents$$module$js$threejs$three_module(b);return"vec4 "+a+"( vec4 value ) { return "+b[0]+"ToLinear"+b[1]+"; }"}
function getTexelEncodingFunction$$module$js$threejs$three_module(a,b){b=getEncodingComponents$$module$js$threejs$three_module(b);return"vec4 "+a+"( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"}
function getToneMappingFunction$$module$js$threejs$three_module(a,b){switch(b){case LinearToneMapping$$module$js$threejs$three_module:b="Linear";break;case ReinhardToneMapping$$module$js$threejs$three_module:b="Reinhard";break;case CineonToneMapping$$module$js$threejs$three_module:b="OptimizedCineon";break;case ACESFilmicToneMapping$$module$js$threejs$three_module:b="ACESFilmic";break;case CustomToneMapping$$module$js$threejs$three_module:b="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",
b),b="Linear"}return"vec3 "+a+"( vec3 color ) { return "+b+"ToneMapping( color ); }"}
function generateExtensions$$module$js$threejs$three_module(a){return[a.extensionDerivatives||a.envMapCubeUV||a.bumpMap||a.tangentSpaceNormalMap||a.clearcoatNormalMap||a.flatShading||"physical"===a.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(a.extensionFragDepth||a.logarithmicDepthBuffer)&&a.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",a.extensionDrawBuffers&&a.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(a.extensionShaderTextureLOD||
a.envMap)&&a.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine$$module$js$threejs$three_module).join("\n")}function generateDefines$$module$js$threejs$three_module(a){const b=[];for(const c in a){const d=a[c];!1!==d&&b.push("#define "+c+" "+d)}return b.join("\n")}
function fetchAttributeLocations$$module$js$threejs$three_module(a,b){const c={},d=a.getProgramParameter(b,35721);for(let e=0;e<d;e++){const g=a.getActiveAttrib(b,e).name;c[g]=a.getAttribLocation(b,g)}return c}function filterEmptyLine$$module$js$threejs$three_module(a){return""!==a}
function replaceLightNums$$module$js$threejs$three_module(a,b){return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,b.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,b.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,b.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,b.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,b.numPointLightShadows)}
function replaceClippingPlaneNums$$module$js$threejs$three_module(a,b){return a.replace(/NUM_CLIPPING_PLANES/g,b.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,b.numClippingPlanes-b.numClipIntersection)}const includePattern$$module$js$threejs$three_module=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes$$module$js$threejs$three_module(a){return a.replace(includePattern$$module$js$threejs$three_module,includeReplacer$$module$js$threejs$three_module)}
function includeReplacer$$module$js$threejs$three_module(a,b){a=ShaderChunk$$module$js$threejs$three_module[b];if(void 0===a)throw Error("Can not resolve #include <"+b+">");return resolveIncludes$$module$js$threejs$three_module(a)}const deprecatedUnrollLoopPattern$$module$js$threejs$three_module=/#pragma unroll_loop[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,unrollLoopPattern$$module$js$threejs$three_module=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;
function unrollLoops$$module$js$threejs$three_module(a){return a.replace(unrollLoopPattern$$module$js$threejs$three_module,loopReplacer$$module$js$threejs$three_module).replace(deprecatedUnrollLoopPattern$$module$js$threejs$three_module,deprecatedLoopReplacer$$module$js$threejs$three_module)}
function deprecatedLoopReplacer$$module$js$threejs$three_module(a,b,c,d){console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.");return loopReplacer$$module$js$threejs$three_module(a,b,c,d)}function loopReplacer$$module$js$threejs$three_module(a,b,c,d){a="";for(b=parseInt(b);b<parseInt(c);b++)a+=d.replace(/\[\s*i\s*\]/g,"[ "+b+" ]").replace(/UNROLLED_LOOP_INDEX/g,b);return a}
function generatePrecision$$module$js$threejs$three_module(a){let b="precision "+a.precision+" float;\nprecision "+a.precision+" int;";"highp"===a.precision?b+="\n#define HIGH_PRECISION":"mediump"===a.precision?b+="\n#define MEDIUM_PRECISION":"lowp"===a.precision&&(b+="\n#define LOW_PRECISION");return b}
function generateShadowMapTypeDefine$$module$js$threejs$three_module(a){let b="SHADOWMAP_TYPE_BASIC";a.shadowMapType===PCFShadowMap$$module$js$threejs$three_module?b="SHADOWMAP_TYPE_PCF":a.shadowMapType===PCFSoftShadowMap$$module$js$threejs$three_module?b="SHADOWMAP_TYPE_PCF_SOFT":a.shadowMapType===VSMShadowMap$$module$js$threejs$three_module&&(b="SHADOWMAP_TYPE_VSM");return b}
function generateEnvMapTypeDefine$$module$js$threejs$three_module(a){let b="ENVMAP_TYPE_CUBE";if(a.envMap)switch(a.envMapMode){case CubeReflectionMapping$$module$js$threejs$three_module:case CubeRefractionMapping$$module$js$threejs$three_module:b="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping$$module$js$threejs$three_module:case CubeUVRefractionMapping$$module$js$threejs$three_module:b="ENVMAP_TYPE_CUBE_UV"}return b}
function generateEnvMapModeDefine$$module$js$threejs$three_module(a){let b="ENVMAP_MODE_REFLECTION";if(a.envMap)switch(a.envMapMode){case CubeRefractionMapping$$module$js$threejs$three_module:case CubeUVRefractionMapping$$module$js$threejs$three_module:b="ENVMAP_MODE_REFRACTION"}return b}
function generateEnvMapBlendingDefine$$module$js$threejs$three_module(a){let b="ENVMAP_BLENDING_NONE";if(a.envMap)switch(a.combine){case MultiplyOperation$$module$js$threejs$three_module:b="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation$$module$js$threejs$three_module:b="ENVMAP_BLENDING_MIX";break;case AddOperation$$module$js$threejs$three_module:b="ENVMAP_BLENDING_ADD"}return b}
function WebGLProgram$$module$js$threejs$three_module(a,b,c,d){const e=a.getContext();var g=c.defines,h=c.vertexShader,k=c.fragmentShader,l=generateShadowMapTypeDefine$$module$js$threejs$three_module(c),m=generateEnvMapTypeDefine$$module$js$threejs$three_module(c),n=generateEnvMapModeDefine$$module$js$threejs$three_module(c),p=generateEnvMapBlendingDefine$$module$js$threejs$three_module(c),t=0<a.gammaFactor?a.gammaFactor:1,w=c.isWebGL2?"":generateExtensions$$module$js$threejs$three_module(c);const x=
generateDefines$$module$js$threejs$three_module(g),A=e.createProgram();var r=c.glslVersion?"#version "+c.glslVersion+"\n":"";c.isRawShaderMaterial?(g=[x].filter(filterEmptyLine$$module$js$threejs$three_module).join("\n"),0<g.length&&(g+="\n"),l=[w,x].filter(filterEmptyLine$$module$js$threejs$three_module).join("\n"),0<l.length&&(l+="\n")):(g=[generatePrecision$$module$js$threejs$three_module(c),"#define SHADER_NAME "+c.shaderName,x,c.instancing?"#define USE_INSTANCING":"",c.instancingColor?"#define USE_INSTANCING_COLOR":
"",c.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+t,"#define MAX_BONES "+c.maxBones,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+n:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMap&&c.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":
"",c.normalMap&&c.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.displacementMap&&c.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.transmissionMap?
"#define USE_TRANSMISSIONMAP":"",c.vertexTangents?"#define USE_TANGENT":"",c.vertexColors?"#define USE_COLOR":"",c.vertexUvs?"#define USE_UV":"",c.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",c.flatShading?"#define FLAT_SHADED":"",c.skinning?"#define USE_SKINNING":"",c.useVertexTexture?"#define BONE_TEXTURE":"",c.morphTargets?"#define USE_MORPHTARGETS":"",c.morphNormals&&!1===c.flatShading?"#define USE_MORPHNORMALS":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?
"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+l:"",c.sizeAttenuation?"#define USE_SIZEATTENUATION":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&c.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;",
"#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;",
"\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(filterEmptyLine$$module$js$threejs$three_module).join("\n"),l=[w,generatePrecision$$module$js$threejs$three_module(c),"#define SHADER_NAME "+c.shaderName,x,
c.alphaTest?"#define ALPHATEST "+c.alphaTest+(c.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+t,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.matcap?"#define USE_MATCAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+m:"",c.envMap?"#define "+n:"",c.envMap?"#define "+p:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?
"#define USE_NORMALMAP":"",c.normalMap&&c.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",c.normalMap&&c.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":
"",c.sheen?"#define USE_SHEEN":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.vertexTangents?"#define USE_TANGENT":"",c.vertexColors||c.instancingColor?"#define USE_COLOR":"",c.vertexUvs?"#define USE_UV":"",c.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",c.gradientMap?"#define USE_GRADIENTMAP":"",c.flatShading?"#define FLAT_SHADED":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+l:"",c.premultipliedAlpha?
"#define PREMULTIPLIED_ALPHA":"",c.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&c.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(c.extensionShaderTextureLOD||c.envMap)&&c.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",c.toneMapping!==NoToneMapping$$module$js$threejs$three_module?"#define TONE_MAPPING":
"",c.toneMapping!==NoToneMapping$$module$js$threejs$three_module?ShaderChunk$$module$js$threejs$three_module.tonemapping_pars_fragment:"",c.toneMapping!==NoToneMapping$$module$js$threejs$three_module?getToneMappingFunction$$module$js$threejs$three_module("toneMapping",c.toneMapping):"",c.dithering?"#define DITHERING":"",ShaderChunk$$module$js$threejs$three_module.encodings_pars_fragment,c.map?getTexelDecodingFunction$$module$js$threejs$three_module("mapTexelToLinear",c.mapEncoding):"",c.matcap?getTexelDecodingFunction$$module$js$threejs$three_module("matcapTexelToLinear",
c.matcapEncoding):"",c.envMap?getTexelDecodingFunction$$module$js$threejs$three_module("envMapTexelToLinear",c.envMapEncoding):"",c.emissiveMap?getTexelDecodingFunction$$module$js$threejs$three_module("emissiveMapTexelToLinear",c.emissiveMapEncoding):"",c.lightMap?getTexelDecodingFunction$$module$js$threejs$three_module("lightMapTexelToLinear",c.lightMapEncoding):"",getTexelEncodingFunction$$module$js$threejs$three_module("linearToOutputTexel",c.outputEncoding),c.depthPacking?"#define DEPTH_PACKING "+
c.depthPacking:"","\n"].filter(filterEmptyLine$$module$js$threejs$three_module).join("\n"));h=resolveIncludes$$module$js$threejs$three_module(h);h=replaceLightNums$$module$js$threejs$three_module(h,c);h=replaceClippingPlaneNums$$module$js$threejs$three_module(h,c);k=resolveIncludes$$module$js$threejs$three_module(k);k=replaceLightNums$$module$js$threejs$three_module(k,c);k=replaceClippingPlaneNums$$module$js$threejs$three_module(k,c);h=unrollLoops$$module$js$threejs$three_module(h);k=unrollLoops$$module$js$threejs$three_module(k);
c.isWebGL2&&!0!==c.isRawShaderMaterial&&(r="#version 300 es\n",g="#define attribute in\n#define varying out\n#define texture2D texture\n"+g,l=["#define varying in",c.glslVersion===GLSL3$$module$js$threejs$three_module?"":"out highp vec4 pc_fragColor;",c.glslVersion===GLSL3$$module$js$threejs$three_module?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+
"\n"+l);k=r+l+k;h=WebGLShader$$module$js$threejs$three_module(e,35633,r+g+h);k=WebGLShader$$module$js$threejs$three_module(e,35632,k);e.attachShader(A,h);e.attachShader(A,k);void 0!==c.index0AttributeName?e.bindAttribLocation(A,0,c.index0AttributeName):!0===c.morphTargets&&e.bindAttribLocation(A,0,"position");e.linkProgram(A);if(a.debug.checkShaderErrors){a=e.getProgramInfoLog(A).trim();r=e.getShaderInfoLog(h).trim();m=e.getShaderInfoLog(k).trim();p=n=!0;if(!1===e.getProgramParameter(A,35714))n=!1,
t=getShaderErrors$$module$js$threejs$three_module(e,h,"vertex"),w=getShaderErrors$$module$js$threejs$three_module(e,k,"fragment"),console.error("THREE.WebGLProgram: shader error: ",e.getError(),"35715",e.getProgramParameter(A,35715),"gl.getProgramInfoLog",a,t,w);else if(""!==a)console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",a);else if(""===r||""===m)p=!1;p&&(this.diagnostics={runnable:n,programLog:a,vertexShader:{log:r,prefix:g},fragmentShader:{log:m,prefix:l}})}e.deleteShader(h);e.deleteShader(k);
let E;this.getUniforms=function(){void 0===E&&(E=new WebGLUniforms$$module$js$threejs$three_module(e,A));return E};let B;this.getAttributes=function(){void 0===B&&(B=fetchAttributeLocations$$module$js$threejs$three_module(e,A));return B};this.destroy=function(){d.releaseStatesOfProgram(this);e.deleteProgram(A);this.program=void 0};this.name=c.shaderName;this.id=programIdCount$$module$js$threejs$three_module++;this.cacheKey=b;this.usedTimes=1;this.program=A;this.vertexShader=h;this.fragmentShader=
k;return this}
function WebGLPrograms$$module$js$threejs$three_module(a,b,c,d,e,g){function h(r){let E;r?r.isTexture?E=r.encoding:r.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),E=r.texture.encoding):E=LinearEncoding$$module$js$threejs$three_module;return E}const k=[],l=d.isWebGL2,m=d.logarithmicDepthBuffer,n=d.floatVertexTextures,p=d.maxVertexUniforms,t=d.vertexTextures;let w=d.precision;const x={MeshDepthMaterial:"depth",
MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},A="precision isWebGL2 supportsVertexTextures outputEncoding instancing instancingColor map mapEncoding matcap matcapEncoding envMap envMapMode envMapEncoding envMapCubeUV lightMap lightMapEncoding aoMap emissiveMap emissiveMapEncoding bumpMap normalMap objectSpaceNormalMap tangentSpaceNormalMap clearcoatMap clearcoatRoughnessMap clearcoatNormalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors vertexTangents vertexUvs uvsVertexOnly fog useFog fogExp2 flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights numDirLightShadows numPointLightShadows numSpotLightShadows shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering sheen transmissionMap".split(" ");
return{getParameters:function(r,E,B,G,H){const O=G.fog;G=r.isMeshStandardMaterial?G.environment:null;G=b.get(r.envMap||G);const N=x[r.type];if(H.isSkinnedMesh){var U=H.skeleton.bones;if(n)U=1024;else{var W=Math.min(Math.floor((p-20)/4),U.length);W<U.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+U.length+" bones. This GPU supports "+W+"."),U=0):U=W}}else U=0;null!==r.precision&&(w=d.getMaxPrecision(r.precision),w!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,
"not supported, using",w,"instead."));if(N){var J=ShaderLib$$module$js$threejs$three_module[N];W=J.vertexShader;J=J.fragmentShader}else W=r.vertexShader,J=r.fragmentShader;const aa=a.getRenderTarget();return{isWebGL2:l,shaderID:N,shaderName:r.type,vertexShader:W,fragmentShader:J,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:w,instancing:!0===H.isInstancedMesh,instancingColor:!0===H.isInstancedMesh&&null!==H.instanceColor,supportsVertexTextures:t,
outputEncoding:null!==aa?h(aa.texture):a.outputEncoding,map:!!r.map,mapEncoding:h(r.map),matcap:!!r.matcap,matcapEncoding:h(r.matcap),envMap:!!G,envMapMode:G&&G.mapping,envMapEncoding:h(G),envMapCubeUV:!!G&&(G.mapping===CubeUVReflectionMapping$$module$js$threejs$three_module||G.mapping===CubeUVRefractionMapping$$module$js$threejs$three_module),lightMap:!!r.lightMap,lightMapEncoding:h(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:h(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,
objectSpaceNormalMap:r.normalMapType===ObjectSpaceNormalMap$$module$js$threejs$three_module,tangentSpaceNormalMap:r.normalMapType===TangentSpaceNormalMap$$module$js$threejs$three_module,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,
combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!r.map||!!r.bumpMap||!!r.normalMap||!!r.specularMap||!!r.alphaMap||!!r.emissiveMap||!!r.roughnessMap||!!r.metalnessMap||!!r.clearcoatMap||!!r.clearcoatRoughnessMap||!!r.clearcoatNormalMap||!!r.displacementMap||!!r.transmissionMap,uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap)&&!!r.displacementMap,
fog:!!O,useFog:r.fog,fogExp2:O&&O.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:m,skinning:r.skinning&&0<U,maxBones:U,useVertexTexture:n,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:a.maxMorphTargets,maxMorphNormals:a.maxMorphNormals,numDirLights:E.directional.length,numPointLights:E.point.length,numSpotLights:E.spot.length,numRectAreaLights:E.rectArea.length,numHemiLights:E.hemi.length,numDirLightShadows:E.directionalShadowMap.length,
numPointLightShadows:E.pointShadowMap.length,numSpotLightShadows:E.spotShadowMap.length,numClippingPlanes:g.numPlanes,numClipIntersection:g.numIntersection,dithering:r.dithering,shadowMapEnabled:a.shadowMap.enabled&&0<B.length,shadowMapType:a.shadowMap.type,toneMapping:r.toneMapped?a.toneMapping:NoToneMapping$$module$js$threejs$three_module,physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:r.side===DoubleSide$$module$js$threejs$three_module,
flipSided:r.side===BackSide$$module$js$threejs$three_module,depthPacking:void 0!==r.depthPacking?r.depthPacking:!1,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||c.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||c.has("WEBGL_draw_buffers"),
rendererExtensionShaderTextureLod:l||c.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(r){const E=[];r.shaderID?E.push(r.shaderID):(E.push(r.fragmentShader),E.push(r.vertexShader));if(void 0!==r.defines)for(var B in r.defines)E.push(B),E.push(r.defines[B]);if(!1===r.isRawShaderMaterial){for(B=0;B<A.length;B++)E.push(r[A[B]]);E.push(a.outputEncoding);E.push(a.gammaFactor)}E.push(r.customProgramCacheKey);return E.join()},getUniforms:function(r){const E=
x[r.type];return E?UniformsUtils$$module$js$threejs$three_module.clone(ShaderLib$$module$js$threejs$three_module[E].uniforms):r.uniforms},acquireProgram:function(r,E){let B;for(let G=0,H=k.length;G<H;G++){const O=k[G];if(O.cacheKey===E){B=O;++B.usedTimes;break}}void 0===B&&(B=new WebGLProgram$$module$js$threejs$three_module(a,E,r,e),k.push(B));return B},releaseProgram:function(r){if(0===--r.usedTimes){const E=k.indexOf(r);k[E]=k[k.length-1];k.pop();r.destroy()}},programs:k}}
function WebGLProperties$$module$js$threejs$three_module(){let a=new WeakMap;return{get:function(b){let c=a.get(b);void 0===c&&(c={},a.set(b,c));return c},remove:function(b){a.delete(b)},update:function(b,c,d){a.get(b)[c]=d},dispose:function(){a=new WeakMap}}}
function painterSortStable$$module$js$threejs$three_module(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.program!==b.program?a.program.id-b.program.id:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}
function reversePainterSortStable$$module$js$threejs$three_module(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}
function WebGLRenderList$$module$js$threejs$three_module(a){function b(k,l,m,n,p,t){let w=c[d];const x=a.get(m);void 0===w?(w={id:k.id,object:k,geometry:l,material:m,program:x.program||h,groupOrder:n,renderOrder:k.renderOrder,z:p,group:t},c[d]=w):(w.id=k.id,w.object=k,w.geometry=l,w.material=m,w.program=x.program||h,w.groupOrder=n,w.renderOrder=k.renderOrder,w.z=p,w.group=t);d++;return w}const c=[];let d=0;const e=[],g=[],h={id:-1};return{opaque:e,transparent:g,init:function(){d=0;e.length=0;g.length=
0},push:function(k,l,m,n,p,t){k=b(k,l,m,n,p,t);(!0===m.transparent?g:e).push(k)},unshift:function(k,l,m,n,p,t){k=b(k,l,m,n,p,t);(!0===m.transparent?g:e).unshift(k)},finish:function(){for(let k=d,l=c.length;k<l;k++){const m=c[k];if(null===m.id)break;m.id=null;m.object=null;m.geometry=null;m.material=null;m.program=null;m.group=null}},sort:function(k,l){1<e.length&&e.sort(k||painterSortStable$$module$js$threejs$three_module);1<g.length&&g.sort(l||reversePainterSortStable$$module$js$threejs$three_module)}}}
function WebGLRenderLists$$module$js$threejs$three_module(a){let b=new WeakMap;return{get:function(c,d){const e=b.get(c);let g;void 0===e?(g=new WebGLRenderList$$module$js$threejs$three_module(a),b.set(c,new WeakMap),b.get(c).set(d,g)):(g=e.get(d),void 0===g&&(g=new WebGLRenderList$$module$js$threejs$three_module(a),e.set(d,g)));return g},dispose:function(){b=new WeakMap}}}
function UniformsCache$$module$js$threejs$three_module(){const a={};return{get:function(b){if(void 0!==a[b.id])return a[b.id];let c;switch(b.type){case "DirectionalLight":c={direction:new Vector3$$module$js$threejs$three_module,color:new Color$$module$js$threejs$three_module};break;case "SpotLight":c={position:new Vector3$$module$js$threejs$three_module,direction:new Vector3$$module$js$threejs$three_module,color:new Color$$module$js$threejs$three_module,distance:0,coneCos:0,penumbraCos:0,decay:0};
break;case "PointLight":c={position:new Vector3$$module$js$threejs$three_module,color:new Color$$module$js$threejs$three_module,distance:0,decay:0};break;case "HemisphereLight":c={direction:new Vector3$$module$js$threejs$three_module,skyColor:new Color$$module$js$threejs$three_module,groundColor:new Color$$module$js$threejs$three_module};break;case "RectAreaLight":c={color:new Color$$module$js$threejs$three_module,position:new Vector3$$module$js$threejs$three_module,halfWidth:new Vector3$$module$js$threejs$three_module,
halfHeight:new Vector3$$module$js$threejs$three_module}}return a[b.id]=c}}}
function ShadowUniformsCache$$module$js$threejs$three_module(){const a={};return{get:function(b){if(void 0!==a[b.id])return a[b.id];let c;switch(b.type){case "DirectionalLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2$$module$js$threejs$three_module};break;case "SpotLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2$$module$js$threejs$three_module};break;case "PointLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2$$module$js$threejs$three_module,
shadowCameraNear:1,shadowCameraFar:1E3}}return a[b.id]=c}}}let nextVersion$$module$js$threejs$three_module=0;function shadowCastingLightsFirst$$module$js$threejs$three_module(a,b){return(b.castShadow?1:0)-(a.castShadow?1:0)}
function WebGLLights$$module$js$threejs$three_module(){const a=new UniformsCache$$module$js$threejs$three_module,b=ShadowUniformsCache$$module$js$threejs$three_module(),c={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],
rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let h=0;9>h;h++)c.probe.push(new Vector3$$module$js$threejs$three_module);const d=new Vector3$$module$js$threejs$three_module,e=new Matrix4$$module$js$threejs$three_module,g=new Matrix4$$module$js$threejs$three_module;return{setup:function(h,k,l){let m=k=0,n=0;for(var p=0;9>p;p++)c.probe[p].set(0,0,0);let t=p=0,w=0,x=0,A=0,r=0,E=0,B=0;l=l.matrixWorldInverse;h.sort(shadowCastingLightsFirst$$module$js$threejs$three_module);
for(let U=0,W=h.length;U<W;U++){const J=h[U];var G=J.color,H=J.intensity;const aa=J.distance;var O=J.shadow&&J.shadow.map?J.shadow.map.texture:null;if(J.isAmbientLight)k+=G.r*H,m+=G.g*H,n+=G.b*H;else if(J.isLightProbe)for(O=0;9>O;O++)c.probe[O].addScaledVector(J.sh.coefficients[O],H);else if(J.isDirectionalLight){H=a.get(J);H.color.copy(J.color).multiplyScalar(J.intensity);H.direction.setFromMatrixPosition(J.matrixWorld);d.setFromMatrixPosition(J.target.matrixWorld);H.direction.sub(d);H.direction.transformDirection(l);
if(J.castShadow){var N=J.shadow;G=b.get(J);G.shadowBias=N.bias;G.shadowNormalBias=N.normalBias;G.shadowRadius=N.radius;G.shadowMapSize=N.mapSize;c.directionalShadow[p]=G;c.directionalShadowMap[p]=O;c.directionalShadowMatrix[p]=J.shadow.matrix;r++}c.directional[p]=H;p++}else J.isSpotLight?(N=a.get(J),N.position.setFromMatrixPosition(J.matrixWorld),N.position.applyMatrix4(l),N.color.copy(G).multiplyScalar(H),N.distance=aa,N.direction.setFromMatrixPosition(J.matrixWorld),d.setFromMatrixPosition(J.target.matrixWorld),
N.direction.sub(d),N.direction.transformDirection(l),N.coneCos=Math.cos(J.angle),N.penumbraCos=Math.cos(J.angle*(1-J.penumbra)),N.decay=J.decay,J.castShadow&&(H=J.shadow,G=b.get(J),G.shadowBias=H.bias,G.shadowNormalBias=H.normalBias,G.shadowRadius=H.radius,G.shadowMapSize=H.mapSize,c.spotShadow[w]=G,c.spotShadowMap[w]=O,c.spotShadowMatrix[w]=J.shadow.matrix,B++),c.spot[w]=N,w++):J.isRectAreaLight?(O=a.get(J),O.color.copy(G).multiplyScalar(H),O.position.setFromMatrixPosition(J.matrixWorld),O.position.applyMatrix4(l),
g.identity(),e.copy(J.matrixWorld),e.premultiply(l),g.extractRotation(e),O.halfWidth.set(.5*J.width,0,0),O.halfHeight.set(0,.5*J.height,0),O.halfWidth.applyMatrix4(g),O.halfHeight.applyMatrix4(g),c.rectArea[x]=O,x++):J.isPointLight?(H=a.get(J),H.position.setFromMatrixPosition(J.matrixWorld),H.position.applyMatrix4(l),H.color.copy(J.color).multiplyScalar(J.intensity),H.distance=J.distance,H.decay=J.decay,J.castShadow&&(N=J.shadow,G=b.get(J),G.shadowBias=N.bias,G.shadowNormalBias=N.normalBias,G.shadowRadius=
N.radius,G.shadowMapSize=N.mapSize,G.shadowCameraNear=N.camera.near,G.shadowCameraFar=N.camera.far,c.pointShadow[t]=G,c.pointShadowMap[t]=O,c.pointShadowMatrix[t]=J.shadow.matrix,E++),c.point[t]=H,t++):J.isHemisphereLight&&(O=a.get(J),O.direction.setFromMatrixPosition(J.matrixWorld),O.direction.transformDirection(l),O.direction.normalize(),O.skyColor.copy(J.color).multiplyScalar(H),O.groundColor.copy(J.groundColor).multiplyScalar(H),c.hemi[A]=O,A++)}0<x&&(c.rectAreaLTC1=UniformsLib$$module$js$threejs$three_module.LTC_1,
c.rectAreaLTC2=UniformsLib$$module$js$threejs$three_module.LTC_2);c.ambient[0]=k;c.ambient[1]=m;c.ambient[2]=n;h=c.hash;if(h.directionalLength!==p||h.pointLength!==t||h.spotLength!==w||h.rectAreaLength!==x||h.hemiLength!==A||h.numDirectionalShadows!==r||h.numPointShadows!==E||h.numSpotShadows!==B)c.directional.length=p,c.spot.length=w,c.rectArea.length=x,c.point.length=t,c.hemi.length=A,c.directionalShadow.length=r,c.directionalShadowMap.length=r,c.pointShadow.length=E,c.pointShadowMap.length=E,c.spotShadow.length=
B,c.spotShadowMap.length=B,c.directionalShadowMatrix.length=r,c.pointShadowMatrix.length=E,c.spotShadowMatrix.length=B,h.directionalLength=p,h.pointLength=t,h.spotLength=w,h.rectAreaLength=x,h.hemiLength=A,h.numDirectionalShadows=r,h.numPointShadows=E,h.numSpotShadows=B,c.version=nextVersion$$module$js$threejs$three_module++},state:c}}
function WebGLRenderState$$module$js$threejs$three_module(){const a=new WebGLLights$$module$js$threejs$three_module,b=[],c=[];return{init:function(){b.length=0;c.length=0},state:{lightsArray:b,shadowsArray:c,lights:a},setupLights:function(d){a.setup(b,c,d)},pushLight:function(d){b.push(d)},pushShadow:function(d){c.push(d)}}}
function WebGLRenderStates$$module$js$threejs$three_module(){let a=new WeakMap;return{get:function(b,c){let d;!1===a.has(b)?(d=new WebGLRenderState$$module$js$threejs$three_module,a.set(b,new WeakMap),a.get(b).set(c,d)):!1===a.get(b).has(c)?(d=new WebGLRenderState$$module$js$threejs$three_module,a.get(b).set(c,d)):d=a.get(b).get(c);return d},dispose:function(){a=new WeakMap}}}
function MeshDepthMaterial$$module$js$threejs$three_module(a){Material$$module$js$threejs$three_module.call(this);this.type="MeshDepthMaterial";this.depthPacking=BasicDepthPacking$$module$js$threejs$three_module;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.fog=!1;this.setValues(a)}MeshDepthMaterial$$module$js$threejs$three_module.prototype=Object.create(Material$$module$js$threejs$three_module.prototype);
MeshDepthMaterial$$module$js$threejs$three_module.prototype.constructor=MeshDepthMaterial$$module$js$threejs$three_module;MeshDepthMaterial$$module$js$threejs$three_module.prototype.isMeshDepthMaterial=!0;
MeshDepthMaterial$$module$js$threejs$three_module.prototype.copy=function(a){Material$$module$js$threejs$three_module.prototype.copy.call(this,a);this.depthPacking=a.depthPacking;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};
function MeshDistanceMaterial$$module$js$threejs$three_module(a){Material$$module$js$threejs$three_module.call(this);this.type="MeshDistanceMaterial";this.referencePosition=new Vector3$$module$js$threejs$three_module;this.nearDistance=1;this.farDistance=1E3;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.fog=!1;this.setValues(a)}MeshDistanceMaterial$$module$js$threejs$three_module.prototype=Object.create(Material$$module$js$threejs$three_module.prototype);
MeshDistanceMaterial$$module$js$threejs$three_module.prototype.constructor=MeshDistanceMaterial$$module$js$threejs$three_module;MeshDistanceMaterial$$module$js$threejs$three_module.prototype.isMeshDistanceMaterial=!0;
MeshDistanceMaterial$$module$js$threejs$three_module.prototype.copy=function(a){Material$$module$js$threejs$three_module.prototype.copy.call(this,a);this.referencePosition.copy(a.referencePosition);this.nearDistance=a.nearDistance;this.farDistance=a.farDistance;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;return this};
var vsm_frag$$module$js$threejs$three_module="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}",
vsm_vert$$module$js$threejs$three_module="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}";
function WebGLShadowMap$$module$js$threejs$three_module(a,b,c){function d(H,O,N){N=H<<0|O<<1|N<<2;let U=p[N];void 0===U&&(U=new MeshDepthMaterial$$module$js$threejs$three_module({depthPacking:RGBADepthPacking$$module$js$threejs$three_module,morphTargets:H,skinning:O}),p[N]=U);return U}function e(H,O,N){N=H<<0|O<<1|N<<2;let U=t[N];void 0===U&&(U=new MeshDistanceMaterial$$module$js$threejs$three_module({morphTargets:H,skinning:O}),t[N]=U);return U}function g(H,O,N,U,W,J,aa){var ba=d,z=H.customDepthMaterial;
!0===U.isPointLight&&(ba=e,z=H.customDistanceMaterial);void 0===z?(z=!1,!0===N.morphTargets&&(z=O.morphAttributes&&O.morphAttributes.position&&0<O.morphAttributes.position.length),O=!1,!0===H.isSkinnedMesh&&(!0===N.skinning?O=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",H)),H=ba(z,O,!0===H.isInstancedMesh)):H=z;a.localClippingEnabled&&!0===N.clipShadows&&0!==N.clippingPlanes.length&&(z=H.uuid,ba=N.uuid,O=w[z],void 0===O&&(O={},w[z]=O),z=O[ba],void 0===
z&&(z=H.clone(),O[ba]=z),H=z);H.visible=N.visible;H.wireframe=N.wireframe;H.side=aa===VSMShadowMap$$module$js$threejs$three_module?null!==N.shadowSide?N.shadowSide:N.side:null!==N.shadowSide?N.shadowSide:x[N.side];H.clipShadows=N.clipShadows;H.clippingPlanes=N.clippingPlanes;H.clipIntersection=N.clipIntersection;H.wireframeLinewidth=N.wireframeLinewidth;H.linewidth=N.linewidth;!0===U.isPointLight&&!0===H.isMeshDistanceMaterial&&(H.referencePosition.setFromMatrixPosition(U.matrixWorld),H.nearDistance=
W,H.farDistance=J);return H}function h(H,O,N,U,W){if(!1!==H.visible){if(H.layers.test(O.layers)&&(H.isMesh||H.isLine||H.isPoints)&&(H.castShadow||H.receiveShadow&&W===VSMShadowMap$$module$js$threejs$three_module)&&(!H.frustumCulled||k.intersectsObject(H))){H.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,H.matrixWorld);const ba=b.update(H);var J=H.material;if(Array.isArray(J)){const z=ba.groups;for(let K=0,Q=z.length;K<Q;K++){const M=z[K];var aa=J[M.materialIndex];aa&&aa.visible&&(aa=g(H,ba,
aa,U,N.near,N.far,W),a.renderBufferDirect(N,null,ba,aa,H,M))}}else J.visible&&(J=g(H,ba,J,U,N.near,N.far,W),a.renderBufferDirect(N,null,ba,J,H,null))}H=H.children;for(let ba=0,z=H.length;ba<z;ba++)h(H[ba],O,N,U,W)}}let k=new Frustum$$module$js$threejs$three_module;const l=new Vector2$$module$js$threejs$three_module,m=new Vector2$$module$js$threejs$three_module,n=new Vector4$$module$js$threejs$three_module,p=[],t=[],w={},x={0:BackSide$$module$js$threejs$three_module,1:FrontSide$$module$js$threejs$three_module,
2:DoubleSide$$module$js$threejs$three_module},A=new ShaderMaterial$$module$js$threejs$three_module({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:.125},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2$$module$js$threejs$three_module},radius:{value:4}},vertexShader:vsm_vert$$module$js$threejs$three_module,fragmentShader:vsm_frag$$module$js$threejs$three_module}),r=A.clone();r.defines.HORIZONAL_PASS=1;const E=new BufferGeometry$$module$js$threejs$three_module;E.setAttribute("position",new BufferAttribute$$module$js$threejs$three_module(new Float32Array([-1,
-1,.5,3,-1,.5,-1,3,.5]),3));const B=new Mesh$$module$js$threejs$three_module(E,A),G=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=PCFShadowMap$$module$js$threejs$three_module;this.render=function(H,O,N){if(!1!==G.enabled&&(!1!==G.autoUpdate||!1!==G.needsUpdate)&&0!==H.length){var U=a.getRenderTarget(),W=a.getActiveCubeFace(),J=a.getActiveMipmapLevel(),aa=a.state;aa.setBlending(NoBlending$$module$js$threejs$three_module);aa.buffers.color.setClear(1,1,1,1);aa.buffers.depth.setTest(!0);
aa.setScissorTest(!1);for(let Q=0,M=H.length;Q<M;Q++){var ba=H[Q];const L=ba.shadow;if(!1!==L.autoUpdate||!1!==L.needsUpdate)if(void 0===L)console.warn("THREE.WebGLShadowMap:",ba,"has no shadow.");else{l.copy(L.mapSize);var z=L.getFrameExtents();l.multiply(z);m.copy(L.mapSize);if(l.x>c||l.y>c)l.x>c&&(m.x=Math.floor(c/z.x),l.x=m.x*z.x,L.mapSize.x=m.x),l.y>c&&(m.y=Math.floor(c/z.y),l.y=m.y*z.y,L.mapSize.y=m.y);null!==L.map||L.isPointLightShadow||this.type!==VSMShadowMap$$module$js$threejs$three_module||
(z={minFilter:LinearFilter$$module$js$threejs$three_module,magFilter:LinearFilter$$module$js$threejs$three_module,format:RGBAFormat$$module$js$threejs$three_module},L.map=new WebGLRenderTarget$$module$js$threejs$three_module(l.x,l.y,z),L.map.texture.name=ba.name+".shadowMap",L.mapPass=new WebGLRenderTarget$$module$js$threejs$three_module(l.x,l.y,z),L.camera.updateProjectionMatrix());null===L.map&&(L.map=new WebGLRenderTarget$$module$js$threejs$three_module(l.x,l.y,{minFilter:NearestFilter$$module$js$threejs$three_module,
magFilter:NearestFilter$$module$js$threejs$three_module,format:RGBAFormat$$module$js$threejs$three_module}),L.map.texture.name=ba.name+".shadowMap",L.camera.updateProjectionMatrix());a.setRenderTarget(L.map);a.clear();z=L.getViewportCount();for(var K=0;K<z;K++){const T=L.getViewport(K);n.set(m.x*T.x,m.y*T.y,m.x*T.z,m.y*T.w);aa.viewport(n);L.updateMatrices(ba,K);k=L.getFrustum();h(O,N,L.camera,ba,this.type)}L.isPointLightShadow||this.type!==VSMShadowMap$$module$js$threejs$three_module||(ba=L,z=N,K=
b.update(B),A.uniforms.shadow_pass.value=ba.map.texture,A.uniforms.resolution.value=ba.mapSize,A.uniforms.radius.value=ba.radius,a.setRenderTarget(ba.mapPass),a.clear(),a.renderBufferDirect(z,null,K,A,B,null),r.uniforms.shadow_pass.value=ba.mapPass.texture,r.uniforms.resolution.value=ba.mapSize,r.uniforms.radius.value=ba.radius,a.setRenderTarget(ba.map),a.clear(),a.renderBufferDirect(z,null,K,r,B,null));L.needsUpdate=!1}}G.needsUpdate=!1;a.setRenderTarget(U,W,J)}}}
function WebGLState$$module$js$threejs$three_module(a,b,c){function d(u,D,I){const S=new Uint8Array(4),P=a.createTexture();a.bindTexture(u,P);a.texParameteri(u,10241,9728);a.texParameteri(u,10240,9728);for(u=0;u<I;u++)a.texImage2D(D+u,0,6408,1,1,0,6408,5121,S);return P}function e(u){!0!==x[u]&&(a.enable(u),x[u]=!0)}function g(u){!1!==x[u]&&(a.disable(u),x[u]=!1)}function h(u,D,I,S,P,Y,Z,ea){if(u===NoBlending$$module$js$threejs$three_module)r&&(g(3042),r=!1);else if(r||(e(3042),r=!0),u!==CustomBlending$$module$js$threejs$three_module){if(u!==
E||ea!==W){if(B!==AddEquation$$module$js$threejs$three_module||O!==AddEquation$$module$js$threejs$three_module)a.blendEquation(32774),O=B=AddEquation$$module$js$threejs$three_module;if(ea)switch(u){case NormalBlending$$module$js$threejs$three_module:a.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending$$module$js$threejs$three_module:a.blendFunc(1,1);break;case SubtractiveBlending$$module$js$threejs$three_module:a.blendFuncSeparate(0,0,769,771);break;case MultiplyBlending$$module$js$threejs$three_module:a.blendFuncSeparate(0,
768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",u)}else switch(u){case NormalBlending$$module$js$threejs$three_module:a.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending$$module$js$threejs$three_module:a.blendFunc(770,1);break;case SubtractiveBlending$$module$js$threejs$three_module:a.blendFunc(0,769);break;case MultiplyBlending$$module$js$threejs$three_module:a.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",u)}U=N=H=G=
null;E=u;W=ea}}else{P=P||D;Y=Y||I;Z=Z||S;if(D!==B||P!==O)a.blendEquationSeparate(q[D],q[P]),B=D,O=P;if(I!==G||S!==H||Y!==N||Z!==U)a.blendFuncSeparate(v[I],v[S],v[Y],v[Z]),G=I,H=S,N=Y,U=Z;E=u;W=null}}function k(u){J!==u&&(u?a.frontFace(2304):a.frontFace(2305),J=u)}function l(u){u!==CullFaceNone$$module$js$threejs$three_module?(e(2884),u!==aa&&(u===CullFaceBack$$module$js$threejs$three_module?a.cullFace(1029):u===CullFaceFront$$module$js$threejs$three_module?a.cullFace(1028):a.cullFace(1032))):g(2884);
aa=u}function m(u,D,I){if(u){if(e(32823),z!==D||K!==I)a.polygonOffset(D,I),z=D,K=I}else g(32823)}function n(u){void 0===u&&(u=33984+Q-1);T!==u&&(a.activeTexture(u),T=u)}c=c.isWebGL2;const p=new function(){let u=!1;const D=new Vector4$$module$js$threejs$three_module;let I=null;const S=new Vector4$$module$js$threejs$three_module(0,0,0,0);return{setMask:function(P){I===P||u||(a.colorMask(P,P,P,P),I=P)},setLocked:function(P){u=P},setClear:function(P,Y,Z,ea,ja){!0===ja&&(P*=ea,Y*=ea,Z*=ea);D.set(P,Y,Z,
ea);!1===S.equals(D)&&(a.clearColor(P,Y,Z,ea),S.copy(D))},reset:function(){u=!1;I=null;S.set(-1,0,0,0)}}},t=new function(){let u=!1,D=null,I=null,S=null;return{setTest:function(P){P?e(2929):g(2929)},setMask:function(P){D===P||u||(a.depthMask(P),D=P)},setFunc:function(P){if(I!==P){if(P)switch(P){case NeverDepth$$module$js$threejs$three_module:a.depthFunc(512);break;case AlwaysDepth$$module$js$threejs$three_module:a.depthFunc(519);break;case LessDepth$$module$js$threejs$three_module:a.depthFunc(513);
break;case LessEqualDepth$$module$js$threejs$three_module:a.depthFunc(515);break;case EqualDepth$$module$js$threejs$three_module:a.depthFunc(514);break;case GreaterEqualDepth$$module$js$threejs$three_module:a.depthFunc(518);break;case GreaterDepth$$module$js$threejs$three_module:a.depthFunc(516);break;case NotEqualDepth$$module$js$threejs$three_module:a.depthFunc(517);break;default:a.depthFunc(515)}else a.depthFunc(515);I=P}},setLocked:function(P){u=P},setClear:function(P){S!==P&&(a.clearDepth(P),
S=P)},reset:function(){u=!1;S=I=D=null}}},w=new function(){let u=!1,D=null,I=null,S=null,P=null,Y=null,Z=null,ea=null,ja=null;return{setTest:function(ha){u||(ha?e(2960):g(2960))},setMask:function(ha){D===ha||u||(a.stencilMask(ha),D=ha)},setFunc:function(ha,ka,oa){if(I!==ha||S!==ka||P!==oa)a.stencilFunc(ha,ka,oa),I=ha,S=ka,P=oa},setOp:function(ha,ka,oa){if(Y!==ha||Z!==ka||ea!==oa)a.stencilOp(ha,ka,oa),Y=ha,Z=ka,ea=oa},setLocked:function(ha){u=ha},setClear:function(ha){ja!==ha&&(a.clearStencil(ha),
ja=ha)},reset:function(){u=!1;ja=ea=Z=Y=P=S=I=D=null}}};let x={},A=null,r=null,E=null,B=null,G=null,H=null,O=null,N=null,U=null,W=!1,J=null,aa=null,ba=null,z=null,K=null;const Q=a.getParameter(35661);let M=!1;var L=0;L=a.getParameter(7938);-1!==L.indexOf("WebGL")?(L=parseFloat(/^WebGL ([0-9])/.exec(L)[1]),M=1<=L):-1!==L.indexOf("OpenGL ES")&&(L=parseFloat(/^OpenGL ES ([0-9])/.exec(L)[1]),M=2<=L);let T=null,X={};const y=new Vector4$$module$js$threejs$three_module,F=new Vector4$$module$js$threejs$three_module,
R={};R[3553]=d(3553,3553,1);R[34067]=d(34067,34069,6);p.setClear(0,0,0,1);t.setClear(1);w.setClear(0);e(2929);t.setFunc(LessEqualDepth$$module$js$threejs$three_module);k(!1);l(CullFaceBack$$module$js$threejs$three_module);e(2884);h(NoBlending$$module$js$threejs$three_module);const q={[AddEquation$$module$js$threejs$three_module]:32774,[SubtractEquation$$module$js$threejs$three_module]:32778,[ReverseSubtractEquation$$module$js$threejs$three_module]:32779};c?(q[MinEquation$$module$js$threejs$three_module]=
32775,q[MaxEquation$$module$js$threejs$three_module]=32776):(b=b.get("EXT_blend_minmax"),null!==b&&(q[MinEquation$$module$js$threejs$three_module]=b.MIN_EXT,q[MaxEquation$$module$js$threejs$three_module]=b.MAX_EXT));const v={[ZeroFactor$$module$js$threejs$three_module]:0,[OneFactor$$module$js$threejs$three_module]:1,[SrcColorFactor$$module$js$threejs$three_module]:768,[SrcAlphaFactor$$module$js$threejs$three_module]:770,[SrcAlphaSaturateFactor$$module$js$threejs$three_module]:776,[DstColorFactor$$module$js$threejs$three_module]:774,
[DstAlphaFactor$$module$js$threejs$three_module]:772,[OneMinusSrcColorFactor$$module$js$threejs$three_module]:769,[OneMinusSrcAlphaFactor$$module$js$threejs$three_module]:771,[OneMinusDstColorFactor$$module$js$threejs$three_module]:775,[OneMinusDstAlphaFactor$$module$js$threejs$three_module]:773};return{buffers:{color:p,depth:t,stencil:w},enable:e,disable:g,useProgram:function(u){return A!==u?(a.useProgram(u),A=u,!0):!1},setBlending:h,setMaterial:function(u,D){u.side===DoubleSide$$module$js$threejs$three_module?
g(2884):e(2884);let I=u.side===BackSide$$module$js$threejs$three_module;D&&(I=!I);k(I);u.blending===NormalBlending$$module$js$threejs$three_module&&!1===u.transparent?h(NoBlending$$module$js$threejs$three_module):h(u.blending,u.blendEquation,u.blendSrc,u.blendDst,u.blendEquationAlpha,u.blendSrcAlpha,u.blendDstAlpha,u.premultipliedAlpha);t.setFunc(u.depthFunc);t.setTest(u.depthTest);t.setMask(u.depthWrite);p.setMask(u.colorWrite);D=u.stencilWrite;w.setTest(D);D&&(w.setMask(u.stencilWriteMask),w.setFunc(u.stencilFunc,
u.stencilRef,u.stencilFuncMask),w.setOp(u.stencilFail,u.stencilZFail,u.stencilZPass));m(u.polygonOffset,u.polygonOffsetFactor,u.polygonOffsetUnits)},setFlipSided:k,setCullFace:l,setLineWidth:function(u){u!==ba&&(M&&a.lineWidth(u),ba=u)},setPolygonOffset:m,setScissorTest:function(u){u?e(3089):g(3089)},activeTexture:n,bindTexture:function(u,D){null===T&&n();let I=X[T];void 0===I&&(I={type:void 0,texture:void 0},X[T]=I);if(I.type!==u||I.texture!==D)a.bindTexture(u,D||R[u]),I.type=u,I.texture=D},unbindTexture:function(){const u=
X[T];void 0!==u&&void 0!==u.type&&(a.bindTexture(u.type,null),u.type=void 0,u.texture=void 0)},compressedTexImage2D:function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(u){console.error("THREE.WebGLState:",u)}},texImage2D:function(){try{a.texImage2D.apply(a,arguments)}catch(u){console.error("THREE.WebGLState:",u)}},texImage3D:function(){try{a.texImage3D.apply(a,arguments)}catch(u){console.error("THREE.WebGLState:",u)}},scissor:function(u){!1===y.equals(u)&&(a.scissor(u.x,u.y,u.z,u.w),y.copy(u))},
viewport:function(u){!1===F.equals(u)&&(a.viewport(u.x,u.y,u.z,u.w),F.copy(u))},reset:function(){x={};T=null;X={};aa=J=E=A=null;p.reset();t.reset();w.reset()}}}
function WebGLTextures$$module$js$threejs$three_module(a,b,c,d,e,g,h){function k(q,v){return L?new OffscreenCanvas(q,v):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function l(q,v,u,D){var I=1;if(q.width>D||q.height>D)I=D/Math.max(q.width,q.height);if(1>I||!0===v){if("undefined"!==typeof HTMLImageElement&&q instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&q instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&q instanceof ImageBitmap)return D=v?
MathUtils$$module$js$threejs$three_module.floorPowerOfTwo:Math.floor,v=D(I*q.width),I=D(I*q.height),void 0===M&&(M=k(v,I)),u=u?k(v,I):M,u.width=v,u.height=I,u.getContext("2d").drawImage(q,0,0,v,I),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+q.width+"x"+q.height+") to ("+v+"x"+I+")."),u;"data"in q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+q.width+"x"+q.height+").")}return q}function m(q){return MathUtils$$module$js$threejs$three_module.isPowerOfTwo(q.width)&&
MathUtils$$module$js$threejs$three_module.isPowerOfTwo(q.height)}function n(q,v){return q.generateMipmaps&&v&&q.minFilter!==NearestFilter$$module$js$threejs$three_module&&q.minFilter!==LinearFilter$$module$js$threejs$three_module}function p(q,v,u,D){a.generateMipmap(q);d.get(v).__maxMipLevel=Math.log(Math.max(u,D))*Math.LOG2E}function t(q,v,u){if(!1===J)return v;if(null!==q){if(void 0!==a[q])return a[q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+q+"'")}q=
v;6403===v&&(5126===u&&(q=33326),5131===u&&(q=33325),5121===u&&(q=33321));6407===v&&(5126===u&&(q=34837),5131===u&&(q=34843),5121===u&&(q=32849));6408===v&&(5126===u&&(q=34836),5131===u&&(q=34842),5121===u&&(q=32856));33325!==q&&33326!==q&&34842!==q&&34836!==q||b.get("EXT_color_buffer_float");return q}function w(q){return q===NearestFilter$$module$js$threejs$three_module||q===NearestMipmapNearestFilter$$module$js$threejs$three_module||q===NearestMipmapLinearFilter$$module$js$threejs$three_module?
9728:9729}function x(q){q=q.target;q.removeEventListener("dispose",x);{const v=d.get(q);void 0!==v.__webglInit&&(a.deleteTexture(v.__webglTexture),d.remove(q))}q.isVideoTexture&&Q.delete(q);h.memory.textures--}function A(q){q=q.target;q.removeEventListener("dispose",A);{const u=d.get(q);var v=d.get(q.texture);if(q){void 0!==v.__webglTexture&&a.deleteTexture(v.__webglTexture);q.depthTexture&&q.depthTexture.dispose();if(q.isWebGLCubeRenderTarget)for(v=0;6>v;v++)a.deleteFramebuffer(u.__webglFramebuffer[v]),
u.__webglDepthbuffer&&a.deleteRenderbuffer(u.__webglDepthbuffer[v]);else a.deleteFramebuffer(u.__webglFramebuffer),u.__webglDepthbuffer&&a.deleteRenderbuffer(u.__webglDepthbuffer),u.__webglMultisampledFramebuffer&&a.deleteFramebuffer(u.__webglMultisampledFramebuffer),u.__webglColorRenderbuffer&&a.deleteRenderbuffer(u.__webglColorRenderbuffer),u.__webglDepthRenderbuffer&&a.deleteRenderbuffer(u.__webglDepthRenderbuffer);d.remove(q.texture);d.remove(q)}}h.memory.textures--}function r(q,v){const u=d.get(q);
if(q.isVideoTexture){var D=h.render.frame;Q.get(q)!==D&&(Q.set(q,D),q.update())}if(0<q.version&&u.__version!==q.version)if(D=q.image,void 0===D)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(!1===D.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{O(u,q,v);return}c.activeTexture(33984+v);c.bindTexture(3553,u.__webglTexture)}function E(q,v){if(6===q.image.length){var u=d.get(q);if(0<q.version&&u.__version!==
q.version){H(u,q);c.activeTexture(33984+v);c.bindTexture(34067,u.__webglTexture);a.pixelStorei(37440,q.flipY);var D=q&&(q.isCompressedTexture||q.image[0].isCompressedTexture),I=q.image[0]&&q.image[0].isDataTexture;v=[];for(var S=0;6>S;S++)v[S]=D||I?I?q.image[S].image:q.image[S]:l(q.image[S],!1,!0,ba);S=v[0];const Y=m(S)||J,Z=g.convert(q.format),ea=g.convert(q.type),ja=t(q.internalFormat,Z,ea);G(34067,q,Y);let ha;if(D){for(I=0;6>I;I++)for(ha=v[I].mipmaps,D=0;D<ha.length;D++){var P=ha[D];q.format!==
RGBAFormat$$module$js$threejs$three_module&&q.format!==RGBFormat$$module$js$threejs$three_module?null!==Z?c.compressedTexImage2D(34069+I,D,ja,P.width,P.height,0,P.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):c.texImage2D(34069+I,D,ja,P.width,P.height,0,Z,ea,P.data)}u.__maxMipLevel=ha.length-1}else{ha=q.mipmaps;for(D=0;6>D;D++)if(I)for(c.texImage2D(34069+D,0,ja,v[D].width,v[D].height,0,Z,ea,v[D].data),P=0;P<ha.length;P++){const ka=
ha[P].image[D].image;c.texImage2D(34069+D,P+1,ja,ka.width,ka.height,0,Z,ea,ka.data)}else for(c.texImage2D(34069+D,0,ja,Z,ea,v[D]),P=0;P<ha.length;P++)c.texImage2D(34069+D,P+1,ja,Z,ea,ha[P].image[D]);u.__maxMipLevel=ha.length}n(q,Y)&&p(34067,q,S.width,S.height);u.__version=q.version;if(q.onUpdate)q.onUpdate(q)}else c.activeTexture(33984+v),c.bindTexture(34067,u.__webglTexture)}}function B(q,v){c.activeTexture(33984+v);c.bindTexture(34067,d.get(q).__webglTexture)}function G(q,v,u){u?(a.texParameteri(q,
10242,X[v.wrapS]),a.texParameteri(q,10243,X[v.wrapT]),32879!==q&&35866!==q||a.texParameteri(q,32882,X[v.wrapR]),a.texParameteri(q,10240,y[v.magFilter]),a.texParameteri(q,10241,y[v.minFilter])):(a.texParameteri(q,10242,33071),a.texParameteri(q,10243,33071),32879!==q&&35866!==q||a.texParameteri(q,32882,33071),v.wrapS===ClampToEdgeWrapping$$module$js$threejs$three_module&&v.wrapT===ClampToEdgeWrapping$$module$js$threejs$three_module||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),
a.texParameteri(q,10240,w(v.magFilter)),a.texParameteri(q,10241,w(v.minFilter)),v.minFilter!==NearestFilter$$module$js$threejs$three_module&&v.minFilter!==LinearFilter$$module$js$threejs$three_module&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));!(u=b.get("EXT_texture_filter_anisotropic"))||v.type===FloatType$$module$js$threejs$three_module&&null===b.get("OES_texture_float_linear")||v.type===HalfFloatType$$module$js$threejs$three_module&&
null===(J||b.get("OES_texture_half_float_linear"))||!(1<v.anisotropy||d.get(v).__currentAnisotropy)||(a.texParameterf(q,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(v.anisotropy,e.getMaxAnisotropy())),d.get(v).__currentAnisotropy=v.anisotropy)}function H(q,v){void 0===q.__webglInit&&(q.__webglInit=!0,v.addEventListener("dispose",x),q.__webglTexture=a.createTexture(),h.memory.textures++)}function O(q,v,u){let D=3553;v.isDataTexture2DArray&&(D=35866);v.isDataTexture3D&&(D=32879);H(q,v);c.activeTexture(33984+
u);c.bindTexture(D,q.__webglTexture);a.pixelStorei(37440,v.flipY);a.pixelStorei(37441,v.premultiplyAlpha);a.pixelStorei(3317,v.unpackAlignment);u=J?!1:v.wrapS!==ClampToEdgeWrapping$$module$js$threejs$three_module||v.wrapT!==ClampToEdgeWrapping$$module$js$threejs$three_module||v.minFilter!==NearestFilter$$module$js$threejs$three_module&&v.minFilter!==LinearFilter$$module$js$threejs$three_module;u=u&&!1===m(v.image);u=l(v.image,u,!1,z);const I=m(u)||J,S=g.convert(v.format);let P=g.convert(v.type),Y=
t(v.internalFormat,S,P);G(D,v,I);let Z;const ea=v.mipmaps;if(v.isDepthTexture)Y=6402,J?Y=v.type===FloatType$$module$js$threejs$three_module?36012:v.type===UnsignedIntType$$module$js$threejs$three_module?33190:v.type===UnsignedInt248Type$$module$js$threejs$three_module?35056:33189:v.type===FloatType$$module$js$threejs$three_module&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),v.format===DepthFormat$$module$js$threejs$three_module&&6402===Y&&v.type!==UnsignedShortType$$module$js$threejs$three_module&&
v.type!==UnsignedIntType$$module$js$threejs$three_module&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),v.type=UnsignedShortType$$module$js$threejs$three_module,P=g.convert(v.type)),v.format===DepthStencilFormat$$module$js$threejs$three_module&&6402===Y&&(Y=34041,v.type!==UnsignedInt248Type$$module$js$threejs$three_module&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),v.type=UnsignedInt248Type$$module$js$threejs$three_module,
P=g.convert(v.type))),c.texImage2D(3553,0,Y,u.width,u.height,0,S,P,null);else if(v.isDataTexture)if(0<ea.length&&I){for(let ja=0,ha=ea.length;ja<ha;ja++)Z=ea[ja],c.texImage2D(3553,ja,Y,Z.width,Z.height,0,S,P,Z.data);v.generateMipmaps=!1;q.__maxMipLevel=ea.length-1}else c.texImage2D(3553,0,Y,u.width,u.height,0,S,P,u.data),q.__maxMipLevel=0;else if(v.isCompressedTexture){for(let ja=0,ha=ea.length;ja<ha;ja++)Z=ea[ja],v.format!==RGBAFormat$$module$js$threejs$three_module&&v.format!==RGBFormat$$module$js$threejs$three_module?
null!==S?c.compressedTexImage2D(3553,ja,Y,Z.width,Z.height,0,Z.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):c.texImage2D(3553,ja,Y,Z.width,Z.height,0,S,P,Z.data);q.__maxMipLevel=ea.length-1}else if(v.isDataTexture2DArray)c.texImage3D(35866,0,Y,u.width,u.height,u.depth,0,S,P,u.data),q.__maxMipLevel=0;else if(v.isDataTexture3D)c.texImage3D(32879,0,Y,u.width,u.height,u.depth,0,S,P,u.data),q.__maxMipLevel=0;else if(0<ea.length&&I){for(let ja=
0,ha=ea.length;ja<ha;ja++)Z=ea[ja],c.texImage2D(3553,ja,Y,S,P,Z);v.generateMipmaps=!1;q.__maxMipLevel=ea.length-1}else c.texImage2D(3553,0,Y,S,P,u),q.__maxMipLevel=0;n(v,I)&&p(D,v,u.width,u.height);q.__version=v.version;if(v.onUpdate)v.onUpdate(v)}function N(q,v,u,D){const I=g.convert(v.texture.format),S=g.convert(v.texture.type),P=t(v.texture.internalFormat,I,S);c.texImage2D(D,0,P,v.width,v.height,0,I,S,null);a.bindFramebuffer(36160,q);a.framebufferTexture2D(36160,u,D,d.get(v.texture).__webglTexture,
0);a.bindFramebuffer(36160,null)}function U(q,v,u){a.bindRenderbuffer(36161,q);if(v.depthBuffer&&!v.stencilBuffer){var D=33189;u?((u=v.depthTexture)&&u.isDepthTexture&&(u.type===FloatType$$module$js$threejs$three_module?D=36012:u.type===UnsignedIntType$$module$js$threejs$three_module&&(D=33190)),u=W(v),a.renderbufferStorageMultisample(36161,u,D,v.width,v.height)):a.renderbufferStorage(36161,D,v.width,v.height);a.framebufferRenderbuffer(36160,36096,36161,q)}else v.depthBuffer&&v.stencilBuffer?(u?(u=
W(v),a.renderbufferStorageMultisample(36161,u,35056,v.width,v.height)):a.renderbufferStorage(36161,34041,v.width,v.height),a.framebufferRenderbuffer(36160,33306,36161,q)):(q=g.convert(v.texture.format),D=g.convert(v.texture.type),q=t(v.texture.internalFormat,q,D),u?(u=W(v),a.renderbufferStorageMultisample(36161,u,q,v.width,v.height)):a.renderbufferStorage(36161,q,v.width,v.height));a.bindRenderbuffer(36161,null)}function W(q){return J&&q.isWebGLMultisampleRenderTarget?Math.min(K,q.samples):0}const J=
e.isWebGL2,aa=e.maxTextures,ba=e.maxCubemapSize,z=e.maxTextureSize,K=e.maxSamples,Q=new WeakMap;let M,L=!1;try{L="undefined"!==typeof OffscreenCanvas&&null!==(new OffscreenCanvas(1,1)).getContext("2d")}catch(q){}let T=0;const X={[RepeatWrapping$$module$js$threejs$three_module]:10497,[ClampToEdgeWrapping$$module$js$threejs$three_module]:33071,[MirroredRepeatWrapping$$module$js$threejs$three_module]:33648},y={[NearestFilter$$module$js$threejs$three_module]:9728,[NearestMipmapNearestFilter$$module$js$threejs$three_module]:9984,
[NearestMipmapLinearFilter$$module$js$threejs$three_module]:9986,[LinearFilter$$module$js$threejs$three_module]:9729,[LinearMipmapNearestFilter$$module$js$threejs$three_module]:9985,[LinearMipmapLinearFilter$$module$js$threejs$three_module]:9987};let F=!1,R=!1;this.allocateTextureUnit=function(){const q=T;q>=aa&&console.warn("THREE.WebGLTextures: Trying to use "+q+" texture units while this GPU supports only "+aa);T+=1;return q};this.resetTextureUnits=function(){T=0};this.setTexture2D=r;this.setTexture2DArray=
function(q,v){const u=d.get(q);0<q.version&&u.__version!==q.version?O(u,q,v):(c.activeTexture(33984+v),c.bindTexture(35866,u.__webglTexture))};this.setTexture3D=function(q,v){const u=d.get(q);0<q.version&&u.__version!==q.version?O(u,q,v):(c.activeTexture(33984+v),c.bindTexture(32879,u.__webglTexture))};this.setTextureCube=E;this.setTextureCubeDynamic=B;this.setupRenderTarget=function(q){var v=d.get(q),u=d.get(q.texture);q.addEventListener("dispose",A);u.__webglTexture=a.createTexture();h.memory.textures++;
const D=!0===q.isWebGLCubeRenderTarget;var I=!0===q.isWebGLMultisampleRenderTarget,S=m(q)||J;!J||q.texture.format!==RGBFormat$$module$js$threejs$three_module||q.texture.type!==FloatType$$module$js$threejs$three_module&&q.texture.type!==HalfFloatType$$module$js$threejs$three_module||(q.texture.format=RGBAFormat$$module$js$threejs$three_module,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead."));if(D)for(v.__webglFramebuffer=[],I=0;6>
I;I++)v.__webglFramebuffer[I]=a.createFramebuffer();else if(v.__webglFramebuffer=a.createFramebuffer(),I)if(J){v.__webglMultisampledFramebuffer=a.createFramebuffer();v.__webglColorRenderbuffer=a.createRenderbuffer();a.bindRenderbuffer(36161,v.__webglColorRenderbuffer);I=g.convert(q.texture.format);var P=g.convert(q.texture.type);I=t(q.texture.internalFormat,I,P);P=W(q);a.renderbufferStorageMultisample(36161,P,I,q.width,q.height);a.bindFramebuffer(36160,v.__webglMultisampledFramebuffer);a.framebufferRenderbuffer(36160,
36064,36161,v.__webglColorRenderbuffer);a.bindRenderbuffer(36161,null);q.depthBuffer&&(v.__webglDepthRenderbuffer=a.createRenderbuffer(),U(v.__webglDepthRenderbuffer,q,!0));a.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(D){c.bindTexture(34067,u.__webglTexture);G(34067,q.texture,S);for(u=0;6>u;u++)N(v.__webglFramebuffer[u],q,36064,34069+u);n(q.texture,S)&&p(34067,q.texture,q.width,q.height);c.bindTexture(34067,null)}else c.bindTexture(3553,
u.__webglTexture),G(3553,q.texture,S),N(v.__webglFramebuffer,q,36064,3553),n(q.texture,S)&&p(3553,q.texture,q.width,q.height),c.bindTexture(3553,null);if(q.depthBuffer){v=d.get(q);S=!0===q.isWebGLCubeRenderTarget;if(q.depthTexture){if(S)throw Error("target.depthTexture not supported in Cube render targets");if(q&&q.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");a.bindFramebuffer(36160,v.__webglFramebuffer);if(!q.depthTexture||!q.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
d.get(q.depthTexture).__webglTexture&&q.depthTexture.image.width===q.width&&q.depthTexture.image.height===q.height||(q.depthTexture.image.width=q.width,q.depthTexture.image.height=q.height,q.depthTexture.needsUpdate=!0);r(q.depthTexture,0);v=d.get(q.depthTexture).__webglTexture;if(q.depthTexture.format===DepthFormat$$module$js$threejs$three_module)a.framebufferTexture2D(36160,36096,3553,v,0);else if(q.depthTexture.format===DepthStencilFormat$$module$js$threejs$three_module)a.framebufferTexture2D(36160,
33306,3553,v,0);else throw Error("Unknown depthTexture format");}else if(S)for(v.__webglDepthbuffer=[],S=0;6>S;S++)a.bindFramebuffer(36160,v.__webglFramebuffer[S]),v.__webglDepthbuffer[S]=a.createRenderbuffer(),U(v.__webglDepthbuffer[S],q,!1);else a.bindFramebuffer(36160,v.__webglFramebuffer),v.__webglDepthbuffer=a.createRenderbuffer(),U(v.__webglDepthbuffer,q,!1);a.bindFramebuffer(36160,null)}};this.updateRenderTargetMipmap=function(q){const v=q.texture;var u=m(q)||J;if(n(v,u)){u=q.isWebGLCubeRenderTarget?
34067:3553;const D=d.get(v).__webglTexture;c.bindTexture(u,D);p(u,v,q.width,q.height);c.bindTexture(u,null)}};this.updateMultisampleRenderTarget=function(q){if(q.isWebGLMultisampleRenderTarget)if(J){const v=d.get(q);a.bindFramebuffer(36008,v.__webglMultisampledFramebuffer);a.bindFramebuffer(36009,v.__webglFramebuffer);const u=q.width,D=q.height;let I=16384;q.depthBuffer&&(I|=256);q.stencilBuffer&&(I|=1024);a.blitFramebuffer(0,0,u,D,0,0,u,D,I,9728);a.bindFramebuffer(36160,v.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")};
this.safeSetTexture2D=function(q,v){q&&q.isWebGLRenderTarget&&(!1===F&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),F=!0),q=q.texture);r(q,v)};this.safeSetTextureCube=function(q,v){q&&q.isWebGLCubeRenderTarget&&(!1===R&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),R=!0),q=q.texture);q&&q.isCubeTexture||Array.isArray(q.image)&&
6===q.image.length?E(q,v):B(q,v)}}
function WebGLUtils$$module$js$threejs$three_module(a,b,c){const d=c.isWebGL2;return{convert:function(e){let g;if(e===UnsignedByteType$$module$js$threejs$three_module)return 5121;if(e===UnsignedShort4444Type$$module$js$threejs$three_module)return 32819;if(e===UnsignedShort5551Type$$module$js$threejs$three_module)return 32820;if(e===UnsignedShort565Type$$module$js$threejs$three_module)return 33635;if(e===ByteType$$module$js$threejs$three_module)return 5120;if(e===ShortType$$module$js$threejs$three_module)return 5122;
if(e===UnsignedShortType$$module$js$threejs$three_module)return 5123;if(e===IntType$$module$js$threejs$three_module)return 5124;if(e===UnsignedIntType$$module$js$threejs$three_module)return 5125;if(e===FloatType$$module$js$threejs$three_module)return 5126;if(e===HalfFloatType$$module$js$threejs$three_module){if(d)return 5131;g=b.get("OES_texture_half_float");return null!==g?g.HALF_FLOAT_OES:null}if(e===AlphaFormat$$module$js$threejs$three_module)return 6406;if(e===RGBFormat$$module$js$threejs$three_module)return 6407;
if(e===RGBAFormat$$module$js$threejs$three_module)return 6408;if(e===LuminanceFormat$$module$js$threejs$three_module)return 6409;if(e===LuminanceAlphaFormat$$module$js$threejs$three_module)return 6410;if(e===DepthFormat$$module$js$threejs$three_module)return 6402;if(e===DepthStencilFormat$$module$js$threejs$three_module)return 34041;if(e===RedFormat$$module$js$threejs$three_module)return 6403;if(e===RedIntegerFormat$$module$js$threejs$three_module)return 36244;if(e===RGFormat$$module$js$threejs$three_module)return 33319;
if(e===RGIntegerFormat$$module$js$threejs$three_module)return 33320;if(e===RGBIntegerFormat$$module$js$threejs$three_module)return 36248;if(e===RGBAIntegerFormat$$module$js$threejs$three_module)return 36249;if(e===RGB_S3TC_DXT1_Format$$module$js$threejs$three_module||e===RGBA_S3TC_DXT1_Format$$module$js$threejs$three_module||e===RGBA_S3TC_DXT3_Format$$module$js$threejs$three_module||e===RGBA_S3TC_DXT5_Format$$module$js$threejs$three_module)if(g=b.get("WEBGL_compressed_texture_s3tc"),null!==g){if(e===
RGB_S3TC_DXT1_Format$$module$js$threejs$three_module)return g.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===RGBA_S3TC_DXT1_Format$$module$js$threejs$three_module)return g.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===RGBA_S3TC_DXT3_Format$$module$js$threejs$three_module)return g.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===RGBA_S3TC_DXT5_Format$$module$js$threejs$three_module)return g.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(e===RGB_PVRTC_4BPPV1_Format$$module$js$threejs$three_module||e===RGB_PVRTC_2BPPV1_Format$$module$js$threejs$three_module||
e===RGBA_PVRTC_4BPPV1_Format$$module$js$threejs$three_module||e===RGBA_PVRTC_2BPPV1_Format$$module$js$threejs$three_module)if(g=b.get("WEBGL_compressed_texture_pvrtc"),null!==g){if(e===RGB_PVRTC_4BPPV1_Format$$module$js$threejs$three_module)return g.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===RGB_PVRTC_2BPPV1_Format$$module$js$threejs$three_module)return g.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===RGBA_PVRTC_4BPPV1_Format$$module$js$threejs$three_module)return g.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===RGBA_PVRTC_2BPPV1_Format$$module$js$threejs$three_module)return g.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;
if(e===RGB_ETC1_Format$$module$js$threejs$three_module)return g=b.get("WEBGL_compressed_texture_etc1"),null!==g?g.COMPRESSED_RGB_ETC1_WEBGL:null;if(e===RGB_ETC2_Format$$module$js$threejs$three_module||e===RGBA_ETC2_EAC_Format$$module$js$threejs$three_module)if(g=b.get("WEBGL_compressed_texture_etc"),null!==g){if(e===RGB_ETC2_Format$$module$js$threejs$three_module)return g.COMPRESSED_RGB8_ETC2;if(e===RGBA_ETC2_EAC_Format$$module$js$threejs$three_module)return g.COMPRESSED_RGBA8_ETC2_EAC}if(e===RGBA_ASTC_4x4_Format$$module$js$threejs$three_module||
e===RGBA_ASTC_5x4_Format$$module$js$threejs$three_module||e===RGBA_ASTC_5x5_Format$$module$js$threejs$three_module||e===RGBA_ASTC_6x5_Format$$module$js$threejs$three_module||e===RGBA_ASTC_6x6_Format$$module$js$threejs$three_module||e===RGBA_ASTC_8x5_Format$$module$js$threejs$three_module||e===RGBA_ASTC_8x6_Format$$module$js$threejs$three_module||e===RGBA_ASTC_8x8_Format$$module$js$threejs$three_module||e===RGBA_ASTC_10x5_Format$$module$js$threejs$three_module||e===RGBA_ASTC_10x6_Format$$module$js$threejs$three_module||
e===RGBA_ASTC_10x8_Format$$module$js$threejs$three_module||e===RGBA_ASTC_10x10_Format$$module$js$threejs$three_module||e===RGBA_ASTC_12x10_Format$$module$js$threejs$three_module||e===RGBA_ASTC_12x12_Format$$module$js$threejs$three_module||e===SRGB8_ALPHA8_ASTC_4x4_Format$$module$js$threejs$three_module||e===SRGB8_ALPHA8_ASTC_5x4_Format$$module$js$threejs$three_module||e===SRGB8_ALPHA8_ASTC_5x5_Format$$module$js$threejs$three_module||e===SRGB8_ALPHA8_ASTC_6x5_Format$$module$js$threejs$three_module||
e===SRGB8_ALPHA8_ASTC_6x6_Format$$module$js$threejs$three_module||e===SRGB8_ALPHA8_ASTC_8x5_Format$$module$js$threejs$three_module||e===SRGB8_ALPHA8_ASTC_8x6_Format$$module$js$threejs$three_module||e===SRGB8_ALPHA8_ASTC_8x8_Format$$module$js$threejs$three_module||e===SRGB8_ALPHA8_ASTC_10x5_Format$$module$js$threejs$three_module||e===SRGB8_ALPHA8_ASTC_10x6_Format$$module$js$threejs$three_module||e===SRGB8_ALPHA8_ASTC_10x8_Format$$module$js$threejs$three_module||e===SRGB8_ALPHA8_ASTC_10x10_Format$$module$js$threejs$three_module||
e===SRGB8_ALPHA8_ASTC_12x10_Format$$module$js$threejs$three_module||e===SRGB8_ALPHA8_ASTC_12x12_Format$$module$js$threejs$three_module)return g=b.get("WEBGL_compressed_texture_astc"),null!==g?e:null;if(e===RGBA_BPTC_Format$$module$js$threejs$three_module)return g=b.get("EXT_texture_compression_bptc"),null!==g?e:null;if(e===UnsignedInt248Type$$module$js$threejs$three_module){if(d)return 34042;g=b.get("WEBGL_depth_texture");return null!==g?g.UNSIGNED_INT_24_8_WEBGL:null}}}}
function ArrayCamera$$module$js$threejs$three_module(a){PerspectiveCamera$$module$js$threejs$three_module.call(this);this.cameras=a||[]}ArrayCamera$$module$js$threejs$three_module.prototype=Object.assign(Object.create(PerspectiveCamera$$module$js$threejs$three_module.prototype),{constructor:ArrayCamera$$module$js$threejs$three_module,isArrayCamera:!0});function Group$$module$js$threejs$three_module(){Object3D$$module$js$threejs$three_module.call(this);this.type="Group"}
Group$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Object3D$$module$js$threejs$three_module.prototype),{constructor:Group$$module$js$threejs$three_module,isGroup:!0});function WebXRController$$module$js$threejs$three_module(){this._hand=this._grip=this._targetRay=null}
Object.assign(WebXRController$$module$js$threejs$three_module.prototype,{constructor:WebXRController$$module$js$threejs$three_module,getHandSpace:function(){if(null===this._hand&&(this._hand=new Group$$module$js$threejs$three_module,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let a=0;a<=window.XRHand.LITTLE_PHALANX_TIP;a++){const b=new Group$$module$js$threejs$three_module;b.matrixAutoUpdate=!1;b.visible=!1;this._hand.joints.push(b);
this._hand.add(b)}return this._hand},getTargetRaySpace:function(){null===this._targetRay&&(this._targetRay=new Group$$module$js$threejs$three_module,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1);return this._targetRay},getGripSpace:function(){null===this._grip&&(this._grip=new Group$$module$js$threejs$three_module,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1);return this._grip},dispatchEvent:function(a){null!==this._targetRay&&this._targetRay.dispatchEvent(a);null!==this._grip&&
this._grip.dispatchEvent(a);null!==this._hand&&this._hand.dispatchEvent(a);return this},disconnect:function(a){this.dispatchEvent({type:"disconnected",data:a});null!==this._targetRay&&(this._targetRay.visible=!1);null!==this._grip&&(this._grip.visible=!1);null!==this._hand&&(this._hand.visible=!1);return this},update:function(a,b,c){let d=null,e=null,g=null;const h=this._targetRay,k=this._grip,l=this._hand;if(a)if(l&&a.hand){g=!0;for(let n=0;n<=window.XRHand.LITTLE_PHALANX_TIP;n++)if(a.hand[n]){var m=
b.getJointPose(a.hand[n],c);const p=l.joints[n];null!==m&&(p.matrix.fromArray(m.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.jointRadius=m.radius);p.visible=null!==m;m=l.joints[window.XRHand.INDEX_PHALANX_TIP].position.distanceTo(l.joints[window.XRHand.THUMB_PHALANX_TIP].position);l.inputState.pinching&&.025<m?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:a.handedness,target:this})):!l.inputState.pinching&&.015>=m&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",
handedness:a.handedness,target:this}))}}else null!==h&&(d=b.getPose(a.targetRaySpace,c),null!==d&&(h.matrix.fromArray(d.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale))),null!==k&&a.gripSpace&&(e=b.getPose(a.gripSpace,c),null!==e&&(k.matrix.fromArray(e.transform.matrix),k.matrix.decompose(k.position,k.rotation,k.scale)));null!==h&&(h.visible=null!==d);null!==k&&(k.visible=null!==e);null!==l&&(l.visible=null!==g);return this}});
function WebXRManager$$module$js$threejs$three_module(a,b){function c(J){const aa=x.get(J.inputSource);aa&&aa.dispatchEvent({type:J.type})}function d(){x.forEach(function(J,aa){J.disconnect(aa)});x.clear();a.setFramebuffer(null);a.setRenderTarget(a.getRenderTarget());W.stop();k.isPresenting=!1;k.dispatchEvent({type:"sessionend"})}function e(J){n=J;W.setContext(l);W.start();k.isPresenting=!0;k.dispatchEvent({type:"sessionstart"})}function g(J){var aa=l.inputSources;for(var ba=0;ba<w.length;ba++)x.set(aa[ba],
w[ba]);for(aa=0;aa<J.removed.length;aa++){ba=J.removed[aa];var z=x.get(ba);z&&(z.dispatchEvent({type:"disconnected",data:ba}),x.delete(ba))}for(aa=0;aa<J.added.length;aa++)ba=J.added[aa],(z=x.get(ba))&&z.dispatchEvent({type:"connected",data:ba})}function h(J,aa){null===aa?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(aa.matrixWorld,J.matrix);J.matrixWorldInverse.getInverse(J.matrixWorld)}const k=this;let l=null,m=1,n=null,p="local-floor",t=null;const w=[],x=new Map,A=new PerspectiveCamera$$module$js$threejs$three_module;
A.layers.enable(1);A.viewport=new Vector4$$module$js$threejs$three_module;const r=new PerspectiveCamera$$module$js$threejs$three_module;r.layers.enable(2);r.viewport=new Vector4$$module$js$threejs$three_module;const E=[A,r],B=new ArrayCamera$$module$js$threejs$three_module;B.layers.enable(1);B.layers.enable(2);let G=null,H=null;this.isPresenting=this.enabled=!1;this.getController=function(J){let aa=w[J];void 0===aa&&(aa=new WebXRController$$module$js$threejs$three_module,w[J]=aa);return aa.getTargetRaySpace()};
this.getControllerGrip=function(J){let aa=w[J];void 0===aa&&(aa=new WebXRController$$module$js$threejs$three_module,w[J]=aa);return aa.getGripSpace()};this.getHand=function(J){let aa=w[J];void 0===aa&&(aa=new WebXRController$$module$js$threejs$three_module,w[J]=aa);return aa.getHandSpace()};this.setFramebufferScaleFactor=function(J){m=J;!0===k.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")};this.setReferenceSpaceType=function(J){p=J;!0===k.isPresenting&&
console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")};this.getReferenceSpace=function(){return n};this.getSession=function(){return l};this.setSession=function(J){l=J;null!==l&&(l.addEventListener("select",c),l.addEventListener("selectstart",c),l.addEventListener("selectend",c),l.addEventListener("squeeze",c),l.addEventListener("squeezestart",c),l.addEventListener("squeezeend",c),l.addEventListener("end",d),J=b.getContextAttributes(),!0!==J.xrCompatible&&b.makeXRCompatible(),
J=new XRWebGLLayer(l,b,{antialias:J.antialias,alpha:J.alpha,depth:J.depth,stencil:J.stencil,framebufferScaleFactor:m}),l.updateRenderState({baseLayer:J}),l.requestReferenceSpace(p).then(e),l.addEventListener("inputsourceschange",g))};const O=new Vector3$$module$js$threejs$three_module,N=new Vector3$$module$js$threejs$three_module;this.getCamera=function(J){B.near=r.near=A.near=J.near;B.far=r.far=A.far=J.far;if(G!==B.near||H!==B.far)l.updateRenderState({depthNear:B.near,depthFar:B.far}),G=B.near,H=
B.far;var aa=J.parent,ba=B.cameras;h(B,aa);for(var z=0;z<ba.length;z++)h(ba[z],aa);J.matrixWorld.copy(B.matrixWorld);J=J.children;for(let X=0,y=J.length;X<y;X++)J[X].updateMatrixWorld(!0);if(2===ba.length){O.setFromMatrixPosition(A.matrixWorld);N.setFromMatrixPosition(r.matrixWorld);ba=O.distanceTo(N);var K=A.projectionMatrix.elements,Q=r.projectionMatrix.elements,M=K[14]/(K[10]-1);J=K[14]/(K[10]+1);aa=(K[9]+1)/K[5];z=(K[9]-1)/K[5];var L=(K[8]-1)/K[0],T=(Q[8]+1)/Q[0];Q=M*L;K=M*T;T=ba/(-L+T);L=T*-L;
A.matrixWorld.decompose(B.position,B.quaternion,B.scale);B.translateX(L);B.translateZ(T);B.matrixWorld.compose(B.position,B.quaternion,B.scale);B.matrixWorldInverse.getInverse(B.matrixWorld);M+=T;T=J+T;B.projectionMatrix.makePerspective(Q-L,K+(ba-L),aa*J/T*M,z*J/T*M,M,T)}else B.projectionMatrix.copy(A.projectionMatrix);return B};let U=null;const W=new WebGLAnimation$$module$js$threejs$three_module;W.setAnimationLoop(function(J,aa){t=aa.getViewerPose(n);if(null!==t){var ba=t.views,z=l.renderState.baseLayer;
a.setFramebuffer(z.framebuffer);let K=!1;ba.length!==B.cameras.length&&(B.cameras.length=0,K=!0);for(let Q=0;Q<ba.length;Q++){const M=ba[Q],L=z.getViewport(M),T=E[Q];T.matrix.fromArray(M.transform.matrix);T.projectionMatrix.fromArray(M.projectionMatrix);T.viewport.set(L.x,L.y,L.width,L.height);0===Q&&B.matrix.copy(T.matrix);!0===K&&B.cameras.push(T)}}ba=l.inputSources;for(z=0;z<w.length;z++)w[z].update(ba[z],aa,n);U&&U(J,aa)});this.setAnimationLoop=function(J){U=J};this.dispose=function(){}}
Object.assign(WebXRManager$$module$js$threejs$three_module.prototype,EventDispatcher$$module$js$threejs$three_module.prototype);
function WebGLMaterials$$module$js$threejs$three_module(a){function b(d,e){d.opacity.value=e.opacity;e.color&&d.diffuse.value.copy(e.color);e.emissive&&d.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity);e.map&&(d.map.value=e.map);e.alphaMap&&(d.alphaMap.value=e.alphaMap);e.specularMap&&(d.specularMap.value=e.specularMap);var g=a.get(e).envMap;g&&(d.envMap.value=g,d.flipEnvMap.value=g.isCubeTexture?-1:1,d.reflectivity.value=e.reflectivity,d.refractionRatio.value=e.refractionRatio,
g=a.get(g).__maxMipLevel,void 0!==g&&(d.maxMipLevel.value=g));e.lightMap&&(d.lightMap.value=e.lightMap,d.lightMapIntensity.value=e.lightMapIntensity);e.aoMap&&(d.aoMap.value=e.aoMap,d.aoMapIntensity.value=e.aoMapIntensity);let h;e.map?h=e.map:e.specularMap?h=e.specularMap:e.displacementMap?h=e.displacementMap:e.normalMap?h=e.normalMap:e.bumpMap?h=e.bumpMap:e.roughnessMap?h=e.roughnessMap:e.metalnessMap?h=e.metalnessMap:e.alphaMap?h=e.alphaMap:e.emissiveMap?h=e.emissiveMap:e.clearcoatMap?h=e.clearcoatMap:
e.clearcoatNormalMap?h=e.clearcoatNormalMap:e.clearcoatRoughnessMap&&(h=e.clearcoatRoughnessMap);void 0!==h&&(h.isWebGLRenderTarget&&(h=h.texture),!0===h.matrixAutoUpdate&&h.updateMatrix(),d.uvTransform.value.copy(h.matrix));let k;e.aoMap?k=e.aoMap:e.lightMap&&(k=e.lightMap);void 0!==k&&(k.isWebGLRenderTarget&&(k=k.texture),!0===k.matrixAutoUpdate&&k.updateMatrix(),d.uv2Transform.value.copy(k.matrix))}function c(d,e){d.roughness.value=e.roughness;d.metalness.value=e.metalness;e.roughnessMap&&(d.roughnessMap.value=
e.roughnessMap);e.metalnessMap&&(d.metalnessMap.value=e.metalnessMap);e.emissiveMap&&(d.emissiveMap.value=e.emissiveMap);e.bumpMap&&(d.bumpMap.value=e.bumpMap,d.bumpScale.value=e.bumpScale,e.side===BackSide$$module$js$threejs$three_module&&(d.bumpScale.value*=-1));e.normalMap&&(d.normalMap.value=e.normalMap,d.normalScale.value.copy(e.normalScale),e.side===BackSide$$module$js$threejs$three_module&&d.normalScale.value.negate());e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=
e.displacementScale,d.displacementBias.value=e.displacementBias);a.get(e).envMap&&(d.envMapIntensity.value=e.envMapIntensity)}return{refreshFogUniforms:function(d,e){d.fogColor.value.copy(e.color);e.isFog?(d.fogNear.value=e.near,d.fogFar.value=e.far):e.isFogExp2&&(d.fogDensity.value=e.density)},refreshMaterialUniforms:function(d,e,g,h){if(e.isMeshBasicMaterial)b(d,e);else if(e.isMeshLambertMaterial)b(d,e),e.emissiveMap&&(d.emissiveMap.value=e.emissiveMap);else if(e.isMeshToonMaterial)b(d,e),e.gradientMap&&
(d.gradientMap.value=e.gradientMap),e.emissiveMap&&(d.emissiveMap.value=e.emissiveMap),e.bumpMap&&(d.bumpMap.value=e.bumpMap,d.bumpScale.value=e.bumpScale,e.side===BackSide$$module$js$threejs$three_module&&(d.bumpScale.value*=-1)),e.normalMap&&(d.normalMap.value=e.normalMap,d.normalScale.value.copy(e.normalScale),e.side===BackSide$$module$js$threejs$three_module&&d.normalScale.value.negate()),e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=e.displacementScale,
d.displacementBias.value=e.displacementBias);else if(e.isMeshPhongMaterial)b(d,e),d.specular.value.copy(e.specular),d.shininess.value=Math.max(e.shininess,1E-4),e.emissiveMap&&(d.emissiveMap.value=e.emissiveMap),e.bumpMap&&(d.bumpMap.value=e.bumpMap,d.bumpScale.value=e.bumpScale,e.side===BackSide$$module$js$threejs$three_module&&(d.bumpScale.value*=-1)),e.normalMap&&(d.normalMap.value=e.normalMap,d.normalScale.value.copy(e.normalScale),e.side===BackSide$$module$js$threejs$three_module&&d.normalScale.value.negate()),
e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=e.displacementBias);else if(e.isMeshStandardMaterial)b(d,e),e.isMeshPhysicalMaterial?(c(d,e),d.reflectivity.value=e.reflectivity,d.clearcoat.value=e.clearcoat,d.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&d.sheen.value.copy(e.sheen),e.clearcoatMap&&(d.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(d.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),
e.clearcoatNormalMap&&(d.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),d.clearcoatNormalMap.value=e.clearcoatNormalMap,e.side===BackSide$$module$js$threejs$three_module&&d.clearcoatNormalScale.value.negate()),d.transmission.value=e.transmission,e.transmissionMap&&(d.transmissionMap.value=e.transmissionMap)):c(d,e);else if(e.isMeshMatcapMaterial)b(d,e),e.matcap&&(d.matcap.value=e.matcap),e.bumpMap&&(d.bumpMap.value=e.bumpMap,d.bumpScale.value=e.bumpScale,e.side===BackSide$$module$js$threejs$three_module&&
(d.bumpScale.value*=-1)),e.normalMap&&(d.normalMap.value=e.normalMap,d.normalScale.value.copy(e.normalScale),e.side===BackSide$$module$js$threejs$three_module&&d.normalScale.value.negate()),e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=e.displacementBias);else if(e.isMeshDepthMaterial)b(d,e),e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=
e.displacementBias);else if(e.isMeshDistanceMaterial)b(d,e),e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=e.displacementBias),d.referencePosition.value.copy(e.referencePosition),d.nearDistance.value=e.nearDistance,d.farDistance.value=e.farDistance;else if(e.isMeshNormalMaterial)b(d,e),e.bumpMap&&(d.bumpMap.value=e.bumpMap,d.bumpScale.value=e.bumpScale,e.side===BackSide$$module$js$threejs$three_module&&(d.bumpScale.value*=
-1)),e.normalMap&&(d.normalMap.value=e.normalMap,d.normalScale.value.copy(e.normalScale),e.side===BackSide$$module$js$threejs$three_module&&d.normalScale.value.negate()),e.displacementMap&&(d.displacementMap.value=e.displacementMap,d.displacementScale.value=e.displacementScale,d.displacementBias.value=e.displacementBias);else if(e.isLineBasicMaterial)d.diffuse.value.copy(e.color),d.opacity.value=e.opacity,e.isLineDashedMaterial&&(d.dashSize.value=e.dashSize,d.totalSize.value=e.dashSize+e.gapSize,
d.scale.value=e.scale);else if(e.isPointsMaterial){{d.diffuse.value.copy(e.color);d.opacity.value=e.opacity;d.size.value=e.size*g;d.scale.value=.5*h;e.map&&(d.map.value=e.map);e.alphaMap&&(d.alphaMap.value=e.alphaMap);let k;e.map?k=e.map:e.alphaMap&&(k=e.alphaMap);void 0!==k&&(!0===k.matrixAutoUpdate&&k.updateMatrix(),d.uvTransform.value.copy(k.matrix))}}else if(e.isSpriteMaterial){{d.diffuse.value.copy(e.color);d.opacity.value=e.opacity;d.rotation.value=e.rotation;e.map&&(d.map.value=e.map);e.alphaMap&&
(d.alphaMap.value=e.alphaMap);let k;e.map?k=e.map:e.alphaMap&&(k=e.alphaMap);void 0!==k&&(!0===k.matrixAutoUpdate&&k.updateMatrix(),d.uvTransform.value.copy(k.matrix))}}else e.isShadowMaterial?(d.color.value.copy(e.color),d.opacity.value=e.opacity):e.isShaderMaterial&&(e.uniformsNeedUpdate=!1)}}}
function WebGLRenderer$$module$js$threejs$three_module(a){function b(C,ca){for(let V=0;V<C.length;V++){const da=w.getContext(C[V],ca);if(null!==da)return da}return null}function c(){na=new WebGLExtensions$$module$js$threejs$three_module(fa);ta=new WebGLCapabilities$$module$js$threejs$three_module(fa,na,a);!1===ta.isWebGL2&&(na.get("WEBGL_depth_texture"),na.get("OES_texture_float"),na.get("OES_texture_half_float"),na.get("OES_texture_half_float_linear"),na.get("OES_standard_derivatives"),na.get("OES_element_index_uint"),
na.get("OES_vertex_array_object"),na.get("ANGLE_instanced_arrays"));na.get("OES_texture_float_linear");Aa=new WebGLUtils$$module$js$threejs$three_module(fa,na,ta);sa=new WebGLState$$module$js$threejs$three_module(fa,na,ta);sa.scissor(F.copy(P).multiplyScalar(u).floor());sa.viewport(y.copy(S).multiplyScalar(u).floor());wa=new WebGLInfo$$module$js$threejs$three_module(fa);ua=new WebGLProperties$$module$js$threejs$three_module;xa=new WebGLTextures$$module$js$threejs$three_module(fa,na,sa,ua,ta,Aa,wa);
Ca=new WebGLCubeMaps$$module$js$threejs$three_module(J);Ia=new WebGLAttributes$$module$js$threejs$three_module(fa,ta);ya=new WebGLBindingStates$$module$js$threejs$three_module(fa,na,Ia,ta);Na=new WebGLGeometries$$module$js$threejs$three_module(fa,Ia,wa,ya);Ha=new WebGLObjects$$module$js$threejs$three_module(fa,Na,Ia,wa);Qa=new WebGLMorphtargets$$module$js$threejs$three_module(fa);za=new WebGLClipping$$module$js$threejs$three_module(ua);Ea=new WebGLPrograms$$module$js$threejs$three_module(J,Ca,na,
ta,ya,za);Oa=new WebGLMaterials$$module$js$threejs$three_module(ua);La=new WebGLRenderLists$$module$js$threejs$three_module(ua);Ga=new WebGLRenderStates$$module$js$threejs$three_module;Ba=new WebGLBackground$$module$js$threejs$three_module(J,Ca,sa,Ha,G);Ra=new WebGLBufferRenderer$$module$js$threejs$three_module(fa,na,wa,ta);Sa=new WebGLIndexedBufferRenderer$$module$js$threejs$three_module(fa,na,wa,ta);wa.programs=Ea.programs;J.capabilities=ta;J.extensions=na;J.properties=ua;J.renderLists=La;J.state=
sa;J.info=wa}function d(C){C.preventDefault();console.log("THREE.WebGLRenderer: Context Lost.");aa=!0}function e(){console.log("THREE.WebGLRenderer: Context Restored.");aa=!1;c()}function g(C){C=C.target;C.removeEventListener("dispose",g);h(C);ua.remove(C)}function h(C){C=ua.get(C).program;void 0!==C&&Ea.releaseProgram(C)}function k(C,ca){C.render(function(V){J.renderBufferImmediate(V,ca)})}function l(C,ca,V,da){if(!1!==C.visible){if(C.layers.test(ca.layers))if(C.isGroup)V=C.renderOrder;else if(C.isLOD)!0===
C.autoUpdate&&C.update(ca);else if(C.isLight)W.pushLight(C),C.castShadow&&W.pushShadow(C);else if(C.isSprite){if(!C.frustumCulled||Z.intersectsSprite(C)){da&&ka.setFromMatrixPosition(C.matrixWorld).applyMatrix4(ha);var ia=Ha.update(C),la=C.material;la.visible&&U.push(C,ia,la,V,ka.z,null)}}else if(C.isImmediateRenderObject)da&&ka.setFromMatrixPosition(C.matrixWorld).applyMatrix4(ha),U.push(C,null,C.material,V,ka.z,null);else if(C.isMesh||C.isLine||C.isPoints)if(C.isSkinnedMesh&&C.skeleton.frame!==
wa.render.frame&&(C.skeleton.update(),C.skeleton.frame=wa.render.frame),!C.frustumCulled||Z.intersectsObject(C))if(da&&ka.setFromMatrixPosition(C.matrixWorld).applyMatrix4(ha),ia=Ha.update(C),la=C.material,Array.isArray(la)){const ma=ia.groups;for(let pa=0,qa=ma.length;pa<qa;pa++){const va=ma[pa],ra=la[va.materialIndex];ra&&ra.visible&&U.push(C,ia,ra,V,ka.z,va)}}else la.visible&&U.push(C,ia,la,V,ka.z,null);C=C.children;for(let ma=0,pa=C.length;ma<pa;ma++)l(C[ma],ca,V,da)}}function m(C,ca,V){const da=
!0===ca.isScene?ca.overrideMaterial:null;for(let la=0,ma=C.length;la<ma;la++){var ia=C[la];const pa=ia.object,qa=ia.geometry,va=null===da?ia.material:da;ia=ia.group;if(V.isArrayCamera){X=V;const ra=V.cameras;for(let Fa=0,Ma=ra.length;Fa<Ma;Fa++){const Ka=ra[Fa];pa.layers.test(Ka.layers)&&(sa.viewport(y.copy(Ka.viewport)),W.setupLights(Ka),n(pa,ca,Ka,qa,va,ia))}}else X=null,n(pa,ca,V,qa,va,ia)}}function n(C,ca,V,da,ia,la){C.onBeforeRender(J,ca,V,da,ia,la);W=Ga.get(ca,X||V);C.modelViewMatrix.multiplyMatrices(V.matrixWorldInverse,
C.matrixWorld);C.normalMatrix.getNormalMatrix(C.modelViewMatrix);if(C.isImmediateRenderObject){const ma=t(V,ca,ia,C);sa.setMaterial(ia);ya.reset();k(C,ma)}else J.renderBufferDirect(V,ca,da,ia,C,la);C.onAfterRender(J,ca,V,da,ia,la);W=Ga.get(ca,X||V)}function p(C,ca,V){!0!==ca.isScene&&(ca=oa);const da=ua.get(C),ia=W.state.lights,la=ia.state.version;V=Ea.getParameters(C,ia.state,W.state.shadowsArray,ca,V);const ma=Ea.getProgramCacheKey(V);let pa=da.program,qa=!0;if(void 0===pa)C.addEventListener("dispose",
g);else if(pa.cacheKey!==ma)h(C);else{if(da.lightsStateVersion===la&&void 0!==V.shaderID){ca=C.isMeshStandardMaterial?ca.environment:null;da.envMap=Ca.get(C.envMap||ca);return}qa=!1}qa&&(V.uniforms=Ea.getUniforms(C),C.onBeforeCompile(V,J),pa=Ea.acquireProgram(V,ma),da.program=pa,da.uniforms=V.uniforms,da.outputEncoding=V.outputEncoding);V=da.uniforms;if(!C.isShaderMaterial&&!C.isRawShaderMaterial||!0===C.clipping)da.numClippingPlanes=za.numPlanes,da.numIntersection=za.numIntersection,V.clippingPlanes=
za.uniform;da.environment=C.isMeshStandardMaterial?ca.environment:null;da.fog=ca.fog;da.envMap=Ca.get(C.envMap||da.environment);da.needsLights=C.isMeshLambertMaterial||C.isMeshToonMaterial||C.isMeshPhongMaterial||C.isMeshStandardMaterial||C.isShadowMaterial||C.isShaderMaterial&&!0===C.lights;da.lightsStateVersion=la;da.needsLights&&(V.ambientLightColor.value=ia.state.ambient,V.lightProbe.value=ia.state.probe,V.directionalLights.value=ia.state.directional,V.directionalLightShadows.value=ia.state.directionalShadow,
V.spotLights.value=ia.state.spot,V.spotLightShadows.value=ia.state.spotShadow,V.rectAreaLights.value=ia.state.rectArea,V.ltc_1.value=ia.state.rectAreaLTC1,V.ltc_2.value=ia.state.rectAreaLTC2,V.pointLights.value=ia.state.point,V.pointLightShadows.value=ia.state.pointShadow,V.hemisphereLights.value=ia.state.hemi,V.directionalShadowMap.value=ia.state.directionalShadowMap,V.directionalShadowMatrix.value=ia.state.directionalShadowMatrix,V.spotShadowMap.value=ia.state.spotShadowMap,V.spotShadowMatrix.value=
ia.state.spotShadowMatrix,V.pointShadowMap.value=ia.state.pointShadowMap,V.pointShadowMatrix.value=ia.state.pointShadowMatrix);C=da.program.getUniforms();C=WebGLUniforms$$module$js$threejs$three_module.seqWithValue(C.seq,V);da.uniformsList=C}function t(C,ca,V,da){!0!==ca.isScene&&(ca=oa);xa.resetTextureUnits();const ia=ca.fog;var la=V.isMeshStandardMaterial?ca.environment:null,ma=null===Q?J.outputEncoding:Q.texture.encoding,pa=Ca.get(V.envMap||la);const qa=ua.get(V);var va=W.state.lights;!0!==ea||
!0!==ja&&C===T||za.setState(V,C,C===T&&V.id===L);V.version===qa.__version?V.fog&&qa.fog!==ia?p(V,ca,da):qa.environment!==la?p(V,ca,da):qa.needsLights&&qa.lightsStateVersion!==va.state.version?p(V,ca,da):void 0===qa.numClippingPlanes||qa.numClippingPlanes===za.numPlanes&&qa.numIntersection===za.numIntersection?qa.outputEncoding!==ma?p(V,ca,da):qa.envMap!==pa&&p(V,ca,da):p(V,ca,da):(p(V,ca,da),qa.__version=V.version);var ra=!1;va=pa=!1;ca=qa.program;la=ca.getUniforms();ma=qa.uniforms;sa.useProgram(ca.program)&&
(va=pa=ra=!0);V.id!==L&&(L=V.id,pa=!0);if(ra||T!==C){la.setValue(fa,"projectionMatrix",C.projectionMatrix);ta.logarithmicDepthBuffer&&la.setValue(fa,"logDepthBufFC",2/(Math.log(C.far+1)/Math.LN2));T!==C&&(T=C,va=pa=!0);if(V.isShaderMaterial||V.isMeshPhongMaterial||V.isMeshToonMaterial||V.isMeshStandardMaterial||V.envMap)ra=la.map.cameraPosition,void 0!==ra&&ra.setValue(fa,ka.setFromMatrixPosition(C.matrixWorld));(V.isMeshPhongMaterial||V.isMeshToonMaterial||V.isMeshLambertMaterial||V.isMeshBasicMaterial||
V.isMeshStandardMaterial||V.isShaderMaterial)&&la.setValue(fa,"isOrthographic",!0===C.isOrthographicCamera);(V.isMeshPhongMaterial||V.isMeshToonMaterial||V.isMeshLambertMaterial||V.isMeshBasicMaterial||V.isMeshStandardMaterial||V.isShaderMaterial||V.isShadowMaterial||V.skinning)&&la.setValue(fa,"viewMatrix",C.matrixWorldInverse)}if(V.skinning&&(la.setOptional(fa,da,"bindMatrix"),la.setOptional(fa,da,"bindMatrixInverse"),C=da.skeleton))if(ra=C.bones,ta.floatVertexTextures){if(void 0===C.boneTexture){ra=
Math.sqrt(4*ra.length);ra=MathUtils$$module$js$threejs$three_module.ceilPowerOfTwo(ra);ra=Math.max(ra,4);const Fa=new Float32Array(ra*ra*4);Fa.set(C.boneMatrices);const Ma=new DataTexture$$module$js$threejs$three_module(Fa,ra,ra,RGBAFormat$$module$js$threejs$three_module,FloatType$$module$js$threejs$three_module);C.boneMatrices=Fa;C.boneTexture=Ma;C.boneTextureSize=ra}la.setValue(fa,"boneTexture",C.boneTexture,xa);la.setValue(fa,"boneTextureSize",C.boneTextureSize)}else la.setOptional(fa,C,"boneMatrices");
if(pa||qa.receiveShadow!==da.receiveShadow)qa.receiveShadow=da.receiveShadow,la.setValue(fa,"receiveShadow",da.receiveShadow);pa&&(la.setValue(fa,"toneMappingExposure",J.toneMappingExposure),qa.needsLights&&(C=va,ma.ambientLightColor.needsUpdate=C,ma.lightProbe.needsUpdate=C,ma.directionalLights.needsUpdate=C,ma.directionalLightShadows.needsUpdate=C,ma.pointLights.needsUpdate=C,ma.pointLightShadows.needsUpdate=C,ma.spotLights.needsUpdate=C,ma.spotLightShadows.needsUpdate=C,ma.rectAreaLights.needsUpdate=
C,ma.hemisphereLights.needsUpdate=C),ia&&V.fog&&Oa.refreshFogUniforms(ma,ia),Oa.refreshMaterialUniforms(ma,V,u,v),WebGLUniforms$$module$js$threejs$three_module.upload(fa,qa.uniformsList,ma,xa));V.isShaderMaterial&&!0===V.uniformsNeedUpdate&&(WebGLUniforms$$module$js$threejs$three_module.upload(fa,qa.uniformsList,ma,xa),V.uniformsNeedUpdate=!1);V.isSpriteMaterial&&la.setValue(fa,"center",da.center);la.setValue(fa,"modelViewMatrix",da.modelViewMatrix);la.setValue(fa,"normalMatrix",da.normalMatrix);
la.setValue(fa,"modelMatrix",da.matrixWorld);return ca}a=a||{};const w=void 0!==a.canvas?a.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas");var x=void 0!==a.context?a.context:null,A=void 0!==a.alpha?a.alpha:!1;const r=void 0!==a.depth?a.depth:!0,E=void 0!==a.stencil?a.stencil:!0,B=void 0!==a.antialias?a.antialias:!1,G=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,H=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,O=void 0!==a.powerPreference?a.powerPreference:
"default",N=void 0!==a.failIfMajorPerformanceCaveat?a.failIfMajorPerformanceCaveat:!1;let U=null,W=null;this.domElement=w;this.debug={checkShaderErrors:!0};this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.gammaFactor=2;this.outputEncoding=LinearEncoding$$module$js$threejs$three_module;this.physicallyCorrectLights=!1;this.toneMapping=NoToneMapping$$module$js$threejs$three_module;this.toneMappingExposure=
1;this.maxMorphTargets=8;this.maxMorphNormals=4;const J=this;let aa=!1,ba=null,z=0,K=0,Q=null,M=null,L=-1,T=null,X=null;const y=new Vector4$$module$js$threejs$three_module,F=new Vector4$$module$js$threejs$three_module;let R=null,q=w.width,v=w.height,u=1,D=null,I=null;const S=new Vector4$$module$js$threejs$three_module(0,0,q,v),P=new Vector4$$module$js$threejs$three_module(0,0,q,v);let Y=!1;const Z=new Frustum$$module$js$threejs$three_module;let ea=!1,ja=!1;const ha=new Matrix4$$module$js$threejs$three_module,
ka=new Vector3$$module$js$threejs$three_module,oa={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let fa=x;try{x={alpha:A,depth:r,stencil:E,antialias:B,premultipliedAlpha:G,preserveDrawingBuffer:H,powerPreference:O,failIfMajorPerformanceCaveat:N};w.addEventListener("webglcontextlost",d,!1);w.addEventListener("webglcontextrestored",e,!1);if(null===fa&&(A=["webgl2","webgl","experimental-webgl"],!0===J.isWebGL1Renderer&&A.shift(),fa=b(A,x),null===fa)){if(b(A))throw Error("Error creating WebGL context with your selected attributes.");
throw Error("Error creating WebGL context.");}void 0===fa.getShaderPrecisionFormat&&(fa.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(C){throw console.error("THREE.WebGLRenderer: "+C.message),C;}let na,ta,sa,wa,ua,xa,Ca,Ia,Na,Ha,Ea,Oa,La,Ga,za,Ba,Qa,Ra,Sa,Aa,ya;c();const Da=new WebXRManager$$module$js$threejs$three_module(J,fa);this.xr=Da;const Ta=new WebGLShadowMap$$module$js$threejs$three_module(J,Ha,ta.maxTextureSize);this.shadowMap=Ta;this.getContext=function(){return fa};
this.getContextAttributes=function(){return fa.getContextAttributes()};this.forceContextLoss=function(){const C=na.get("WEBGL_lose_context");C&&C.loseContext()};this.forceContextRestore=function(){const C=na.get("WEBGL_lose_context");C&&C.restoreContext()};this.getPixelRatio=function(){return u};this.setPixelRatio=function(C){void 0!==C&&(u=C,this.setSize(q,v,!1))};this.getSize=function(C){void 0===C&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),C=new Vector2$$module$js$threejs$three_module);
return C.set(q,v)};this.setSize=function(C,ca,V){Da.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(q=C,v=ca,w.width=Math.floor(C*u),w.height=Math.floor(ca*u),!1!==V&&(w.style.width=C+"px",w.style.height=ca+"px"),this.setViewport(0,0,C,ca))};this.getDrawingBufferSize=function(C){void 0===C&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),C=new Vector2$$module$js$threejs$three_module);return C.set(q*u,
v*u).floor()};this.setDrawingBufferSize=function(C,ca,V){q=C;v=ca;u=V;w.width=Math.floor(C*V);w.height=Math.floor(ca*V);this.setViewport(0,0,C,ca)};this.getCurrentViewport=function(C){void 0===C&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),C=new Vector4$$module$js$threejs$three_module);return C.copy(y)};this.getViewport=function(C){return C.copy(S)};this.setViewport=function(C,ca,V,da){C.isVector4?S.set(C.x,C.y,C.z,C.w):S.set(C,ca,V,da);sa.viewport(y.copy(S).multiplyScalar(u).floor())};
this.getScissor=function(C){return C.copy(P)};this.setScissor=function(C,ca,V,da){C.isVector4?P.set(C.x,C.y,C.z,C.w):P.set(C,ca,V,da);sa.scissor(F.copy(P).multiplyScalar(u).floor())};this.getScissorTest=function(){return Y};this.setScissorTest=function(C){sa.setScissorTest(Y=C)};this.setOpaqueSort=function(C){D=C};this.setTransparentSort=function(C){I=C};this.getClearColor=function(){return Ba.getClearColor()};this.setClearColor=function(){Ba.setClearColor.apply(Ba,arguments)};this.getClearAlpha=
function(){return Ba.getClearAlpha()};this.setClearAlpha=function(){Ba.setClearAlpha.apply(Ba,arguments)};this.clear=function(C,ca,V){let da=0;if(void 0===C||C)da|=16384;if(void 0===ca||ca)da|=256;if(void 0===V||V)da|=1024;fa.clear(da)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.dispose=function(){w.removeEventListener("webglcontextlost",d,!1);w.removeEventListener("webglcontextrestored",
e,!1);La.dispose();Ga.dispose();ua.dispose();Ca.dispose();Ha.dispose();ya.dispose();Da.dispose();Ja.stop()};this.renderBufferImmediate=function(C,ca){ya.initAttributes();const V=ua.get(C);C.hasPositions&&!V.position&&(V.position=fa.createBuffer());C.hasNormals&&!V.normal&&(V.normal=fa.createBuffer());C.hasUvs&&!V.uv&&(V.uv=fa.createBuffer());C.hasColors&&!V.color&&(V.color=fa.createBuffer());ca=ca.getAttributes();C.hasPositions&&(fa.bindBuffer(34962,V.position),fa.bufferData(34962,C.positionArray,
35048),ya.enableAttribute(ca.position),fa.vertexAttribPointer(ca.position,3,5126,!1,0,0));C.hasNormals&&(fa.bindBuffer(34962,V.normal),fa.bufferData(34962,C.normalArray,35048),ya.enableAttribute(ca.normal),fa.vertexAttribPointer(ca.normal,3,5126,!1,0,0));C.hasUvs&&(fa.bindBuffer(34962,V.uv),fa.bufferData(34962,C.uvArray,35048),ya.enableAttribute(ca.uv),fa.vertexAttribPointer(ca.uv,2,5126,!1,0,0));C.hasColors&&(fa.bindBuffer(34962,V.color),fa.bufferData(34962,C.colorArray,35048),ya.enableAttribute(ca.color),
fa.vertexAttribPointer(ca.color,3,5126,!1,0,0));ya.disableUnusedAttributes();fa.drawArrays(4,0,C.count);C.count=0};this.renderBufferDirect=function(C,ca,V,da,ia,la){null===ca&&(ca=oa);var ma=ia.isMesh&&0>ia.matrixWorld.determinant();C=t(C,ca,da,ia);sa.setMaterial(da,ma);ma=V.index;ca=V.attributes.position;if(null===ma){if(void 0===ca||0===ca.count)return}else if(0===ma.count)return;let pa=1;!0===da.wireframe&&(ma=Na.getWireframeAttribute(V),pa=2);(da.morphTargets||da.morphNormals)&&Qa.update(ia,V,
da,C);ya.setup(ia,da,C,V,ma);C=Ra;if(null!==ma){var qa=Ia.get(ma);C=Sa;C.setIndex(qa)}const va=V.drawRange.start*pa,ra=null!==la?la.start*pa:0;qa=Math.max(va,ra);la=Math.max(0,Math.min(null!==ma?ma.count:ca.count,va+V.drawRange.count*pa,ra+(null!==la?la.count*pa:Infinity))-1-qa+1);0!==la&&(ia.isMesh?!0===da.wireframe?(sa.setLineWidth(da.wireframeLinewidth*(null===Q?u:1)),C.setMode(1)):C.setMode(4):ia.isLine?(da=da.linewidth,void 0===da&&(da=1),sa.setLineWidth(da*(null===Q?u:1)),ia.isLineSegments?
C.setMode(1):ia.isLineLoop?C.setMode(2):C.setMode(3)):ia.isPoints?C.setMode(0):ia.isSprite&&C.setMode(4),ia.isInstancedMesh?C.renderInstances(qa,la,ia.count):V.isInstancedBufferGeometry?C.renderInstances(qa,la,Math.min(V.instanceCount,V._maxInstanceCount)):C.render(qa,la))};this.compile=function(C,ca){W=Ga.get(C,ca);W.init();C.traverse(function(da){da.isLight&&(W.pushLight(da),da.castShadow&&W.pushShadow(da))});W.setupLights(ca);const V=new WeakMap;C.traverse(function(da){const ia=da.material;if(ia)if(Array.isArray(ia))for(let la=
0;la<ia.length;la++){const ma=ia[la];!1===V.has(ma)&&(p(ma,C,da),V.set(ma))}else!1===V.has(ia)&&(p(ia,C,da),V.set(ia))})};let Pa=null;const Ja=new WebGLAnimation$$module$js$threejs$three_module;Ja.setAnimationLoop(function(C){Da.isPresenting||Pa&&Pa(C)});"undefined"!==typeof window&&Ja.setContext(window);this.setAnimationLoop=function(C){Pa=C;Da.setAnimationLoop(C);null===C?Ja.stop():Ja.start()};this.render=function(C,ca,V,da){let ia,la;void 0!==V&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),
ia=V);void 0!==da&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),la=da);if(void 0!==ca&&!0!==ca.isCamera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else if(!0!==aa){ya.resetDefaultState();L=-1;T=null;!0===C.autoUpdate&&C.updateMatrixWorld();null===ca.parent&&ca.updateMatrixWorld();!0===Da.enabled&&!0===Da.isPresenting&&(ca=Da.getCamera(ca));if(!0===C.isScene)C.onBeforeRender(J,C,ca,ia||Q);
W=Ga.get(C,ca);W.init();ha.multiplyMatrices(ca.projectionMatrix,ca.matrixWorldInverse);Z.setFromProjectionMatrix(ha);ja=this.localClippingEnabled;ea=za.init(this.clippingPlanes,ja,ca);U=La.get(C,ca);U.init();l(C,ca,0,J.sortObjects);U.finish();!0===J.sortObjects&&U.sort(D,I);!0===ea&&za.beginShadows();Ta.render(W.state.shadowsArray,C,ca);W.setupLights(ca);!0===ea&&za.endShadows();!0===this.info.autoReset&&this.info.reset();void 0!==ia&&this.setRenderTarget(ia);Ba.render(U,C,ca,la);V=U.opaque;da=U.transparent;
0<V.length&&m(V,C,ca);0<da.length&&m(da,C,ca);if(!0===C.isScene)C.onAfterRender(J,C,ca);null!==Q&&(xa.updateRenderTargetMipmap(Q),xa.updateMultisampleRenderTarget(Q));sa.buffers.depth.setTest(!0);sa.buffers.depth.setMask(!0);sa.buffers.color.setMask(!0);sa.setPolygonOffset(!1);W=U=null}};this.setFramebuffer=function(C){ba!==C&&null===Q&&fa.bindFramebuffer(36160,C);ba=C};this.getActiveCubeFace=function(){return z};this.getActiveMipmapLevel=function(){return K};this.getRenderList=function(){return U};
this.setRenderList=function(C){U=C};this.getRenderState=function(){return W};this.setRenderState=function(C){W=C};this.getRenderTarget=function(){return Q};this.setRenderTarget=function(C,ca=0,V=0){Q=C;z=ca;K=V;C&&void 0===ua.get(C).__webglFramebuffer&&xa.setupRenderTarget(C);var da=ba;let ia=!1;C?(da=ua.get(C).__webglFramebuffer,C.isWebGLCubeRenderTarget?(da=da[ca],ia=!0):da=C.isWebGLMultisampleRenderTarget?ua.get(C).__webglMultisampledFramebuffer:da,y.copy(C.viewport),F.copy(C.scissor),R=C.scissorTest):
(y.copy(S).multiplyScalar(u).floor(),F.copy(P).multiplyScalar(u).floor(),R=Y);M!==da&&(fa.bindFramebuffer(36160,da),M=da);sa.viewport(y);sa.scissor(F);sa.setScissorTest(R);ia&&(C=ua.get(C.texture),fa.framebufferTexture2D(36160,36064,34069+ca,C.__webglTexture,V))};this.readRenderTargetPixels=function(C,ca,V,da,ia,la,ma){if(C&&C.isWebGLRenderTarget){var pa=ua.get(C).__webglFramebuffer;C.isWebGLCubeRenderTarget&&void 0!==ma&&(pa=pa[ma]);if(pa){ma=!1;pa!==M&&(fa.bindFramebuffer(36160,pa),ma=!0);try{const qa=
C.texture,va=qa.format,ra=qa.type;va!==RGBAFormat$$module$js$threejs$three_module&&Aa.convert(va)!==fa.getParameter(35739)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):ra===UnsignedByteType$$module$js$threejs$three_module||Aa.convert(ra)===fa.getParameter(35738)||ra===FloatType$$module$js$threejs$three_module&&(ta.isWebGL2||na.get("OES_texture_float")||na.get("WEBGL_color_buffer_float"))||ra===HalfFloatType$$module$js$threejs$three_module&&
(ta.isWebGL2?na.get("EXT_color_buffer_float"):na.get("EXT_color_buffer_half_float"))?36053===fa.checkFramebufferStatus(36160)?0<=ca&&ca<=C.width-da&&0<=V&&V<=C.height-ia&&fa.readPixels(ca,V,da,ia,Aa.convert(va),Aa.convert(ra),la):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{ma&&fa.bindFramebuffer(36160,
M)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")};this.copyFramebufferToTexture=function(C,ca,V){void 0===V&&(V=0);var da=Math.pow(2,-V);const ia=Math.floor(ca.image.width*da);da=Math.floor(ca.image.height*da);const la=Aa.convert(ca.format);xa.setTexture2D(ca,0);fa.copyTexImage2D(3553,V,la,C.x,C.y,ia,da,0);sa.unbindTexture()};this.copyTextureToTexture=function(C,ca,V,da){void 0===da&&(da=0);const ia=ca.image.width,la=ca.image.height,
ma=Aa.convert(V.format),pa=Aa.convert(V.type);xa.setTexture2D(V,0);fa.pixelStorei(37440,V.flipY);fa.pixelStorei(37441,V.premultiplyAlpha);fa.pixelStorei(3317,V.unpackAlignment);ca.isDataTexture?fa.texSubImage2D(3553,da,C.x,C.y,ia,la,ma,pa,ca.image.data):ca.isCompressedTexture?fa.compressedTexSubImage2D(3553,da,C.x,C.y,ca.mipmaps[0].width,ca.mipmaps[0].height,ma,ca.mipmaps[0].data):fa.texSubImage2D(3553,da,C.x,C.y,ma,pa,ca.image);0===da&&V.generateMipmaps&&fa.generateMipmap(3553);sa.unbindTexture()};
this.initTexture=function(C){xa.setTexture2D(C,0);sa.unbindTexture()};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function WebGL1Renderer$$module$js$threejs$three_module(a){WebGLRenderer$$module$js$threejs$three_module.call(this,a)}
WebGL1Renderer$$module$js$threejs$three_module.prototype=Object.assign(Object.create(WebGLRenderer$$module$js$threejs$three_module.prototype),{constructor:WebGL1Renderer$$module$js$threejs$three_module,isWebGL1Renderer:!0});
class FogExp2$$module$js$threejs$three_module{constructor(a,b){Object.defineProperty(this,"isFogExp2",{value:!0});this.name="";this.color=new Color$$module$js$threejs$three_module(a);this.density=void 0!==b?b:2.5E-4}clone(){return new FogExp2$$module$js$threejs$three_module(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}
class Fog$$module$js$threejs$three_module{constructor(a,b,c){Object.defineProperty(this,"isFog",{value:!0});this.name="";this.color=new Color$$module$js$threejs$three_module(a);this.near=void 0!==b?b:1;this.far=void 0!==c?c:1E3}clone(){return new Fog$$module$js$threejs$three_module(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}
class Scene$$module$js$threejs$three_module extends Object3D$$module$js$threejs$three_module{constructor(){super();Object.defineProperty(this,"isScene",{value:!0});this.type="Scene";this.overrideMaterial=this.fog=this.environment=this.background=null;this.autoUpdate=!0;"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(a,b){super.copy(a,b);null!==a.background&&(this.background=a.background.clone());null!==a.environment&&(this.environment=
a.environment.clone());null!==a.fog&&(this.fog=a.fog.clone());null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.autoUpdate=a.autoUpdate;this.matrixAutoUpdate=a.matrixAutoUpdate;return this}toJSON(a){const b=super.toJSON(a);null!==this.background&&(b.object.background=this.background.toJSON(a));null!==this.environment&&(b.object.environment=this.environment.toJSON(a));null!==this.fog&&(b.object.fog=this.fog.toJSON());return b}}
function InterleavedBuffer$$module$js$threejs$three_module(a,b){this.array=a;this.stride=b;this.count=void 0!==a?a.length/b:0;this.usage=StaticDrawUsage$$module$js$threejs$three_module;this.updateRange={offset:0,count:-1};this.version=0;this.uuid=MathUtils$$module$js$threejs$three_module.generateUUID()}Object.defineProperty(InterleavedBuffer$$module$js$threejs$three_module.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});
Object.assign(InterleavedBuffer$$module$js$threejs$three_module.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(a){this.usage=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.count=a.count;this.stride=a.stride;this.usage=a.usage;return this},copyAt:function(a,b,c){a*=this.stride;c*=b.stride;for(let d=0,e=this.stride;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},
clone:function(a){void 0===a.arrayBuffers&&(a.arrayBuffers={});void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=MathUtils$$module$js$threejs$three_module.generateUUID());void 0===a.arrayBuffers[this.array.buffer._uuid]&&(a.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);a=new this.array.constructor(a.arrayBuffers[this.array.buffer._uuid]);a=new InterleavedBuffer$$module$js$threejs$three_module(a,this.stride);a.setUsage(this.usage);return a},onUpload:function(a){this.onUploadCallback=
a;return this},toJSON:function(a){void 0===a.arrayBuffers&&(a.arrayBuffers={});void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=MathUtils$$module$js$threejs$three_module.generateUUID());void 0===a.arrayBuffers[this.array.buffer._uuid]&&(a.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer)));return{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});
const _vector$6$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module;function InterleavedBufferAttribute$$module$js$threejs$three_module(a,b,c,d){this.name="";this.data=a;this.itemSize=b;this.offset=c;this.normalized=!0===d}Object.defineProperties(InterleavedBufferAttribute$$module$js$threejs$three_module.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(a){this.data.needsUpdate=a}}});
Object.assign(InterleavedBufferAttribute$$module$js$threejs$three_module.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(a){for(let b=0,c=this.data.count;b<c;b++)_vector$6$$module$js$threejs$three_module.x=this.getX(b),_vector$6$$module$js$threejs$three_module.y=this.getY(b),_vector$6$$module$js$threejs$three_module.z=this.getZ(b),_vector$6$$module$js$threejs$three_module.applyMatrix4(a),this.setXYZ(b,_vector$6$$module$js$threejs$three_module.x,_vector$6$$module$js$threejs$three_module.y,
_vector$6$$module$js$threejs$three_module.z);return this},setX:function(a,b){this.data.array[a*this.data.stride+this.offset]=b;return this},setY:function(a,b){this.data.array[a*this.data.stride+this.offset+1]=b;return this},setZ:function(a,b){this.data.array[a*this.data.stride+this.offset+2]=b;return this},setW:function(a,b){this.data.array[a*this.data.stride+this.offset+3]=b;return this},getX:function(a){return this.data.array[a*this.data.stride+this.offset]},getY:function(a){return this.data.array[a*
this.data.stride+this.offset+1]},getZ:function(a){return this.data.array[a*this.data.stride+this.offset+2]},getW:function(a){return this.data.array[a*this.data.stride+this.offset+3]},setXY:function(a,b,c){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a=a*this.data.stride+this.offset;this.data.array[a+
0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;this.data.array[a+3]=e;return this},clone:function(a){if(void 0===a){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");a=[];for(let b=0;b<this.count;b++){const c=b*this.data.stride+this.offset;for(let d=0;d<this.itemSize;d++)a.push(this.data.array[c+d])}return new BufferAttribute$$module$js$threejs$three_module(new this.array.constructor(a),this.itemSize,this.normalized)}void 0===
a.interleavedBuffers&&(a.interleavedBuffers={});void 0===a.interleavedBuffers[this.data.uuid]&&(a.interleavedBuffers[this.data.uuid]=this.data.clone(a));return new InterleavedBufferAttribute$$module$js$threejs$three_module(a.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(a){if(void 0===a){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");a=[];for(let b=0;b<this.count;b++){const c=
b*this.data.stride+this.offset;for(let d=0;d<this.itemSize;d++)a.push(this.data.array[c+d])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:a,normalized:this.normalized}}void 0===a.interleavedBuffers&&(a.interleavedBuffers={});void 0===a.interleavedBuffers[this.data.uuid]&&(a.interleavedBuffers[this.data.uuid]=this.data.toJSON(a));return{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});
function SpriteMaterial$$module$js$threejs$three_module(a){Material$$module$js$threejs$three_module.call(this);this.type="SpriteMaterial";this.color=new Color$$module$js$threejs$three_module(16777215);this.alphaMap=this.map=null;this.rotation=0;this.transparent=this.sizeAttenuation=!0;this.setValues(a)}SpriteMaterial$$module$js$threejs$three_module.prototype=Object.create(Material$$module$js$threejs$three_module.prototype);SpriteMaterial$$module$js$threejs$three_module.prototype.constructor=SpriteMaterial$$module$js$threejs$three_module;
SpriteMaterial$$module$js$threejs$three_module.prototype.isSpriteMaterial=!0;SpriteMaterial$$module$js$threejs$three_module.prototype.copy=function(a){Material$$module$js$threejs$three_module.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.alphaMap=a.alphaMap;this.rotation=a.rotation;this.sizeAttenuation=a.sizeAttenuation;return this};let _geometry$$module$js$threejs$three_module;
const _intersectPoint$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_worldScale$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_mvPosition$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_alignedPosition$$module$js$threejs$three_module=new Vector2$$module$js$threejs$three_module,_rotatedPosition$$module$js$threejs$three_module=new Vector2$$module$js$threejs$three_module,_viewWorldMatrix$$module$js$threejs$three_module=
new Matrix4$$module$js$threejs$three_module,_vA$1$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_vB$1$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_vC$1$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_uvA$1$$module$js$threejs$three_module=new Vector2$$module$js$threejs$three_module,_uvB$1$$module$js$threejs$three_module=new Vector2$$module$js$threejs$three_module,_uvC$1$$module$js$threejs$three_module=new Vector2$$module$js$threejs$three_module;
function Sprite$$module$js$threejs$three_module(a){Object3D$$module$js$threejs$three_module.call(this);this.type="Sprite";if(void 0===_geometry$$module$js$threejs$three_module){_geometry$$module$js$threejs$three_module=new BufferGeometry$$module$js$threejs$three_module;var b=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);b=new InterleavedBuffer$$module$js$threejs$three_module(b,5);_geometry$$module$js$threejs$three_module.setIndex([0,1,2,0,2,3]);_geometry$$module$js$threejs$three_module.setAttribute("position",
new InterleavedBufferAttribute$$module$js$threejs$three_module(b,3,0,!1));_geometry$$module$js$threejs$three_module.setAttribute("uv",new InterleavedBufferAttribute$$module$js$threejs$three_module(b,2,3,!1))}this.geometry=_geometry$$module$js$threejs$three_module;this.material=void 0!==a?a:new SpriteMaterial$$module$js$threejs$three_module;this.center=new Vector2$$module$js$threejs$three_module(.5,.5)}
Sprite$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Object3D$$module$js$threejs$three_module.prototype),{constructor:Sprite$$module$js$threejs$three_module,isSprite:!0,raycast:function(a,b){null===a.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.');_worldScale$$module$js$threejs$three_module.setFromMatrixScale(this.matrixWorld);_viewWorldMatrix$$module$js$threejs$three_module.copy(a.camera.matrixWorld);this.modelViewMatrix.multiplyMatrices(a.camera.matrixWorldInverse,
this.matrixWorld);_mvPosition$$module$js$threejs$three_module.setFromMatrixPosition(this.modelViewMatrix);a.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&_worldScale$$module$js$threejs$three_module.multiplyScalar(-_mvPosition$$module$js$threejs$three_module.z);var c=this.material.rotation;let d;if(0!==c){d=Math.cos(c);var e=Math.sin(c)}c=this.center;transformVertex$$module$js$threejs$three_module(_vA$1$$module$js$threejs$three_module.set(-.5,-.5,0),_mvPosition$$module$js$threejs$three_module,
c,_worldScale$$module$js$threejs$three_module,e,d);transformVertex$$module$js$threejs$three_module(_vB$1$$module$js$threejs$three_module.set(.5,-.5,0),_mvPosition$$module$js$threejs$three_module,c,_worldScale$$module$js$threejs$three_module,e,d);transformVertex$$module$js$threejs$three_module(_vC$1$$module$js$threejs$three_module.set(.5,.5,0),_mvPosition$$module$js$threejs$three_module,c,_worldScale$$module$js$threejs$three_module,e,d);_uvA$1$$module$js$threejs$three_module.set(0,0);_uvB$1$$module$js$threejs$three_module.set(1,
0);_uvC$1$$module$js$threejs$three_module.set(1,1);let g=a.ray.intersectTriangle(_vA$1$$module$js$threejs$three_module,_vB$1$$module$js$threejs$three_module,_vC$1$$module$js$threejs$three_module,!1,_intersectPoint$$module$js$threejs$three_module);if(null===g&&(transformVertex$$module$js$threejs$three_module(_vB$1$$module$js$threejs$three_module.set(-.5,.5,0),_mvPosition$$module$js$threejs$three_module,c,_worldScale$$module$js$threejs$three_module,e,d),_uvB$1$$module$js$threejs$three_module.set(0,
1),g=a.ray.intersectTriangle(_vA$1$$module$js$threejs$three_module,_vC$1$$module$js$threejs$three_module,_vB$1$$module$js$threejs$three_module,!1,_intersectPoint$$module$js$threejs$three_module),null===g))return;e=a.ray.origin.distanceTo(_intersectPoint$$module$js$threejs$three_module);e<a.near||e>a.far||b.push({distance:e,point:_intersectPoint$$module$js$threejs$three_module.clone(),uv:Triangle$$module$js$threejs$three_module.getUV(_intersectPoint$$module$js$threejs$three_module,_vA$1$$module$js$threejs$three_module,
_vB$1$$module$js$threejs$three_module,_vC$1$$module$js$threejs$three_module,_uvA$1$$module$js$threejs$three_module,_uvB$1$$module$js$threejs$three_module,_uvC$1$$module$js$threejs$three_module,new Vector2$$module$js$threejs$three_module),face:null,object:this})},copy:function(a){Object3D$$module$js$threejs$three_module.prototype.copy.call(this,a);void 0!==a.center&&this.center.copy(a.center);this.material=a.material;return this}});
function transformVertex$$module$js$threejs$three_module(a,b,c,d,e,g){_alignedPosition$$module$js$threejs$three_module.subVectors(a,c).addScalar(.5).multiply(d);void 0!==e?(_rotatedPosition$$module$js$threejs$three_module.x=g*_alignedPosition$$module$js$threejs$three_module.x-e*_alignedPosition$$module$js$threejs$three_module.y,_rotatedPosition$$module$js$threejs$three_module.y=e*_alignedPosition$$module$js$threejs$three_module.x+g*_alignedPosition$$module$js$threejs$three_module.y):_rotatedPosition$$module$js$threejs$three_module.copy(_alignedPosition$$module$js$threejs$three_module);
a.copy(b);a.x+=_rotatedPosition$$module$js$threejs$three_module.x;a.y+=_rotatedPosition$$module$js$threejs$three_module.y;a.applyMatrix4(_viewWorldMatrix$$module$js$threejs$three_module)}const _v1$4$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_v2$2$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module;
function LOD$$module$js$threejs$three_module(){Object3D$$module$js$threejs$three_module.call(this);this._currentLevel=0;this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]}});this.autoUpdate=!0}
LOD$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Object3D$$module$js$threejs$three_module.prototype),{constructor:LOD$$module$js$threejs$three_module,isLOD:!0,copy:function(a){Object3D$$module$js$threejs$three_module.prototype.copy.call(this,a,!1);const b=a.levels;for(let c=0,d=b.length;c<d;c++){const e=b[c];this.addLevel(e.object.clone(),e.distance)}this.autoUpdate=a.autoUpdate;return this},addLevel:function(a,b){void 0===b&&(b=0);b=Math.abs(b);const c=this.levels;let d;
for(d=0;d<c.length&&!(b<c[d].distance);d++);c.splice(d,0,{distance:b,object:a});this.add(a);return this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(a){const b=this.levels;if(0<b.length){let c,d;c=1;for(d=b.length;c<d&&!(a<b[c].distance);c++);return b[c-1].object}return null},raycast:function(a,b){if(0<this.levels.length){_v1$4$$module$js$threejs$three_module.setFromMatrixPosition(this.matrixWorld);const c=a.ray.origin.distanceTo(_v1$4$$module$js$threejs$three_module);
this.getObjectForDistance(c).raycast(a,b)}},update:function(a){const b=this.levels;if(1<b.length){_v1$4$$module$js$threejs$three_module.setFromMatrixPosition(a.matrixWorld);_v2$2$$module$js$threejs$three_module.setFromMatrixPosition(this.matrixWorld);a=_v1$4$$module$js$threejs$three_module.distanceTo(_v2$2$$module$js$threejs$three_module)/a.zoom;b[0].object.visible=!0;let c,d;c=1;for(d=b.length;c<d;c++)if(a>=b[c].distance)b[c-1].object.visible=!1,b[c].object.visible=!0;else break;for(this._currentLevel=
c-1;c<d;c++)b[c].object.visible=!1}},toJSON:function(a){a=Object3D$$module$js$threejs$three_module.prototype.toJSON.call(this,a);!1===this.autoUpdate&&(a.object.autoUpdate=!1);a.object.levels=[];const b=this.levels;for(let c=0,d=b.length;c<d;c++){const e=b[c];a.object.levels.push({object:e.object.uuid,distance:e.distance})}return a}});
function SkinnedMesh$$module$js$threejs$three_module(a,b){a&&a.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");Mesh$$module$js$threejs$three_module.call(this,a,b);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new Matrix4$$module$js$threejs$three_module;this.bindMatrixInverse=new Matrix4$$module$js$threejs$three_module}
SkinnedMesh$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Mesh$$module$js$threejs$three_module.prototype),{constructor:SkinnedMesh$$module$js$threejs$three_module,isSkinnedMesh:!0,copy:function(a){Mesh$$module$js$threejs$three_module.prototype.copy.call(this,a);this.bindMode=a.bindMode;this.bindMatrix.copy(a.bindMatrix);this.bindMatrixInverse.copy(a.bindMatrixInverse);this.skeleton=a.skeleton;return this},bind:function(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),
this.skeleton.calculateInverses(),b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.getInverse(b)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const a=new Vector4$$module$js$threejs$three_module,b=this.geometry.attributes.skinWeight;for(let c=0,d=b.count;c<d;c++){a.x=b.getX(c);a.y=b.getY(c);a.z=b.getZ(c);a.w=b.getW(c);const e=1/a.manhattanLength();Infinity!==e?a.multiplyScalar(e):a.set(1,0,0,0);b.setXYZW(c,a.x,a.y,a.z,a.w)}},updateMatrixWorld:function(a){Mesh$$module$js$threejs$three_module.prototype.updateMatrixWorld.call(this,
a);"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){const a=new Vector3$$module$js$threejs$three_module,b=new Vector4$$module$js$threejs$three_module,c=new Vector4$$module$js$threejs$three_module,d=new Vector3$$module$js$threejs$three_module,e=new Matrix4$$module$js$threejs$three_module;return function(g,
h){const k=this.skeleton;var l=this.geometry;b.fromBufferAttribute(l.attributes.skinIndex,g);c.fromBufferAttribute(l.attributes.skinWeight,g);a.fromBufferAttribute(l.attributes.position,g).applyMatrix4(this.bindMatrix);h.set(0,0,0);for(g=0;4>g;g++)if(l=c.getComponent(g),0!==l){const m=b.getComponent(g);e.multiplyMatrices(k.bones[m].matrixWorld,k.boneInverses[m]);h.addScaledVector(d.copy(a).applyMatrix4(e),l)}return h.applyMatrix4(this.bindMatrixInverse)}}()});
const _offsetMatrix$$module$js$threejs$three_module=new Matrix4$$module$js$threejs$three_module,_identityMatrix$$module$js$threejs$three_module=new Matrix4$$module$js$threejs$three_module;
function Skeleton$$module$js$threejs$three_module(a,b){a=a||[];this.bones=a.slice(0);this.boneMatrices=new Float32Array(16*this.bones.length);this.frame=-1;if(void 0===b)this.calculateInverses();else if(this.bones.length===b.length)this.boneInverses=b.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length.");this.boneInverses=[];for(let c=0,d=this.bones.length;c<d;c++)this.boneInverses.push(new Matrix4$$module$js$threejs$three_module)}}
Object.assign(Skeleton$$module$js$threejs$three_module.prototype,{calculateInverses:function(){this.boneInverses=[];for(let a=0,b=this.bones.length;a<b;a++){const c=new Matrix4$$module$js$threejs$three_module;this.bones[a]&&c.getInverse(this.bones[a].matrixWorld);this.boneInverses.push(c)}},pose:function(){for(let b=0,c=this.bones.length;b<c;b++){var a=this.bones[b];a&&a.matrixWorld.getInverse(this.boneInverses[b])}for(let b=0,c=this.bones.length;b<c;b++)if(a=this.bones[b])a.parent&&a.parent.isBone?
(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)},update:function(){const a=this.bones,b=this.boneInverses,c=this.boneMatrices,d=this.boneTexture;for(let e=0,g=a.length;e<g;e++)_offsetMatrix$$module$js$threejs$three_module.multiplyMatrices(a[e]?a[e].matrixWorld:_identityMatrix$$module$js$threejs$three_module,b[e]),_offsetMatrix$$module$js$threejs$three_module.toArray(c,16*e);void 0!==d&&(d.needsUpdate=
!0)},clone:function(){return new Skeleton$$module$js$threejs$three_module(this.bones,this.boneInverses)},getBoneByName:function(a){for(let b=0,c=this.bones.length;b<c;b++){const d=this.bones[b];if(d.name===a)return d}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}});function Bone$$module$js$threejs$three_module(){Object3D$$module$js$threejs$three_module.call(this);this.type="Bone"}
Bone$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Object3D$$module$js$threejs$three_module.prototype),{constructor:Bone$$module$js$threejs$three_module,isBone:!0});const _instanceLocalMatrix$$module$js$threejs$three_module=new Matrix4$$module$js$threejs$three_module,_instanceWorldMatrix$$module$js$threejs$three_module=new Matrix4$$module$js$threejs$three_module,_instanceIntersects$$module$js$threejs$three_module=[],_mesh$$module$js$threejs$three_module=new Mesh$$module$js$threejs$three_module;
function InstancedMesh$$module$js$threejs$three_module(a,b,c){Mesh$$module$js$threejs$three_module.call(this,a,b);this.instanceMatrix=new BufferAttribute$$module$js$threejs$three_module(new Float32Array(16*c),16);this.instanceColor=null;this.count=c;this.frustumCulled=!1}
InstancedMesh$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Mesh$$module$js$threejs$three_module.prototype),{constructor:InstancedMesh$$module$js$threejs$three_module,isInstancedMesh:!0,copy:function(a){Mesh$$module$js$threejs$three_module.prototype.copy.call(this,a);this.instanceMatrix.copy(a.instanceMatrix);this.count=a.count;return this},setColorAt:function(a,b){null===this.instanceColor&&(this.instanceColor=new BufferAttribute$$module$js$threejs$three_module(new Float32Array(3*
this.count),3));b.toArray(this.instanceColor.array,3*a)},getMatrixAt:function(a,b){b.fromArray(this.instanceMatrix.array,16*a)},raycast:function(a,b){const c=this.matrixWorld,d=this.count;_mesh$$module$js$threejs$three_module.geometry=this.geometry;_mesh$$module$js$threejs$three_module.material=this.material;if(void 0!==_mesh$$module$js$threejs$three_module.material)for(let e=0;e<d;e++){this.getMatrixAt(e,_instanceLocalMatrix$$module$js$threejs$three_module);_instanceWorldMatrix$$module$js$threejs$three_module.multiplyMatrices(c,
_instanceLocalMatrix$$module$js$threejs$three_module);_mesh$$module$js$threejs$three_module.matrixWorld=_instanceWorldMatrix$$module$js$threejs$three_module;_mesh$$module$js$threejs$three_module.raycast(a,_instanceIntersects$$module$js$threejs$three_module);for(let g=0,h=_instanceIntersects$$module$js$threejs$three_module.length;g<h;g++){const k=_instanceIntersects$$module$js$threejs$three_module[g];k.instanceId=e;k.object=this;b.push(k)}_instanceIntersects$$module$js$threejs$three_module.length=
0}},setMatrixAt:function(a,b){b.toArray(this.instanceMatrix.array,16*a)},updateMorphTargets:function(){}});function LineBasicMaterial$$module$js$threejs$three_module(a){Material$$module$js$threejs$three_module.call(this);this.type="LineBasicMaterial";this.color=new Color$$module$js$threejs$three_module(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.morphTargets=!1;this.setValues(a)}LineBasicMaterial$$module$js$threejs$three_module.prototype=Object.create(Material$$module$js$threejs$three_module.prototype);
LineBasicMaterial$$module$js$threejs$three_module.prototype.constructor=LineBasicMaterial$$module$js$threejs$three_module;LineBasicMaterial$$module$js$threejs$three_module.prototype.isLineBasicMaterial=!0;LineBasicMaterial$$module$js$threejs$three_module.prototype.copy=function(a){Material$$module$js$threejs$three_module.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;this.morphTargets=a.morphTargets;return this};
const _start$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_end$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_inverseMatrix$1$$module$js$threejs$three_module=new Matrix4$$module$js$threejs$three_module,_ray$1$$module$js$threejs$three_module=new Ray$$module$js$threejs$three_module,_sphere$2$$module$js$threejs$three_module=new Sphere$$module$js$threejs$three_module;
function Line$$module$js$threejs$three_module(a,b,c){1===c&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.");Object3D$$module$js$threejs$three_module.call(this);this.type="Line";this.geometry=void 0!==a?a:new BufferGeometry$$module$js$threejs$three_module;this.material=void 0!==b?b:new LineBasicMaterial$$module$js$threejs$three_module;this.updateMorphTargets()}
Line$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Object3D$$module$js$threejs$three_module.prototype),{constructor:Line$$module$js$threejs$three_module,isLine:!0,copy:function(a){Object3D$$module$js$threejs$three_module.prototype.copy.call(this,a);this.material=a.material;this.geometry=a.geometry;return this},computeLineDistances:function(){var a=this.geometry;if(a.isBufferGeometry)if(null===a.index){var b=a.attributes.position;const c=[0];for(let d=1,e=b.count;d<e;d++)_start$$module$js$threejs$three_module.fromBufferAttribute(b,
d-1),_end$$module$js$threejs$three_module.fromBufferAttribute(b,d),c[d]=c[d-1],c[d]+=_start$$module$js$threejs$three_module.distanceTo(_end$$module$js$threejs$three_module);a.setAttribute("lineDistance",new Float32BufferAttribute$$module$js$threejs$three_module(c,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(a.isGeometry){b=a.vertices;a=a.lineDistances;a[0]=0;for(let c=1,d=b.length;c<d;c++)a[c]=a[c-1],a[c]+=b[c-1].distanceTo(b[c])}return this},
raycast:function(a,b){var c=this.geometry,d=this.matrixWorld,e=a.params.Line.threshold;null===c.boundingSphere&&c.computeBoundingSphere();_sphere$2$$module$js$threejs$three_module.copy(c.boundingSphere);_sphere$2$$module$js$threejs$three_module.applyMatrix4(d);_sphere$2$$module$js$threejs$three_module.radius+=e;if(!1!==a.ray.intersectsSphere(_sphere$2$$module$js$threejs$three_module)){_inverseMatrix$1$$module$js$threejs$three_module.getInverse(d);_ray$1$$module$js$threejs$three_module.copy(a.ray).applyMatrix4(_inverseMatrix$1$$module$js$threejs$three_module);
d=e/((this.scale.x+this.scale.y+this.scale.z)/3);d*=d;var g=new Vector3$$module$js$threejs$three_module,h=new Vector3$$module$js$threejs$three_module;e=new Vector3$$module$js$threejs$three_module;var k=new Vector3$$module$js$threejs$three_module,l=this&&this.isLineSegments?2:1;if(c.isBufferGeometry){var m=c.index;c=c.attributes.position.array;if(null!==m){m=m.array;for(let p=0,t=m.length-1;p<t;p+=l){var n=m[p+1];g.fromArray(c,3*m[p]);h.fromArray(c,3*n);_ray$1$$module$js$threejs$three_module.distanceSqToSegment(g,
h,k,e)>d||(k.applyMatrix4(this.matrixWorld),n=a.ray.origin.distanceTo(k),n<a.near||n>a.far||b.push({distance:n,point:e.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this}))}}else for(let p=0,t=c.length/3-1;p<t;p+=l)g.fromArray(c,3*p),h.fromArray(c,3*p+3),_ray$1$$module$js$threejs$three_module.distanceSqToSegment(g,h,k,e)>d||(k.applyMatrix4(this.matrixWorld),m=a.ray.origin.distanceTo(k),m<a.near||m>a.far||b.push({distance:m,point:e.clone().applyMatrix4(this.matrixWorld),
index:p,face:null,faceIndex:null,object:this}))}else if(c.isGeometry)for(g=c.vertices,h=g.length,c=0;c<h-1;c+=l)_ray$1$$module$js$threejs$three_module.distanceSqToSegment(g[c],g[c+1],k,e)>d||(k.applyMatrix4(this.matrixWorld),m=a.ray.origin.distanceTo(k),m<a.near||m>a.far||b.push({distance:m,point:e.clone().applyMatrix4(this.matrixWorld),index:c,face:null,faceIndex:null,object:this}))}},updateMorphTargets:function(){var a=this.geometry;if(a.isBufferGeometry){a=a.morphAttributes;var b=Object.keys(a);
if(0<b.length&&(a=a[b[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let c=0,d=a.length;c<d;c++)b=a[c].name||String(c),this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=c}}else a=a.morphTargets,void 0!==a&&0<a.length&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}});
const _start$1$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_end$1$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module;function LineSegments$$module$js$threejs$three_module(a,b){Line$$module$js$threejs$three_module.call(this,a,b);this.type="LineSegments"}
LineSegments$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Line$$module$js$threejs$three_module.prototype),{constructor:LineSegments$$module$js$threejs$three_module,isLineSegments:!0,computeLineDistances:function(){var a=this.geometry;if(a.isBufferGeometry)if(null===a.index){var b=a.attributes.position;const c=[];for(let d=0,e=b.count;d<e;d+=2)_start$1$$module$js$threejs$three_module.fromBufferAttribute(b,d),_end$1$$module$js$threejs$three_module.fromBufferAttribute(b,d+1),
c[d]=0===d?0:c[d-1],c[d+1]=c[d]+_start$1$$module$js$threejs$three_module.distanceTo(_end$1$$module$js$threejs$three_module);a.setAttribute("lineDistance",new Float32BufferAttribute$$module$js$threejs$three_module(c,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(a.isGeometry){b=a.vertices;a=a.lineDistances;for(let c=0,d=b.length;c<d;c+=2)_start$1$$module$js$threejs$three_module.copy(b[c]),_end$1$$module$js$threejs$three_module.copy(b[c+
1]),a[c]=0===c?0:a[c-1],a[c+1]=a[c]+_start$1$$module$js$threejs$three_module.distanceTo(_end$1$$module$js$threejs$three_module)}return this}});function LineLoop$$module$js$threejs$three_module(a,b){Line$$module$js$threejs$three_module.call(this,a,b);this.type="LineLoop"}LineLoop$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Line$$module$js$threejs$three_module.prototype),{constructor:LineLoop$$module$js$threejs$three_module,isLineLoop:!0});
function PointsMaterial$$module$js$threejs$three_module(a){Material$$module$js$threejs$three_module.call(this);this.type="PointsMaterial";this.color=new Color$$module$js$threejs$three_module(16777215);this.alphaMap=this.map=null;this.size=1;this.sizeAttenuation=!0;this.morphTargets=!1;this.setValues(a)}PointsMaterial$$module$js$threejs$three_module.prototype=Object.create(Material$$module$js$threejs$three_module.prototype);PointsMaterial$$module$js$threejs$three_module.prototype.constructor=PointsMaterial$$module$js$threejs$three_module;
PointsMaterial$$module$js$threejs$three_module.prototype.isPointsMaterial=!0;PointsMaterial$$module$js$threejs$three_module.prototype.copy=function(a){Material$$module$js$threejs$three_module.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.alphaMap=a.alphaMap;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;this.morphTargets=a.morphTargets;return this};
const _inverseMatrix$2$$module$js$threejs$three_module=new Matrix4$$module$js$threejs$three_module,_ray$2$$module$js$threejs$three_module=new Ray$$module$js$threejs$three_module,_sphere$3$$module$js$threejs$three_module=new Sphere$$module$js$threejs$three_module,_position$1$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module;
function Points$$module$js$threejs$three_module(a,b){Object3D$$module$js$threejs$three_module.call(this);this.type="Points";this.geometry=void 0!==a?a:new BufferGeometry$$module$js$threejs$three_module;this.material=void 0!==b?b:new PointsMaterial$$module$js$threejs$three_module;this.updateMorphTargets()}
Points$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Object3D$$module$js$threejs$three_module.prototype),{constructor:Points$$module$js$threejs$three_module,isPoints:!0,copy:function(a){Object3D$$module$js$threejs$three_module.prototype.copy.call(this,a);this.material=a.material;this.geometry=a.geometry;return this},raycast:function(a,b){var c=this.geometry;const d=this.matrixWorld;var e=a.params.Points.threshold;null===c.boundingSphere&&c.computeBoundingSphere();_sphere$3$$module$js$threejs$three_module.copy(c.boundingSphere);
_sphere$3$$module$js$threejs$three_module.applyMatrix4(d);_sphere$3$$module$js$threejs$three_module.radius+=e;if(!1!==a.ray.intersectsSphere(_sphere$3$$module$js$threejs$three_module))if(_inverseMatrix$2$$module$js$threejs$three_module.getInverse(d),_ray$2$$module$js$threejs$three_module.copy(a.ray).applyMatrix4(_inverseMatrix$2$$module$js$threejs$three_module),e/=(this.scale.x+this.scale.y+this.scale.z)/3,e*=e,c.isBufferGeometry){var g=c.index;c=c.attributes.position.array;if(null!==g){g=g.array;
for(let h=0,k=g.length;h<k;h++){const l=g[h];_position$1$$module$js$threejs$three_module.fromArray(c,3*l);testPoint$$module$js$threejs$three_module(_position$1$$module$js$threejs$three_module,l,e,d,a,b,this)}}else for(let h=0,k=c.length/3;h<k;h++)_position$1$$module$js$threejs$three_module.fromArray(c,3*h),testPoint$$module$js$threejs$three_module(_position$1$$module$js$threejs$three_module,h,e,d,a,b,this)}else{c=c.vertices;for(let h=0,k=c.length;h<k;h++)testPoint$$module$js$threejs$three_module(c[h],
h,e,d,a,b,this)}},updateMorphTargets:function(){var a=this.geometry;if(a.isBufferGeometry){a=a.morphAttributes;var b=Object.keys(a);if(0<b.length&&(a=a[b[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let c=0,d=a.length;c<d;c++)b=a[c].name||String(c),this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=c}}else a=a.morphTargets,void 0!==a&&0<a.length&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}});
function testPoint$$module$js$threejs$three_module(a,b,c,d,e,g,h){const k=_ray$2$$module$js$threejs$three_module.distanceSqToPoint(a);k<c&&(c=new Vector3$$module$js$threejs$three_module,_ray$2$$module$js$threejs$three_module.closestPointToPoint(a,c),c.applyMatrix4(d),a=e.ray.origin.distanceTo(c),a<e.near||a>e.far||g.push({distance:a,distanceToRay:Math.sqrt(k),point:c,index:b,face:null,object:h}))}
function VideoTexture$$module$js$threejs$three_module(a,b,c,d,e,g,h,k,l){function m(){n.needsUpdate=!0;a.requestVideoFrameCallback(m)}Texture$$module$js$threejs$three_module.call(this,a,b,c,d,e,g,h,k,l);this.format=void 0!==h?h:RGBFormat$$module$js$threejs$three_module;this.minFilter=void 0!==g?g:LinearFilter$$module$js$threejs$three_module;this.magFilter=void 0!==e?e:LinearFilter$$module$js$threejs$three_module;this.generateMipmaps=!1;const n=this;"requestVideoFrameCallback"in a&&a.requestVideoFrameCallback(m)}
VideoTexture$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Texture$$module$js$threejs$three_module.prototype),{constructor:VideoTexture$$module$js$threejs$three_module,isVideoTexture:!0,update:function(){const a=this.image;!1==="requestVideoFrameCallback"in a&&a.readyState>=a.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});
function CompressedTexture$$module$js$threejs$three_module(a,b,c,d,e,g,h,k,l,m,n,p){Texture$$module$js$threejs$three_module.call(this,null,g,h,k,l,m,d,e,n,p);this.image={width:b,height:c};this.mipmaps=a;this.generateMipmaps=this.flipY=!1}CompressedTexture$$module$js$threejs$three_module.prototype=Object.create(Texture$$module$js$threejs$three_module.prototype);CompressedTexture$$module$js$threejs$three_module.prototype.constructor=CompressedTexture$$module$js$threejs$three_module;
CompressedTexture$$module$js$threejs$three_module.prototype.isCompressedTexture=!0;function CanvasTexture$$module$js$threejs$three_module(a,b,c,d,e,g,h,k,l){Texture$$module$js$threejs$three_module.call(this,a,b,c,d,e,g,h,k,l);this.needsUpdate=!0}CanvasTexture$$module$js$threejs$three_module.prototype=Object.create(Texture$$module$js$threejs$three_module.prototype);CanvasTexture$$module$js$threejs$three_module.prototype.constructor=CanvasTexture$$module$js$threejs$three_module;
CanvasTexture$$module$js$threejs$three_module.prototype.isCanvasTexture=!0;
function DepthTexture$$module$js$threejs$three_module(a,b,c,d,e,g,h,k,l,m){m=void 0!==m?m:DepthFormat$$module$js$threejs$three_module;if(m!==DepthFormat$$module$js$threejs$three_module&&m!==DepthStencilFormat$$module$js$threejs$three_module)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===c&&m===DepthFormat$$module$js$threejs$three_module&&(c=UnsignedShortType$$module$js$threejs$three_module);void 0===c&&m===DepthStencilFormat$$module$js$threejs$three_module&&
(c=UnsignedInt248Type$$module$js$threejs$three_module);Texture$$module$js$threejs$three_module.call(this,null,d,e,g,h,k,m,c,l);this.image={width:a,height:b};this.magFilter=void 0!==h?h:NearestFilter$$module$js$threejs$three_module;this.minFilter=void 0!==k?k:NearestFilter$$module$js$threejs$three_module;this.generateMipmaps=this.flipY=!1}DepthTexture$$module$js$threejs$three_module.prototype=Object.create(Texture$$module$js$threejs$three_module.prototype);
DepthTexture$$module$js$threejs$three_module.prototype.constructor=DepthTexture$$module$js$threejs$three_module;DepthTexture$$module$js$threejs$three_module.prototype.isDepthTexture=!0;
class WireframeGeometry$$module$js$threejs$three_module extends BufferGeometry$$module$js$threejs$three_module{constructor(a){super();this.type="WireframeGeometry";const b=[];var c=[0,0],d={},e=["a","b","c"];if(a&&a.isGeometry){var g=a.faces;for(let p=0,t=g.length;p<t;p++){var h=g[p];for(var k=0;3>k;k++){var l=h[e[k]],m=h[e[(k+1)%3]];c[0]=Math.min(l,m);c[1]=Math.max(l,m);l=c[0]+","+c[1];void 0===d[l]&&(d[l]={index1:c[0],index2:c[1]})}}for(var n in d)c=d[n],g=a.vertices[c.index1],b.push(g.x,g.y,g.z),
g=a.vertices[c.index2],b.push(g.x,g.y,g.z)}else if(a&&a.isBufferGeometry)if(n=new Vector3$$module$js$threejs$three_module,null!==a.index){e=a.attributes.position;h=a.index;a=a.groups;0===a.length&&(a=[{start:0,count:h.count,materialIndex:0}]);for(let p=0,t=a.length;p<t;++p){l=a[p];k=l.start;l=l.count;for(let w=k,x=k+l;w<x;w+=3)for(k=0;3>k;k++)l=h.getX(w+k),m=h.getX(w+(k+1)%3),c[0]=Math.min(l,m),c[1]=Math.max(l,m),l=c[0]+","+c[1],void 0===d[l]&&(d[l]={index1:c[0],index2:c[1]})}for(g in d)c=d[g],n.fromBufferAttribute(e,
c.index1),b.push(n.x,n.y,n.z),n.fromBufferAttribute(e,c.index2),b.push(n.x,n.y,n.z)}else{d=a.attributes.position;for(let p=0,t=d.count/3;p<t;p++)for(c=0;3>c;c++)n.fromBufferAttribute(d,3*p+c),b.push(n.x,n.y,n.z),n.fromBufferAttribute(d,3*p+(c+1)%3),b.push(n.x,n.y,n.z)}this.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(b,3))}}
function ParametricGeometry$$module$js$threejs$three_module(a,b,c){Geometry$$module$js$threejs$three_module.call(this);this.type="ParametricGeometry";this.parameters={func:a,slices:b,stacks:c};this.fromBufferGeometry(new ParametricBufferGeometry$$module$js$threejs$three_module(a,b,c));this.mergeVertices()}ParametricGeometry$$module$js$threejs$three_module.prototype=Object.create(Geometry$$module$js$threejs$three_module.prototype);
ParametricGeometry$$module$js$threejs$three_module.prototype.constructor=ParametricGeometry$$module$js$threejs$three_module;
function ParametricBufferGeometry$$module$js$threejs$three_module(a,b,c){BufferGeometry$$module$js$threejs$three_module.call(this);this.type="ParametricBufferGeometry";this.parameters={func:a,slices:b,stacks:c};const d=[],e=[],g=[],h=[];var k=new Vector3$$module$js$threejs$three_module,l=new Vector3$$module$js$threejs$three_module,m=new Vector3$$module$js$threejs$three_module,n=new Vector3$$module$js$threejs$three_module;const p=new Vector3$$module$js$threejs$three_module;3>a.length&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");
const t=b+1;for(let w=0;w<=c;w++){const x=w/c;for(let A=0;A<=b;A++){const r=A/b;a(r,x,l);e.push(l.x,l.y,l.z);0<=r-1E-5?(a(r-1E-5,x,m),n.subVectors(l,m)):(a(r+1E-5,x,m),n.subVectors(m,l));0<=x-1E-5?(a(r,x-1E-5,m),p.subVectors(l,m)):(a(r,x+1E-5,m),p.subVectors(m,l));k.crossVectors(n,p).normalize();g.push(k.x,k.y,k.z);h.push(r,x)}}for(a=0;a<c;a++)for(k=0;k<b;k++)l=a*t+k+1,m=(a+1)*t+k+1,n=(a+1)*t+k,d.push(a*t+k,l,n),d.push(l,m,n);this.setIndex(d);this.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(e,
3));this.setAttribute("normal",new Float32BufferAttribute$$module$js$threejs$three_module(g,3));this.setAttribute("uv",new Float32BufferAttribute$$module$js$threejs$three_module(h,2))}ParametricBufferGeometry$$module$js$threejs$three_module.prototype=Object.create(BufferGeometry$$module$js$threejs$three_module.prototype);ParametricBufferGeometry$$module$js$threejs$three_module.prototype.constructor=ParametricBufferGeometry$$module$js$threejs$three_module;
class PolyhedronGeometry$$module$js$threejs$three_module extends Geometry$$module$js$threejs$three_module{constructor(a,b,c,d){super();this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};this.fromBufferGeometry(new PolyhedronBufferGeometry$$module$js$threejs$three_module(a,b,c,d));this.mergeVertices()}}
class PolyhedronBufferGeometry$$module$js$threejs$three_module extends BufferGeometry$$module$js$threejs$three_module{constructor(a,b,c,d){function e(m){k.push(m.x,m.y,m.z)}function g(m,n){m*=3;n.x=a[m+0];n.y=a[m+1];n.z=a[m+2]}function h(m,n,p,t){0>t&&1===m.x&&(l[n]=m.x-1);0===p.x&&0===p.z&&(l[n]=t/2/Math.PI+.5)}super();this.type="PolyhedronBufferGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};c=c||1;d=d||0;const k=[],l=[];(function(m){const n=new Vector3$$module$js$threejs$three_module,
p=new Vector3$$module$js$threejs$three_module,t=new Vector3$$module$js$threejs$three_module;for(let r=0;r<b.length;r+=3){g(b[r+0],n);g(b[r+1],p);g(b[r+2],t);{var w=n,x=p,A=t;const E=Math.pow(2,m),B=[];for(let G=0;G<=E;G++){B[G]=[];const H=w.clone().lerp(A,G/E),O=x.clone().lerp(A,G/E),N=E-G;for(let U=0;U<=N;U++)B[G][U]=0===U&&G===E?H:H.clone().lerp(O,U/N)}for(w=0;w<E;w++)for(x=0;x<2*(E-w)-1;x++)A=Math.floor(x/2),0===x%2?(e(B[w][A+1]),e(B[w+1][A]),e(B[w][A])):(e(B[w][A+1]),e(B[w+1][A+1]),e(B[w+1][A]))}}})(d);
(function(m){const n=new Vector3$$module$js$threejs$three_module;for(let p=0;p<k.length;p+=3)n.x=k[p+0],n.y=k[p+1],n.z=k[p+2],n.normalize().multiplyScalar(m),k[p+0]=n.x,k[p+1]=n.y,k[p+2]=n.z})(c);(function(){var m=new Vector3$$module$js$threejs$three_module;for(var n=0;n<k.length;n+=3)m.x=k[n+0],m.y=k[n+1],m.z=k[n+2],l.push(Math.atan2(m.z,-m.x)/2/Math.PI+.5,1-(Math.atan2(-m.y,Math.sqrt(m.x*m.x+m.z*m.z))/Math.PI+.5));{m=new Vector3$$module$js$threejs$three_module;n=new Vector3$$module$js$threejs$three_module;
var p=new Vector3$$module$js$threejs$three_module,t=new Vector3$$module$js$threejs$three_module,w=new Vector2$$module$js$threejs$three_module;const x=new Vector2$$module$js$threejs$three_module,A=new Vector2$$module$js$threejs$three_module;for(let r=0,E=0;r<k.length;r+=9,E+=6){m.set(k[r+0],k[r+1],k[r+2]);n.set(k[r+3],k[r+4],k[r+5]);p.set(k[r+6],k[r+7],k[r+8]);w.set(l[E+0],l[E+1]);x.set(l[E+2],l[E+3]);A.set(l[E+4],l[E+5]);t.copy(m).add(n).add(p).divideScalar(3);const B=Math.atan2(t.z,-t.x);h(w,E+0,
m,B);h(x,E+2,n,B);h(A,E+4,p,B)}}for(m=0;m<l.length;m+=6)n=l[m+0],p=l[m+2],t=l[m+4],w=Math.min(n,p,t),.9<Math.max(n,p,t)&&.1>w&&(.2>n&&(l[m+0]+=1),.2>p&&(l[m+2]+=1),.2>t&&(l[m+4]+=1))})();this.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(k,3));this.setAttribute("normal",new Float32BufferAttribute$$module$js$threejs$three_module(k.slice(),3));this.setAttribute("uv",new Float32BufferAttribute$$module$js$threejs$three_module(l,2));0===d?this.computeVertexNormals():
this.normalizeNormals()}}class TetrahedronGeometry$$module$js$threejs$three_module extends Geometry$$module$js$threejs$three_module{constructor(a,b){super();this.type="TetrahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new TetrahedronBufferGeometry$$module$js$threejs$three_module(a,b));this.mergeVertices()}}
class TetrahedronBufferGeometry$$module$js$threejs$three_module extends PolyhedronBufferGeometry$$module$js$threejs$three_module{constructor(a,b){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronBufferGeometry";this.parameters={radius:a,detail:b}}}
class OctahedronGeometry$$module$js$threejs$three_module extends Geometry$$module$js$threejs$three_module{constructor(a,b){super();this.type="OctahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new OctahedronBufferGeometry$$module$js$threejs$three_module(a,b));this.mergeVertices()}}
class OctahedronBufferGeometry$$module$js$threejs$three_module extends PolyhedronBufferGeometry$$module$js$threejs$three_module{constructor(a,b){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronBufferGeometry";this.parameters={radius:a,detail:b}}}
class IcosahedronGeometry$$module$js$threejs$three_module extends Geometry$$module$js$threejs$three_module{constructor(a,b){super();this.type="IcosahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new IcosahedronBufferGeometry$$module$js$threejs$three_module(a,b));this.mergeVertices()}}
class IcosahedronBufferGeometry$$module$js$threejs$three_module extends PolyhedronBufferGeometry$$module$js$threejs$three_module{constructor(a,b){const c=(1+Math.sqrt(5))/2;super([-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronBufferGeometry";this.parameters={radius:a,detail:b}}}
class DodecahedronGeometry$$module$js$threejs$three_module extends Geometry$$module$js$threejs$three_module{constructor(a,b){super();this.type="DodecahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new DodecahedronBufferGeometry$$module$js$threejs$three_module(a,b));this.mergeVertices()}}
class DodecahedronBufferGeometry$$module$js$threejs$three_module extends PolyhedronBufferGeometry$$module$js$threejs$three_module{constructor(a,b){const c=(1+Math.sqrt(5))/2,d=1/c;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,
18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,b);this.type="DodecahedronBufferGeometry";this.parameters={radius:a,detail:b}}}
class TubeGeometry$$module$js$threejs$three_module extends Geometry$$module$js$threejs$three_module{constructor(a,b,c,d,e,g){super();this.type="TubeGeometry";this.parameters={path:a,tubularSegments:b,radius:c,radialSegments:d,closed:e};void 0!==g&&console.warn("THREE.TubeGeometry: taper has been removed.");a=new TubeBufferGeometry$$module$js$threejs$three_module(a,b,c,d,e);this.tangents=a.tangents;this.normals=a.normals;this.binormals=a.binormals;this.fromBufferGeometry(a);this.mergeVertices()}}
class TubeBufferGeometry$$module$js$threejs$three_module extends BufferGeometry$$module$js$threejs$three_module{constructor(a,b,c,d,e){function g(A){n=a.getPointAt(A/b,n);const r=h.normals[A];A=h.binormals[A];for(let B=0;B<=d;B++){var E=B/d*Math.PI*2;const G=Math.sin(E);E=-Math.cos(E);l.x=E*r.x+G*A.x;l.y=E*r.y+G*A.y;l.z=E*r.z+G*A.z;l.normalize();t.push(l.x,l.y,l.z);k.x=n.x+c*l.x;k.y=n.y+c*l.y;k.z=n.z+c*l.z;p.push(k.x,k.y,k.z)}}super();this.type="TubeBufferGeometry";this.parameters={path:a,tubularSegments:b,
radius:c,radialSegments:d,closed:e};b=b||64;c=c||1;d=d||8;e=e||!1;const h=a.computeFrenetFrames(b,e);this.tangents=h.tangents;this.normals=h.normals;this.binormals=h.binormals;const k=new Vector3$$module$js$threejs$three_module,l=new Vector3$$module$js$threejs$three_module,m=new Vector2$$module$js$threejs$three_module;let n=new Vector3$$module$js$threejs$three_module;const p=[],t=[],w=[],x=[];(function(){for(var A=0;A<b;A++)g(A);g(!1===e?b:0);for(A=0;A<=b;A++)for(var r=0;r<=d;r++)m.x=A/b,m.y=r/d,
w.push(m.x,m.y);for(A=1;A<=b;A++)for(r=1;r<=d;r++){const E=(d+1)*A+(r-1),B=(d+1)*A+r,G=(d+1)*(A-1)+r;x.push((d+1)*(A-1)+(r-1),E,G);x.push(E,B,G)}})();this.setIndex(x);this.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(p,3));this.setAttribute("normal",new Float32BufferAttribute$$module$js$threejs$three_module(t,3));this.setAttribute("uv",new Float32BufferAttribute$$module$js$threejs$three_module(w,2))}toJSON(){const a=BufferGeometry$$module$js$threejs$three_module.prototype.toJSON.call(this);
a.path=this.parameters.path.toJSON();return a}}
class TorusKnotGeometry$$module$js$threejs$three_module extends Geometry$$module$js$threejs$three_module{constructor(a,b,c,d,e,g,h){super();this.type="TorusKnotGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:g};void 0!==h&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");this.fromBufferGeometry(new TorusKnotBufferGeometry$$module$js$threejs$three_module(a,b,c,d,e,g));this.mergeVertices()}}
class TorusKnotBufferGeometry$$module$js$threejs$three_module extends BufferGeometry$$module$js$threejs$three_module{constructor(a,b,c,d,e,g){function h(H,O,N,U,W){const J=Math.sin(H);O=N/O*H;N=Math.cos(O);W.x=U*(2+N)*.5*Math.cos(H);W.y=U*(2+N)*J*.5;W.z=U*Math.sin(O)*.5}super();this.type="TorusKnotBufferGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:g};a=a||1;b=b||.4;c=Math.floor(c)||64;d=Math.floor(d)||8;e=e||2;g=g||3;const k=[],l=[],m=[],n=[];var p=new Vector3$$module$js$threejs$three_module;
const t=new Vector3$$module$js$threejs$three_module,w=new Vector3$$module$js$threejs$three_module,x=new Vector3$$module$js$threejs$three_module,A=new Vector3$$module$js$threejs$three_module,r=new Vector3$$module$js$threejs$three_module,E=new Vector3$$module$js$threejs$three_module;for(let H=0;H<=c;++H){var B=H/c*e*Math.PI*2;h(B,e,g,a,w);h(B+.01,e,g,a,x);r.subVectors(x,w);E.addVectors(x,w);A.crossVectors(r,E);E.crossVectors(A,r);A.normalize();E.normalize();for(B=0;B<=d;++B){var G=B/d*Math.PI*2;const O=
-b*Math.cos(G);G=b*Math.sin(G);p.x=w.x+(O*E.x+G*A.x);p.y=w.y+(O*E.y+G*A.y);p.z=w.z+(O*E.z+G*A.z);l.push(p.x,p.y,p.z);t.subVectors(p,w).normalize();m.push(t.x,t.y,t.z);n.push(H/c);n.push(B/d)}}for(a=1;a<=c;a++)for(b=1;b<=d;b++)e=(d+1)*a+(b-1),g=(d+1)*a+b,p=(d+1)*(a-1)+b,k.push((d+1)*(a-1)+(b-1),e,p),k.push(e,g,p);this.setIndex(k);this.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(l,3));this.setAttribute("normal",new Float32BufferAttribute$$module$js$threejs$three_module(m,
3));this.setAttribute("uv",new Float32BufferAttribute$$module$js$threejs$three_module(n,2))}}class TorusGeometry$$module$js$threejs$three_module extends Geometry$$module$js$threejs$three_module{constructor(a,b,c,d,e){super();this.type="TorusGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};this.fromBufferGeometry(new TorusBufferGeometry$$module$js$threejs$three_module(a,b,c,d,e));this.mergeVertices()}}
class TorusBufferGeometry$$module$js$threejs$three_module extends BufferGeometry$$module$js$threejs$three_module{constructor(a,b,c,d,e){super();this.type="TorusBufferGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};a=a||1;b=b||.4;c=Math.floor(c)||8;d=Math.floor(d)||6;e=e||2*Math.PI;const g=[],h=[],k=[],l=[];var m=new Vector3$$module$js$threejs$three_module,n=new Vector3$$module$js$threejs$three_module;const p=new Vector3$$module$js$threejs$three_module;for(let t=
0;t<=c;t++)for(let w=0;w<=d;w++){const x=w/d*e,A=t/c*Math.PI*2;n.x=(a+b*Math.cos(A))*Math.cos(x);n.y=(a+b*Math.cos(A))*Math.sin(x);n.z=b*Math.sin(A);h.push(n.x,n.y,n.z);m.x=a*Math.cos(x);m.y=a*Math.sin(x);p.subVectors(n,m).normalize();k.push(p.x,p.y,p.z);l.push(w/d);l.push(t/c)}for(a=1;a<=c;a++)for(b=1;b<=d;b++)e=(d+1)*(a-1)+b-1,m=(d+1)*(a-1)+b,n=(d+1)*a+b,g.push((d+1)*a+b-1,e,n),g.push(e,m,n);this.setIndex(g);this.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(h,
3));this.setAttribute("normal",new Float32BufferAttribute$$module$js$threejs$three_module(k,3));this.setAttribute("uv",new Float32BufferAttribute$$module$js$threejs$three_module(l,2))}}
const Earcut$$module$js$threejs$three_module={triangulate:function(a,b,c){c=c||2;var d=b&&b.length;const e=d?b[0]*c:a.length;let g=linkedList$$module$js$threejs$three_module(a,0,e,c,!0);const h=[];if(!g||g.next===g.prev)return h;let k,l;let m;d&&(g=eliminateHoles$$module$js$threejs$three_module(a,b,g,c));if(a.length>80*c){k=b=a[0];l=d=a[1];for(let p=c;p<e;p+=c){var n=a[p];m=a[p+1];n<k&&(k=n);m<l&&(l=m);n>b&&(b=n);m>d&&(d=m)}n=Math.max(b-k,d-l);n=0!==n?1/n:0}earcutLinked$$module$js$threejs$three_module(g,
h,c,k,l,n);return h}};function linkedList$$module$js$threejs$three_module(a,b,c,d,e){let g;if(e===0<signedArea$$module$js$threejs$three_module(a,b,c,d))for(e=b;e<c;e+=d)g=insertNode$$module$js$threejs$three_module(e,a[e],a[e+1],g);else for(e=c-d;e>=b;e-=d)g=insertNode$$module$js$threejs$three_module(e,a[e],a[e+1],g);g&&equals$$module$js$threejs$three_module(g,g.next)&&(removeNode$$module$js$threejs$three_module(g),g=g.next);return g}
function filterPoints$$module$js$threejs$three_module(a,b){if(!a)return a;b||(b=a);let c;do if(c=!1,a.steiner||!equals$$module$js$threejs$three_module(a,a.next)&&0!==area$$module$js$threejs$three_module(a.prev,a,a.next))a=a.next;else{removeNode$$module$js$threejs$three_module(a);a=b=a.prev;if(a===a.next)break;c=!0}while(c||a!==b);return b}
function earcutLinked$$module$js$threejs$three_module(a,b,c,d,e,g,h){if(a){!h&&g&&indexCurve$$module$js$threejs$three_module(a,d,e,g);for(var k=a,l,m;a.prev!==a.next;)if(l=a.prev,m=a.next,g?isEarHashed$$module$js$threejs$three_module(a,d,e,g):isEar$$module$js$threejs$three_module(a))b.push(l.i/c),b.push(a.i/c),b.push(m.i/c),removeNode$$module$js$threejs$three_module(a),k=a=m.next;else if(a=m,a===k){h?1===h?(a=cureLocalIntersections$$module$js$threejs$three_module(filterPoints$$module$js$threejs$three_module(a),
b,c),earcutLinked$$module$js$threejs$three_module(a,b,c,d,e,g,2)):2===h&&splitEarcut$$module$js$threejs$three_module(a,b,c,d,e,g):earcutLinked$$module$js$threejs$three_module(filterPoints$$module$js$threejs$three_module(a),b,c,d,e,g,1);break}}}
function isEar$$module$js$threejs$three_module(a){const b=a.prev,c=a.next;if(0<=area$$module$js$threejs$three_module(b,a,c))return!1;let d=a.next.next;for(;d!==a.prev;){if(pointInTriangle$$module$js$threejs$three_module(b.x,b.y,a.x,a.y,c.x,c.y,d.x,d.y)&&0<=area$$module$js$threejs$three_module(d.prev,d,d.next))return!1;d=d.next}return!0}
function isEarHashed$$module$js$threejs$three_module(a,b,c,d){const e=a.prev,g=a.next;if(0<=area$$module$js$threejs$three_module(e,a,g))return!1;const h=e.x>a.x?e.x>g.x?e.x:g.x:a.x>g.x?a.x:g.x,k=e.y>a.y?e.y>g.y?e.y:g.y:a.y>g.y?a.y:g.y,l=zOrder$$module$js$threejs$three_module(e.x<a.x?e.x<g.x?e.x:g.x:a.x<g.x?a.x:g.x,e.y<a.y?e.y<g.y?e.y:g.y:a.y<g.y?a.y:g.y,b,c,d);b=zOrder$$module$js$threejs$three_module(h,k,b,c,d);c=a.prevZ;for(d=a.nextZ;c&&c.z>=l&&d&&d.z<=b;){if(c!==a.prev&&c!==a.next&&pointInTriangle$$module$js$threejs$three_module(e.x,
e.y,a.x,a.y,g.x,g.y,c.x,c.y)&&0<=area$$module$js$threejs$three_module(c.prev,c,c.next))return!1;c=c.prevZ;if(d!==a.prev&&d!==a.next&&pointInTriangle$$module$js$threejs$three_module(e.x,e.y,a.x,a.y,g.x,g.y,d.x,d.y)&&0<=area$$module$js$threejs$three_module(d.prev,d,d.next))return!1;d=d.nextZ}for(;c&&c.z>=l;){if(c!==a.prev&&c!==a.next&&pointInTriangle$$module$js$threejs$three_module(e.x,e.y,a.x,a.y,g.x,g.y,c.x,c.y)&&0<=area$$module$js$threejs$three_module(c.prev,c,c.next))return!1;c=c.prevZ}for(;d&&
d.z<=b;){if(d!==a.prev&&d!==a.next&&pointInTriangle$$module$js$threejs$three_module(e.x,e.y,a.x,a.y,g.x,g.y,d.x,d.y)&&0<=area$$module$js$threejs$three_module(d.prev,d,d.next))return!1;d=d.nextZ}return!0}
function cureLocalIntersections$$module$js$threejs$three_module(a,b,c){let d=a;do{const e=d.prev,g=d.next.next;!equals$$module$js$threejs$three_module(e,g)&&intersects$$module$js$threejs$three_module(e,d,d.next,g)&&locallyInside$$module$js$threejs$three_module(e,g)&&locallyInside$$module$js$threejs$three_module(g,e)&&(b.push(e.i/c),b.push(d.i/c),b.push(g.i/c),removeNode$$module$js$threejs$three_module(d),removeNode$$module$js$threejs$three_module(d.next),d=a=g);d=d.next}while(d!==a);return filterPoints$$module$js$threejs$three_module(d)}
function splitEarcut$$module$js$threejs$three_module(a,b,c,d,e,g){let h=a;do{let k=h.next.next;for(;k!==h.prev;){if(h.i!==k.i&&isValidDiagonal$$module$js$threejs$three_module(h,k)){a=splitPolygon$$module$js$threejs$three_module(h,k);h=filterPoints$$module$js$threejs$three_module(h,h.next);a=filterPoints$$module$js$threejs$three_module(a,a.next);earcutLinked$$module$js$threejs$three_module(h,b,c,d,e,g);earcutLinked$$module$js$threejs$three_module(a,b,c,d,e,g);return}k=k.next}h=h.next}while(h!==a)}
function eliminateHoles$$module$js$threejs$three_module(a,b,c,d){const e=[];let g,h;let k;g=0;for(h=b.length;g<h;g++){var l=b[g]*d;k=g<h-1?b[g+1]*d:a.length;l=linkedList$$module$js$threejs$three_module(a,l,k,d,!1);l===l.next&&(l.steiner=!0);e.push(getLeftmost$$module$js$threejs$three_module(l))}e.sort(compareX$$module$js$threejs$three_module);for(g=0;g<e.length;g++)eliminateHole$$module$js$threejs$three_module(e[g],c),c=filterPoints$$module$js$threejs$three_module(c,c.next);return c}
function compareX$$module$js$threejs$three_module(a,b){return a.x-b.x}function eliminateHole$$module$js$threejs$three_module(a,b){if(b=findHoleBridge$$module$js$threejs$three_module(a,b))a=splitPolygon$$module$js$threejs$three_module(b,a),filterPoints$$module$js$threejs$three_module(b,b.next),filterPoints$$module$js$threejs$three_module(a,a.next)}
function findHoleBridge$$module$js$threejs$three_module(a,b){let c=b;const d=a.x,e=a.y;let g=-Infinity,h;do{if(e<=c.y&&e>=c.next.y&&c.next.y!==c.y){var k=c.x+(e-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(k<=d&&k>g){g=k;if(k===d){if(e===c.y)return c;if(e===c.next.y)return c.next}h=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!h)return null;if(d===g)return h;b=h;k=h.x;const l=h.y;let m=Infinity,n;c=h;do d>=c.x&&c.x>=k&&d!==c.x&&pointInTriangle$$module$js$threejs$three_module(e<l?d:g,e,k,l,e<l?g:d,e,c.x,
c.y)&&(n=Math.abs(e-c.y)/(d-c.x),locallyInside$$module$js$threejs$three_module(c,a)&&(n<m||n===m&&(c.x>h.x||c.x===h.x&&sectorContainsSector$$module$js$threejs$three_module(h,c)))&&(h=c,m=n)),c=c.next;while(c!==b);return h}function sectorContainsSector$$module$js$threejs$three_module(a,b){return 0>area$$module$js$threejs$three_module(a.prev,a,b.prev)&&0>area$$module$js$threejs$three_module(b.next,a,a.next)}
function indexCurve$$module$js$threejs$three_module(a,b,c,d){let e=a;do null===e.z&&(e.z=zOrder$$module$js$threejs$three_module(e.x,e.y,b,c,d)),e.prevZ=e.prev,e=e.nextZ=e.next;while(e!==a);e.prevZ.nextZ=null;e.prevZ=null;sortLinked$$module$js$threejs$three_module(e)}
function sortLinked$$module$js$threejs$three_module(a){var b;let c,d,e,g,h,k,l=1;do{c=a;e=a=null;for(g=0;c;){g++;d=c;for(b=h=0;b<l&&(h++,d=d.nextZ,d);b++);for(k=l;0<h||0<k&&d;)0!==h&&(0===k||!d||c.z<=d.z)?(b=c,c=c.nextZ,h--):(b=d,d=d.nextZ,k--),e?e.nextZ=b:a=b,b.prevZ=e,e=b;c=d}e.nextZ=null;l*=2}while(1<g);return a}
function zOrder$$module$js$threejs$three_module(a,b,c,d,e){a=32767*(a-c)*e;b=32767*(b-d)*e;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function getLeftmost$$module$js$threejs$three_module(a){let b=a,c=a;do{if(b.x<c.x||b.x===c.x&&b.y<c.y)c=b;b=b.next}while(b!==a);return c}
function pointInTriangle$$module$js$threejs$three_module(a,b,c,d,e,g,h,k){return 0<=(e-h)*(b-k)-(a-h)*(g-k)&&0<=(a-h)*(d-k)-(c-h)*(b-k)&&0<=(c-h)*(g-k)-(e-h)*(d-k)}
function isValidDiagonal$$module$js$threejs$three_module(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!intersectsPolygon$$module$js$threejs$three_module(a,b)&&(locallyInside$$module$js$threejs$three_module(a,b)&&locallyInside$$module$js$threejs$three_module(b,a)&&middleInside$$module$js$threejs$three_module(a,b)&&(area$$module$js$threejs$three_module(a.prev,a,b.prev)||area$$module$js$threejs$three_module(a,b.prev,b))||equals$$module$js$threejs$three_module(a,b)&&0<area$$module$js$threejs$three_module(a.prev,
a,a.next)&&0<area$$module$js$threejs$three_module(b.prev,b,b.next))}function area$$module$js$threejs$three_module(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function equals$$module$js$threejs$three_module(a,b){return a.x===b.x&&a.y===b.y}
function intersects$$module$js$threejs$three_module(a,b,c,d){const e=sign$$module$js$threejs$three_module(area$$module$js$threejs$three_module(a,b,c)),g=sign$$module$js$threejs$three_module(area$$module$js$threejs$three_module(a,b,d)),h=sign$$module$js$threejs$three_module(area$$module$js$threejs$three_module(c,d,a)),k=sign$$module$js$threejs$three_module(area$$module$js$threejs$three_module(c,d,b));return e!==g&&h!==k||0===e&&onSegment$$module$js$threejs$three_module(a,c,b)||0===g&&onSegment$$module$js$threejs$three_module(a,
d,b)||0===h&&onSegment$$module$js$threejs$three_module(c,a,d)||0===k&&onSegment$$module$js$threejs$three_module(c,b,d)?!0:!1}function onSegment$$module$js$threejs$three_module(a,b,c){return b.x<=Math.max(a.x,c.x)&&b.x>=Math.min(a.x,c.x)&&b.y<=Math.max(a.y,c.y)&&b.y>=Math.min(a.y,c.y)}function sign$$module$js$threejs$three_module(a){return 0<a?1:0>a?-1:0}
function intersectsPolygon$$module$js$threejs$three_module(a,b){let c=a;do{if(c.i!==a.i&&c.next.i!==a.i&&c.i!==b.i&&c.next.i!==b.i&&intersects$$module$js$threejs$three_module(c,c.next,a,b))return!0;c=c.next}while(c!==a);return!1}
function locallyInside$$module$js$threejs$three_module(a,b){return 0>area$$module$js$threejs$three_module(a.prev,a,a.next)?0<=area$$module$js$threejs$three_module(a,b,a.next)&&0<=area$$module$js$threejs$three_module(a,a.prev,b):0>area$$module$js$threejs$three_module(a,b,a.prev)||0>area$$module$js$threejs$three_module(a,a.next,b)}
function middleInside$$module$js$threejs$three_module(a,b){let c=a,d=!1;const e=(a.x+b.x)/2;b=(a.y+b.y)/2;do c.y>b!==c.next.y>b&&c.next.y!==c.y&&e<(c.next.x-c.x)*(b-c.y)/(c.next.y-c.y)+c.x&&(d=!d),c=c.next;while(c!==a);return d}
function splitPolygon$$module$js$threejs$three_module(a,b){const c=new Node$$module$js$threejs$three_module(a.i,a.x,a.y),d=new Node$$module$js$threejs$three_module(b.i,b.x,b.y),e=a.next,g=b.prev;a.next=b;b.prev=a;c.next=e;e.prev=c;d.next=c;c.prev=d;g.next=d;d.prev=g;return d}function insertNode$$module$js$threejs$three_module(a,b,c,d){a=new Node$$module$js$threejs$three_module(a,b,c);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a);return a}
function removeNode$$module$js$threejs$three_module(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function Node$$module$js$threejs$three_module(a,b,c){this.i=a;this.x=b;this.y=c;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function signedArea$$module$js$threejs$three_module(a,b,c,d){let e=0;for(let g=b,h=c-d;g<c;g+=d)e+=(a[h]-a[g])*(a[g+1]+a[h+1]),h=g;return e}
const ShapeUtils$$module$js$threejs$three_module={area:function(a){const b=a.length;let c=0;for(let d=b-1,e=0;e<b;d=e++)c+=a[d].x*a[e].y-a[e].x*a[d].y;return.5*c},isClockWise:function(a){return 0>ShapeUtils$$module$js$threejs$three_module.area(a)},triangulateShape:function(a,b){var c=[];const d=[],e=[];removeDupEndPts$$module$js$threejs$three_module(a);addContour$$module$js$threejs$three_module(c,a);a=a.length;b.forEach(removeDupEndPts$$module$js$threejs$three_module);for(let g=0;g<b.length;g++)d.push(a),
a+=b[g].length,addContour$$module$js$threejs$three_module(c,b[g]);b=Earcut$$module$js$threejs$three_module.triangulate(c,d);for(c=0;c<b.length;c+=3)e.push(b.slice(c,c+3));return e}};function removeDupEndPts$$module$js$threejs$three_module(a){const b=a.length;2<b&&a[b-1].equals(a[0])&&a.pop()}function addContour$$module$js$threejs$three_module(a,b){for(let c=0;c<b.length;c++)a.push(b[c].x),a.push(b[c].y)}
class ExtrudeGeometry$$module$js$threejs$three_module extends Geometry$$module$js$threejs$three_module{constructor(a,b){super();this.type="ExtrudeGeometry";this.parameters={shapes:a,options:b};this.fromBufferGeometry(new ExtrudeBufferGeometry$$module$js$threejs$three_module(a,b));this.mergeVertices()}toJSON(){const a=super.toJSON();return toJSON$$module$js$threejs$three_module(this.parameters.shapes,this.parameters.options,a)}}
class ExtrudeBufferGeometry$$module$js$threejs$three_module extends BufferGeometry$$module$js$threejs$three_module{constructor(a,b){function c(h){function k(D,I,S){I||console.error("THREE.ExtrudeGeometry: vec does not exist");return I.clone().multiplyScalar(S).add(D)}function l(D,I,S){var P=D.x-I.x;var Y=D.y-I.y;var Z=S.x-D.x;var ea=S.y-D.y,ja=P*P+Y*Y;if(Math.abs(P*ea-Y*Z)>Number.EPSILON){const ha=Math.sqrt(ja),ka=Math.sqrt(Z*Z+ea*ea);ja=I.x-Y/ha;I=I.y+P/ha;ea=((S.x-ea/ka-ja)*ea-(S.y+Z/ka-I)*Z)/(P*
ea-Y*Z);Z=ja+P*ea-D.x;P=I+Y*ea-D.y;Y=Z*Z+P*P;if(2>=Y)return new Vector2$$module$js$threejs$three_module(Z,P);Y=Math.sqrt(Y/2)}else D=!1,P>Number.EPSILON?Z>Number.EPSILON&&(D=!0):P<-Number.EPSILON?Z<-Number.EPSILON&&(D=!0):Math.sign(Y)===Math.sign(ea)&&(D=!0),D?(Z=-Y,Y=Math.sqrt(ja)):(Z=P,P=Y,Y=Math.sqrt(ja/2));return new Vector2$$module$js$threejs$three_module(Z/Y,P/Y)}function m(D,I){let S=D.length;for(;0<=--S;){const ea=S;let ja=S-1;0>ja&&(ja=D.length-1);for(let ha=0,ka=r+2*N;ha<ka;ha++){const oa=
X*ha;var P=X*(ha+1),Y=I+ja+oa,Z=I+ja+P;P=I+ea+P;t(I+ea+oa);t(Y);t(P);t(Y);t(Z);t(P);Y=e.length/3;Y=W.generateSideWallUV(d,e,Y-6,Y-3,Y-2,Y-1);w(Y[0]);w(Y[1]);w(Y[3]);w(Y[1]);w(Y[2]);w(Y[3])}}}function n(D,I,S){x.push(D);x.push(I);x.push(S)}function p(D,I,S){t(D);t(I);t(S);D=e.length/3;D=W.generateTopUV(d,e,D-3,D-2,D-1);w(D[0]);w(D[1]);w(D[2])}function t(D){e.push(x[3*D]);e.push(x[3*D+1]);e.push(x[3*D+2])}function w(D){g.push(D.x);g.push(D.y)}const x=[];var A=void 0!==b.curveSegments?b.curveSegments:
12;const r=void 0!==b.steps?b.steps:1;let E=void 0!==b.depth?b.depth:100,B=void 0!==b.bevelEnabled?b.bevelEnabled:!0,G=void 0!==b.bevelThickness?b.bevelThickness:6,H=void 0!==b.bevelSize?b.bevelSize:G-2,O=void 0!==b.bevelOffset?b.bevelOffset:0,N=void 0!==b.bevelSegments?b.bevelSegments:3;var U=b.extrudePath;const W=void 0!==b.UVGenerator?b.UVGenerator:WorldUVGenerator$$module$js$threejs$three_module;void 0!==b.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),
E=b.amount);let J,aa=!1;if(U){J=U.getSpacedPoints(r);aa=!0;B=!1;var ba=U.computeFrenetFrames(r,!1);var z=new Vector3$$module$js$threejs$three_module;var K=new Vector3$$module$js$threejs$three_module;var Q=new Vector3$$module$js$threejs$three_module}B||(O=H=G=N=0);h=h.extractPoints(A);U=h.shape;const M=h.holes;if(!ShapeUtils$$module$js$threejs$three_module.isClockWise(U)){U=U.reverse();for(let D=0,I=M.length;D<I;D++)h=M[D],ShapeUtils$$module$js$threejs$three_module.isClockWise(h)&&(M[D]=h.reverse())}const L=
ShapeUtils$$module$js$threejs$three_module.triangulateShape(U,M),T=U;for(let D=0,I=M.length;D<I;D++)U=U.concat(M[D]);const X=U.length,y=L.length;h=[];for(let D=0,I=T.length,S=I-1,P=D+1;D<I;D++,S++,P++)S===I&&(S=0),P===I&&(P=0),h[D]=l(T[D],T[S],T[P]);A=[];let F=h.concat();for(let D=0,I=M.length;D<I;D++){var R=M[D];var q=[];for(let S=0,P=R.length,Y=P-1,Z=S+1;S<P;S++,Y++,Z++)Y===P&&(Y=0),Z===P&&(Z=0),q[S]=l(R[S],R[Y],R[Z]);A.push(q);F=F.concat(q)}for(R=0;R<N;R++){q=R/N;var v=G*Math.cos(q*Math.PI/2),
u=H*Math.sin(q*Math.PI/2)+O;for(let D=0,I=T.length;D<I;D++)q=k(T[D],h[D],u),n(q.x,q.y,-v);for(let D=0,I=M.length;D<I;D++){const S=M[D];q=A[D];for(let P=0,Y=S.length;P<Y;P++){const Z=k(S[P],q[P],u);n(Z.x,Z.y,-v)}}}q=H+O;for(R=0;R<X;R++)v=B?k(U[R],F[R],q):U[R],aa?(K.copy(ba.normals[0]).multiplyScalar(v.x),z.copy(ba.binormals[0]).multiplyScalar(v.y),Q.copy(J[0]).add(K).add(z),n(Q.x,Q.y,Q.z)):n(v.x,v.y,0);for(R=1;R<=r;R++)for(v=0;v<X;v++)u=B?k(U[v],F[v],q):U[v],aa?(K.copy(ba.normals[R]).multiplyScalar(u.x),
z.copy(ba.binormals[R]).multiplyScalar(u.y),Q.copy(J[R]).add(K).add(z),n(Q.x,Q.y,Q.z)):n(u.x,u.y,E/r*R);for(ba=N-1;0<=ba;ba--){K=ba/N;z=G*Math.cos(K*Math.PI/2);K=H*Math.sin(K*Math.PI/2)+O;for(let D=0,I=T.length;D<I;D++)Q=k(T[D],h[D],K),n(Q.x,Q.y,E+z);for(let D=0,I=M.length;D<I;D++){Q=M[D];q=A[D];for(let S=0,P=Q.length;S<P;S++)U=k(Q[S],q[S],K),aa?n(U.x,U.y+J[r-1].y,J[r-1].x+z):n(U.x,U.y,E+z)}}(function(){const D=e.length/3;if(B){var I=0*X;for(var S=0;S<y;S++){var P=L[S];p(P[2]+I,P[1]+I,P[0]+I)}I=X*
(r+2*N);for(S=0;S<y;S++)P=L[S],p(P[0]+I,P[1]+I,P[2]+I)}else{for(I=0;I<y;I++)S=L[I],p(S[2],S[1],S[0]);for(I=0;I<y;I++)S=L[I],p(S[0]+X*r,S[1]+X*r,S[2]+X*r)}d.addGroup(D,e.length/3-D,0)})();(function(){const D=e.length/3;let I=0;m(T,I);I+=T.length;for(let S=0,P=M.length;S<P;S++){const Y=M[S];m(Y,I);I+=Y.length}d.addGroup(D,e.length/3-D,1)})()}super();this.type="ExtrudeBufferGeometry";this.parameters={shapes:a,options:b};a=Array.isArray(a)?a:[a];const d=this,e=[],g=[];for(let h=0,k=a.length;h<k;h++)c(a[h]);
this.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(e,3));this.setAttribute("uv",new Float32BufferAttribute$$module$js$threejs$three_module(g,2));this.computeVertexNormals()}toJSON(){const a=BufferGeometry$$module$js$threejs$three_module.prototype.toJSON.call(this);return toJSON$$module$js$threejs$three_module(this.parameters.shapes,this.parameters.options,a)}}
const WorldUVGenerator$$module$js$threejs$three_module={generateTopUV:function(a,b,c,d,e){a=b[3*d];d=b[3*d+1];const g=b[3*e];e=b[3*e+1];return[new Vector2$$module$js$threejs$three_module(b[3*c],b[3*c+1]),new Vector2$$module$js$threejs$three_module(a,d),new Vector2$$module$js$threejs$three_module(g,e)]},generateSideWallUV:function(a,b,c,d,e,g){a=b[3*c];const h=b[3*c+1];c=b[3*c+2];const k=b[3*d],l=b[3*d+1];d=b[3*d+2];const m=b[3*e],n=b[3*e+1];e=b[3*e+2];const p=b[3*g],t=b[3*g+1];b=b[3*g+2];return.01>
Math.abs(h-l)?[new Vector2$$module$js$threejs$three_module(a,1-c),new Vector2$$module$js$threejs$three_module(k,1-d),new Vector2$$module$js$threejs$three_module(m,1-e),new Vector2$$module$js$threejs$three_module(p,1-b)]:[new Vector2$$module$js$threejs$three_module(h,1-c),new Vector2$$module$js$threejs$three_module(l,1-d),new Vector2$$module$js$threejs$three_module(n,1-e),new Vector2$$module$js$threejs$three_module(t,1-b)]}};
function toJSON$$module$js$threejs$three_module(a,b,c){c.shapes=[];if(Array.isArray(a))for(let d=0,e=a.length;d<e;d++)c.shapes.push(a[d].uuid);else c.shapes.push(a.uuid);void 0!==b.extrudePath&&(c.options.extrudePath=b.extrudePath.toJSON());return c}
class TextGeometry$$module$js$threejs$three_module extends Geometry$$module$js$threejs$three_module{constructor(a,b){super();this.type="TextGeometry";this.parameters={text:a,parameters:b};this.fromBufferGeometry(new TextBufferGeometry$$module$js$threejs$three_module(a,b));this.mergeVertices()}}
class TextBufferGeometry$$module$js$threejs$three_module extends ExtrudeBufferGeometry$$module$js$threejs$three_module{constructor(a,b){b=b||{};const c=b.font;if(!c||!c.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Geometry$$module$js$threejs$three_module;a=c.generateShapes(a,b.size);b.depth=void 0!==b.height?b.height:50;void 0===b.bevelThickness&&(b.bevelThickness=10);void 0===b.bevelSize&&(b.bevelSize=8);void 0===b.bevelEnabled&&(b.bevelEnabled=
!1);super(a,b);this.type="TextBufferGeometry"}}class SphereGeometry$$module$js$threejs$three_module extends Geometry$$module$js$threejs$three_module{constructor(a,b,c,d,e,g,h){super();this.type="SphereGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:g,thetaLength:h};this.fromBufferGeometry(new SphereBufferGeometry$$module$js$threejs$three_module(a,b,c,d,e,g,h));this.mergeVertices()}}
class SphereBufferGeometry$$module$js$threejs$three_module extends BufferGeometry$$module$js$threejs$three_module{constructor(a,b,c,d,e,g,h){super();this.type="SphereBufferGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:g,thetaLength:h};a=a||1;b=Math.max(3,Math.floor(b)||8);c=Math.max(2,Math.floor(c)||6);d=void 0!==d?d:0;e=void 0!==e?e:2*Math.PI;g=void 0!==g?g:0;h=void 0!==h?h:Math.PI;const k=Math.min(g+h,Math.PI);var l=0;const m=[];var n=new Vector3$$module$js$threejs$three_module;
const p=new Vector3$$module$js$threejs$three_module,t=[],w=[],x=[],A=[];for(let r=0;r<=c;r++){const E=[],B=r/c;let G=0;0==r&&0==g?G=.5/b:r==c&&k==Math.PI&&(G=-.5/b);for(let H=0;H<=b;H++){const O=H/b;n.x=-a*Math.cos(d+O*e)*Math.sin(g+B*h);n.y=a*Math.cos(g+B*h);n.z=a*Math.sin(d+O*e)*Math.sin(g+B*h);w.push(n.x,n.y,n.z);p.copy(n).normalize();x.push(p.x,p.y,p.z);A.push(O+G,1-B);E.push(l++)}m.push(E)}for(a=0;a<c;a++)for(d=0;d<b;d++)e=m[a][d+1],h=m[a][d],l=m[a+1][d],n=m[a+1][d+1],(0!==a||0<g)&&t.push(e,
h,n),(a!==c-1||k<Math.PI)&&t.push(h,l,n);this.setIndex(t);this.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(w,3));this.setAttribute("normal",new Float32BufferAttribute$$module$js$threejs$three_module(x,3));this.setAttribute("uv",new Float32BufferAttribute$$module$js$threejs$three_module(A,2))}}
class RingGeometry$$module$js$threejs$three_module extends Geometry$$module$js$threejs$three_module{constructor(a,b,c,d,e,g){super();this.type="RingGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:g};this.fromBufferGeometry(new RingBufferGeometry$$module$js$threejs$three_module(a,b,c,d,e,g));this.mergeVertices()}}
class RingBufferGeometry$$module$js$threejs$three_module extends BufferGeometry$$module$js$threejs$three_module{constructor(a,b,c,d,e,g){super();this.type="RingBufferGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:g};a=a||.5;b=b||1;e=void 0!==e?e:0;g=void 0!==g?g:2*Math.PI;c=void 0!==c?Math.max(3,c):8;d=void 0!==d?Math.max(1,d):1;const h=[],k=[],l=[],m=[];var n=a;a=(b-a)/d;var p=new Vector3$$module$js$threejs$three_module,t=new Vector2$$module$js$threejs$three_module;
for(let w=0;w<=d;w++){for(let x=0;x<=c;x++){const A=e+x/c*g;p.x=n*Math.cos(A);p.y=n*Math.sin(A);k.push(p.x,p.y,p.z);l.push(0,0,1);t.x=(p.x/b+1)/2;t.y=(p.y/b+1)/2;m.push(t.x,t.y)}n+=a}for(b=0;b<d;b++)for(e=b*(c+1),g=0;g<c;g++)n=g+e,a=n+c+1,p=n+c+2,t=n+1,h.push(n,a,t),h.push(a,p,t);this.setIndex(h);this.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(k,3));this.setAttribute("normal",new Float32BufferAttribute$$module$js$threejs$three_module(l,3));this.setAttribute("uv",
new Float32BufferAttribute$$module$js$threejs$three_module(m,2))}}class LatheGeometry$$module$js$threejs$three_module extends Geometry$$module$js$threejs$three_module{constructor(a,b,c,d){super();this.type="LatheGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};this.fromBufferGeometry(new LatheBufferGeometry$$module$js$threejs$three_module(a,b,c,d));this.mergeVertices()}}
class LatheBufferGeometry$$module$js$threejs$three_module extends BufferGeometry$$module$js$threejs$three_module{constructor(a,b,c,d){super();this.type="LatheBufferGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};b=Math.floor(b)||12;c=c||0;d=d||2*Math.PI;d=MathUtils$$module$js$threejs$three_module.clamp(d,0,2*Math.PI);var e=[],g=[],h=[],k=1/b,l=new Vector3$$module$js$threejs$three_module,m=new Vector2$$module$js$threejs$three_module;for(var n=0;n<=b;n++){var p=c+n*k*d,t=Math.sin(p);
p=Math.cos(p);for(let w=0;w<=a.length-1;w++)l.x=a[w].x*t,l.y=a[w].y,l.z=a[w].x*p,g.push(l.x,l.y,l.z),m.x=n/b,m.y=w/(a.length-1),h.push(m.x,m.y)}for(c=0;c<b;c++)for(k=0;k<a.length-1;k++)l=k+c*a.length,m=l+a.length,n=l+a.length+1,t=l+1,e.push(l,m,t),e.push(m,n,t);this.setIndex(e);this.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(g,3));this.setAttribute("uv",new Float32BufferAttribute$$module$js$threejs$three_module(h,2));this.computeVertexNormals();if(d===2*Math.PI){d=
this.attributes.normal.array;e=new Vector3$$module$js$threejs$three_module;g=new Vector3$$module$js$threejs$three_module;h=new Vector3$$module$js$threejs$three_module;b=b*a.length*3;for(let w=0,x=0;w<a.length;w++,x+=3)e.x=d[x+0],e.y=d[x+1],e.z=d[x+2],g.x=d[b+x+0],g.y=d[b+x+1],g.z=d[b+x+2],h.addVectors(e,g).normalize(),d[x+0]=d[b+x+0]=h.x,d[x+1]=d[b+x+1]=h.y,d[x+2]=d[b+x+2]=h.z}}}
class ShapeGeometry$$module$js$threejs$three_module extends Geometry$$module$js$threejs$three_module{constructor(a,b){super();this.type="ShapeGeometry";"object"===typeof b&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),b=b.curveSegments);this.parameters={shapes:a,curveSegments:b};this.fromBufferGeometry(new ShapeBufferGeometry$$module$js$threejs$three_module(a,b));this.mergeVertices()}toJSON(){const a=Geometry$$module$js$threejs$three_module.prototype.toJSON.call(this);
return toJSON$1$$module$js$threejs$three_module(this.parameters.shapes,a)}}
class ShapeBufferGeometry$$module$js$threejs$three_module extends BufferGeometry$$module$js$threejs$three_module{constructor(a,b){function c(m){const n=e.length/3;var p=m.extractPoints(b);m=p.shape;var t=p.holes;!1===ShapeUtils$$module$js$threejs$three_module.isClockWise(m)&&(m=m.reverse());for(let w=0,x=t.length;w<x;w++)p=t[w],!0===ShapeUtils$$module$js$threejs$three_module.isClockWise(p)&&(t[w]=p.reverse());p=ShapeUtils$$module$js$threejs$three_module.triangulateShape(m,t);for(let w=0,x=t.length;w<
x;w++)m=m.concat(t[w]);for(let w=0,x=m.length;w<x;w++)t=m[w],e.push(t.x,t.y,0),g.push(0,0,1),h.push(t.x,t.y);for(let w=0,x=p.length;w<x;w++)m=p[w],d.push(m[0]+n,m[1]+n,m[2]+n),l+=3}super();this.type="ShapeBufferGeometry";this.parameters={shapes:a,curveSegments:b};b=b||12;const d=[],e=[],g=[],h=[];let k=0,l=0;if(!1===Array.isArray(a))c(a);else for(let m=0;m<a.length;m++)c(a[m]),this.addGroup(k,l,m),k+=l,l=0;this.setIndex(d);this.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(e,
3));this.setAttribute("normal",new Float32BufferAttribute$$module$js$threejs$three_module(g,3));this.setAttribute("uv",new Float32BufferAttribute$$module$js$threejs$three_module(h,2))}toJSON(){const a=BufferGeometry$$module$js$threejs$three_module.prototype.toJSON.call(this);return toJSON$1$$module$js$threejs$three_module(this.parameters.shapes,a)}}
function toJSON$1$$module$js$threejs$three_module(a,b){b.shapes=[];if(Array.isArray(a))for(let c=0,d=a.length;c<d;c++)b.shapes.push(a[c].uuid);else b.shapes.push(a.uuid);return b}
class EdgesGeometry$$module$js$threejs$three_module extends BufferGeometry$$module$js$threejs$three_module{constructor(a,b){super();this.type="EdgesGeometry";this.parameters={thresholdAngle:b};const c=[];b=Math.cos(MathUtils$$module$js$threejs$three_module.DEG2RAD*(void 0!==b?b:1));var d=[0,0];const e={};let g;var h=["a","b","c"];if(a.isBufferGeometry){var k=new Geometry$$module$js$threejs$three_module;k.fromBufferGeometry(a)}else k=a.clone();k.mergeVertices();k.computeFaceNormals();a=k.vertices;
k=k.faces;for(let m=0,n=k.length;m<n;m++){const p=k[m];for(let t=0;3>t;t++){var l=p[h[t]];g=p[h[(t+1)%3]];d[0]=Math.min(l,g);d[1]=Math.max(l,g);l=d[0]+","+d[1];void 0===e[l]?e[l]={index1:d[0],index2:d[1],face1:m,face2:void 0}:e[l].face2=m}}for(l in e)if(d=e[l],void 0===d.face2||k[d.face1].normal.dot(k[d.face2].normal)<=b)h=a[d.index1],c.push(h.x,h.y,h.z),h=a[d.index2],c.push(h.x,h.y,h.z);this.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(c,3))}}
class CylinderGeometry$$module$js$threejs$three_module extends Geometry$$module$js$threejs$three_module{constructor(a,b,c,d,e,g,h,k){super();this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:g,thetaStart:h,thetaLength:k};this.fromBufferGeometry(new CylinderBufferGeometry$$module$js$threejs$three_module(a,b,c,d,e,g,h,k));this.mergeVertices()}}
class CylinderBufferGeometry$$module$js$threejs$three_module extends BufferGeometry$$module$js$threejs$three_module{constructor(a,b,c,d,e,g,h,k){function l(B){const G=x;var H=new Vector2$$module$js$threejs$three_module,O=new Vector3$$module$js$threejs$three_module;let N=0;var U=!0===B?a:b;const W=!0===B?1:-1;for(var J=1;J<=d;J++)p.push(0,r*W,0),t.push(0,W,0),w.push(.5,.5),x++;J=x;for(let ba=0;ba<=d;ba++){var aa=ba/d*k+h;const z=Math.cos(aa);aa=Math.sin(aa);O.x=U*aa;O.y=r*W;O.z=U*z;p.push(O.x,O.y,
O.z);t.push(0,W,0);H.x=.5*z+.5;H.y=.5*aa*W+.5;w.push(H.x,H.y);x++}for(H=0;H<d;H++)O=G+H,U=J+H,!0===B?n.push(U,U+1,O):n.push(U+1,U,O),N+=3;m.addGroup(E,N,!0===B?1:2);E+=N}super();this.type="CylinderBufferGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:g,thetaStart:h,thetaLength:k};const m=this;a=void 0!==a?a:1;b=void 0!==b?b:1;c=c||1;d=Math.floor(d)||8;e=Math.floor(e)||1;g=void 0!==g?g:!1;h=void 0!==h?h:0;k=void 0!==k?k:2*Math.PI;const n=[],
p=[],t=[],w=[];let x=0;const A=[],r=c/2;let E=0;(function(){var B=new Vector3$$module$js$threejs$three_module,G=new Vector3$$module$js$threejs$three_module;let H=0;var O=(b-a)/c;for(var N=0;N<=e;N++){var U=[];const J=N/e,aa=J*(b-a)+a;for(let ba=0;ba<=d;ba++){const z=ba/d;var W=z*k+h;const K=Math.sin(W);W=Math.cos(W);G.x=aa*K;G.y=-J*c+r;G.z=aa*W;p.push(G.x,G.y,G.z);B.set(K,O,W).normalize();t.push(B.x,B.y,B.z);w.push(z,1-J);U.push(x++)}A.push(U)}for(B=0;B<d;B++)for(G=0;G<e;G++)O=A[G+1][B],N=A[G+1][B+
1],U=A[G][B+1],n.push(A[G][B],O,U),n.push(O,N,U),H+=6;m.addGroup(E,H,0);E+=H})();!1===g&&(0<a&&l(!0),0<b&&l(!1));this.setIndex(n);this.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(p,3));this.setAttribute("normal",new Float32BufferAttribute$$module$js$threejs$three_module(t,3));this.setAttribute("uv",new Float32BufferAttribute$$module$js$threejs$three_module(w,2))}}
class ConeGeometry$$module$js$threejs$three_module extends CylinderGeometry$$module$js$threejs$three_module{constructor(a,b,c,d,e,g,h){super(0,a,b,c,d,e,g,h);this.type="ConeGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:g,thetaLength:h}}}
class ConeBufferGeometry$$module$js$threejs$three_module extends CylinderBufferGeometry$$module$js$threejs$three_module{constructor(a,b,c,d,e,g,h){super(0,a,b,c,d,e,g,h);this.type="ConeBufferGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:g,thetaLength:h}}}
class CircleGeometry$$module$js$threejs$three_module extends Geometry$$module$js$threejs$three_module{constructor(a,b,c,d){super();this.type="CircleGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};this.fromBufferGeometry(new CircleBufferGeometry$$module$js$threejs$three_module(a,b,c,d));this.mergeVertices()}}
class CircleBufferGeometry$$module$js$threejs$three_module extends BufferGeometry$$module$js$threejs$three_module{constructor(a,b,c,d){super();this.type="CircleBufferGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};a=a||1;b=void 0!==b?Math.max(3,b):8;c=void 0!==c?c:0;d=void 0!==d?d:2*Math.PI;const e=[],g=[],h=[],k=[],l=new Vector3$$module$js$threejs$three_module,m=new Vector2$$module$js$threejs$three_module;g.push(0,0,0);h.push(0,0,1);k.push(.5,.5);for(let n=0,p=3;n<=b;n++,
p+=3){const t=c+n/b*d;l.x=a*Math.cos(t);l.y=a*Math.sin(t);g.push(l.x,l.y,l.z);h.push(0,0,1);m.x=(g[p]/a+1)/2;m.y=(g[p+1]/a+1)/2;k.push(m.x,m.y)}for(a=1;a<=b;a++)e.push(a,a+1,0);this.setIndex(e);this.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(g,3));this.setAttribute("normal",new Float32BufferAttribute$$module$js$threejs$three_module(h,3));this.setAttribute("uv",new Float32BufferAttribute$$module$js$threejs$three_module(k,2))}}
var Geometries$$module$js$threejs$three_module=Object.freeze({__proto__:null,WireframeGeometry:WireframeGeometry$$module$js$threejs$three_module,ParametricGeometry:ParametricGeometry$$module$js$threejs$three_module,ParametricBufferGeometry:ParametricBufferGeometry$$module$js$threejs$three_module,TetrahedronGeometry:TetrahedronGeometry$$module$js$threejs$three_module,TetrahedronBufferGeometry:TetrahedronBufferGeometry$$module$js$threejs$three_module,OctahedronGeometry:OctahedronGeometry$$module$js$threejs$three_module,
OctahedronBufferGeometry:OctahedronBufferGeometry$$module$js$threejs$three_module,IcosahedronGeometry:IcosahedronGeometry$$module$js$threejs$three_module,IcosahedronBufferGeometry:IcosahedronBufferGeometry$$module$js$threejs$three_module,DodecahedronGeometry:DodecahedronGeometry$$module$js$threejs$three_module,DodecahedronBufferGeometry:DodecahedronBufferGeometry$$module$js$threejs$three_module,PolyhedronGeometry:PolyhedronGeometry$$module$js$threejs$three_module,PolyhedronBufferGeometry:PolyhedronBufferGeometry$$module$js$threejs$three_module,
TubeGeometry:TubeGeometry$$module$js$threejs$three_module,TubeBufferGeometry:TubeBufferGeometry$$module$js$threejs$three_module,TorusKnotGeometry:TorusKnotGeometry$$module$js$threejs$three_module,TorusKnotBufferGeometry:TorusKnotBufferGeometry$$module$js$threejs$three_module,TorusGeometry:TorusGeometry$$module$js$threejs$three_module,TorusBufferGeometry:TorusBufferGeometry$$module$js$threejs$three_module,TextGeometry:TextGeometry$$module$js$threejs$three_module,TextBufferGeometry:TextBufferGeometry$$module$js$threejs$three_module,
SphereGeometry:SphereGeometry$$module$js$threejs$three_module,SphereBufferGeometry:SphereBufferGeometry$$module$js$threejs$three_module,RingGeometry:RingGeometry$$module$js$threejs$three_module,RingBufferGeometry:RingBufferGeometry$$module$js$threejs$three_module,PlaneGeometry:PlaneGeometry$$module$js$threejs$three_module,PlaneBufferGeometry:PlaneBufferGeometry$$module$js$threejs$three_module,LatheGeometry:LatheGeometry$$module$js$threejs$three_module,LatheBufferGeometry:LatheBufferGeometry$$module$js$threejs$three_module,
ShapeGeometry:ShapeGeometry$$module$js$threejs$three_module,ShapeBufferGeometry:ShapeBufferGeometry$$module$js$threejs$three_module,ExtrudeGeometry:ExtrudeGeometry$$module$js$threejs$three_module,ExtrudeBufferGeometry:ExtrudeBufferGeometry$$module$js$threejs$three_module,EdgesGeometry:EdgesGeometry$$module$js$threejs$three_module,ConeGeometry:ConeGeometry$$module$js$threejs$three_module,ConeBufferGeometry:ConeBufferGeometry$$module$js$threejs$three_module,CylinderGeometry:CylinderGeometry$$module$js$threejs$three_module,
CylinderBufferGeometry:CylinderBufferGeometry$$module$js$threejs$three_module,CircleGeometry:CircleGeometry$$module$js$threejs$three_module,CircleBufferGeometry:CircleBufferGeometry$$module$js$threejs$three_module,BoxGeometry:BoxGeometry$$module$js$threejs$three_module,BoxBufferGeometry:BoxBufferGeometry$$module$js$threejs$three_module});
function ShadowMaterial$$module$js$threejs$three_module(a){Material$$module$js$threejs$three_module.call(this);this.type="ShadowMaterial";this.color=new Color$$module$js$threejs$three_module(0);this.transparent=!0;this.setValues(a)}ShadowMaterial$$module$js$threejs$three_module.prototype=Object.create(Material$$module$js$threejs$three_module.prototype);ShadowMaterial$$module$js$threejs$three_module.prototype.constructor=ShadowMaterial$$module$js$threejs$three_module;
ShadowMaterial$$module$js$threejs$three_module.prototype.isShadowMaterial=!0;ShadowMaterial$$module$js$threejs$three_module.prototype.copy=function(a){Material$$module$js$threejs$three_module.prototype.copy.call(this,a);this.color.copy(a.color);return this};function RawShaderMaterial$$module$js$threejs$three_module(a){ShaderMaterial$$module$js$threejs$three_module.call(this,a);this.type="RawShaderMaterial"}RawShaderMaterial$$module$js$threejs$three_module.prototype=Object.create(ShaderMaterial$$module$js$threejs$three_module.prototype);
RawShaderMaterial$$module$js$threejs$three_module.prototype.constructor=RawShaderMaterial$$module$js$threejs$three_module;RawShaderMaterial$$module$js$threejs$three_module.prototype.isRawShaderMaterial=!0;
function MeshStandardMaterial$$module$js$threejs$three_module(a){Material$$module$js$threejs$three_module.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new Color$$module$js$threejs$three_module(16777215);this.roughness=1;this.metalness=0;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Color$$module$js$threejs$three_module(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;
this.normalMap=null;this.normalMapType=TangentSpaceNormalMap$$module$js$threejs$three_module;this.normalScale=new Vector2$$module$js$threejs$three_module(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.vertexTangents=this.morphNormals=this.morphTargets=
this.skinning=!1;this.setValues(a)}MeshStandardMaterial$$module$js$threejs$three_module.prototype=Object.create(Material$$module$js$threejs$three_module.prototype);MeshStandardMaterial$$module$js$threejs$three_module.prototype.constructor=MeshStandardMaterial$$module$js$threejs$three_module;MeshStandardMaterial$$module$js$threejs$three_module.prototype.isMeshStandardMaterial=!0;
MeshStandardMaterial$$module$js$threejs$three_module.prototype.copy=function(a){Material$$module$js$threejs$three_module.prototype.copy.call(this,a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=
a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;
this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;this.vertexTangents=a.vertexTangents;return this};
function MeshPhysicalMaterial$$module$js$threejs$three_module(a){MeshStandardMaterial$$module$js$threejs$three_module.call(this);this.defines={STANDARD:"",PHYSICAL:""};this.type="MeshPhysicalMaterial";this.clearcoat=0;this.clearcoatMap=null;this.clearcoatRoughness=0;this.clearcoatRoughnessMap=null;this.clearcoatNormalScale=new Vector2$$module$js$threejs$three_module(1,1);this.clearcoatNormalMap=null;this.reflectivity=.5;this.sheen=null;this.transmission=0;this.transmissionMap=null;this.setValues(a)}
MeshPhysicalMaterial$$module$js$threejs$three_module.prototype=Object.create(MeshStandardMaterial$$module$js$threejs$three_module.prototype);MeshPhysicalMaterial$$module$js$threejs$three_module.prototype.constructor=MeshPhysicalMaterial$$module$js$threejs$three_module;MeshPhysicalMaterial$$module$js$threejs$three_module.prototype.isMeshPhysicalMaterial=!0;
MeshPhysicalMaterial$$module$js$threejs$three_module.prototype.copy=function(a){MeshStandardMaterial$$module$js$threejs$three_module.prototype.copy.call(this,a);this.defines={STANDARD:"",PHYSICAL:""};this.clearcoat=a.clearcoat;this.clearcoatMap=a.clearcoatMap;this.clearcoatRoughness=a.clearcoatRoughness;this.clearcoatRoughnessMap=a.clearcoatRoughnessMap;this.clearcoatNormalMap=a.clearcoatNormalMap;this.clearcoatNormalScale.copy(a.clearcoatNormalScale);this.reflectivity=a.reflectivity;this.sheen=a.sheen?
(this.sheen||new Color$$module$js$threejs$three_module).copy(a.sheen):null;this.transmission=a.transmission;this.transmissionMap=a.transmissionMap;return this};
function MeshPhongMaterial$$module$js$threejs$three_module(a){Material$$module$js$threejs$three_module.call(this);this.type="MeshPhongMaterial";this.color=new Color$$module$js$threejs$three_module(16777215);this.specular=new Color$$module$js$threejs$three_module(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Color$$module$js$threejs$three_module(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=
1;this.normalMap=null;this.normalMapType=TangentSpaceNormalMap$$module$js$threejs$three_module;this.normalScale=new Vector2$$module$js$threejs$three_module(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=MultiplyOperation$$module$js$threejs$three_module;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=
this.morphTargets=this.skinning=!1;this.setValues(a)}MeshPhongMaterial$$module$js$threejs$three_module.prototype=Object.create(Material$$module$js$threejs$three_module.prototype);MeshPhongMaterial$$module$js$threejs$three_module.prototype.constructor=MeshPhongMaterial$$module$js$threejs$three_module;MeshPhongMaterial$$module$js$threejs$three_module.prototype.isMeshPhongMaterial=!0;
MeshPhongMaterial$$module$js$threejs$three_module.prototype.copy=function(a){Material$$module$js$threejs$three_module.prototype.copy.call(this,a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=
a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;
this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};
function MeshToonMaterial$$module$js$threejs$three_module(a){Material$$module$js$threejs$three_module.call(this);this.defines={TOON:""};this.type="MeshToonMaterial";this.color=new Color$$module$js$threejs$three_module(16777215);this.lightMap=this.gradientMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Color$$module$js$threejs$three_module(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=
TangentSpaceNormalMap$$module$js$threejs$three_module;this.normalScale=new Vector2$$module$js$threejs$three_module(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.alphaMap=null;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}MeshToonMaterial$$module$js$threejs$three_module.prototype=Object.create(Material$$module$js$threejs$three_module.prototype);
MeshToonMaterial$$module$js$threejs$three_module.prototype.constructor=MeshToonMaterial$$module$js$threejs$three_module;MeshToonMaterial$$module$js$threejs$three_module.prototype.isMeshToonMaterial=!0;
MeshToonMaterial$$module$js$threejs$three_module.prototype.copy=function(a){Material$$module$js$threejs$three_module.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.gradientMap=a.gradientMap;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=
a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.alphaMap=a.alphaMap;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};
function MeshNormalMaterial$$module$js$threejs$three_module(a){Material$$module$js$threejs$three_module.call(this);this.type="MeshNormalMaterial";this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=TangentSpaceNormalMap$$module$js$threejs$three_module;this.normalScale=new Vector2$$module$js$threejs$three_module(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=
this.fog=!1;this.setValues(a)}MeshNormalMaterial$$module$js$threejs$three_module.prototype=Object.create(Material$$module$js$threejs$three_module.prototype);MeshNormalMaterial$$module$js$threejs$three_module.prototype.constructor=MeshNormalMaterial$$module$js$threejs$three_module;MeshNormalMaterial$$module$js$threejs$three_module.prototype.isMeshNormalMaterial=!0;
MeshNormalMaterial$$module$js$threejs$three_module.prototype.copy=function(a){Material$$module$js$threejs$three_module.prototype.copy.call(this,a);this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.skinning=
a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};
function MeshLambertMaterial$$module$js$threejs$three_module(a){Material$$module$js$threejs$three_module.call(this);this.type="MeshLambertMaterial";this.color=new Color$$module$js$threejs$three_module(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Color$$module$js$threejs$three_module(0);this.emissiveIntensity=1;this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null;this.combine=MultiplyOperation$$module$js$threejs$three_module;
this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}MeshLambertMaterial$$module$js$threejs$three_module.prototype=Object.create(Material$$module$js$threejs$three_module.prototype);MeshLambertMaterial$$module$js$threejs$three_module.prototype.constructor=MeshLambertMaterial$$module$js$threejs$three_module;
MeshLambertMaterial$$module$js$threejs$three_module.prototype.isMeshLambertMaterial=!0;
MeshLambertMaterial$$module$js$threejs$three_module.prototype.copy=function(a){Material$$module$js$threejs$three_module.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=
a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};
function MeshMatcapMaterial$$module$js$threejs$three_module(a){Material$$module$js$threejs$three_module.call(this);this.defines={MATCAP:""};this.type="MeshMatcapMaterial";this.color=new Color$$module$js$threejs$three_module(16777215);this.bumpMap=this.map=this.matcap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=TangentSpaceNormalMap$$module$js$threejs$three_module;this.normalScale=new Vector2$$module$js$threejs$three_module(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=
0;this.alphaMap=null;this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}MeshMatcapMaterial$$module$js$threejs$three_module.prototype=Object.create(Material$$module$js$threejs$three_module.prototype);MeshMatcapMaterial$$module$js$threejs$three_module.prototype.constructor=MeshMatcapMaterial$$module$js$threejs$three_module;MeshMatcapMaterial$$module$js$threejs$three_module.prototype.isMeshMatcapMaterial=!0;
MeshMatcapMaterial$$module$js$threejs$three_module.prototype.copy=function(a){Material$$module$js$threejs$three_module.prototype.copy.call(this,a);this.defines={MATCAP:""};this.color.copy(a.color);this.matcap=a.matcap;this.map=a.map;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;
this.alphaMap=a.alphaMap;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};function LineDashedMaterial$$module$js$threejs$three_module(a){LineBasicMaterial$$module$js$threejs$three_module.call(this);this.type="LineDashedMaterial";this.scale=1;this.dashSize=3;this.gapSize=1;this.setValues(a)}LineDashedMaterial$$module$js$threejs$three_module.prototype=Object.create(LineBasicMaterial$$module$js$threejs$three_module.prototype);
LineDashedMaterial$$module$js$threejs$three_module.prototype.constructor=LineDashedMaterial$$module$js$threejs$three_module;LineDashedMaterial$$module$js$threejs$three_module.prototype.isLineDashedMaterial=!0;LineDashedMaterial$$module$js$threejs$three_module.prototype.copy=function(a){LineBasicMaterial$$module$js$threejs$three_module.prototype.copy.call(this,a);this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this};
var Materials$$module$js$threejs$three_module=Object.freeze({__proto__:null,ShadowMaterial:ShadowMaterial$$module$js$threejs$three_module,SpriteMaterial:SpriteMaterial$$module$js$threejs$three_module,RawShaderMaterial:RawShaderMaterial$$module$js$threejs$three_module,ShaderMaterial:ShaderMaterial$$module$js$threejs$three_module,PointsMaterial:PointsMaterial$$module$js$threejs$three_module,MeshPhysicalMaterial:MeshPhysicalMaterial$$module$js$threejs$three_module,MeshStandardMaterial:MeshStandardMaterial$$module$js$threejs$three_module,
MeshPhongMaterial:MeshPhongMaterial$$module$js$threejs$three_module,MeshToonMaterial:MeshToonMaterial$$module$js$threejs$three_module,MeshNormalMaterial:MeshNormalMaterial$$module$js$threejs$three_module,MeshLambertMaterial:MeshLambertMaterial$$module$js$threejs$three_module,MeshDepthMaterial:MeshDepthMaterial$$module$js$threejs$three_module,MeshDistanceMaterial:MeshDistanceMaterial$$module$js$threejs$three_module,MeshBasicMaterial:MeshBasicMaterial$$module$js$threejs$three_module,MeshMatcapMaterial:MeshMatcapMaterial$$module$js$threejs$three_module,
LineDashedMaterial:LineDashedMaterial$$module$js$threejs$three_module,LineBasicMaterial:LineBasicMaterial$$module$js$threejs$three_module,Material:Material$$module$js$threejs$three_module});
const AnimationUtils$$module$js$threejs$three_module={arraySlice:function(a,b,c){return AnimationUtils$$module$js$threejs$three_module.isTypedArray(a)?new a.constructor(a.subarray(b,void 0!==c?c:a.length)):a.slice(b,c)},convertArray:function(a,b,c){return!a||!c&&a.constructor===b?a:"number"===typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a)},isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){const b=a.length,c=Array(b);for(let d=
0;d!==b;++d)c[d]=d;c.sort(function(d,e){return a[d]-a[e]});return c},sortedArray:function(a,b,c){const d=a.length,e=new a.constructor(d);for(let g=0,h=0;h!==d;++g){const k=c[g]*b;for(let l=0;l!==b;++l)e[h++]=a[k+l]}return e},flattenJSON:function(a,b,c,d){let e=1,g=a[0];for(;void 0!==g&&void 0===g[d];)g=a[e++];if(void 0!==g){var h=g[d];if(void 0!==h)if(Array.isArray(h)){do h=g[d],void 0!==h&&(b.push(g.time),c.push.apply(c,h)),g=a[e++];while(void 0!==g)}else if(void 0!==h.toArray){do h=g[d],void 0!==
h&&(b.push(g.time),h.toArray(c,c.length)),g=a[e++];while(void 0!==g)}else{do h=g[d],void 0!==h&&(b.push(g.time),c.push(h)),g=a[e++];while(void 0!==g)}}},subclip:function(a,b,c,d,e){e=e||30;a=a.clone();a.name=b;b=[];for(let h=0;h<a.tracks.length;++h){const k=a.tracks[h],l=k.getValueSize(),m=[],n=[];for(let p=0;p<k.times.length;++p){var g=k.times[p]*e;if(!(g<c||g>=d))for(m.push(k.times[p]),g=0;g<l;++g)n.push(k.values[p*l+g])}0!==m.length&&(k.times=AnimationUtils$$module$js$threejs$three_module.convertArray(m,
k.times.constructor),k.values=AnimationUtils$$module$js$threejs$three_module.convertArray(n,k.values.constructor),b.push(k))}a.tracks=b;c=Infinity;for(d=0;d<a.tracks.length;++d)c>a.tracks[d].times[0]&&(c=a.tracks[d].times[0]);for(d=0;d<a.tracks.length;++d)a.tracks[d].shift(-1*c);a.resetDuration();return a},makeClipAdditive:function(a,b,c,d){void 0===b&&(b=0);void 0===c&&(c=a);if(void 0===d||0>=d)d=30;const e=a.tracks.length;b/=d;for(d=0;d<e;++d){const m=c.tracks[d],n=m.ValueTypeName;if("bool"===n||
"string"===n)continue;const p=a.tracks.find(function(x){return x.name===m.name&&x.ValueTypeName===n});if(void 0===p)continue;var g=0,h=m.getValueSize();m.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=h/3);let t=0;const w=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(t=w/3);var k=m.times.length-1;if(b<=m.times[0])g=AnimationUtils$$module$js$threejs$three_module.arraySlice(m.values,g,h-g);else if(b>=m.times[k])k=k*h+g,g=AnimationUtils$$module$js$threejs$three_module.arraySlice(m.values,
k,k+h-g);else{k=m.createInterpolant();var l=g;g=h-g;k.evaluate(b);g=AnimationUtils$$module$js$threejs$three_module.arraySlice(k.resultBuffer,l,g)}"quaternion"===n&&(new Quaternion$$module$js$threejs$three_module).fromArray(g).normalize().conjugate().toArray(g);h=p.times.length;for(k=0;k<h;++k)if(l=k*w+t,"quaternion"===n)Quaternion$$module$js$threejs$three_module.multiplyQuaternionsFlat(p.values,l,g,0,p.values,l);else{const x=w-2*t;for(let A=0;A<x;++A)p.values[l+A]-=g[A]}}a.blendMode=AdditiveAnimationBlendMode$$module$js$threejs$three_module;
return a}};function Interpolant$$module$js$threejs$three_module(a,b,c,d){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==d?d:new b.constructor(c);this.sampleValues=b;this.valueSize=c}
Object.assign(Interpolant$$module$js$threejs$three_module.prototype,{evaluate:function(a){const b=this.parameterPositions;let c=this._cachedIndex;var d=b[c],e=b[c-1];a:{b:{c:{d:if(!(a<d)){for(var g=c+2;;){if(void 0===d){if(a<e)break d;this._cachedIndex=c=b.length;return this.afterEnd_(c-1,a,e)}if(c===g)break;e=d;d=b[++c];if(a<d)break b}d=b.length;break c}if(a>=e)break a;else{g=b[1];a<g&&(c=2,e=g);for(g=c-2;;){if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(c===g)break;d=e;e=b[--c-
1];if(a>=e)break b}d=c;c=0}}for(;c<d;)e=c+d>>>1,a<b[e]?d=e:c=e+1;d=b[c];e=b[c-1];if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(void 0===d)return this._cachedIndex=c=b.length,this.afterEnd_(c-1,e,a)}this._cachedIndex=c;this.intervalChanged_(c,e,d)}return this.interpolate_(c,e,a,d)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(a){const b=this.resultBuffer,c=this.sampleValues,d=this.valueSize;a*=
d;for(let e=0;e!==d;++e)b[e]=c[a+e];return b},interpolate_:function(){throw Error("call to abstract method");},intervalChanged_:function(){}});Object.assign(Interpolant$$module$js$threejs$three_module.prototype,{beforeStart_:Interpolant$$module$js$threejs$three_module.prototype.copySampleValue_,afterEnd_:Interpolant$$module$js$threejs$three_module.prototype.copySampleValue_});
function CubicInterpolant$$module$js$threejs$three_module(a,b,c,d){Interpolant$$module$js$threejs$three_module.call(this,a,b,c,d);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}
CubicInterpolant$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Interpolant$$module$js$threejs$three_module.prototype),{constructor:CubicInterpolant$$module$js$threejs$three_module,DefaultSettings_:{endingStart:ZeroCurvatureEnding$$module$js$threejs$three_module,endingEnd:ZeroCurvatureEnding$$module$js$threejs$three_module},intervalChanged_:function(a,b,c){var d=this.parameterPositions;let e=a-2,g=a+1,h=d[e],k=d[g];if(void 0===h)switch(this.getSettings_().endingStart){case ZeroSlopeEnding$$module$js$threejs$three_module:e=
a;h=2*b-c;break;case WrapAroundEnding$$module$js$threejs$three_module:e=d.length-2;h=b+d[e]-d[e+1];break;default:e=a,h=c}if(void 0===k)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding$$module$js$threejs$three_module:g=a;k=2*c-b;break;case WrapAroundEnding$$module$js$threejs$three_module:g=1;k=c+d[1]-d[0];break;default:g=a-1,k=b}a=.5*(c-b);d=this.valueSize;this._weightPrev=a/(b-h);this._weightNext=a/(k-c);this._offsetPrev=e*d;this._offsetNext=g*d},interpolate_:function(a,b,c,d){const e=this.resultBuffer,
g=this.sampleValues,h=this.valueSize;a*=h;const k=a-h,l=this._offsetPrev,m=this._offsetNext;var n=this._weightPrev,p=this._weightNext,t=(c-b)/(d-b);c=t*t;d=c*t;b=-n*d+2*n*c-n*t;n=(1+n)*d+(-1.5-2*n)*c+(-.5+n)*t+1;t=(-1-p)*d+(1.5+p)*c+.5*t;p=p*d-p*c;for(c=0;c!==h;++c)e[c]=b*g[l+c]+n*g[k+c]+t*g[a+c]+p*g[m+c];return e}});function LinearInterpolant$$module$js$threejs$three_module(a,b,c,d){Interpolant$$module$js$threejs$three_module.call(this,a,b,c,d)}
LinearInterpolant$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Interpolant$$module$js$threejs$three_module.prototype),{constructor:LinearInterpolant$$module$js$threejs$three_module,interpolate_:function(a,b,c,d){const e=this.resultBuffer,g=this.sampleValues,h=this.valueSize;a*=h;const k=a-h;b=(c-b)/(d-b);c=1-b;for(d=0;d!==h;++d)e[d]=g[k+d]*c+g[a+d]*b;return e}});
function DiscreteInterpolant$$module$js$threejs$three_module(a,b,c,d){Interpolant$$module$js$threejs$three_module.call(this,a,b,c,d)}DiscreteInterpolant$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Interpolant$$module$js$threejs$three_module.prototype),{constructor:DiscreteInterpolant$$module$js$threejs$three_module,interpolate_:function(a){return this.copySampleValue_(a-1)}});
function KeyframeTrack$$module$js$threejs$three_module(a,b,c,d){if(void 0===a)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===b||0===b.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+a);this.name=a;this.times=AnimationUtils$$module$js$threejs$three_module.convertArray(b,this.TimeBufferType);this.values=AnimationUtils$$module$js$threejs$three_module.convertArray(c,this.ValueBufferType);this.setInterpolation(d||this.DefaultInterpolation)}
Object.assign(KeyframeTrack$$module$js$threejs$three_module,{toJSON:function(a){var b=a.constructor;if(void 0!==b.toJSON)b=b.toJSON(a);else{b={name:a.name,times:AnimationUtils$$module$js$threejs$three_module.convertArray(a.times,Array),values:AnimationUtils$$module$js$threejs$three_module.convertArray(a.values,Array)};const c=a.getInterpolation();c!==a.DefaultInterpolation&&(b.interpolation=c)}b.type=a.ValueTypeName;return b}});
Object.assign(KeyframeTrack$$module$js$threejs$three_module.prototype,{constructor:KeyframeTrack$$module$js$threejs$three_module,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:InterpolateLinear$$module$js$threejs$three_module,InterpolantFactoryMethodDiscrete:function(a){return new DiscreteInterpolant$$module$js$threejs$three_module(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodLinear:function(a){return new LinearInterpolant$$module$js$threejs$three_module(this.times,
this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:function(a){return new CubicInterpolant$$module$js$threejs$three_module(this.times,this.values,this.getValueSize(),a)},setInterpolation:function(a){switch(a){case InterpolateDiscrete$$module$js$threejs$three_module:var b=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear$$module$js$threejs$three_module:b=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth$$module$js$threejs$three_module:b=this.InterpolantFactoryMethodSmooth}if(void 0===
b){b="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(a!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(b);console.warn("THREE.KeyframeTrack:",b);return this}this.createInterpolant=b;return this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete$$module$js$threejs$three_module;case this.InterpolantFactoryMethodLinear:return InterpolateLinear$$module$js$threejs$three_module;
case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth$$module$js$threejs$three_module}},getValueSize:function(){return this.values.length/this.times.length},shift:function(a){if(0!==a){const b=this.times;for(let c=0,d=b.length;c!==d;++c)b[c]+=a}return this},scale:function(a){if(1!==a){const b=this.times;for(let c=0,d=b.length;c!==d;++c)b[c]*=a}return this},trim:function(a,b){const c=this.times,d=c.length;let e=0,g=d-1;for(;e!==d&&c[e]<a;)++e;for(;-1!==g&&c[g]>b;)--g;++g;if(0!==e||g!==
d)e>=g&&(g=Math.max(g,1),e=g-1),a=this.getValueSize(),this.times=AnimationUtils$$module$js$threejs$three_module.arraySlice(c,e,g),this.values=AnimationUtils$$module$js$threejs$three_module.arraySlice(this.values,e*a,g*a);return this},validate:function(){let a=!0;var b=this.getValueSize();0!==b-Math.floor(b)&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),a=!1);var c=this.times;b=this.values;const d=c.length;0===d&&(console.error("THREE.KeyframeTrack: Track is empty.",this),
a=!1);let e=null;for(let g=0;g!==d;g++){const h=c[g];if("number"===typeof h&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,g,h);a=!1;break}if(null!==e&&e>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,g,h,e);a=!1;break}e=h}if(void 0!==b&&AnimationUtils$$module$js$threejs$three_module.isTypedArray(b))for(let g=0,h=b.length;g!==h;++g)if(c=b[g],isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,g,c);a=!1;break}return a},
optimize:function(){const a=AnimationUtils$$module$js$threejs$three_module.arraySlice(this.times),b=AnimationUtils$$module$js$threejs$three_module.arraySlice(this.values),c=this.getValueSize(),d=this.getInterpolation()===InterpolateSmooth$$module$js$threejs$three_module,e=a.length-1;let g=1;for(let m=1;m<e;++m){var h=!1,k=a[m];if(k!==a[m+1]&&(1!==m||k!==k[0]))if(d)h=!0;else{k=m*c;var l=k-c;const n=k+c;for(let p=0;p!==c;++p){const t=b[k+p];if(t!==b[l+p]||t!==b[n+p]){h=!0;break}}}if(h){if(m!==g)for(a[g]=
a[m],h=m*c,k=g*c,l=0;l!==c;++l)b[k+l]=b[h+l];++g}}if(0<e){a[g]=a[e];for(let m=e*c,n=g*c,p=0;p!==c;++p)b[n+p]=b[m+p];++g}g!==a.length?(this.times=AnimationUtils$$module$js$threejs$three_module.arraySlice(a,0,g),this.values=AnimationUtils$$module$js$threejs$three_module.arraySlice(b,0,g*c)):(this.times=a,this.values=b);return this},clone:function(){var a=AnimationUtils$$module$js$threejs$three_module.arraySlice(this.times,0);const b=AnimationUtils$$module$js$threejs$three_module.arraySlice(this.values,
0);a=new this.constructor(this.name,a,b);a.createInterpolant=this.createInterpolant;return a}});function BooleanKeyframeTrack$$module$js$threejs$three_module(a,b,c){KeyframeTrack$$module$js$threejs$three_module.call(this,a,b,c)}
BooleanKeyframeTrack$$module$js$threejs$three_module.prototype=Object.assign(Object.create(KeyframeTrack$$module$js$threejs$three_module.prototype),{constructor:BooleanKeyframeTrack$$module$js$threejs$three_module,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:InterpolateDiscrete$$module$js$threejs$three_module,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});
function ColorKeyframeTrack$$module$js$threejs$three_module(a,b,c,d){KeyframeTrack$$module$js$threejs$three_module.call(this,a,b,c,d)}ColorKeyframeTrack$$module$js$threejs$three_module.prototype=Object.assign(Object.create(KeyframeTrack$$module$js$threejs$three_module.prototype),{constructor:ColorKeyframeTrack$$module$js$threejs$three_module,ValueTypeName:"color"});
function NumberKeyframeTrack$$module$js$threejs$three_module(a,b,c,d){KeyframeTrack$$module$js$threejs$three_module.call(this,a,b,c,d)}NumberKeyframeTrack$$module$js$threejs$three_module.prototype=Object.assign(Object.create(KeyframeTrack$$module$js$threejs$three_module.prototype),{constructor:NumberKeyframeTrack$$module$js$threejs$three_module,ValueTypeName:"number"});
function QuaternionLinearInterpolant$$module$js$threejs$three_module(a,b,c,d){Interpolant$$module$js$threejs$three_module.call(this,a,b,c,d)}
QuaternionLinearInterpolant$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Interpolant$$module$js$threejs$three_module.prototype),{constructor:QuaternionLinearInterpolant$$module$js$threejs$three_module,interpolate_:function(a,b,c,d){const e=this.resultBuffer,g=this.sampleValues,h=this.valueSize;b=(c-b)/(d-b);a*=h;for(c=a+h;a!==c;a+=4)Quaternion$$module$js$threejs$three_module.slerpFlat(e,0,g,a-h,g,a,b);return e}});
function QuaternionKeyframeTrack$$module$js$threejs$three_module(a,b,c,d){KeyframeTrack$$module$js$threejs$three_module.call(this,a,b,c,d)}
QuaternionKeyframeTrack$$module$js$threejs$three_module.prototype=Object.assign(Object.create(KeyframeTrack$$module$js$threejs$three_module.prototype),{constructor:QuaternionKeyframeTrack$$module$js$threejs$three_module,ValueTypeName:"quaternion",DefaultInterpolation:InterpolateLinear$$module$js$threejs$three_module,InterpolantFactoryMethodLinear:function(a){return new QuaternionLinearInterpolant$$module$js$threejs$three_module(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:void 0});
function StringKeyframeTrack$$module$js$threejs$three_module(a,b,c,d){KeyframeTrack$$module$js$threejs$three_module.call(this,a,b,c,d)}
StringKeyframeTrack$$module$js$threejs$three_module.prototype=Object.assign(Object.create(KeyframeTrack$$module$js$threejs$three_module.prototype),{constructor:StringKeyframeTrack$$module$js$threejs$three_module,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:InterpolateDiscrete$$module$js$threejs$three_module,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});
function VectorKeyframeTrack$$module$js$threejs$three_module(a,b,c,d){KeyframeTrack$$module$js$threejs$three_module.call(this,a,b,c,d)}VectorKeyframeTrack$$module$js$threejs$three_module.prototype=Object.assign(Object.create(KeyframeTrack$$module$js$threejs$three_module.prototype),{constructor:VectorKeyframeTrack$$module$js$threejs$three_module,ValueTypeName:"vector"});
function AnimationClip$$module$js$threejs$three_module(a,b,c,d){this.name=a;this.tracks=c;this.duration=void 0!==b?b:-1;this.blendMode=void 0!==d?d:NormalAnimationBlendMode$$module$js$threejs$three_module;this.uuid=MathUtils$$module$js$threejs$three_module.generateUUID();0>this.duration&&this.resetDuration()}
function getTrackTypeForValueTypeName$$module$js$threejs$three_module(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return NumberKeyframeTrack$$module$js$threejs$three_module;case "vector":case "vector2":case "vector3":case "vector4":return VectorKeyframeTrack$$module$js$threejs$three_module;case "color":return ColorKeyframeTrack$$module$js$threejs$three_module;case "quaternion":return QuaternionKeyframeTrack$$module$js$threejs$three_module;case "bool":case "boolean":return BooleanKeyframeTrack$$module$js$threejs$three_module;
case "string":return StringKeyframeTrack$$module$js$threejs$three_module}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+a);}
function parseKeyframeTrack$$module$js$threejs$three_module(a){if(void 0===a.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");const b=getTrackTypeForValueTypeName$$module$js$threejs$three_module(a.type);if(void 0===a.times){const c=[],d=[];AnimationUtils$$module$js$threejs$three_module.flattenJSON(a.keys,c,d,"value");a.times=c;a.values=d}return void 0!==b.parse?b.parse(a):new b(a.name,a.times,a.values,a.interpolation)}
Object.assign(AnimationClip$$module$js$threejs$three_module,{parse:function(a){const b=[],c=a.tracks,d=1/(a.fps||1);for(let e=0,g=c.length;e!==g;++e)b.push(parseKeyframeTrack$$module$js$threejs$three_module(c[e]).scale(d));return new AnimationClip$$module$js$threejs$three_module(a.name,a.duration,b,a.blendMode)},toJSON:function(a){const b=[],c=a.tracks;a={name:a.name,duration:a.duration,tracks:b,uuid:a.uuid,blendMode:a.blendMode};for(let d=0,e=c.length;d!==e;++d)b.push(KeyframeTrack$$module$js$threejs$three_module.toJSON(c[d]));
return a},CreateFromMorphTargetSequence:function(a,b,c,d){const e=b.length,g=[];for(let h=0;h<e;h++){let k=[],l=[];k.push((h+e-1)%e,h,(h+1)%e);l.push(0,1,0);const m=AnimationUtils$$module$js$threejs$three_module.getKeyframeOrder(k);k=AnimationUtils$$module$js$threejs$three_module.sortedArray(k,1,m);l=AnimationUtils$$module$js$threejs$three_module.sortedArray(l,1,m);d||0!==k[0]||(k.push(e),l.push(l[0]));g.push((new NumberKeyframeTrack$$module$js$threejs$three_module(".morphTargetInfluences["+b[h].name+
"]",k,l)).scale(1/c))}return new AnimationClip$$module$js$threejs$three_module(a,-1,g)},findByName:function(a,b){let c=a;Array.isArray(a)||(c=a.geometry&&a.geometry.animations||a.animations);for(a=0;a<c.length;a++)if(c[a].name===b)return c[a];return null},CreateClipsFromMorphTargetSequences:function(a,b,c){const d={},e=/^([\w-]*?)([\d]+)$/;for(let h=0,k=a.length;h<k;h++){const l=a[h];var g=l.name.match(e);if(g&&1<g.length){g=g[1];let m=d[g];m||(d[g]=m=[]);m.push(l)}}a=[];for(const h in d)a.push(AnimationClip$$module$js$threejs$three_module.CreateFromMorphTargetSequence(h,
d[h],b,c));return a},parseAnimation:function(a,b){if(!a)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const c=function(n,p,t,w,x){if(0!==t.length){const A=[],r=[];AnimationUtils$$module$js$threejs$three_module.flattenJSON(t,A,r,w);0!==A.length&&x.push(new n(p,A,r))}},d=[],e=a.name||"default",g=a.fps||30,h=a.blendMode;var k=a.length||-1;a=a.hierarchy||[];for(let n=0;n<a.length;n++){const p=a[n].keys;if(p&&0!==p.length)if(p[0].morphTargets){k={};var l=void 0;for(l=
0;l<p.length;l++)if(p[l].morphTargets)for(var m=0;m<p[l].morphTargets.length;m++)k[p[l].morphTargets[m]]=-1;for(const t in k){m=[];const w=[];for(let x=0;x!==p[l].morphTargets.length;++x){const A=p[l];m.push(A.time);w.push(A.morphTarget===t?1:0)}d.push(new NumberKeyframeTrack$$module$js$threejs$three_module(".morphTargetInfluence["+t+"]",m,w))}k=k.length*(g||1)}else l=".bones["+b[n].name+"]",c(VectorKeyframeTrack$$module$js$threejs$three_module,l+".position",p,"pos",d),c(QuaternionKeyframeTrack$$module$js$threejs$three_module,
l+".quaternion",p,"rot",d),c(VectorKeyframeTrack$$module$js$threejs$three_module,l+".scale",p,"scl",d)}return 0===d.length?null:new AnimationClip$$module$js$threejs$three_module(e,k,d,h)}});
Object.assign(AnimationClip$$module$js$threejs$three_module.prototype,{resetDuration:function(){var a=this.tracks;let b=0;for(let c=0,d=a.length;c!==d;++c)a=this.tracks[c],b=Math.max(b,a.times[a.times.length-1]);this.duration=b;return this},trim:function(){for(let a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this},validate:function(){let a=!0;for(let b=0;b<this.tracks.length;b++)a=a&&this.tracks[b].validate();return a},optimize:function(){for(let a=0;a<this.tracks.length;a++)this.tracks[a].optimize();
return this},clone:function(){const a=[];for(let b=0;b<this.tracks.length;b++)a.push(this.tracks[b].clone());return new AnimationClip$$module$js$threejs$three_module(this.name,this.duration,a,this.blendMode)}});const Cache$$module$js$threejs$three_module={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};
function LoadingManager$$module$js$threejs$three_module(a,b,c){const d=this;let e=!1,g=0,h=0,k=void 0;const l=[];this.onStart=void 0;this.onLoad=a;this.onProgress=b;this.onError=c;this.itemStart=function(m){h++;if(!1===e&&void 0!==d.onStart)d.onStart(m,g,h);e=!0};this.itemEnd=function(m){g++;if(void 0!==d.onProgress)d.onProgress(m,g,h);if(g===h&&(e=!1,void 0!==d.onLoad))d.onLoad()};this.itemError=function(m){if(void 0!==d.onError)d.onError(m)};this.resolveURL=function(m){return k?k(m):m};this.setURLModifier=
function(m){k=m;return this};this.addHandler=function(m,n){l.push(m,n);return this};this.removeHandler=function(m){m=l.indexOf(m);-1!==m&&l.splice(m,2);return this};this.getHandler=function(m){for(let n=0,p=l.length;n<p;n+=2){const t=l[n],w=l[n+1];t.global&&(t.lastIndex=0);if(t.test(m))return w}return null}}const DefaultLoadingManager$$module$js$threejs$three_module=new LoadingManager$$module$js$threejs$three_module;
function Loader$$module$js$threejs$three_module(a){this.manager=void 0!==a?a:DefaultLoadingManager$$module$js$threejs$three_module;this.crossOrigin="anonymous";this.resourcePath=this.path="";this.requestHeader={}}
Object.assign(Loader$$module$js$threejs$three_module.prototype,{load:function(){},loadAsync:function(a,b){const c=this;return new Promise(function(d,e){c.load(a,d,b,e)})},parse:function(){},setCrossOrigin:function(a){this.crossOrigin=a;return this},setPath:function(a){this.path=a;return this},setResourcePath:function(a){this.resourcePath=a;return this},setRequestHeader:function(a){this.requestHeader=a;return this}});const loading$$module$js$threejs$three_module={};
function FileLoader$$module$js$threejs$three_module(a){Loader$$module$js$threejs$three_module.call(this,a)}
FileLoader$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Loader$$module$js$threejs$three_module.prototype),{constructor:FileLoader$$module$js$threejs$three_module,load:function(a,b,c,d){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);const e=this,g=Cache$$module$js$threejs$three_module.get(a);if(void 0!==g)return e.manager.itemStart(a),setTimeout(function(){b&&b(g);e.manager.itemEnd(a)},0),g;if(void 0!==loading$$module$js$threejs$three_module[a])loading$$module$js$threejs$three_module[a].push({onLoad:b,
onProgress:c,onError:d});else{var h=a.match(/^data:(.*?)(;base64)?,(.*)$/);if(h){c=h[1];var k=!!h[2];h=h[3];h=decodeURIComponent(h);k&&(h=atob(h));try{let m;const n=(this.responseType||"").toLowerCase();switch(n){case "arraybuffer":case "blob":const p=new Uint8Array(h.length);for(k=0;k<h.length;k++)p[k]=h.charCodeAt(k);m="blob"===n?new Blob([p.buffer],{type:c}):p.buffer;break;case "document":m=(new DOMParser).parseFromString(h,c);break;case "json":m=JSON.parse(h);break;default:m=h}setTimeout(function(){b&&
b(m);e.manager.itemEnd(a)},0)}catch(m){setTimeout(function(){d&&d(m);e.manager.itemError(a);e.manager.itemEnd(a)},0)}}else{loading$$module$js$threejs$three_module[a]=[];loading$$module$js$threejs$three_module[a].push({onLoad:b,onProgress:c,onError:d});var l=new XMLHttpRequest;l.open("GET",a,!0);l.addEventListener("load",function(m){var n=this.response;const p=loading$$module$js$threejs$three_module[a];delete loading$$module$js$threejs$three_module[a];if(200===this.status||0===this.status){0===this.status&&
console.warn("THREE.FileLoader: HTTP Status 0 received.");Cache$$module$js$threejs$three_module.add(a,n);for(let t=0,w=p.length;t<w;t++)if(m=p[t],m.onLoad)m.onLoad(n)}else{for(let t=0,w=p.length;t<w;t++)if(n=p[t],n.onError)n.onError(m);e.manager.itemError(a)}e.manager.itemEnd(a)},!1);l.addEventListener("progress",function(m){const n=loading$$module$js$threejs$three_module[a];for(let p=0,t=n.length;p<t;p++){const w=n[p];if(w.onProgress)w.onProgress(m)}},!1);l.addEventListener("error",function(m){const n=
loading$$module$js$threejs$three_module[a];delete loading$$module$js$threejs$three_module[a];for(let p=0,t=n.length;p<t;p++){const w=n[p];if(w.onError)w.onError(m)}e.manager.itemError(a);e.manager.itemEnd(a)},!1);l.addEventListener("abort",function(m){const n=loading$$module$js$threejs$three_module[a];delete loading$$module$js$threejs$three_module[a];for(let p=0,t=n.length;p<t;p++){const w=n[p];if(w.onError)w.onError(m)}e.manager.itemError(a);e.manager.itemEnd(a)},!1);void 0!==this.responseType&&
(l.responseType=this.responseType);void 0!==this.withCredentials&&(l.withCredentials=this.withCredentials);l.overrideMimeType&&l.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(k in this.requestHeader)l.setRequestHeader(k,this.requestHeader[k]);l.send(null)}e.manager.itemStart(a);return l}},setResponseType:function(a){this.responseType=a;return this},setWithCredentials:function(a){this.withCredentials=a;return this},setMimeType:function(a){this.mimeType=a;return this}});
function AnimationLoader$$module$js$threejs$three_module(a){Loader$$module$js$threejs$three_module.call(this,a)}
AnimationLoader$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Loader$$module$js$threejs$three_module.prototype),{constructor:AnimationLoader$$module$js$threejs$three_module,load:function(a,b,c,d){const e=this,g=new FileLoader$$module$js$threejs$three_module(e.manager);g.setPath(e.path);g.setRequestHeader(e.requestHeader);g.load(a,function(h){try{b(e.parse(JSON.parse(h)))}catch(k){d?d(k):console.error(k),e.manager.itemError(a)}},c,d)},parse:function(a){const b=[];for(let c=
0;c<a.length;c++){const d=AnimationClip$$module$js$threejs$three_module.parse(a[c]);b.push(d)}return b}});function CompressedTextureLoader$$module$js$threejs$three_module(a){Loader$$module$js$threejs$three_module.call(this,a)}
CompressedTextureLoader$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Loader$$module$js$threejs$three_module.prototype),{constructor:CompressedTextureLoader$$module$js$threejs$three_module,load:function(a,b,c,d){function e(n){l.load(a[n],function(p){p=g.parse(p,!0);h[n]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps};m+=1;6===m&&(1===p.mipmapCount&&(k.minFilter=LinearFilter$$module$js$threejs$three_module),k.format=p.format,k.needsUpdate=!0,b&&b(k))},c,d)}
const g=this,h=[],k=new CompressedTexture$$module$js$threejs$three_module;k.image=h;const l=new FileLoader$$module$js$threejs$three_module(this.manager);l.setPath(this.path);l.setResponseType("arraybuffer");l.setRequestHeader(this.requestHeader);let m=0;if(Array.isArray(a))for(let n=0,p=a.length;n<p;++n)e(n);else l.load(a,function(n){n=g.parse(n,!0);if(n.isCubemap){const p=n.mipmaps.length/n.mipmapCount;for(let t=0;t<p;t++){h[t]={mipmaps:[]};for(let w=0;w<n.mipmapCount;w++)h[t].mipmaps.push(n.mipmaps[t*
n.mipmapCount+w]),h[t].format=n.format,h[t].width=n.width,h[t].height=n.height}}else k.image.width=n.width,k.image.height=n.height,k.mipmaps=n.mipmaps;1===n.mipmapCount&&(k.minFilter=LinearFilter$$module$js$threejs$three_module);k.format=n.format;k.needsUpdate=!0;b&&b(k)},c,d);return k}});function ImageLoader$$module$js$threejs$three_module(a){Loader$$module$js$threejs$three_module.call(this,a)}
ImageLoader$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Loader$$module$js$threejs$three_module.prototype),{constructor:ImageLoader$$module$js$threejs$three_module,load:function(a,b,c,d){function e(){l.removeEventListener("load",e,!1);l.removeEventListener("error",g,!1);Cache$$module$js$threejs$three_module.add(a,this);b&&b(this);h.manager.itemEnd(a)}function g(m){l.removeEventListener("load",e,!1);l.removeEventListener("error",g,!1);d&&d(m);h.manager.itemError(a);h.manager.itemEnd(a)}
void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);const h=this,k=Cache$$module$js$threejs$three_module.get(a);if(void 0!==k)return h.manager.itemStart(a),setTimeout(function(){b&&b(k);h.manager.itemEnd(a)},0),k;const l=document.createElementNS("http://www.w3.org/1999/xhtml","img");l.addEventListener("load",e,!1);l.addEventListener("error",g,!1);"data:"!==a.substr(0,5)&&void 0!==this.crossOrigin&&(l.crossOrigin=this.crossOrigin);h.manager.itemStart(a);l.src=a;return l}});
function CubeTextureLoader$$module$js$threejs$three_module(a){Loader$$module$js$threejs$three_module.call(this,a)}
CubeTextureLoader$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Loader$$module$js$threejs$three_module.prototype),{constructor:CubeTextureLoader$$module$js$threejs$three_module,load:function(a,b,c,d){function e(l){h.load(a[l],function(m){g.images[l]=m;k++;6===k&&(g.needsUpdate=!0,b&&b(g))},void 0,d)}const g=new CubeTexture$$module$js$threejs$three_module,h=new ImageLoader$$module$js$threejs$three_module(this.manager);h.setCrossOrigin(this.crossOrigin);h.setPath(this.path);
let k=0;for(c=0;c<a.length;++c)e(c);return g}});function DataTextureLoader$$module$js$threejs$three_module(a){Loader$$module$js$threejs$three_module.call(this,a)}
DataTextureLoader$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Loader$$module$js$threejs$three_module.prototype),{constructor:DataTextureLoader$$module$js$threejs$three_module,load:function(a,b,c,d){const e=this,g=new DataTexture$$module$js$threejs$three_module,h=new FileLoader$$module$js$threejs$three_module(this.manager);h.setResponseType("arraybuffer");h.setRequestHeader(this.requestHeader);h.setPath(this.path);h.load(a,function(k){if(k=e.parse(k))void 0!==k.image?g.image=
k.image:void 0!==k.data&&(g.image.width=k.width,g.image.height=k.height,g.image.data=k.data),g.wrapS=void 0!==k.wrapS?k.wrapS:ClampToEdgeWrapping$$module$js$threejs$three_module,g.wrapT=void 0!==k.wrapT?k.wrapT:ClampToEdgeWrapping$$module$js$threejs$three_module,g.magFilter=void 0!==k.magFilter?k.magFilter:LinearFilter$$module$js$threejs$three_module,g.minFilter=void 0!==k.minFilter?k.minFilter:LinearFilter$$module$js$threejs$three_module,g.anisotropy=void 0!==k.anisotropy?k.anisotropy:1,void 0!==
k.format&&(g.format=k.format),void 0!==k.type&&(g.type=k.type),void 0!==k.mipmaps&&(g.mipmaps=k.mipmaps,g.minFilter=LinearMipmapLinearFilter$$module$js$threejs$three_module),1===k.mipmapCount&&(g.minFilter=LinearFilter$$module$js$threejs$three_module),g.needsUpdate=!0,b&&b(g,k)},c,d);return g}});function TextureLoader$$module$js$threejs$three_module(a){Loader$$module$js$threejs$three_module.call(this,a)}
TextureLoader$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Loader$$module$js$threejs$three_module.prototype),{constructor:TextureLoader$$module$js$threejs$three_module,load:function(a,b,c,d){const e=new Texture$$module$js$threejs$three_module,g=new ImageLoader$$module$js$threejs$three_module(this.manager);g.setCrossOrigin(this.crossOrigin);g.setPath(this.path);g.load(a,function(h){e.image=h;h=0<a.search(/\.jpe?g($|\?)/i)||0===a.search(/^data:image\/jpeg/);e.format=h?RGBFormat$$module$js$threejs$three_module:
RGBAFormat$$module$js$threejs$three_module;e.needsUpdate=!0;void 0!==b&&b(e)},c,d);return e}});function Curve$$module$js$threejs$three_module(){this.type="Curve";this.arcLengthDivisions=200}
Object.assign(Curve$$module$js$threejs$three_module.prototype,{getPoint:function(){console.warn("THREE.Curve: .getPoint() not implemented.");return null},getPointAt:function(a,b){a=this.getUtoTmapping(a);return this.getPoint(a,b)},getPoints:function(a){void 0===a&&(a=5);const b=[];for(let c=0;c<=a;c++)b.push(this.getPoint(c/a));return b},getSpacedPoints:function(a){void 0===a&&(a=5);const b=[];for(let c=0;c<=a;c++)b.push(this.getPointAt(c/a));return b},getLength:function(){const a=this.getLengths();
return a[a.length-1]},getLengths:function(a){void 0===a&&(a=this.arcLengthDivisions);if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const b=[];let c,d=this.getPoint(0),e=0;b.push(0);for(let g=1;g<=a;g++)c=this.getPoint(g/a),e+=c.distanceTo(d),b.push(e),d=c;return this.cacheArcLengths=b},updateArcLengths:function(){this.needsUpdate=!0;this.getLengths()},getUtoTmapping:function(a,b){const c=this.getLengths(),d=c.length;b=
b?b:a*c[d-1];var e=0;let g=d-1,h;for(;e<=g;)if(a=Math.floor(e+(g-e)/2),h=c[a]-b,0>h)e=a+1;else if(0<h)g=a-1;else{g=a;break}a=g;if(c[a]===b)return a/(d-1);e=c[a];return(a+(b-e)/(c[a+1]-e))/(d-1)},getTangent:function(a,b){var c=a-1E-4;a+=1E-4;0>c&&(c=0);1<a&&(a=1);c=this.getPoint(c);a=this.getPoint(a);b=b||(c.isVector2?new Vector2$$module$js$threejs$three_module:new Vector3$$module$js$threejs$three_module);b.copy(a).sub(c).normalize();return b},getTangentAt:function(a,b){a=this.getUtoTmapping(a);return this.getTangent(a,
b)},computeFrenetFrames:function(a,b){var c=new Vector3$$module$js$threejs$three_module;const d=[],e=[],g=[];var h=new Vector3$$module$js$threejs$three_module;const k=new Matrix4$$module$js$threejs$three_module;for(var l=0;l<=a;l++)d[l]=this.getTangentAt(l/a,new Vector3$$module$js$threejs$three_module),d[l].normalize();e[0]=new Vector3$$module$js$threejs$three_module;g[0]=new Vector3$$module$js$threejs$three_module;l=Number.MAX_VALUE;const m=Math.abs(d[0].x),n=Math.abs(d[0].y),p=Math.abs(d[0].z);
m<=l&&(l=m,c.set(1,0,0));n<=l&&(l=n,c.set(0,1,0));p<=l&&c.set(0,0,1);h.crossVectors(d[0],c).normalize();e[0].crossVectors(d[0],h);g[0].crossVectors(d[0],e[0]);for(c=1;c<=a;c++)e[c]=e[c-1].clone(),g[c]=g[c-1].clone(),h.crossVectors(d[c-1],d[c]),h.length()>Number.EPSILON&&(h.normalize(),l=Math.acos(MathUtils$$module$js$threejs$three_module.clamp(d[c-1].dot(d[c]),-1,1)),e[c].applyMatrix4(k.makeRotationAxis(h,l))),g[c].crossVectors(d[c],e[c]);if(!0===b)for(b=Math.acos(MathUtils$$module$js$threejs$three_module.clamp(e[0].dot(e[a]),
-1,1)),b/=a,0<d[0].dot(h.crossVectors(e[0],e[a]))&&(b=-b),h=1;h<=a;h++)e[h].applyMatrix4(k.makeRotationAxis(d[h],b*h)),g[h].crossVectors(d[h],e[h]);return{tangents:d,normals:e,binormals:g}},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.arcLengthDivisions=a.arcLengthDivisions;return this},toJSON:function(){const a={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};a.arcLengthDivisions=this.arcLengthDivisions;a.type=this.type;return a},fromJSON:function(a){this.arcLengthDivisions=
a.arcLengthDivisions;return this}});function EllipseCurve$$module$js$threejs$three_module(a,b,c,d,e,g,h,k){Curve$$module$js$threejs$three_module.call(this);this.type="EllipseCurve";this.aX=a||0;this.aY=b||0;this.xRadius=c||1;this.yRadius=d||1;this.aStartAngle=e||0;this.aEndAngle=g||2*Math.PI;this.aClockwise=h||!1;this.aRotation=k||0}EllipseCurve$$module$js$threejs$three_module.prototype=Object.create(Curve$$module$js$threejs$three_module.prototype);
EllipseCurve$$module$js$threejs$three_module.prototype.constructor=EllipseCurve$$module$js$threejs$three_module;EllipseCurve$$module$js$threejs$three_module.prototype.isEllipseCurve=!0;
EllipseCurve$$module$js$threejs$three_module.prototype.getPoint=function(a,b){b=b||new Vector2$$module$js$threejs$three_module;for(var c=2*Math.PI,d=this.aEndAngle-this.aStartAngle,e=Math.abs(d)<Number.EPSILON;0>d;)d+=c;for(;d>c;)d-=c;d<Number.EPSILON&&(d=e?0:c);!0!==this.aClockwise||e||(d=d===c?-c:d-c);c=this.aStartAngle+a*d;a=this.aX+this.xRadius*Math.cos(c);var g=this.aY+this.yRadius*Math.sin(c);0!==this.aRotation&&(c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),e=a-this.aX,g-=this.aY,a=
e*c-g*d+this.aX,g=e*d+g*c+this.aY);return b.set(a,g)};EllipseCurve$$module$js$threejs$three_module.prototype.copy=function(a){Curve$$module$js$threejs$three_module.prototype.copy.call(this,a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this};
EllipseCurve$$module$js$threejs$three_module.prototype.toJSON=function(){const a=Curve$$module$js$threejs$three_module.prototype.toJSON.call(this);a.aX=this.aX;a.aY=this.aY;a.xRadius=this.xRadius;a.yRadius=this.yRadius;a.aStartAngle=this.aStartAngle;a.aEndAngle=this.aEndAngle;a.aClockwise=this.aClockwise;a.aRotation=this.aRotation;return a};
EllipseCurve$$module$js$threejs$three_module.prototype.fromJSON=function(a){Curve$$module$js$threejs$three_module.prototype.fromJSON.call(this,a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this};function ArcCurve$$module$js$threejs$three_module(a,b,c,d,e,g){EllipseCurve$$module$js$threejs$three_module.call(this,a,b,c,c,d,e,g);this.type="ArcCurve"}
ArcCurve$$module$js$threejs$three_module.prototype=Object.create(EllipseCurve$$module$js$threejs$three_module.prototype);ArcCurve$$module$js$threejs$three_module.prototype.constructor=ArcCurve$$module$js$threejs$three_module;ArcCurve$$module$js$threejs$three_module.prototype.isArcCurve=!0;
function CubicPoly$$module$js$threejs$three_module(){let a=0,b=0,c=0,d=0;return{initCatmullRom:function(e,g,h,k,l){e=l*(h-e);k=l*(k-g);a=g;b=e;c=-3*g+3*h-2*e-k;d=2*g-2*h+e+k},initNonuniformCatmullRom:function(e,g,h,k,l,m,n){e=((g-e)/l-(h-e)/(l+m)+(h-g)/m)*m;k=((h-g)/m-(k-g)/(m+n)+(k-h)/n)*m;a=g;b=e;c=-3*g+3*h-2*e-k;d=2*g-2*h+e+k},calc:function(e){const g=e*e;return a+b*e+c*g+d*g*e}}}
const tmp$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,px$$module$js$threejs$three_module=new CubicPoly$$module$js$threejs$three_module,py$$module$js$threejs$three_module=new CubicPoly$$module$js$threejs$three_module,pz$$module$js$threejs$three_module=new CubicPoly$$module$js$threejs$three_module;
function CatmullRomCurve3$$module$js$threejs$three_module(a,b,c,d){Curve$$module$js$threejs$three_module.call(this);this.type="CatmullRomCurve3";this.points=a||[];this.closed=b||!1;this.curveType=c||"centripetal";this.tension=void 0!==d?d:.5}CatmullRomCurve3$$module$js$threejs$three_module.prototype=Object.create(Curve$$module$js$threejs$three_module.prototype);CatmullRomCurve3$$module$js$threejs$three_module.prototype.constructor=CatmullRomCurve3$$module$js$threejs$three_module;
CatmullRomCurve3$$module$js$threejs$three_module.prototype.isCatmullRomCurve3=!0;
CatmullRomCurve3$$module$js$threejs$three_module.prototype.getPoint=function(a,b){b=b||new Vector3$$module$js$threejs$three_module;var c=this.points,d=c.length;a*=d-(this.closed?0:1);var e=Math.floor(a);a-=e;this.closed?e+=0<e?0:(Math.floor(Math.abs(e)/d)+1)*d:0===a&&e===d-1&&(e=d-2,a=1);let g;this.closed||0<e?g=c[(e-1)%d]:(tmp$$module$js$threejs$three_module.subVectors(c[0],c[1]).add(c[0]),g=tmp$$module$js$threejs$three_module);const h=c[e%d],k=c[(e+1)%d];this.closed||e+2<d?c=c[(e+2)%d]:(tmp$$module$js$threejs$three_module.subVectors(c[d-
1],c[d-2]).add(c[d-1]),c=tmp$$module$js$threejs$three_module);if("centripetal"===this.curveType||"chordal"===this.curveType){var l="chordal"===this.curveType?.5:.25;d=Math.pow(g.distanceToSquared(h),l);e=Math.pow(h.distanceToSquared(k),l);l=Math.pow(k.distanceToSquared(c),l);1E-4>e&&(e=1);1E-4>d&&(d=e);1E-4>l&&(l=e);px$$module$js$threejs$three_module.initNonuniformCatmullRom(g.x,h.x,k.x,c.x,d,e,l);py$$module$js$threejs$three_module.initNonuniformCatmullRom(g.y,h.y,k.y,c.y,d,e,l);pz$$module$js$threejs$three_module.initNonuniformCatmullRom(g.z,
h.z,k.z,c.z,d,e,l)}else"catmullrom"===this.curveType&&(px$$module$js$threejs$three_module.initCatmullRom(g.x,h.x,k.x,c.x,this.tension),py$$module$js$threejs$three_module.initCatmullRom(g.y,h.y,k.y,c.y,this.tension),pz$$module$js$threejs$three_module.initCatmullRom(g.z,h.z,k.z,c.z,this.tension));b.set(px$$module$js$threejs$three_module.calc(a),py$$module$js$threejs$three_module.calc(a),pz$$module$js$threejs$three_module.calc(a));return b};
CatmullRomCurve3$$module$js$threejs$three_module.prototype.copy=function(a){Curve$$module$js$threejs$three_module.prototype.copy.call(this,a);this.points=[];for(let b=0,c=a.points.length;b<c;b++)this.points.push(a.points[b].clone());this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this};
CatmullRomCurve3$$module$js$threejs$three_module.prototype.toJSON=function(){const a=Curve$$module$js$threejs$three_module.prototype.toJSON.call(this);a.points=[];for(let b=0,c=this.points.length;b<c;b++)a.points.push(this.points[b].toArray());a.closed=this.closed;a.curveType=this.curveType;a.tension=this.tension;return a};
CatmullRomCurve3$$module$js$threejs$three_module.prototype.fromJSON=function(a){Curve$$module$js$threejs$three_module.prototype.fromJSON.call(this,a);this.points=[];for(let b=0,c=a.points.length;b<c;b++){const d=a.points[b];this.points.push((new Vector3$$module$js$threejs$three_module).fromArray(d))}this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this};
function CatmullRom$$module$js$threejs$three_module(a,b,c,d,e){b=.5*(d-b);e=.5*(e-c);const g=a*a;return(2*c-2*d+b+e)*a*g+(-3*c+3*d-2*b-e)*g+b*a+c}function QuadraticBezierP0$$module$js$threejs$three_module(a,b){a=1-a;return a*a*b}function QuadraticBezierP1$$module$js$threejs$three_module(a,b){return 2*(1-a)*a*b}function QuadraticBezierP2$$module$js$threejs$three_module(a,b){return a*a*b}
function QuadraticBezier$$module$js$threejs$three_module(a,b,c,d){return QuadraticBezierP0$$module$js$threejs$three_module(a,b)+QuadraticBezierP1$$module$js$threejs$three_module(a,c)+QuadraticBezierP2$$module$js$threejs$three_module(a,d)}function CubicBezierP0$$module$js$threejs$three_module(a,b){a=1-a;return a*a*a*b}function CubicBezierP1$$module$js$threejs$three_module(a,b){const c=1-a;return 3*c*c*a*b}function CubicBezierP2$$module$js$threejs$three_module(a,b){return 3*(1-a)*a*a*b}
function CubicBezierP3$$module$js$threejs$three_module(a,b){return a*a*a*b}function CubicBezier$$module$js$threejs$three_module(a,b,c,d,e){return CubicBezierP0$$module$js$threejs$three_module(a,b)+CubicBezierP1$$module$js$threejs$three_module(a,c)+CubicBezierP2$$module$js$threejs$three_module(a,d)+CubicBezierP3$$module$js$threejs$three_module(a,e)}
function CubicBezierCurve$$module$js$threejs$three_module(a,b,c,d){Curve$$module$js$threejs$three_module.call(this);this.type="CubicBezierCurve";this.v0=a||new Vector2$$module$js$threejs$three_module;this.v1=b||new Vector2$$module$js$threejs$three_module;this.v2=c||new Vector2$$module$js$threejs$three_module;this.v3=d||new Vector2$$module$js$threejs$three_module}CubicBezierCurve$$module$js$threejs$three_module.prototype=Object.create(Curve$$module$js$threejs$three_module.prototype);
CubicBezierCurve$$module$js$threejs$three_module.prototype.constructor=CubicBezierCurve$$module$js$threejs$three_module;CubicBezierCurve$$module$js$threejs$three_module.prototype.isCubicBezierCurve=!0;
CubicBezierCurve$$module$js$threejs$three_module.prototype.getPoint=function(a,b){b=b||new Vector2$$module$js$threejs$three_module;const c=this.v0,d=this.v1,e=this.v2,g=this.v3;b.set(CubicBezier$$module$js$threejs$three_module(a,c.x,d.x,e.x,g.x),CubicBezier$$module$js$threejs$three_module(a,c.y,d.y,e.y,g.y));return b};
CubicBezierCurve$$module$js$threejs$three_module.prototype.copy=function(a){Curve$$module$js$threejs$three_module.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this};CubicBezierCurve$$module$js$threejs$three_module.prototype.toJSON=function(){const a=Curve$$module$js$threejs$three_module.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a};
CubicBezierCurve$$module$js$threejs$three_module.prototype.fromJSON=function(a){Curve$$module$js$threejs$three_module.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this};
function CubicBezierCurve3$$module$js$threejs$three_module(a,b,c,d){Curve$$module$js$threejs$three_module.call(this);this.type="CubicBezierCurve3";this.v0=a||new Vector3$$module$js$threejs$three_module;this.v1=b||new Vector3$$module$js$threejs$three_module;this.v2=c||new Vector3$$module$js$threejs$three_module;this.v3=d||new Vector3$$module$js$threejs$three_module}CubicBezierCurve3$$module$js$threejs$three_module.prototype=Object.create(Curve$$module$js$threejs$three_module.prototype);
CubicBezierCurve3$$module$js$threejs$three_module.prototype.constructor=CubicBezierCurve3$$module$js$threejs$three_module;CubicBezierCurve3$$module$js$threejs$three_module.prototype.isCubicBezierCurve3=!0;
CubicBezierCurve3$$module$js$threejs$three_module.prototype.getPoint=function(a,b){b=b||new Vector3$$module$js$threejs$three_module;const c=this.v0,d=this.v1,e=this.v2,g=this.v3;b.set(CubicBezier$$module$js$threejs$three_module(a,c.x,d.x,e.x,g.x),CubicBezier$$module$js$threejs$three_module(a,c.y,d.y,e.y,g.y),CubicBezier$$module$js$threejs$three_module(a,c.z,d.z,e.z,g.z));return b};
CubicBezierCurve3$$module$js$threejs$three_module.prototype.copy=function(a){Curve$$module$js$threejs$three_module.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this};CubicBezierCurve3$$module$js$threejs$three_module.prototype.toJSON=function(){const a=Curve$$module$js$threejs$three_module.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a};
CubicBezierCurve3$$module$js$threejs$three_module.prototype.fromJSON=function(a){Curve$$module$js$threejs$three_module.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this};function LineCurve$$module$js$threejs$three_module(a,b){Curve$$module$js$threejs$three_module.call(this);this.type="LineCurve";this.v1=a||new Vector2$$module$js$threejs$three_module;this.v2=b||new Vector2$$module$js$threejs$three_module}
LineCurve$$module$js$threejs$three_module.prototype=Object.create(Curve$$module$js$threejs$three_module.prototype);LineCurve$$module$js$threejs$three_module.prototype.constructor=LineCurve$$module$js$threejs$three_module;LineCurve$$module$js$threejs$three_module.prototype.isLineCurve=!0;LineCurve$$module$js$threejs$three_module.prototype.getPoint=function(a,b){b=b||new Vector2$$module$js$threejs$three_module;1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b};
LineCurve$$module$js$threejs$three_module.prototype.getPointAt=function(a,b){return this.getPoint(a,b)};LineCurve$$module$js$threejs$three_module.prototype.getTangent=function(a,b){a=b||new Vector2$$module$js$threejs$three_module;a.copy(this.v2).sub(this.v1).normalize();return a};LineCurve$$module$js$threejs$three_module.prototype.copy=function(a){Curve$$module$js$threejs$three_module.prototype.copy.call(this,a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};
LineCurve$$module$js$threejs$three_module.prototype.toJSON=function(){const a=Curve$$module$js$threejs$three_module.prototype.toJSON.call(this);a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};LineCurve$$module$js$threejs$three_module.prototype.fromJSON=function(a){Curve$$module$js$threejs$three_module.prototype.fromJSON.call(this,a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};
function LineCurve3$$module$js$threejs$three_module(a,b){Curve$$module$js$threejs$three_module.call(this);this.type="LineCurve3";this.v1=a||new Vector3$$module$js$threejs$three_module;this.v2=b||new Vector3$$module$js$threejs$three_module}LineCurve3$$module$js$threejs$three_module.prototype=Object.create(Curve$$module$js$threejs$three_module.prototype);LineCurve3$$module$js$threejs$three_module.prototype.constructor=LineCurve3$$module$js$threejs$three_module;
LineCurve3$$module$js$threejs$three_module.prototype.isLineCurve3=!0;LineCurve3$$module$js$threejs$three_module.prototype.getPoint=function(a,b){b=b||new Vector3$$module$js$threejs$three_module;1===a?b.copy(this.v2):(b.copy(this.v2).sub(this.v1),b.multiplyScalar(a).add(this.v1));return b};LineCurve3$$module$js$threejs$three_module.prototype.getPointAt=function(a,b){return this.getPoint(a,b)};
LineCurve3$$module$js$threejs$three_module.prototype.copy=function(a){Curve$$module$js$threejs$three_module.prototype.copy.call(this,a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};LineCurve3$$module$js$threejs$three_module.prototype.toJSON=function(){const a=Curve$$module$js$threejs$three_module.prototype.toJSON.call(this);a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};
LineCurve3$$module$js$threejs$three_module.prototype.fromJSON=function(a){Curve$$module$js$threejs$three_module.prototype.fromJSON.call(this,a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};
function QuadraticBezierCurve$$module$js$threejs$three_module(a,b,c){Curve$$module$js$threejs$three_module.call(this);this.type="QuadraticBezierCurve";this.v0=a||new Vector2$$module$js$threejs$three_module;this.v1=b||new Vector2$$module$js$threejs$three_module;this.v2=c||new Vector2$$module$js$threejs$three_module}QuadraticBezierCurve$$module$js$threejs$three_module.prototype=Object.create(Curve$$module$js$threejs$three_module.prototype);
QuadraticBezierCurve$$module$js$threejs$three_module.prototype.constructor=QuadraticBezierCurve$$module$js$threejs$three_module;QuadraticBezierCurve$$module$js$threejs$three_module.prototype.isQuadraticBezierCurve=!0;
QuadraticBezierCurve$$module$js$threejs$three_module.prototype.getPoint=function(a,b){b=b||new Vector2$$module$js$threejs$three_module;const c=this.v0,d=this.v1,e=this.v2;b.set(QuadraticBezier$$module$js$threejs$three_module(a,c.x,d.x,e.x),QuadraticBezier$$module$js$threejs$three_module(a,c.y,d.y,e.y));return b};
QuadraticBezierCurve$$module$js$threejs$three_module.prototype.copy=function(a){Curve$$module$js$threejs$three_module.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};QuadraticBezierCurve$$module$js$threejs$three_module.prototype.toJSON=function(){const a=Curve$$module$js$threejs$three_module.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};
QuadraticBezierCurve$$module$js$threejs$three_module.prototype.fromJSON=function(a){Curve$$module$js$threejs$three_module.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};
function QuadraticBezierCurve3$$module$js$threejs$three_module(a,b,c){Curve$$module$js$threejs$three_module.call(this);this.type="QuadraticBezierCurve3";this.v0=a||new Vector3$$module$js$threejs$three_module;this.v1=b||new Vector3$$module$js$threejs$three_module;this.v2=c||new Vector3$$module$js$threejs$three_module}QuadraticBezierCurve3$$module$js$threejs$three_module.prototype=Object.create(Curve$$module$js$threejs$three_module.prototype);
QuadraticBezierCurve3$$module$js$threejs$three_module.prototype.constructor=QuadraticBezierCurve3$$module$js$threejs$three_module;QuadraticBezierCurve3$$module$js$threejs$three_module.prototype.isQuadraticBezierCurve3=!0;
QuadraticBezierCurve3$$module$js$threejs$three_module.prototype.getPoint=function(a,b){b=b||new Vector3$$module$js$threejs$three_module;const c=this.v0,d=this.v1,e=this.v2;b.set(QuadraticBezier$$module$js$threejs$three_module(a,c.x,d.x,e.x),QuadraticBezier$$module$js$threejs$three_module(a,c.y,d.y,e.y),QuadraticBezier$$module$js$threejs$three_module(a,c.z,d.z,e.z));return b};
QuadraticBezierCurve3$$module$js$threejs$three_module.prototype.copy=function(a){Curve$$module$js$threejs$three_module.prototype.copy.call(this,a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this};QuadraticBezierCurve3$$module$js$threejs$three_module.prototype.toJSON=function(){const a=Curve$$module$js$threejs$three_module.prototype.toJSON.call(this);a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a};
QuadraticBezierCurve3$$module$js$threejs$three_module.prototype.fromJSON=function(a){Curve$$module$js$threejs$three_module.prototype.fromJSON.call(this,a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this};function SplineCurve$$module$js$threejs$three_module(a){Curve$$module$js$threejs$three_module.call(this);this.type="SplineCurve";this.points=a||[]}SplineCurve$$module$js$threejs$three_module.prototype=Object.create(Curve$$module$js$threejs$three_module.prototype);
SplineCurve$$module$js$threejs$three_module.prototype.constructor=SplineCurve$$module$js$threejs$three_module;SplineCurve$$module$js$threejs$three_module.prototype.isSplineCurve=!0;
SplineCurve$$module$js$threejs$three_module.prototype.getPoint=function(a,b){b=b||new Vector2$$module$js$threejs$three_module;var c=this.points,d=(c.length-1)*a;a=Math.floor(d);d-=a;const e=c[0===a?a:a-1],g=c[a],h=c[a>c.length-2?c.length-1:a+1];c=c[a>c.length-3?c.length-1:a+2];b.set(CatmullRom$$module$js$threejs$three_module(d,e.x,g.x,h.x,c.x),CatmullRom$$module$js$threejs$three_module(d,e.y,g.y,h.y,c.y));return b};
SplineCurve$$module$js$threejs$three_module.prototype.copy=function(a){Curve$$module$js$threejs$three_module.prototype.copy.call(this,a);this.points=[];for(let b=0,c=a.points.length;b<c;b++)this.points.push(a.points[b].clone());return this};SplineCurve$$module$js$threejs$three_module.prototype.toJSON=function(){const a=Curve$$module$js$threejs$three_module.prototype.toJSON.call(this);a.points=[];for(let b=0,c=this.points.length;b<c;b++)a.points.push(this.points[b].toArray());return a};
SplineCurve$$module$js$threejs$three_module.prototype.fromJSON=function(a){Curve$$module$js$threejs$three_module.prototype.fromJSON.call(this,a);this.points=[];for(let b=0,c=a.points.length;b<c;b++){const d=a.points[b];this.points.push((new Vector2$$module$js$threejs$three_module).fromArray(d))}return this};
var Curves$$module$js$threejs$three_module=Object.freeze({__proto__:null,ArcCurve:ArcCurve$$module$js$threejs$three_module,CatmullRomCurve3:CatmullRomCurve3$$module$js$threejs$three_module,CubicBezierCurve:CubicBezierCurve$$module$js$threejs$three_module,CubicBezierCurve3:CubicBezierCurve3$$module$js$threejs$three_module,EllipseCurve:EllipseCurve$$module$js$threejs$three_module,LineCurve:LineCurve$$module$js$threejs$three_module,LineCurve3:LineCurve3$$module$js$threejs$three_module,QuadraticBezierCurve:QuadraticBezierCurve$$module$js$threejs$three_module,
QuadraticBezierCurve3:QuadraticBezierCurve3$$module$js$threejs$three_module,SplineCurve:SplineCurve$$module$js$threejs$three_module});function CurvePath$$module$js$threejs$three_module(){Curve$$module$js$threejs$three_module.call(this);this.type="CurvePath";this.curves=[];this.autoClose=!1}
CurvePath$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Curve$$module$js$threejs$three_module.prototype),{constructor:CurvePath$$module$js$threejs$three_module,add:function(a){this.curves.push(a)},closePath:function(){const a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new LineCurve$$module$js$threejs$three_module(b,a))},getPoint:function(a){var b=a*this.getLength(),c=this.getCurveLengths();for(a=0;a<c.length;){if(c[a]>=
b)return b=c[a]-b,a=this.curves[a],c=a.getLength(),a.getPointAt(0===c?0:1-b/c);a++}return null},getLength:function(){const a=this.getCurveLengths();return a[a.length-1]},updateArcLengths:function(){this.needsUpdate=!0;this.cacheLengths=null;this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const a=[];let b=0;for(let c=0,d=this.curves.length;c<d;c++)b+=this.curves[c].getLength(),a.push(b);return this.cacheLengths=
a},getSpacedPoints:function(a){void 0===a&&(a=40);const b=[];for(let c=0;c<=a;c++)b.push(this.getPoint(c/a));this.autoClose&&b.push(b[0]);return b},getPoints:function(a){a=a||12;const b=[];let c;for(let e=0,g=this.curves;e<g.length;e++){var d=g[e];d=d.getPoints(d&&d.isEllipseCurve?2*a:d&&(d.isLineCurve||d.isLineCurve3)?1:d&&d.isSplineCurve?a*d.points.length:a);for(let h=0;h<d.length;h++){const k=d[h];c&&c.equals(k)||(b.push(k),c=k)}}this.autoClose&&1<b.length&&!b[b.length-1].equals(b[0])&&b.push(b[0]);
return b},copy:function(a){Curve$$module$js$threejs$three_module.prototype.copy.call(this,a);this.curves=[];for(let b=0,c=a.curves.length;b<c;b++)this.curves.push(a.curves[b].clone());this.autoClose=a.autoClose;return this},toJSON:function(){const a=Curve$$module$js$threejs$three_module.prototype.toJSON.call(this);a.autoClose=this.autoClose;a.curves=[];for(let b=0,c=this.curves.length;b<c;b++)a.curves.push(this.curves[b].toJSON());return a},fromJSON:function(a){Curve$$module$js$threejs$three_module.prototype.fromJSON.call(this,
a);this.autoClose=a.autoClose;this.curves=[];for(let b=0,c=a.curves.length;b<c;b++){const d=a.curves[b];this.curves.push((new Curves$$module$js$threejs$three_module[d.type]).fromJSON(d))}return this}});function Path$$module$js$threejs$three_module(a){CurvePath$$module$js$threejs$three_module.call(this);this.type="Path";this.currentPoint=new Vector2$$module$js$threejs$three_module;a&&this.setFromPoints(a)}
Path$$module$js$threejs$three_module.prototype=Object.assign(Object.create(CurvePath$$module$js$threejs$three_module.prototype),{constructor:Path$$module$js$threejs$three_module,setFromPoints:function(a){this.moveTo(a[0].x,a[0].y);for(let b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y);return this},moveTo:function(a,b){this.currentPoint.set(a,b);return this},lineTo:function(a,b){const c=new LineCurve$$module$js$threejs$three_module(this.currentPoint.clone(),new Vector2$$module$js$threejs$three_module(a,
b));this.curves.push(c);this.currentPoint.set(a,b);return this},quadraticCurveTo:function(a,b,c,d){a=new QuadraticBezierCurve$$module$js$threejs$three_module(this.currentPoint.clone(),new Vector2$$module$js$threejs$three_module(a,b),new Vector2$$module$js$threejs$three_module(c,d));this.curves.push(a);this.currentPoint.set(c,d);return this},bezierCurveTo:function(a,b,c,d,e,g){a=new CubicBezierCurve$$module$js$threejs$three_module(this.currentPoint.clone(),new Vector2$$module$js$threejs$three_module(a,
b),new Vector2$$module$js$threejs$three_module(c,d),new Vector2$$module$js$threejs$three_module(e,g));this.curves.push(a);this.currentPoint.set(e,g);return this},splineThru:function(a){var b=[this.currentPoint.clone()].concat(a);b=new SplineCurve$$module$js$threejs$three_module(b);this.curves.push(b);this.currentPoint.copy(a[a.length-1]);return this},arc:function(a,b,c,d,e,g){this.absarc(a+this.currentPoint.x,b+this.currentPoint.y,c,d,e,g);return this},absarc:function(a,b,c,d,e,g){this.absellipse(a,
b,c,c,d,e,g);return this},ellipse:function(a,b,c,d,e,g,h,k){this.absellipse(a+this.currentPoint.x,b+this.currentPoint.y,c,d,e,g,h,k);return this},absellipse:function(a,b,c,d,e,g,h,k){a=new EllipseCurve$$module$js$threejs$three_module(a,b,c,d,e,g,h,k);0<this.curves.length&&(b=a.getPoint(0),b.equals(this.currentPoint)||this.lineTo(b.x,b.y));this.curves.push(a);a=a.getPoint(1);this.currentPoint.copy(a);return this},copy:function(a){CurvePath$$module$js$threejs$three_module.prototype.copy.call(this,a);
this.currentPoint.copy(a.currentPoint);return this},toJSON:function(){const a=CurvePath$$module$js$threejs$three_module.prototype.toJSON.call(this);a.currentPoint=this.currentPoint.toArray();return a},fromJSON:function(a){CurvePath$$module$js$threejs$three_module.prototype.fromJSON.call(this,a);this.currentPoint.fromArray(a.currentPoint);return this}});
function Shape$$module$js$threejs$three_module(a){Path$$module$js$threejs$three_module.call(this,a);this.uuid=MathUtils$$module$js$threejs$three_module.generateUUID();this.type="Shape";this.holes=[]}
Shape$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Path$$module$js$threejs$three_module.prototype),{constructor:Shape$$module$js$threejs$three_module,getPointsHoles:function(a){const b=[];for(let c=0,d=this.holes.length;c<d;c++)b[c]=this.holes[c].getPoints(a);return b},extractPoints:function(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}},copy:function(a){Path$$module$js$threejs$three_module.prototype.copy.call(this,a);this.holes=[];for(let b=0,c=a.holes.length;b<
c;b++)this.holes.push(a.holes[b].clone());return this},toJSON:function(){const a=Path$$module$js$threejs$three_module.prototype.toJSON.call(this);a.uuid=this.uuid;a.holes=[];for(let b=0,c=this.holes.length;b<c;b++)a.holes.push(this.holes[b].toJSON());return a},fromJSON:function(a){Path$$module$js$threejs$three_module.prototype.fromJSON.call(this,a);this.uuid=a.uuid;this.holes=[];for(let b=0,c=a.holes.length;b<c;b++){const d=a.holes[b];this.holes.push((new Path$$module$js$threejs$three_module).fromJSON(d))}return this}});
function Light$$module$js$threejs$three_module(a,b){Object3D$$module$js$threejs$three_module.call(this);this.type="Light";this.color=new Color$$module$js$threejs$three_module(a);this.intensity=void 0!==b?b:1;this.receiveShadow=void 0}
Light$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Object3D$$module$js$threejs$three_module.prototype),{constructor:Light$$module$js$threejs$three_module,isLight:!0,copy:function(a){Object3D$$module$js$threejs$three_module.prototype.copy.call(this,a);this.color.copy(a.color);this.intensity=a.intensity;return this},toJSON:function(a){a=Object3D$$module$js$threejs$three_module.prototype.toJSON.call(this,a);a.object.color=this.color.getHex();a.object.intensity=this.intensity;
void 0!==this.groundColor&&(a.object.groundColor=this.groundColor.getHex());void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&(a.object.penumbra=this.penumbra);void 0!==this.shadow&&(a.object.shadow=this.shadow.toJSON());return a}});
function HemisphereLight$$module$js$threejs$three_module(a,b,c){Light$$module$js$threejs$three_module.call(this,a,c);this.type="HemisphereLight";this.castShadow=void 0;this.position.copy(Object3D$$module$js$threejs$three_module.DefaultUp);this.updateMatrix();this.groundColor=new Color$$module$js$threejs$three_module(b)}
HemisphereLight$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Light$$module$js$threejs$three_module.prototype),{constructor:HemisphereLight$$module$js$threejs$three_module,isHemisphereLight:!0,copy:function(a){Light$$module$js$threejs$three_module.prototype.copy.call(this,a);this.groundColor.copy(a.groundColor);return this}});
function LightShadow$$module$js$threejs$three_module(a){this.camera=a;this.normalBias=this.bias=0;this.radius=1;this.mapSize=new Vector2$$module$js$threejs$three_module(512,512);this.mapPass=this.map=null;this.matrix=new Matrix4$$module$js$threejs$three_module;this.autoUpdate=!0;this.needsUpdate=!1;this._frustum=new Frustum$$module$js$threejs$three_module;this._frameExtents=new Vector2$$module$js$threejs$three_module(1,1);this._viewportCount=1;this._viewports=[new Vector4$$module$js$threejs$three_module(0,
0,1,1)]}
Object.assign(LightShadow$$module$js$threejs$three_module.prototype,{_projScreenMatrix:new Matrix4$$module$js$threejs$three_module,_lightPositionWorld:new Vector3$$module$js$threejs$three_module,_lookTarget:new Vector3$$module$js$threejs$three_module,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(a){const b=this.camera,c=this.matrix,d=this._projScreenMatrix,e=this._lookTarget,g=this._lightPositionWorld;g.setFromMatrixPosition(a.matrixWorld);b.position.copy(g);
e.setFromMatrixPosition(a.target.matrixWorld);b.lookAt(e);b.updateMatrixWorld();d.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse);this._frustum.setFromProjectionMatrix(d);c.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);c.multiply(b.projectionMatrix);c.multiply(b.matrixWorldInverse)},getViewport:function(a){return this._viewports[a]},getFrameExtents:function(){return this._frameExtents},copy:function(a){this.camera=a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);
return this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const a={};0!==this.bias&&(a.bias=this.bias);0!==this.normalBias&&(a.normalBias=this.normalBias);1!==this.radius&&(a.radius=this.radius);if(512!==this.mapSize.x||512!==this.mapSize.y)a.mapSize=this.mapSize.toArray();a.camera=this.camera.toJSON(!1).object;delete a.camera.matrix;return a}});
function SpotLightShadow$$module$js$threejs$three_module(){LightShadow$$module$js$threejs$three_module.call(this,new PerspectiveCamera$$module$js$threejs$three_module(50,1,.5,500))}
SpotLightShadow$$module$js$threejs$three_module.prototype=Object.assign(Object.create(LightShadow$$module$js$threejs$three_module.prototype),{constructor:SpotLightShadow$$module$js$threejs$three_module,isSpotLightShadow:!0,updateMatrices:function(a){const b=this.camera,c=2*MathUtils$$module$js$threejs$three_module.RAD2DEG*a.angle,d=this.mapSize.width/this.mapSize.height,e=a.distance||b.far;if(c!==b.fov||d!==b.aspect||e!==b.far)b.fov=c,b.aspect=d,b.far=e,b.updateProjectionMatrix();LightShadow$$module$js$threejs$three_module.prototype.updateMatrices.call(this,
a)}});
function SpotLight$$module$js$threejs$three_module(a,b,c,d,e,g){Light$$module$js$threejs$three_module.call(this,a,b);this.type="SpotLight";this.position.copy(Object3D$$module$js$threejs$three_module.DefaultUp);this.updateMatrix();this.target=new Object3D$$module$js$threejs$three_module;Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(h){this.intensity=h/Math.PI}});this.distance=void 0!==c?c:0;this.angle=void 0!==d?d:Math.PI/3;this.penumbra=void 0!==e?
e:0;this.decay=void 0!==g?g:1;this.shadow=new SpotLightShadow$$module$js$threejs$three_module}
SpotLight$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Light$$module$js$threejs$three_module.prototype),{constructor:SpotLight$$module$js$threejs$three_module,isSpotLight:!0,copy:function(a){Light$$module$js$threejs$three_module.prototype.copy.call(this,a);this.distance=a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});
function PointLightShadow$$module$js$threejs$three_module(){LightShadow$$module$js$threejs$three_module.call(this,new PerspectiveCamera$$module$js$threejs$three_module(90,1,.5,500));this._frameExtents=new Vector2$$module$js$threejs$three_module(4,2);this._viewportCount=6;this._viewports=[new Vector4$$module$js$threejs$three_module(2,1,1,1),new Vector4$$module$js$threejs$three_module(0,1,1,1),new Vector4$$module$js$threejs$three_module(3,1,1,1),new Vector4$$module$js$threejs$three_module(1,1,1,1),
new Vector4$$module$js$threejs$three_module(3,0,1,1),new Vector4$$module$js$threejs$three_module(1,0,1,1)];this._cubeDirections=[new Vector3$$module$js$threejs$three_module(1,0,0),new Vector3$$module$js$threejs$three_module(-1,0,0),new Vector3$$module$js$threejs$three_module(0,0,1),new Vector3$$module$js$threejs$three_module(0,0,-1),new Vector3$$module$js$threejs$three_module(0,1,0),new Vector3$$module$js$threejs$three_module(0,-1,0)];this._cubeUps=[new Vector3$$module$js$threejs$three_module(0,1,
0),new Vector3$$module$js$threejs$three_module(0,1,0),new Vector3$$module$js$threejs$three_module(0,1,0),new Vector3$$module$js$threejs$three_module(0,1,0),new Vector3$$module$js$threejs$three_module(0,0,1),new Vector3$$module$js$threejs$three_module(0,0,-1)]}
PointLightShadow$$module$js$threejs$three_module.prototype=Object.assign(Object.create(LightShadow$$module$js$threejs$three_module.prototype),{constructor:PointLightShadow$$module$js$threejs$three_module,isPointLightShadow:!0,updateMatrices:function(a,b){void 0===b&&(b=0);const c=this.camera,d=this.matrix,e=this._lightPositionWorld,g=this._lookTarget,h=this._projScreenMatrix;e.setFromMatrixPosition(a.matrixWorld);c.position.copy(e);g.copy(c.position);g.add(this._cubeDirections[b]);c.up.copy(this._cubeUps[b]);
c.lookAt(g);c.updateMatrixWorld();d.makeTranslation(-e.x,-e.y,-e.z);h.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse);this._frustum.setFromProjectionMatrix(h)}});
function PointLight$$module$js$threejs$three_module(a,b,c,d){Light$$module$js$threejs$three_module.call(this,a,b);this.type="PointLight";Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}});this.distance=void 0!==c?c:0;this.decay=void 0!==d?d:1;this.shadow=new PointLightShadow$$module$js$threejs$three_module}
PointLight$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Light$$module$js$threejs$three_module.prototype),{constructor:PointLight$$module$js$threejs$three_module,isPointLight:!0,copy:function(a){Light$$module$js$threejs$three_module.prototype.copy.call(this,a);this.distance=a.distance;this.decay=a.decay;this.shadow=a.shadow.clone();return this}});
function OrthographicCamera$$module$js$threejs$three_module(a,b,c,d,e,g){Camera$$module$js$threejs$three_module.call(this);this.type="OrthographicCamera";this.zoom=1;this.view=null;this.left=void 0!==a?a:-1;this.right=void 0!==b?b:1;this.top=void 0!==c?c:1;this.bottom=void 0!==d?d:-1;this.near=void 0!==e?e:.1;this.far=void 0!==g?g:2E3;this.updateProjectionMatrix()}
OrthographicCamera$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Camera$$module$js$threejs$three_module.prototype),{constructor:OrthographicCamera$$module$js$threejs$three_module,isOrthographicCamera:!0,copy:function(a,b){Camera$$module$js$threejs$three_module.prototype.copy.call(this,a,b);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;this.view=null===a.view?null:Object.assign({},a.view);return this},
setViewOffset:function(a,b,c,d,e,g){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=b;this.view.offsetX=c;this.view.offsetY=d;this.view.width=e;this.view.height=g;this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-
this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,d=(this.top+this.bottom)/2;let e=c-a;c+=a;a=d+b;b=d-b;null!==this.view&&this.view.enabled&&(d=(this.right-this.left)/this.view.fullWidth/this.zoom,b=(this.top-this.bottom)/this.view.fullHeight/this.zoom,e+=d*this.view.offsetX,c=e+d*this.view.width,a-=b*this.view.offsetY,b=a-b*this.view.height);this.projectionMatrix.makeOrthographic(e,c,a,b,this.near,this.far);this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(a){a=
Object3D$$module$js$threejs$three_module.prototype.toJSON.call(this,a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;null!==this.view&&(a.object.view=Object.assign({},this.view));return a}});
function DirectionalLightShadow$$module$js$threejs$three_module(){LightShadow$$module$js$threejs$three_module.call(this,new OrthographicCamera$$module$js$threejs$three_module(-5,5,5,-5,.5,500))}
DirectionalLightShadow$$module$js$threejs$three_module.prototype=Object.assign(Object.create(LightShadow$$module$js$threejs$three_module.prototype),{constructor:DirectionalLightShadow$$module$js$threejs$three_module,isDirectionalLightShadow:!0,updateMatrices:function(a){LightShadow$$module$js$threejs$three_module.prototype.updateMatrices.call(this,a)}});
function DirectionalLight$$module$js$threejs$three_module(a,b){Light$$module$js$threejs$three_module.call(this,a,b);this.type="DirectionalLight";this.position.copy(Object3D$$module$js$threejs$three_module.DefaultUp);this.updateMatrix();this.target=new Object3D$$module$js$threejs$three_module;this.shadow=new DirectionalLightShadow$$module$js$threejs$three_module}
DirectionalLight$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Light$$module$js$threejs$three_module.prototype),{constructor:DirectionalLight$$module$js$threejs$three_module,isDirectionalLight:!0,copy:function(a){Light$$module$js$threejs$three_module.prototype.copy.call(this,a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});
function AmbientLight$$module$js$threejs$three_module(a,b){Light$$module$js$threejs$three_module.call(this,a,b);this.type="AmbientLight";this.castShadow=void 0}AmbientLight$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Light$$module$js$threejs$three_module.prototype),{constructor:AmbientLight$$module$js$threejs$three_module,isAmbientLight:!0});
function RectAreaLight$$module$js$threejs$three_module(a,b,c,d){Light$$module$js$threejs$three_module.call(this,a,b);this.type="RectAreaLight";this.width=void 0!==c?c:10;this.height=void 0!==d?d:10}
RectAreaLight$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Light$$module$js$threejs$three_module.prototype),{constructor:RectAreaLight$$module$js$threejs$three_module,isRectAreaLight:!0,copy:function(a){Light$$module$js$threejs$three_module.prototype.copy.call(this,a);this.width=a.width;this.height=a.height;return this},toJSON:function(a){a=Light$$module$js$threejs$three_module.prototype.toJSON.call(this,a);a.object.width=this.width;a.object.height=this.height;return a}});
class SphericalHarmonics3$$module$js$threejs$three_module{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0});this.coefficients=[];for(let a=0;9>a;a++)this.coefficients.push(new Vector3$$module$js$threejs$three_module)}set(a){for(let b=0;9>b;b++)this.coefficients[b].copy(a[b]);return this}zero(){for(let a=0;9>a;a++)this.coefficients[a].set(0,0,0);return this}getAt(a,b){const c=a.x,d=a.y;a=a.z;const e=this.coefficients;b.copy(e[0]).multiplyScalar(.282095);b.addScaledVector(e[1],
.488603*d);b.addScaledVector(e[2],.488603*a);b.addScaledVector(e[3],.488603*c);b.addScaledVector(e[4],1.092548*c*d);b.addScaledVector(e[5],1.092548*d*a);b.addScaledVector(e[6],.315392*(3*a*a-1));b.addScaledVector(e[7],1.092548*c*a);b.addScaledVector(e[8],.546274*(c*c-d*d));return b}getIrradianceAt(a,b){const c=a.x,d=a.y;a=a.z;const e=this.coefficients;b.copy(e[0]).multiplyScalar(.886227);b.addScaledVector(e[1],1.023328*d);b.addScaledVector(e[2],1.023328*a);b.addScaledVector(e[3],1.023328*c);b.addScaledVector(e[4],
.858086*c*d);b.addScaledVector(e[5],.858086*d*a);b.addScaledVector(e[6],.743125*a*a-.247708);b.addScaledVector(e[7],.858086*c*a);b.addScaledVector(e[8],.429043*(c*c-d*d));return b}add(a){for(let b=0;9>b;b++)this.coefficients[b].add(a.coefficients[b]);return this}addScaledSH(a,b){for(let c=0;9>c;c++)this.coefficients[c].addScaledVector(a.coefficients[c],b);return this}scale(a){for(let b=0;9>b;b++)this.coefficients[b].multiplyScalar(a);return this}lerp(a,b){for(let c=0;9>c;c++)this.coefficients[c].lerp(a.coefficients[c],
b);return this}equals(a){for(let b=0;9>b;b++)if(!this.coefficients[b].equals(a.coefficients[b]))return!1;return!0}copy(a){return this.set(a.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(a,b){void 0===b&&(b=0);const c=this.coefficients;for(let d=0;9>d;d++)c[d].fromArray(a,b+3*d);return this}toArray(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);const c=this.coefficients;for(let d=0;9>d;d++)c[d].toArray(a,b+3*d);return a}static getBasisAt(a,b){const c=a.x,d=a.y;a=a.z;b[0]=.282095;
b[1]=.488603*d;b[2]=.488603*a;b[3]=.488603*c;b[4]=1.092548*c*d;b[5]=1.092548*d*a;b[6]=.315392*(3*a*a-1);b[7]=1.092548*c*a;b[8]=.546274*(c*c-d*d)}}function LightProbe$$module$js$threejs$three_module(a,b){Light$$module$js$threejs$three_module.call(this,void 0,b);this.type="LightProbe";this.sh=void 0!==a?a:new SphericalHarmonics3$$module$js$threejs$three_module}
LightProbe$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Light$$module$js$threejs$three_module.prototype),{constructor:LightProbe$$module$js$threejs$three_module,isLightProbe:!0,copy:function(a){Light$$module$js$threejs$three_module.prototype.copy.call(this,a);this.sh.copy(a.sh);return this},fromJSON:function(a){this.intensity=a.intensity;this.sh.fromArray(a.sh);return this},toJSON:function(a){a=Light$$module$js$threejs$three_module.prototype.toJSON.call(this,a);a.object.sh=
this.sh.toArray();return a}});function MaterialLoader$$module$js$threejs$three_module(a){Loader$$module$js$threejs$three_module.call(this,a);this.textures={}}
MaterialLoader$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Loader$$module$js$threejs$three_module.prototype),{constructor:MaterialLoader$$module$js$threejs$three_module,load:function(a,b,c,d){const e=this,g=new FileLoader$$module$js$threejs$three_module(e.manager);g.setPath(e.path);g.setRequestHeader(e.requestHeader);g.load(a,function(h){try{b(e.parse(JSON.parse(h)))}catch(k){d?d(k):console.error(k),e.manager.itemError(a)}},c,d)},parse:function(a){function b(g){void 0===
c[g]&&console.warn("THREE.MaterialLoader: Undefined texture",g);return c[g]}const c=this.textures,d=new Materials$$module$js$threejs$three_module[a.type];void 0!==a.uuid&&(d.uuid=a.uuid);void 0!==a.name&&(d.name=a.name);void 0!==a.color&&d.color.setHex(a.color);void 0!==a.roughness&&(d.roughness=a.roughness);void 0!==a.metalness&&(d.metalness=a.metalness);void 0!==a.sheen&&(d.sheen=(new Color$$module$js$threejs$three_module).setHex(a.sheen));void 0!==a.emissive&&d.emissive.setHex(a.emissive);void 0!==
a.specular&&d.specular.setHex(a.specular);void 0!==a.shininess&&(d.shininess=a.shininess);void 0!==a.clearcoat&&(d.clearcoat=a.clearcoat);void 0!==a.clearcoatRoughness&&(d.clearcoatRoughness=a.clearcoatRoughness);void 0!==a.fog&&(d.fog=a.fog);void 0!==a.flatShading&&(d.flatShading=a.flatShading);void 0!==a.blending&&(d.blending=a.blending);void 0!==a.combine&&(d.combine=a.combine);void 0!==a.side&&(d.side=a.side);void 0!==a.opacity&&(d.opacity=a.opacity);void 0!==a.transparent&&(d.transparent=a.transparent);
void 0!==a.alphaTest&&(d.alphaTest=a.alphaTest);void 0!==a.depthTest&&(d.depthTest=a.depthTest);void 0!==a.depthWrite&&(d.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(d.colorWrite=a.colorWrite);void 0!==a.stencilWrite&&(d.stencilWrite=a.stencilWrite);void 0!==a.stencilWriteMask&&(d.stencilWriteMask=a.stencilWriteMask);void 0!==a.stencilFunc&&(d.stencilFunc=a.stencilFunc);void 0!==a.stencilRef&&(d.stencilRef=a.stencilRef);void 0!==a.stencilFuncMask&&(d.stencilFuncMask=a.stencilFuncMask);void 0!==
a.stencilFail&&(d.stencilFail=a.stencilFail);void 0!==a.stencilZFail&&(d.stencilZFail=a.stencilZFail);void 0!==a.stencilZPass&&(d.stencilZPass=a.stencilZPass);void 0!==a.wireframe&&(d.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&(d.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.wireframeLinecap&&(d.wireframeLinecap=a.wireframeLinecap);void 0!==a.wireframeLinejoin&&(d.wireframeLinejoin=a.wireframeLinejoin);void 0!==a.rotation&&(d.rotation=a.rotation);1!==a.linewidth&&(d.linewidth=a.linewidth);
void 0!==a.dashSize&&(d.dashSize=a.dashSize);void 0!==a.gapSize&&(d.gapSize=a.gapSize);void 0!==a.scale&&(d.scale=a.scale);void 0!==a.polygonOffset&&(d.polygonOffset=a.polygonOffset);void 0!==a.polygonOffsetFactor&&(d.polygonOffsetFactor=a.polygonOffsetFactor);void 0!==a.polygonOffsetUnits&&(d.polygonOffsetUnits=a.polygonOffsetUnits);void 0!==a.skinning&&(d.skinning=a.skinning);void 0!==a.morphTargets&&(d.morphTargets=a.morphTargets);void 0!==a.morphNormals&&(d.morphNormals=a.morphNormals);void 0!==
a.dithering&&(d.dithering=a.dithering);void 0!==a.vertexTangents&&(d.vertexTangents=a.vertexTangents);void 0!==a.visible&&(d.visible=a.visible);void 0!==a.toneMapped&&(d.toneMapped=a.toneMapped);void 0!==a.userData&&(d.userData=a.userData);void 0!==a.vertexColors&&(d.vertexColors="number"===typeof a.vertexColors?0<a.vertexColors?!0:!1:a.vertexColors);if(void 0!==a.uniforms)for(var e in a.uniforms){const g=a.uniforms[e];d.uniforms[e]={};switch(g.type){case "t":d.uniforms[e].value=b(g.value);break;
case "c":d.uniforms[e].value=(new Color$$module$js$threejs$three_module).setHex(g.value);break;case "v2":d.uniforms[e].value=(new Vector2$$module$js$threejs$three_module).fromArray(g.value);break;case "v3":d.uniforms[e].value=(new Vector3$$module$js$threejs$three_module).fromArray(g.value);break;case "v4":d.uniforms[e].value=(new Vector4$$module$js$threejs$three_module).fromArray(g.value);break;case "m3":d.uniforms[e].value=(new Matrix3$$module$js$threejs$three_module).fromArray(g.value);break;case "m4":d.uniforms[e].value=
(new Matrix4$$module$js$threejs$three_module).fromArray(g.value);break;default:d.uniforms[e].value=g.value}}void 0!==a.defines&&(d.defines=a.defines);void 0!==a.vertexShader&&(d.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(d.fragmentShader=a.fragmentShader);if(void 0!==a.extensions)for(const g in a.extensions)d.extensions[g]=a.extensions[g];void 0!==a.shading&&(d.flatShading=1===a.shading);void 0!==a.size&&(d.size=a.size);void 0!==a.sizeAttenuation&&(d.sizeAttenuation=a.sizeAttenuation);
void 0!==a.map&&(d.map=b(a.map));void 0!==a.matcap&&(d.matcap=b(a.matcap));void 0!==a.alphaMap&&(d.alphaMap=b(a.alphaMap));void 0!==a.bumpMap&&(d.bumpMap=b(a.bumpMap));void 0!==a.bumpScale&&(d.bumpScale=a.bumpScale);void 0!==a.normalMap&&(d.normalMap=b(a.normalMap));void 0!==a.normalMapType&&(d.normalMapType=a.normalMapType);void 0!==a.normalScale&&(e=a.normalScale,!1===Array.isArray(e)&&(e=[e,e]),d.normalScale=(new Vector2$$module$js$threejs$three_module).fromArray(e));void 0!==a.displacementMap&&
(d.displacementMap=b(a.displacementMap));void 0!==a.displacementScale&&(d.displacementScale=a.displacementScale);void 0!==a.displacementBias&&(d.displacementBias=a.displacementBias);void 0!==a.roughnessMap&&(d.roughnessMap=b(a.roughnessMap));void 0!==a.metalnessMap&&(d.metalnessMap=b(a.metalnessMap));void 0!==a.emissiveMap&&(d.emissiveMap=b(a.emissiveMap));void 0!==a.emissiveIntensity&&(d.emissiveIntensity=a.emissiveIntensity);void 0!==a.specularMap&&(d.specularMap=b(a.specularMap));void 0!==a.envMap&&
(d.envMap=b(a.envMap));void 0!==a.envMapIntensity&&(d.envMapIntensity=a.envMapIntensity);void 0!==a.reflectivity&&(d.reflectivity=a.reflectivity);void 0!==a.refractionRatio&&(d.refractionRatio=a.refractionRatio);void 0!==a.lightMap&&(d.lightMap=b(a.lightMap));void 0!==a.lightMapIntensity&&(d.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(d.aoMap=b(a.aoMap));void 0!==a.aoMapIntensity&&(d.aoMapIntensity=a.aoMapIntensity);void 0!==a.gradientMap&&(d.gradientMap=b(a.gradientMap));void 0!==a.clearcoatMap&&
(d.clearcoatMap=b(a.clearcoatMap));void 0!==a.clearcoatRoughnessMap&&(d.clearcoatRoughnessMap=b(a.clearcoatRoughnessMap));void 0!==a.clearcoatNormalMap&&(d.clearcoatNormalMap=b(a.clearcoatNormalMap));void 0!==a.clearcoatNormalScale&&(d.clearcoatNormalScale=(new Vector2$$module$js$threejs$three_module).fromArray(a.clearcoatNormalScale));void 0!==a.transmission&&(d.transmission=a.transmission);void 0!==a.transmissionMap&&(d.transmissionMap=b(a.transmissionMap));return d},setTextures:function(a){this.textures=
a;return this}});const LoaderUtils$$module$js$threejs$three_module={decodeText:function(a){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(a);let b="";for(let c=0,d=a.length;c<d;c++)b+=String.fromCharCode(a[c]);try{return decodeURIComponent(escape(b))}catch(c){return b}},extractUrlBase:function(a){const b=a.lastIndexOf("/");return-1===b?"./":a.substr(0,b+1)}};
function InstancedBufferGeometry$$module$js$threejs$three_module(){BufferGeometry$$module$js$threejs$three_module.call(this);this.type="InstancedBufferGeometry";this.instanceCount=Infinity}
InstancedBufferGeometry$$module$js$threejs$three_module.prototype=Object.assign(Object.create(BufferGeometry$$module$js$threejs$three_module.prototype),{constructor:InstancedBufferGeometry$$module$js$threejs$three_module,isInstancedBufferGeometry:!0,copy:function(a){BufferGeometry$$module$js$threejs$three_module.prototype.copy.call(this,a);this.instanceCount=a.instanceCount;return this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const a=BufferGeometry$$module$js$threejs$three_module.prototype.toJSON.call(this);
a.instanceCount=this.instanceCount;a.isInstancedBufferGeometry=!0;return a}});function InstancedBufferAttribute$$module$js$threejs$three_module(a,b,c,d){"number"===typeof c&&(d=c,c=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));BufferAttribute$$module$js$threejs$three_module.call(this,a,b,c);this.meshPerAttribute=d||1}
InstancedBufferAttribute$$module$js$threejs$three_module.prototype=Object.assign(Object.create(BufferAttribute$$module$js$threejs$three_module.prototype),{constructor:InstancedBufferAttribute$$module$js$threejs$three_module,isInstancedBufferAttribute:!0,copy:function(a){BufferAttribute$$module$js$threejs$three_module.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this},toJSON:function(){const a=BufferAttribute$$module$js$threejs$three_module.prototype.toJSON.call(this);
a.meshPerAttribute=this.meshPerAttribute;a.isInstancedBufferAttribute=!0;return a}});function BufferGeometryLoader$$module$js$threejs$three_module(a){Loader$$module$js$threejs$three_module.call(this,a)}
BufferGeometryLoader$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Loader$$module$js$threejs$three_module.prototype),{constructor:BufferGeometryLoader$$module$js$threejs$three_module,load:function(a,b,c,d){const e=this,g=new FileLoader$$module$js$threejs$three_module(e.manager);g.setPath(e.path);g.setRequestHeader(e.requestHeader);g.load(a,function(h){try{b(e.parse(JSON.parse(h)))}catch(k){d?d(k):console.error(k),e.manager.itemError(a)}},c,d)},parse:function(a){function b(p,
t){if(void 0!==c[t])return c[t];const w=p.interleavedBuffers[t];var x=w.buffer;void 0!==d[x]?x=d[x]:(p=(new Uint32Array(p.arrayBuffers[x])).buffer,x=d[x]=p);x=new TYPED_ARRAYS$$module$js$threejs$three_module[w.type](x);x=new InterleavedBuffer$$module$js$threejs$three_module(x,w.stride);x.uuid=w.uuid;return c[t]=x}const c={},d={},e=a.isInstancedBufferGeometry?new InstancedBufferGeometry$$module$js$threejs$three_module:new BufferGeometry$$module$js$threejs$three_module;var g=a.data.index;void 0!==g&&
(g=new TYPED_ARRAYS$$module$js$threejs$three_module[g.type](g.array),e.setIndex(new BufferAttribute$$module$js$threejs$three_module(g,1)));g=a.data.attributes;for(var h in g){var k=g[h],l=void 0;k.isInterleavedBufferAttribute?(l=b(a.data,k.data),l=new InterleavedBufferAttribute$$module$js$threejs$three_module(l,k.itemSize,k.offset,k.normalized)):(l=new TYPED_ARRAYS$$module$js$threejs$three_module[k.type](k.array),l=new (k.isInstancedBufferAttribute?InstancedBufferAttribute$$module$js$threejs$three_module:
BufferAttribute$$module$js$threejs$three_module)(l,k.itemSize,k.normalized));void 0!==k.name&&(l.name=k.name);e.setAttribute(h,l)}if(h=a.data.morphAttributes)for(var m in h){g=h[m];k=[];for(let p=0,t=g.length;p<t;p++){l=g[p];var n=void 0;l.isInterleavedBufferAttribute?(n=b(a.data,l.data),n=new InterleavedBufferAttribute$$module$js$threejs$three_module(n,l.itemSize,l.offset,l.normalized)):(n=new TYPED_ARRAYS$$module$js$threejs$three_module[l.type](l.array),n=new BufferAttribute$$module$js$threejs$three_module(n,
l.itemSize,l.normalized));void 0!==l.name&&(n.name=l.name);k.push(n)}e.morphAttributes[m]=k}a.data.morphTargetsRelative&&(e.morphTargetsRelative=!0);m=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==m)for(let p=0,t=m.length;p!==t;++p)h=m[p],e.addGroup(h.start,h.count,h.materialIndex);m=a.data.boundingSphere;void 0!==m&&(h=new Vector3$$module$js$threejs$three_module,void 0!==m.center&&h.fromArray(m.center),e.boundingSphere=new Sphere$$module$js$threejs$three_module(h,m.radius));a.name&&
(e.name=a.name);a.userData&&(e.userData=a.userData);return e}});const TYPED_ARRAYS$$module$js$threejs$three_module={Int8Array,Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ObjectLoader$$module$js$threejs$three_module(a){Loader$$module$js$threejs$three_module.call(this,a)}
ObjectLoader$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Loader$$module$js$threejs$three_module.prototype),{constructor:ObjectLoader$$module$js$threejs$three_module,load:function(a,b,c,d){const e=this;var g=""===this.path?LoaderUtils$$module$js$threejs$three_module.extractUrlBase(a):this.path;this.resourcePath=this.resourcePath||g;g=new FileLoader$$module$js$threejs$three_module(e.manager);g.setPath(this.path);g.setRequestHeader(this.requestHeader);g.load(a,function(h){let k=
null;try{k=JSON.parse(h)}catch(l){void 0!==d&&d(l);console.error("THREE:ObjectLoader: Can't parse "+a+".",l.message);return}h=k.metadata;void 0===h||void 0===h.type||"geometry"===h.type.toLowerCase()?console.error("THREE.ObjectLoader: Can't load "+a):e.parse(k,b)},c,d)},parse:function(a,b){var c=this.parseShape(a.shapes);c=this.parseGeometries(a.geometries,c);var d=this.parseImages(a.images,function(){void 0!==b&&b(e)});d=this.parseTextures(a.textures,d);d=this.parseMaterials(a.materials,d);const e=
this.parseObject(a.object,c,d);a.animations&&(e.animations=this.parseAnimations(a.animations));void 0!==a.images&&0!==a.images.length||void 0===b||b(e);return e},parseShape:function(a){const b={};if(void 0!==a)for(let c=0,d=a.length;c<d;c++){const e=(new Shape$$module$js$threejs$three_module).fromJSON(a[c]);b[e.uuid]=e}return b},parseGeometries:function(a,b){const c={};if(void 0!==a){const e=new BufferGeometryLoader$$module$js$threejs$three_module;for(let g=0,h=a.length;g<h;g++){const k=a[g];switch(k.type){case "PlaneGeometry":case "PlaneBufferGeometry":var d=
new Geometries$$module$js$threejs$three_module[k.type](k.width,k.height,k.widthSegments,k.heightSegments);break;case "BoxGeometry":case "BoxBufferGeometry":case "CubeGeometry":d=new Geometries$$module$js$threejs$three_module[k.type](k.width,k.height,k.depth,k.widthSegments,k.heightSegments,k.depthSegments);break;case "CircleGeometry":case "CircleBufferGeometry":d=new Geometries$$module$js$threejs$three_module[k.type](k.radius,k.segments,k.thetaStart,k.thetaLength);break;case "CylinderGeometry":case "CylinderBufferGeometry":d=
new Geometries$$module$js$threejs$three_module[k.type](k.radiusTop,k.radiusBottom,k.height,k.radialSegments,k.heightSegments,k.openEnded,k.thetaStart,k.thetaLength);break;case "ConeGeometry":case "ConeBufferGeometry":d=new Geometries$$module$js$threejs$three_module[k.type](k.radius,k.height,k.radialSegments,k.heightSegments,k.openEnded,k.thetaStart,k.thetaLength);break;case "SphereGeometry":case "SphereBufferGeometry":d=new Geometries$$module$js$threejs$three_module[k.type](k.radius,k.widthSegments,
k.heightSegments,k.phiStart,k.phiLength,k.thetaStart,k.thetaLength);break;case "DodecahedronGeometry":case "DodecahedronBufferGeometry":case "IcosahedronGeometry":case "IcosahedronBufferGeometry":case "OctahedronGeometry":case "OctahedronBufferGeometry":case "TetrahedronGeometry":case "TetrahedronBufferGeometry":d=new Geometries$$module$js$threejs$three_module[k.type](k.radius,k.detail);break;case "RingGeometry":case "RingBufferGeometry":d=new Geometries$$module$js$threejs$three_module[k.type](k.innerRadius,
k.outerRadius,k.thetaSegments,k.phiSegments,k.thetaStart,k.thetaLength);break;case "TorusGeometry":case "TorusBufferGeometry":d=new Geometries$$module$js$threejs$three_module[k.type](k.radius,k.tube,k.radialSegments,k.tubularSegments,k.arc);break;case "TorusKnotGeometry":case "TorusKnotBufferGeometry":d=new Geometries$$module$js$threejs$three_module[k.type](k.radius,k.tube,k.tubularSegments,k.radialSegments,k.p,k.q);break;case "TubeGeometry":case "TubeBufferGeometry":d=new Geometries$$module$js$threejs$three_module[k.type]((new Curves$$module$js$threejs$three_module[k.path.type]).fromJSON(k.path),
k.tubularSegments,k.radius,k.radialSegments,k.closed);break;case "LatheGeometry":case "LatheBufferGeometry":d=new Geometries$$module$js$threejs$three_module[k.type](k.points,k.segments,k.phiStart,k.phiLength);break;case "PolyhedronGeometry":case "PolyhedronBufferGeometry":d=new Geometries$$module$js$threejs$three_module[k.type](k.vertices,k.indices,k.radius,k.details);break;case "ShapeGeometry":case "ShapeBufferGeometry":d=[];for(let m=0,n=k.shapes.length;m<n;m++)d.push(b[k.shapes[m]]);d=new Geometries$$module$js$threejs$three_module[k.type](d,
k.curveSegments);break;case "ExtrudeGeometry":case "ExtrudeBufferGeometry":d=[];for(let m=0,n=k.shapes.length;m<n;m++)d.push(b[k.shapes[m]]);const l=k.options.extrudePath;void 0!==l&&(k.options.extrudePath=(new Curves$$module$js$threejs$three_module[l.type]).fromJSON(l));d=new Geometries$$module$js$threejs$three_module[k.type](d,k.options);break;case "BufferGeometry":case "InstancedBufferGeometry":d=e.parse(k);break;case "Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');
break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+k.type+'"');continue}d.uuid=k.uuid;void 0!==k.name&&(d.name=k.name);!0===d.isBufferGeometry&&void 0!==k.userData&&(d.userData=k.userData);c[k.uuid]=d}}return c},parseMaterials:function(a,b){const c={},d={};if(void 0!==a){const e=new MaterialLoader$$module$js$threejs$three_module;e.setTextures(b);for(let g=0,h=a.length;g<h;g++)if(b=a[g],"MultiMaterial"===b.type){const k=[];for(let l=0;l<b.materials.length;l++){const m=b.materials[l];
void 0===c[m.uuid]&&(c[m.uuid]=e.parse(m));k.push(c[m.uuid])}d[b.uuid]=k}else void 0===c[b.uuid]&&(c[b.uuid]=e.parse(b)),d[b.uuid]=c[b.uuid]}return d},parseAnimations:function(a){const b=[];for(let c=0;c<a.length;c++){const d=a[c],e=AnimationClip$$module$js$threejs$three_module.parse(d);void 0!==d.uuid&&(e.uuid=d.uuid);b.push(e)}return b},parseImages:function(a,b){function c(l){d.manager.itemStart(l);return g.load(l,function(){d.manager.itemEnd(l)},void 0,function(){d.manager.itemError(l);d.manager.itemEnd(l)})}
const d=this,e={};let g;if(void 0!==a&&0<a.length){b=new LoadingManager$$module$js$threejs$three_module(b);g=new ImageLoader$$module$js$threejs$three_module(b);g.setCrossOrigin(this.crossOrigin);for(let l=0,m=a.length;l<m;l++){b=a[l];var h=b.url;if(Array.isArray(h)){e[b.uuid]=[];for(let n=0,p=h.length;n<p;n++){var k=h[n];k=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(k)?k:d.resourcePath+k;e[b.uuid].push(c(k))}}else h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(b.url)?b.url:d.resourcePath+b.url,e[b.uuid]=c(h)}}return e},
parseTextures:function(a,b){function c(e,g){if("number"===typeof e)return e;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e);return g[e]}const d={};if(void 0!==a)for(let e=0,g=a.length;e<g;e++){const h=a[e];void 0===h.image&&console.warn('THREE.ObjectLoader: No "image" specified for',h.uuid);void 0===b[h.image]&&console.warn("THREE.ObjectLoader: Undefined image",h.image);let k;k=Array.isArray(b[h.image])?new CubeTexture$$module$js$threejs$three_module(b[h.image]):
new Texture$$module$js$threejs$three_module(b[h.image]);k.needsUpdate=!0;k.uuid=h.uuid;void 0!==h.name&&(k.name=h.name);void 0!==h.mapping&&(k.mapping=c(h.mapping,TEXTURE_MAPPING$$module$js$threejs$three_module));void 0!==h.offset&&k.offset.fromArray(h.offset);void 0!==h.repeat&&k.repeat.fromArray(h.repeat);void 0!==h.center&&k.center.fromArray(h.center);void 0!==h.rotation&&(k.rotation=h.rotation);void 0!==h.wrap&&(k.wrapS=c(h.wrap[0],TEXTURE_WRAPPING$$module$js$threejs$three_module),k.wrapT=c(h.wrap[1],
TEXTURE_WRAPPING$$module$js$threejs$three_module));void 0!==h.format&&(k.format=h.format);void 0!==h.type&&(k.type=h.type);void 0!==h.encoding&&(k.encoding=h.encoding);void 0!==h.minFilter&&(k.minFilter=c(h.minFilter,TEXTURE_FILTER$$module$js$threejs$three_module));void 0!==h.magFilter&&(k.magFilter=c(h.magFilter,TEXTURE_FILTER$$module$js$threejs$three_module));void 0!==h.anisotropy&&(k.anisotropy=h.anisotropy);void 0!==h.flipY&&(k.flipY=h.flipY);void 0!==h.premultiplyAlpha&&(k.premultiplyAlpha=h.premultiplyAlpha);
void 0!==h.unpackAlignment&&(k.unpackAlignment=h.unpackAlignment);d[h.uuid]=k}return d},parseObject:function(a,b,c){function d(l){void 0===b[l]&&console.warn("THREE.ObjectLoader: Undefined geometry",l);return b[l]}function e(l){if(void 0!==l){if(Array.isArray(l)){const m=[];for(let n=0,p=l.length;n<p;n++){const t=l[n];void 0===c[t]&&console.warn("THREE.ObjectLoader: Undefined material",t);m.push(c[t])}return m}void 0===c[l]&&console.warn("THREE.ObjectLoader: Undefined material",l);return c[l]}}switch(a.type){case "Scene":var g=
new Scene$$module$js$threejs$three_module;void 0!==a.background&&Number.isInteger(a.background)&&(g.background=new Color$$module$js$threejs$three_module(a.background));void 0!==a.fog&&("Fog"===a.fog.type?g.fog=new Fog$$module$js$threejs$three_module(a.fog.color,a.fog.near,a.fog.far):"FogExp2"===a.fog.type&&(g.fog=new FogExp2$$module$js$threejs$three_module(a.fog.color,a.fog.density)));break;case "PerspectiveCamera":g=new PerspectiveCamera$$module$js$threejs$three_module(a.fov,a.aspect,a.near,a.far);
void 0!==a.focus&&(g.focus=a.focus);void 0!==a.zoom&&(g.zoom=a.zoom);void 0!==a.filmGauge&&(g.filmGauge=a.filmGauge);void 0!==a.filmOffset&&(g.filmOffset=a.filmOffset);void 0!==a.view&&(g.view=Object.assign({},a.view));break;case "OrthographicCamera":g=new OrthographicCamera$$module$js$threejs$three_module(a.left,a.right,a.top,a.bottom,a.near,a.far);void 0!==a.zoom&&(g.zoom=a.zoom);void 0!==a.view&&(g.view=Object.assign({},a.view));break;case "AmbientLight":g=new AmbientLight$$module$js$threejs$three_module(a.color,
a.intensity);break;case "DirectionalLight":g=new DirectionalLight$$module$js$threejs$three_module(a.color,a.intensity);break;case "PointLight":g=new PointLight$$module$js$threejs$three_module(a.color,a.intensity,a.distance,a.decay);break;case "RectAreaLight":g=new RectAreaLight$$module$js$threejs$three_module(a.color,a.intensity,a.width,a.height);break;case "SpotLight":g=new SpotLight$$module$js$threejs$three_module(a.color,a.intensity,a.distance,a.angle,a.penumbra,a.decay);break;case "HemisphereLight":g=
new HemisphereLight$$module$js$threejs$three_module(a.color,a.groundColor,a.intensity);break;case "LightProbe":g=(new LightProbe$$module$js$threejs$three_module).fromJSON(a);break;case "SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case "Mesh":g=d(a.geometry);var h=e(a.material);g=new Mesh$$module$js$threejs$three_module(g,h);break;case "InstancedMesh":g=d(a.geometry);h=e(a.material);var k=a.instanceMatrix;g=new InstancedMesh$$module$js$threejs$three_module(g,
h,a.count);g.instanceMatrix=new BufferAttribute$$module$js$threejs$three_module(new Float32Array(k.array),16);break;case "LOD":g=new LOD$$module$js$threejs$three_module;break;case "Line":g=new Line$$module$js$threejs$three_module(d(a.geometry),e(a.material),a.mode);break;case "LineLoop":g=new LineLoop$$module$js$threejs$three_module(d(a.geometry),e(a.material));break;case "LineSegments":g=new LineSegments$$module$js$threejs$three_module(d(a.geometry),e(a.material));break;case "PointCloud":case "Points":g=
new Points$$module$js$threejs$three_module(d(a.geometry),e(a.material));break;case "Sprite":g=new Sprite$$module$js$threejs$three_module(e(a.material));break;case "Group":g=new Group$$module$js$threejs$three_module;break;default:g=new Object3D$$module$js$threejs$three_module}g.uuid=a.uuid;void 0!==a.name&&(g.name=a.name);void 0!==a.matrix?(g.matrix.fromArray(a.matrix),void 0!==a.matrixAutoUpdate&&(g.matrixAutoUpdate=a.matrixAutoUpdate),g.matrixAutoUpdate&&g.matrix.decompose(g.position,g.quaternion,
g.scale)):(void 0!==a.position&&g.position.fromArray(a.position),void 0!==a.rotation&&g.rotation.fromArray(a.rotation),void 0!==a.quaternion&&g.quaternion.fromArray(a.quaternion),void 0!==a.scale&&g.scale.fromArray(a.scale));void 0!==a.castShadow&&(g.castShadow=a.castShadow);void 0!==a.receiveShadow&&(g.receiveShadow=a.receiveShadow);a.shadow&&(void 0!==a.shadow.bias&&(g.shadow.bias=a.shadow.bias),void 0!==a.shadow.normalBias&&(g.shadow.normalBias=a.shadow.normalBias),void 0!==a.shadow.radius&&(g.shadow.radius=
a.shadow.radius),void 0!==a.shadow.mapSize&&g.shadow.mapSize.fromArray(a.shadow.mapSize),void 0!==a.shadow.camera&&(g.shadow.camera=this.parseObject(a.shadow.camera)));void 0!==a.visible&&(g.visible=a.visible);void 0!==a.frustumCulled&&(g.frustumCulled=a.frustumCulled);void 0!==a.renderOrder&&(g.renderOrder=a.renderOrder);void 0!==a.userData&&(g.userData=a.userData);void 0!==a.layers&&(g.layers.mask=a.layers);if(void 0!==a.children)for(k=a.children,h=0;h<k.length;h++)g.add(this.parseObject(k[h],b,
c));if("LOD"===a.type)for(void 0!==a.autoUpdate&&(g.autoUpdate=a.autoUpdate),a=a.levels,k=0;k<a.length;k++){h=a[k];const l=g.getObjectByProperty("uuid",h.object);void 0!==l&&g.addLevel(l,h.distance)}return g}});
const TEXTURE_MAPPING$$module$js$threejs$three_module={UVMapping:UVMapping$$module$js$threejs$three_module,CubeReflectionMapping:CubeReflectionMapping$$module$js$threejs$three_module,CubeRefractionMapping:CubeRefractionMapping$$module$js$threejs$three_module,EquirectangularReflectionMapping:EquirectangularReflectionMapping$$module$js$threejs$three_module,EquirectangularRefractionMapping:EquirectangularRefractionMapping$$module$js$threejs$three_module,CubeUVReflectionMapping:CubeUVReflectionMapping$$module$js$threejs$three_module,
CubeUVRefractionMapping:CubeUVRefractionMapping$$module$js$threejs$three_module},TEXTURE_WRAPPING$$module$js$threejs$three_module={RepeatWrapping:RepeatWrapping$$module$js$threejs$three_module,ClampToEdgeWrapping:ClampToEdgeWrapping$$module$js$threejs$three_module,MirroredRepeatWrapping:MirroredRepeatWrapping$$module$js$threejs$three_module},TEXTURE_FILTER$$module$js$threejs$three_module={NearestFilter:NearestFilter$$module$js$threejs$three_module,NearestMipmapNearestFilter:NearestMipmapNearestFilter$$module$js$threejs$three_module,
NearestMipmapLinearFilter:NearestMipmapLinearFilter$$module$js$threejs$three_module,LinearFilter:LinearFilter$$module$js$threejs$three_module,LinearMipmapNearestFilter:LinearMipmapNearestFilter$$module$js$threejs$three_module,LinearMipmapLinearFilter:LinearMipmapLinearFilter$$module$js$threejs$three_module};
function ImageBitmapLoader$$module$js$threejs$three_module(a){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported.");"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported.");Loader$$module$js$threejs$three_module.call(this,a);this.options={premultiplyAlpha:"none"}}
ImageBitmapLoader$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Loader$$module$js$threejs$three_module.prototype),{constructor:ImageBitmapLoader$$module$js$threejs$three_module,isImageBitmapLoader:!0,setOptions:function(a){this.options=a;return this},load:function(a,b,c,d){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);const e=this,g=Cache$$module$js$threejs$three_module.get(a);if(void 0!==g)return e.manager.itemStart(a),setTimeout(function(){b&&
b(g);e.manager.itemEnd(a)},0),g;fetch(a).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,e.options)}).then(function(h){Cache$$module$js$threejs$three_module.add(a,h);b&&b(h);e.manager.itemEnd(a)}).catch(function(h){d&&d(h);e.manager.itemError(a);e.manager.itemEnd(a)});e.manager.itemStart(a)}});function ShapePath$$module$js$threejs$three_module(){this.type="ShapePath";this.color=new Color$$module$js$threejs$three_module;this.subPaths=[];this.currentPath=null}
Object.assign(ShapePath$$module$js$threejs$three_module.prototype,{moveTo:function(a,b){this.currentPath=new Path$$module$js$threejs$three_module;this.subPaths.push(this.currentPath);this.currentPath.moveTo(a,b);return this},lineTo:function(a,b){this.currentPath.lineTo(a,b);return this},quadraticCurveTo:function(a,b,c,d){this.currentPath.quadraticCurveTo(a,b,c,d);return this},bezierCurveTo:function(a,b,c,d,e,g){this.currentPath.bezierCurveTo(a,b,c,d,e,g);return this},splineThru:function(a){this.currentPath.splineThru(a);
return this},toShapes:function(a,b){function c(x){const A=[];for(let r=0,E=x.length;r<E;r++){const B=x[r],G=new Shape$$module$js$threejs$three_module;G.curves=B.curves;A.push(G)}return A}function d(x,A){const r=A.length;let E=!1;for(let G=r-1,H=0;H<r;G=H++){var B=A[G];let O=A[H],N=O.x-B.x,U=O.y-B.y;if(Math.abs(U)>Number.EPSILON){if(0>U&&(B=A[H],N=-N,O=A[G],U=-U),!(x.y<B.y||x.y>O.y))if(x.y===B.y){if(x.x===B.x)return!0}else{B=U*(x.x-B.x)-N*(x.y-B.y);if(0===B)return!0;0>B||(E=!E)}}else if(x.y===B.y&&
(O.x<=x.x&&x.x<=B.x||B.x<=x.x&&x.x<=O.x))return!0}return E}var e=ShapeUtils$$module$js$threejs$three_module.isClockWise,g=this.subPaths;if(0===g.length)return[];if(!0===b)return c(g);b=[];if(1===g.length){var h=g[0];var k=new Shape$$module$js$threejs$three_module;k.curves=h.curves;b.push(k);return b}var l=!e(g[0].getPoints());l=a?!l:l;k=[];const m=[];let n=[];var p=0;let t;m[p]=void 0;n[p]=[];for(let x=0,A=g.length;x<A;x++){h=g[x];t=h.getPoints();var w=e(t);(w=a?!w:w)?(!l&&m[p]&&p++,m[p]={s:new Shape$$module$js$threejs$three_module,
p:t},m[p].s.curves=h.curves,l&&p++,n[p]=[]):n[p].push({h,p:t[0]})}if(!m[0])return c(g);if(1<m.length){a=!1;e=[];for(let x=0,A=m.length;x<A;x++)k[x]=[];for(let x=0,A=m.length;x<A;x++)for(g=n[x],h=0;h<g.length;h++){w=g[h];l=!0;for(p=0;p<m.length;p++)d(w.p,m[p].p)&&(x!==p&&e.push({froms:x,tos:p,hole:h}),l?(l=!1,k[p].push(w)):a=!0);l&&k[x].push(w)}0<e.length&&(a||(n=k))}for(let x=0,A=m.length;x<A;x++){k=m[x].s;b.push(k);a=n[x];for(let r=0,E=a.length;r<E;r++)k.holes.push(a[r].h)}return b}});
function Font$$module$js$threejs$three_module(a){this.type="Font";this.data=a}Object.assign(Font$$module$js$threejs$three_module.prototype,{isFont:!0,generateShapes:function(a,b){void 0===b&&(b=100);const c=[];a=createPaths$$module$js$threejs$three_module(a,b,this.data);for(let d=0,e=a.length;d<e;d++)Array.prototype.push.apply(c,a[d].toShapes());return c}});
function createPaths$$module$js$threejs$three_module(a,b,c){a=Array.from?Array.from(a):String(a).split("");b/=c.resolution;const d=(c.boundingBox.yMax-c.boundingBox.yMin+c.underlineThickness)*b,e=[];let g=0,h=0;for(let l=0;l<a.length;l++){var k=a[l];"\n"===k?(g=0,h-=d):(k=createPath$$module$js$threejs$three_module(k,b,g,h,c),g+=k.offsetX,e.push(k.path))}return e}
function createPath$$module$js$threejs$three_module(a,b,c,d,e){const g=e.glyphs[a]||e.glyphs["?"];if(g){a=new ShapePath$$module$js$threejs$three_module;if(g.o){e=g._cachedOutline||(g._cachedOutline=g.o.split(" "));for(let t=0,w=e.length;t<w;)switch(e[t++]){case "m":var h=e[t++]*b+c;var k=e[t++]*b+d;a.moveTo(h,k);break;case "l":h=e[t++]*b+c;k=e[t++]*b+d;a.lineTo(h,k);break;case "q":h=e[t++]*b+c;k=e[t++]*b+d;var l=e[t++]*b+c;var m=e[t++]*b+d;a.quadraticCurveTo(l,m,h,k);break;case "b":h=e[t++]*b+c;k=
e[t++]*b+d;l=e[t++]*b+c;m=e[t++]*b+d;var n=e[t++]*b+c;var p=e[t++]*b+d;a.bezierCurveTo(l,m,n,p,h,k)}}return{offsetX:g.ha*b,path:a}}console.error('THREE.Font: character "'+a+'" does not exists in font family '+e.familyName+".")}function FontLoader$$module$js$threejs$three_module(a){Loader$$module$js$threejs$three_module.call(this,a)}
FontLoader$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Loader$$module$js$threejs$three_module.prototype),{constructor:FontLoader$$module$js$threejs$three_module,load:function(a,b,c,d){const e=this,g=new FileLoader$$module$js$threejs$three_module(this.manager);g.setPath(this.path);g.setRequestHeader(this.requestHeader);g.load(a,function(h){let k;try{k=JSON.parse(h)}catch(l){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),
k=JSON.parse(h.substring(65,h.length-2))}h=e.parse(k);b&&b(h)},c,d)},parse:function(a){return new Font$$module$js$threejs$three_module(a)}});let _context$$module$js$threejs$three_module;
const AudioContext$$module$js$threejs$three_module={getContext:function(){void 0===_context$$module$js$threejs$three_module&&(_context$$module$js$threejs$three_module=new (window.AudioContext||window.webkitAudioContext));return _context$$module$js$threejs$three_module},setContext:function(a){_context$$module$js$threejs$three_module=a}};function AudioLoader$$module$js$threejs$three_module(a){Loader$$module$js$threejs$three_module.call(this,a)}
AudioLoader$$module$js$threejs$three_module.prototype=Object.assign(Object.create(Loader$$module$js$threejs$three_module.prototype),{constructor:AudioLoader$$module$js$threejs$three_module,load:function(a,b,c,d){const e=this,g=new FileLoader$$module$js$threejs$three_module(e.manager);g.setResponseType("arraybuffer");g.setPath(e.path);g.setRequestHeader(e.requestHeader);g.load(a,function(h){try{const k=h.slice(0);AudioContext$$module$js$threejs$three_module.getContext().decodeAudioData(k,function(l){b(l)})}catch(k){d?
d(k):console.error(k),e.manager.itemError(a)}},c,d)}});
function HemisphereLightProbe$$module$js$threejs$three_module(a,b,c){LightProbe$$module$js$threejs$three_module.call(this,void 0,c);a=(new Color$$module$js$threejs$three_module).set(a);c=(new Color$$module$js$threejs$three_module).set(b);b=new Vector3$$module$js$threejs$three_module(a.r,a.g,a.b);a=new Vector3$$module$js$threejs$three_module(c.r,c.g,c.b);c=Math.sqrt(Math.PI);const d=c*Math.sqrt(.75);this.sh.coefficients[0].copy(b).add(a).multiplyScalar(c);this.sh.coefficients[1].copy(b).sub(a).multiplyScalar(d)}
HemisphereLightProbe$$module$js$threejs$three_module.prototype=Object.assign(Object.create(LightProbe$$module$js$threejs$three_module.prototype),{constructor:HemisphereLightProbe$$module$js$threejs$three_module,isHemisphereLightProbe:!0,copy:function(a){LightProbe$$module$js$threejs$three_module.prototype.copy.call(this,a);return this},toJSON:function(a){return LightProbe$$module$js$threejs$three_module.prototype.toJSON.call(this,a)}});
function AmbientLightProbe$$module$js$threejs$three_module(a,b){LightProbe$$module$js$threejs$three_module.call(this,void 0,b);a=(new Color$$module$js$threejs$three_module).set(a);this.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI))}
AmbientLightProbe$$module$js$threejs$three_module.prototype=Object.assign(Object.create(LightProbe$$module$js$threejs$three_module.prototype),{constructor:AmbientLightProbe$$module$js$threejs$three_module,isAmbientLightProbe:!0,copy:function(a){LightProbe$$module$js$threejs$three_module.prototype.copy.call(this,a);return this},toJSON:function(a){return LightProbe$$module$js$threejs$three_module.prototype.toJSON.call(this,a)}});
const _eyeRight$$module$js$threejs$three_module=new Matrix4$$module$js$threejs$three_module,_eyeLeft$$module$js$threejs$three_module=new Matrix4$$module$js$threejs$three_module;
function StereoCamera$$module$js$threejs$three_module(){this.type="StereoCamera";this.aspect=1;this.eyeSep=.064;this.cameraL=new PerspectiveCamera$$module$js$threejs$three_module;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new PerspectiveCamera$$module$js$threejs$three_module;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1;this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}
Object.assign(StereoCamera$$module$js$threejs$three_module.prototype,{update:function(a){const b=this._cache;if(b.focus!==a.focus||b.fov!==a.fov||b.aspect!==a.aspect*this.aspect||b.near!==a.near||b.far!==a.far||b.zoom!==a.zoom||b.eyeSep!==this.eyeSep){b.focus=a.focus;b.fov=a.fov;b.aspect=a.aspect*this.aspect;b.near=a.near;b.far=a.far;b.zoom=a.zoom;b.eyeSep=this.eyeSep;const d=a.projectionMatrix.clone();var c=b.eyeSep/2;const e=c*b.near/b.focus,g=b.near*Math.tan(MathUtils$$module$js$threejs$three_module.DEG2RAD*
b.fov*.5)/b.zoom;let h;_eyeLeft$$module$js$threejs$three_module.elements[12]=-c;_eyeRight$$module$js$threejs$three_module.elements[12]=c;c=-g*b.aspect+e;h=g*b.aspect+e;d.elements[0]=2*b.near/(h-c);d.elements[8]=(h+c)/(h-c);this.cameraL.projectionMatrix.copy(d);c=-g*b.aspect-e;h=g*b.aspect-e;d.elements[0]=2*b.near/(h-c);d.elements[8]=(h+c)/(h-c);this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(a.matrixWorld).multiply(_eyeLeft$$module$js$threejs$three_module);this.cameraR.matrixWorld.copy(a.matrixWorld).multiply(_eyeRight$$module$js$threejs$three_module)}});
class Clock$$module$js$threejs$three_module{constructor(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1}start(){this.oldTime=this.startTime=("undefined"===typeof performance?Date:performance).now();this.elapsedTime=0;this.running=!0}stop(){this.getElapsedTime();this.autoStart=this.running=!1}getElapsedTime(){this.getDelta();return this.elapsedTime}getDelta(){let a=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const b=("undefined"===
typeof performance?Date:performance).now();a=(b-this.oldTime)/1E3;this.oldTime=b;this.elapsedTime+=a}return a}}const _position$2$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_quaternion$3$$module$js$threejs$three_module=new Quaternion$$module$js$threejs$three_module,_scale$1$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_orientation$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module;
class AudioListener$$module$js$threejs$three_module extends Object3D$$module$js$threejs$three_module{constructor(){super();this.type="AudioListener";this.context=AudioContext$$module$js$threejs$three_module.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null;this.timeDelta=0;this._clock=new Clock$$module$js$threejs$three_module}getInput(){return this.gain}removeFilter(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),
this.gain.connect(this.context.destination),this.filter=null);return this}getFilter(){return this.filter}setFilter(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination);return this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(a){this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01);return this}updateMatrixWorld(a){super.updateMatrixWorld(a);
a=this.context.listener;const b=this.up;this.timeDelta=this._clock.getDelta();this.matrixWorld.decompose(_position$2$$module$js$threejs$three_module,_quaternion$3$$module$js$threejs$three_module,_scale$1$$module$js$threejs$three_module);_orientation$$module$js$threejs$three_module.set(0,0,-1).applyQuaternion(_quaternion$3$$module$js$threejs$three_module);if(a.positionX){const c=this.context.currentTime+this.timeDelta;a.positionX.linearRampToValueAtTime(_position$2$$module$js$threejs$three_module.x,
c);a.positionY.linearRampToValueAtTime(_position$2$$module$js$threejs$three_module.y,c);a.positionZ.linearRampToValueAtTime(_position$2$$module$js$threejs$three_module.z,c);a.forwardX.linearRampToValueAtTime(_orientation$$module$js$threejs$three_module.x,c);a.forwardY.linearRampToValueAtTime(_orientation$$module$js$threejs$three_module.y,c);a.forwardZ.linearRampToValueAtTime(_orientation$$module$js$threejs$three_module.z,c);a.upX.linearRampToValueAtTime(b.x,c);a.upY.linearRampToValueAtTime(b.y,c);
a.upZ.linearRampToValueAtTime(b.z,c)}else a.setPosition(_position$2$$module$js$threejs$three_module.x,_position$2$$module$js$threejs$three_module.y,_position$2$$module$js$threejs$three_module.z),a.setOrientation(_orientation$$module$js$threejs$three_module.x,_orientation$$module$js$threejs$three_module.y,_orientation$$module$js$threejs$three_module.z,b.x,b.y,b.z)}}
class Audio$$module$js$threejs$three_module extends Object3D$$module$js$threejs$three_module{constructor(a){super();this.type="Audio";this.listener=a;this.context=a.context;this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.buffer=null;this.detune=0;this.loop=!1;this.offset=this.loopEnd=this.loopStart=0;this.duration=void 0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.source=null;this.sourceType="empty";this._progress=this._startedAt=
0;this._connected=!1;this.filters=[]}getOutput(){return this.gain}setNodeSource(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();return this}setMediaElementSource(a){this.hasPlaybackControl=!1;this.sourceType="mediaNode";this.source=this.context.createMediaElementSource(a);this.connect();return this}setMediaStreamSource(a){this.hasPlaybackControl=!1;this.sourceType="mediaStreamNode";this.source=this.context.createMediaStreamSource(a);this.connect();return this}setBuffer(a){this.buffer=
a;this.sourceType="buffer";this.autoplay&&this.play();return this}play(a){void 0===a&&(a=0);if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this._startedAt=this.context.currentTime+a,a=this.context.createBufferSource(),a.buffer=this.buffer,a.loop=this.loop,a.loopStart=this.loopStart,a.loopEnd=this.loopEnd,a.onended=this.onEnded.bind(this),a.start(this._startedAt,
this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=a,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress%=this.duration||this.buffer.duration),this.source.stop(),this.source.onended=null,this.isPlaying=
!1),this}stop(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(let a=1,b=this.filters.length;a<b;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());this._connected=!0;return this}disconnect(){if(0<
this.filters.length){this.source.disconnect(this.filters[0]);for(let a=1,b=this.filters.length;a<b;a++)this.filters[a-1].disconnect(this.filters[a]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());this._connected=!1;return this}getFilters(){return this.filters}setFilters(a){a||(a=[]);!0===this._connected?(this.disconnect(),this.filters=a,this.connect()):this.filters=a;return this}setDetune(a){this.detune=a;if(void 0!==this.source.detune)return!0===
this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(a){return this.setFilters(a?[a]:[])}setPlaybackRate(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.playbackRate=a,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=
!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.loop=a,!0===this.isPlaying&&(this.source.loop=this.loop),this}setLoopStart(a){this.loopStart=a;return this}setLoopEnd(a){this.loopEnd=a;return this}getVolume(){return this.gain.gain.value}setVolume(a){this.gain.gain.setTargetAtTime(a,this.context.currentTime,
.01);return this}}const _position$3$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_quaternion$4$$module$js$threejs$three_module=new Quaternion$$module$js$threejs$three_module,_scale$2$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_orientation$1$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module;
class PositionalAudio$$module$js$threejs$three_module extends Audio$$module$js$threejs$three_module{constructor(a){super(a);this.panner=this.context.createPanner();this.panner.panningModel="HRTF";this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(a){this.panner.refDistance=a;return this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(a){this.panner.rolloffFactor=a;return this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(a){this.panner.distanceModel=
a;return this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(a){this.panner.maxDistance=a;return this}setDirectionalCone(a,b,c){this.panner.coneInnerAngle=a;this.panner.coneOuterAngle=b;this.panner.coneOuterGain=c;return this}updateMatrixWorld(a){super.updateMatrixWorld(a);if(!0!==this.hasPlaybackControl||!1!==this.isPlaying)if(this.matrixWorld.decompose(_position$3$$module$js$threejs$three_module,_quaternion$4$$module$js$threejs$three_module,_scale$2$$module$js$threejs$three_module),
_orientation$1$$module$js$threejs$three_module.set(0,0,1).applyQuaternion(_quaternion$4$$module$js$threejs$three_module),a=this.panner,a.positionX){const b=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(_position$3$$module$js$threejs$three_module.x,b);a.positionY.linearRampToValueAtTime(_position$3$$module$js$threejs$three_module.y,b);a.positionZ.linearRampToValueAtTime(_position$3$$module$js$threejs$three_module.z,b);a.orientationX.linearRampToValueAtTime(_orientation$1$$module$js$threejs$three_module.x,
b);a.orientationY.linearRampToValueAtTime(_orientation$1$$module$js$threejs$three_module.y,b);a.orientationZ.linearRampToValueAtTime(_orientation$1$$module$js$threejs$three_module.z,b)}else a.setPosition(_position$3$$module$js$threejs$three_module.x,_position$3$$module$js$threejs$three_module.y,_position$3$$module$js$threejs$three_module.z),a.setOrientation(_orientation$1$$module$js$threejs$three_module.x,_orientation$1$$module$js$threejs$three_module.y,_orientation$1$$module$js$threejs$three_module.z)}}
class AudioAnalyser$$module$js$threejs$three_module{constructor(a,b){this.analyser=a.context.createAnalyser();this.analyser.fftSize=void 0!==b?b:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)}getFrequencyData(){this.analyser.getByteFrequencyData(this.data);return this.data}getAverageFrequency(){let a=0;const b=this.getFrequencyData();for(let c=0;c<b.length;c++)a+=b[c];return a/b.length}}
function PropertyMixer$$module$js$threejs$three_module(a,b,c){this.binding=a;this.valueSize=c;let d;switch(b){case "quaternion":a=this._slerp;b=this._slerpAdditive;d=this._setAdditiveIdentityQuaternion;this.buffer=new Float64Array(6*c);this._workIndex=5;break;case "string":case "bool":b=a=this._select;d=this._setAdditiveIdentityOther;this.buffer=Array(5*c);break;default:a=this._lerp,b=this._lerpAdditive,d=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*c)}this._mixBufferRegion=a;this._mixBufferRegionAdditive=
b;this._setIdentity=d;this._origIndex=3;this._addIndex=4;this.referenceCount=this.useCount=this.cumulativeWeightAdditive=this.cumulativeWeight=0}
Object.assign(PropertyMixer$$module$js$threejs$three_module.prototype,{accumulate:function(a,b){const c=this.buffer,d=this.valueSize;a=a*d+d;var e=this.cumulativeWeight;if(0===e){for(e=0;e!==d;++e)c[a+e]=c[e];e=b}else e+=b,this._mixBufferRegion(c,a,0,b/e,d);this.cumulativeWeight=e},accumulateAdditive:function(a){const b=this.buffer,c=this.valueSize,d=c*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity();this._mixBufferRegionAdditive(b,d,0,a,c);this.cumulativeWeightAdditive+=a},apply:function(a){const b=
this.valueSize,c=this.buffer;a=a*b+b;const d=this.cumulativeWeight,e=this.cumulativeWeightAdditive,g=this.binding;this.cumulativeWeightAdditive=this.cumulativeWeight=0;1>d&&this._mixBufferRegion(c,a,b*this._origIndex,1-d,b);0<e&&this._mixBufferRegionAdditive(c,a,this._addIndex*b,1,b);for(let h=b,k=b+b;h!==k;++h)if(c[h]!==c[h+b]){g.setValue(c,a);break}},saveOriginalState:function(){const a=this.buffer,b=this.valueSize,c=b*this._origIndex;this.binding.getValue(a,c);for(let d=b,e=c;d!==e;++d)a[d]=a[c+
d%b];this._setIdentity();this.cumulativeWeightAdditive=this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_setAdditiveIdentityNumeric:function(){var a=this._addIndex*this.valueSize;const b=a+this.valueSize;for(;a<b;a++)this.buffer[a]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric();this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const a=this._origIndex*this.valueSize,b=this._addIndex*
this.valueSize;for(let c=0;c<this.valueSize;c++)this.buffer[b+c]=this.buffer[a+c]},_select:function(a,b,c,d,e){if(.5<=d)for(d=0;d!==e;++d)a[b+d]=a[c+d]},_slerp:function(a,b,c,d){Quaternion$$module$js$threejs$three_module.slerpFlat(a,b,a,b,a,c,d)},_slerpAdditive:function(a,b,c,d,e){e*=this._workIndex;Quaternion$$module$js$threejs$three_module.multiplyQuaternionsFlat(a,e,a,b,a,c);Quaternion$$module$js$threejs$three_module.slerpFlat(a,b,a,b,a,e,d)},_lerp:function(a,b,c,d,e){const g=1-d;for(let h=0;h!==
e;++h){const k=b+h;a[k]=a[k]*g+a[c+h]*d}},_lerpAdditive:function(a,b,c,d,e){for(let g=0;g!==e;++g){const h=b+g;a[h]+=a[c+g]*d}}});
const _RESERVED_CHARS_RE$$module$js$threejs$three_module="\\[\\]\\.:\\/",_reservedRe$$module$js$threejs$three_module=new RegExp("["+_RESERVED_CHARS_RE$$module$js$threejs$three_module+"]","g"),_wordChar$$module$js$threejs$three_module="[^"+_RESERVED_CHARS_RE$$module$js$threejs$three_module+"]",_wordCharOrDot$$module$js$threejs$three_module="[^"+_RESERVED_CHARS_RE$$module$js$threejs$three_module.replace("\\.","")+"]",_directoryRe$$module$js$threejs$three_module=/((?:WC+[\/:])*)/.source.replace("WC",
_wordChar$$module$js$threejs$three_module),_nodeRe$$module$js$threejs$three_module=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot$$module$js$threejs$three_module),_objectRe$$module$js$threejs$three_module=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar$$module$js$threejs$three_module),_propertyRe$$module$js$threejs$three_module=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar$$module$js$threejs$three_module),_trackRe$$module$js$threejs$three_module=new RegExp("^"+_directoryRe$$module$js$threejs$three_module+
_nodeRe$$module$js$threejs$three_module+_objectRe$$module$js$threejs$three_module+_propertyRe$$module$js$threejs$three_module+"$"),_supportedObjectNames$$module$js$threejs$three_module=["material","materials","bones"];function Composite$$module$js$threejs$three_module(a,b,c){c=c||PropertyBinding$$module$js$threejs$three_module.parseTrackName(b);this._targetGroup=a;this._bindings=a.subscribe_(b,c)}
Object.assign(Composite$$module$js$threejs$three_module.prototype,{getValue:function(a,b){this.bind();const c=this._bindings[this._targetGroup.nCachedObjects_];void 0!==c&&c.getValue(a,b)},setValue:function(a,b){const c=this._bindings;for(let d=this._targetGroup.nCachedObjects_,e=c.length;d!==e;++d)c[d].setValue(a,b)},bind:function(){const a=this._bindings;for(let b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].bind()},unbind:function(){const a=this._bindings;for(let b=this._targetGroup.nCachedObjects_,
c=a.length;b!==c;++b)a[b].unbind()}});function PropertyBinding$$module$js$threejs$three_module(a,b,c){this.path=b;this.parsedPath=c||PropertyBinding$$module$js$threejs$three_module.parseTrackName(b);this.node=PropertyBinding$$module$js$threejs$three_module.findNode(a,this.parsedPath.nodeName)||a;this.rootNode=a}
Object.assign(PropertyBinding$$module$js$threejs$three_module,{Composite:Composite$$module$js$threejs$three_module,create:function(a,b,c){return a&&a.isAnimationObjectGroup?new PropertyBinding$$module$js$threejs$three_module.Composite(a,b,c):new PropertyBinding$$module$js$threejs$three_module(a,b,c)},sanitizeNodeName:function(a){return a.replace(/\s/g,"_").replace(_reservedRe$$module$js$threejs$three_module,"")},parseTrackName:function(a){var b=_trackRe$$module$js$threejs$three_module.exec(a);if(!b)throw Error("PropertyBinding: Cannot parse trackName: "+
a);b={nodeName:b[2],objectName:b[3],objectIndex:b[4],propertyName:b[5],propertyIndex:b[6]};const c=b.nodeName&&b.nodeName.lastIndexOf(".");if(void 0!==c&&-1!==c){const d=b.nodeName.substring(c+1);-1!==_supportedObjectNames$$module$js$threejs$three_module.indexOf(d)&&(b.nodeName=b.nodeName.substring(0,c),b.objectName=d)}if(null===b.propertyName||0===b.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+a);return b},findNode:function(a,b){if(!b||""===b||"."===
b||-1===b||b===a.name||b===a.uuid)return a;if(a.skeleton){const c=a.skeleton.getBoneByName(b);if(void 0!==c)return c}if(a.children){const c=function(d){for(let g=0;g<d.length;g++){var e=d[g];if(e.name===b||e.uuid===b||(e=c(e.children)))return e}return null};if(a=c(a.children))return a}return null}});
Object.assign(PropertyBinding$$module$js$threejs$three_module.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(a,b){a[b]=this.node[this.propertyName]},function(a,b){const c=this.resolvedProperty;for(let d=0,e=c.length;d!==e;++d)a[b++]=c[d]},function(a,b){a[b]=this.resolvedProperty[this.propertyIndex]},function(a,
b){this.resolvedProperty.toArray(a,b)}],SetterByBindingTypeAndVersioning:[[function(a,b){this.targetObject[this.propertyName]=a[b]},function(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.targetObject[this.propertyName]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){const c=this.resolvedProperty;for(let d=0,e=c.length;d!==e;++d)c[d]=a[b++]},function(a,b){const c=this.resolvedProperty;for(let d=0,e=c.length;d!==e;++d)c[d]=a[b++];
this.targetObject.needsUpdate=!0},function(a,b){const c=this.resolvedProperty;for(let d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty[this.propertyIndex]=a[b]},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty.fromArray(a,b)},function(a,b){this.resolvedProperty.fromArray(a,
b);this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(a,b){this.bind();this.getValue(a,b)},setValue:function(a,b){this.bind();this.setValue(a,b)},bind:function(){let a=this.node;var b=this.parsedPath,c=b.objectName;const d=b.propertyName;let e=b.propertyIndex;a||(this.node=a=PropertyBinding$$module$js$threejs$three_module.findNode(this.rootNode,b.nodeName)||this.rootNode);this.getValue=this._getValue_unavailable;
this.setValue=this._setValue_unavailable;if(a){if(c){var g=b.objectIndex;switch(c){case "materials":if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}a=a.material.materials;break;case "bones":if(!a.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",
this);return}a=a.skeleton.bones;for(c=0;c<a.length;c++)if(a[c].name===g){g=c;break}break;default:if(void 0===a[c]){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}a=a[c]}if(void 0!==g){if(void 0===a[g]){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,a);return}a=a[g]}}g=a[d];if(void 0===g)console.error("THREE.PropertyBinding: Trying to update property for track: "+b.nodeName+"."+d+" but it wasn't found.",
a);else{b=this.Versioning.None;this.targetObject=a;void 0!==a.needsUpdate?b=this.Versioning.NeedsUpdate:void 0!==a.matrixWorldNeedsUpdate&&(b=this.Versioning.MatrixWorldNeedsUpdate);c=this.BindingType.Direct;if(void 0!==e){if("morphTargetInfluences"===d){if(!a.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(a.geometry.isBufferGeometry){if(!a.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",
this);return}void 0!==a.morphTargetDictionary[e]&&(e=a.morphTargetDictionary[e])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}c=this.BindingType.ArrayElement;this.resolvedProperty=g;this.propertyIndex=e}else void 0!==g.fromArray&&void 0!==g.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=g):Array.isArray(g)?(c=this.BindingType.EntireArray,this.resolvedProperty=g):this.propertyName=
d;this.getValue=this.GetterByBindingType[c];this.setValue=this.SetterByBindingTypeAndVersioning[c][b]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}});Object.assign(PropertyBinding$$module$js$threejs$three_module.prototype,{_getValue_unbound:PropertyBinding$$module$js$threejs$three_module.prototype.getValue,_setValue_unbound:PropertyBinding$$module$js$threejs$three_module.prototype.setValue});
function AnimationObjectGroup$$module$js$threejs$three_module(){this.uuid=MathUtils$$module$js$threejs$three_module.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;const a={};this._indicesByUUID=a;for(let c=0,d=arguments.length;c!==d;++c)a[arguments[c].uuid]=c;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};const b=this;this.stats={objects:{get total(){return b._objects.length},get inUse(){return this.total-b.nCachedObjects_}},
get bindingsPerObject(){return b._bindings.length}}}
Object.assign(AnimationObjectGroup$$module$js$threejs$three_module.prototype,{isAnimationObjectGroup:!0,add:function(){const a=this._objects,b=this._indicesByUUID,c=this._paths,d=this._parsedPaths,e=this._bindings,g=e.length;let h=void 0,k=a.length,l=this.nCachedObjects_;for(let p=0,t=arguments.length;p!==t;++p){const w=arguments[p];var m=w.uuid;let x=b[m];if(void 0===x){x=k++;b[m]=x;a.push(w);for(let A=0,r=g;A!==r;++A)e[A].push(new PropertyBinding$$module$js$threejs$three_module(w,c[A],d[A]))}else if(x<
l){h=a[x];const A=--l;var n=a[A];b[n.uuid]=x;a[x]=n;b[m]=A;a[A]=w;for(let r=0,E=g;r!==E;++r)m=e[r],n=m[x],m[x]=m[A],void 0===n&&(n=new PropertyBinding$$module$js$threejs$three_module(w,c[r],d[r])),m[A]=n}else a[x]!==h&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){const a=this._objects,b=this._indicesByUUID,c=this._bindings,d=c.length;let e=
this.nCachedObjects_;for(let k=0,l=arguments.length;k!==l;++k){var g=arguments[k],h=g.uuid;const m=b[h];if(void 0!==m&&m>=e){const n=e++,p=a[n];b[p.uuid]=m;a[m]=p;b[h]=n;a[n]=g;for(let t=0,w=d;t!==w;++t)g=c[t],h=g[m],g[m]=g[n],g[n]=h}}this.nCachedObjects_=e},uncache:function(){const a=this._objects,b=this._indicesByUUID,c=this._bindings,d=c.length;let e=this.nCachedObjects_,g=a.length;for(let n=0,p=arguments.length;n!==p;++n){var h=arguments[n].uuid;const t=b[h];if(void 0!==t)if(delete b[h],t<e){h=
--e;var k=a[h],l=--g,m=a[l];b[k.uuid]=t;a[t]=k;b[m.uuid]=h;a[h]=m;a.pop();for(let w=0,x=d;w!==x;++w)k=c[w],m=k[l],k[t]=k[h],k[h]=m,k.pop()}else{h=--g;l=a[h];b[l.uuid]=t;a[t]=l;a.pop();for(let w=0,x=d;w!==x;++w)l=c[w],l[t]=l[h],l.pop()}}this.nCachedObjects_=e},subscribe_:function(a,b){const c=this._bindingsIndicesByPath;let d=c[a];const e=this._bindings;if(void 0!==d)return e[d];const g=this._paths,h=this._parsedPaths,k=this._objects,l=this.nCachedObjects_,m=Array(k.length);d=e.length;c[a]=d;g.push(a);
h.push(b);e.push(m);for(let n=l,p=k.length;n!==p;++n)m[n]=new PropertyBinding$$module$js$threejs$three_module(k[n],a,b);return m},unsubscribe_:function(a){const b=this._bindingsIndicesByPath,c=b[a];if(void 0!==c){const d=this._paths,e=this._parsedPaths,g=this._bindings,h=g.length-1,k=g[h];b[a[h]]=c;g[c]=k;g.pop();e[c]=e[h];e.pop();d[c]=d[h];d.pop()}}});
class AnimationAction$$module$js$threejs$three_module{constructor(a,b,c,d){this._mixer=a;this._clip=b;this._localRoot=c||null;this.blendMode=d||b.blendMode;a=b.tracks;b=a.length;c=Array(b);d={endingStart:ZeroCurvatureEnding$$module$js$threejs$three_module,endingEnd:ZeroCurvatureEnding$$module$js$threejs$three_module};for(let e=0;e!==b;++e){const g=a[e].createInterpolant(null);c[e]=g;g.settings=d}this._interpolantSettings=d;this._interpolants=c;this._propertyBindings=Array(b);this._weightInterpolant=
this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=LoopRepeat$$module$js$threejs$three_module;this._loopCount=-1;this._startTime=null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}play(){this._mixer._activateAction(this);return this}stop(){this._mixer._deactivateAction(this);return this.reset()}reset(){this.paused=
!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(a){this._startTime=a;return this}setLoop(a,b){this.loop=a;this.repetitions=b;return this}setEffectiveWeight(a){this.weight=a;this._effectiveWeight=this.enabled?a:0;return this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(a){return this._scheduleFading(a,
0,1)}fadeOut(a){return this._scheduleFading(a,1,0)}crossFadeFrom(a,b,c){a.fadeOut(b);this.fadeIn(b);if(c){c=this._clip.duration;const d=a._clip.duration,e=c/d;a.warp(1,d/c,b);this.warp(e,1,b)}return this}crossFadeTo(a,b,c){return a.crossFadeFrom(this,b,c)}stopFading(){const a=this._weightInterpolant;null!==a&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this}setEffectiveTimeScale(a){this.timeScale=a;this._effectiveTimeScale=this.paused?0:a;return this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(a){this.timeScale=
this._clip.duration/a;return this.stopWarping()}syncWith(a){this.time=a.time;this.timeScale=a.timeScale;return this.stopWarping()}halt(a){return this.warp(this._effectiveTimeScale,0,a)}warp(a,b,c){var d=this._mixer;const e=d.time,g=this.timeScale;var h=this._timeScaleInterpolant;null===h&&(this._timeScaleInterpolant=h=d._lendControlInterpolant());d=h.parameterPositions;h=h.sampleValues;d[0]=e;d[1]=e+c;h[0]=a/g;h[1]=b/g;return this}stopWarping(){const a=this._timeScaleInterpolant;null!==a&&(this._timeScaleInterpolant=
null,this._mixer._takeBackControlInterpolant(a));return this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(a,b,c,d){if(this.enabled){var e=this._startTime;if(null!==e){b=(a-e)*c;if(0>b||0===c)return;this._startTime=null;b*=c}b*=this._updateTimeScale(a);c=this._updateTime(b);a=this._updateWeight(a);if(0<a)switch(b=this._interpolants,e=this._propertyBindings,this.blendMode){case AdditiveAnimationBlendMode$$module$js$threejs$three_module:for(let g=
0,h=b.length;g!==h;++g)b[g].evaluate(c),e[g].accumulateAdditive(a);break;default:for(let g=0,h=b.length;g!==h;++g)b[g].evaluate(c),e[g].accumulate(d,a)}}else this._updateWeight(a)}_updateWeight(a){let b=0;if(this.enabled){b=this.weight;const c=this._weightInterpolant;if(null!==c){const d=c.evaluate(a)[0];b*=d;a>c.parameterPositions[1]&&(this.stopFading(),0===d&&(this.enabled=!1))}}return this._effectiveWeight=b}_updateTimeScale(a){let b=0;if(!this.paused){b=this.timeScale;const c=this._timeScaleInterpolant;
if(null!==c){const d=c.evaluate(a)[0];b*=d;a>c.parameterPositions[1]&&(this.stopWarping(),0===b?this.paused=!0:this.timeScale=b)}}return this._effectiveTimeScale=b}_updateTime(a){const b=this._clip.duration;var c=this.loop;let d=this.time+a,e=this._loopCount;const g=c===LoopPingPong$$module$js$threejs$three_module;if(0===a)return-1===e?d:g&&1===(e&1)?b-d:d;if(c===LoopOnce$$module$js$threejs$three_module)a:{if(-1===e&&(this._loopCount=0,this._setEndings(!0,!0,!1)),d>=b)d=b;else if(0>d)d=0;else{this.time=
d;break a}this.clampWhenFinished?this.paused=!0:this.enabled=!1;this.time=d;this._mixer.dispatchEvent({type:"finished",action:this,direction:0>a?-1:1})}else{-1===e&&(0<=a?(e=0,this._setEndings(!0,0===this.repetitions,g)):this._setEndings(0===this.repetitions,!0,g));if(d>=b||0>d){c=Math.floor(d/b);d-=b*c;e+=Math.abs(c);const h=this.repetitions-e;0>=h?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=d=0<a?b:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<a?1:-1})):
(1===h?(a=0>a,this._setEndings(a,!a,g)):this._setEndings(!1,!1,g),this._loopCount=e,this.time=d,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c}))}else this.time=d;if(g&&1===(e&1))return b-d}return d}_setEndings(a,b,c){const d=this._interpolantSettings;c?(d.endingStart=ZeroSlopeEnding$$module$js$threejs$three_module,d.endingEnd=ZeroSlopeEnding$$module$js$threejs$three_module):(d.endingStart=a?this.zeroSlopeAtStart?ZeroSlopeEnding$$module$js$threejs$three_module:ZeroCurvatureEnding$$module$js$threejs$three_module:
WrapAroundEnding$$module$js$threejs$three_module,d.endingEnd=b?this.zeroSlopeAtEnd?ZeroSlopeEnding$$module$js$threejs$three_module:ZeroCurvatureEnding$$module$js$threejs$three_module:WrapAroundEnding$$module$js$threejs$three_module)}_scheduleFading(a,b,c){var d=this._mixer;const e=d.time;var g=this._weightInterpolant;null===g&&(this._weightInterpolant=g=d._lendControlInterpolant());d=g.parameterPositions;g=g.sampleValues;d[0]=e;g[0]=b;d[1]=e+a;g[1]=c;return this}}
function AnimationMixer$$module$js$threejs$three_module(a){this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1}
AnimationMixer$$module$js$threejs$three_module.prototype=Object.assign(Object.create(EventDispatcher$$module$js$threejs$three_module.prototype),{constructor:AnimationMixer$$module$js$threejs$three_module,_bindAction:function(a,b){const c=a._localRoot||this._root,d=a._clip.tracks,e=d.length,g=a._propertyBindings;a=a._interpolants;const h=c.uuid;var k=this._bindingsByRootAndName;let l=k[h];void 0===l&&(l={},k[h]=l);for(k=0;k!==e;++k){const m=d[k],n=m.name;let p=l[n];if(void 0===p){p=g[k];if(void 0!==
p){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,h,n));continue}p=new PropertyMixer$$module$js$threejs$three_module(PropertyBinding$$module$js$threejs$three_module.create(c,n,b&&b._propertyBindings[k].binding.parsedPath),m.ValueTypeName,m.getValueSize());++p.referenceCount;this._addInactiveBinding(p,h,n)}g[k]=p;a[k].resultBuffer=p.buffer}},_activateAction:function(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,c=a._clip.uuid;const d=
this._actionsByClip[c];this._bindAction(a,d&&d.knownActions[0]);this._addInactiveAction(a,c,b)}b=a._propertyBindings;for(let d=0,e=b.length;d!==e;++d)c=b[d],0===c.useCount++&&(this._lendBinding(c),c.saveOriginalState());this._lendAction(a)}},_deactivateAction:function(a){if(this._isActiveAction(a)){const b=a._propertyBindings;for(let c=0,d=b.length;c!==d;++c){const e=b[c];0===--e.useCount&&(e.restoreOriginalState(),this._takeBackBinding(e))}this._takeBackAction(a)}},_initMemoryManager:function(){this._actions=
[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=[];this._nActiveControlInterpolants=0;const a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}},
_isActiveAction:function(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions},_addInactiveAction:function(a,b,c){const d=this._actions,e=this._actionsByClip;let g=e[b];void 0===g?(g={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,e[b]=g):(b=g.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=d.length;d.push(a);g.actionByRoot[c]=a},_removeInactiveAction:function(a){var b=this._actions,c=b[b.length-1],d=a._cacheIndex;c._cacheIndex=d;b[d]=c;b.pop();a._cacheIndex=null;
b=a._clip.uuid;c=this._actionsByClip;d=c[b];const e=d.knownActions,g=e[e.length-1],h=a._byClipCacheIndex;g._byClipCacheIndex=h;e[h]=g;e.pop();a._byClipCacheIndex=null;delete d.actionByRoot[(a._localRoot||this._root).uuid];0===e.length&&delete c[b];this._removeInactiveBindingsForAction(a)},_removeInactiveBindingsForAction:function(a){a=a._propertyBindings;for(let b=0,c=a.length;b!==c;++b){const d=a[b];0===--d.referenceCount&&this._removeInactiveBinding(d)}},_lendAction:function(a){const b=this._actions,
c=a._cacheIndex,d=this._nActiveActions++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackAction:function(a){const b=this._actions,c=a._cacheIndex,d=--this._nActiveActions,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_addInactiveBinding:function(a,b,c){const d=this._bindingsByRootAndName,e=this._bindings;let g=d[b];void 0===g&&(g={},d[b]=g);g[c]=a;a._cacheIndex=e.length;e.push(a)},_removeInactiveBinding:function(a){const b=this._bindings;var c=a.binding;const d=c.rootNode.uuid;
c=c.path;const e=this._bindingsByRootAndName,g=e[d],h=b[b.length-1];a=a._cacheIndex;h._cacheIndex=a;b[a]=h;b.pop();delete g[c];0===Object.keys(g).length&&delete e[d]},_lendBinding:function(a){const b=this._bindings,c=a._cacheIndex,d=this._nActiveBindings++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackBinding:function(a){const b=this._bindings,c=a._cacheIndex,d=--this._nActiveBindings,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_lendControlInterpolant:function(){const a=
this._controlInterpolants,b=this._nActiveControlInterpolants++;let c=a[b];void 0===c&&(c=new LinearInterpolant$$module$js$threejs$three_module(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),c.__cacheIndex=b,a[b]=c);return c},_takeBackControlInterpolant:function(a){const b=this._controlInterpolants,c=a.__cacheIndex,d=--this._nActiveControlInterpolants,e=b[d];a.__cacheIndex=d;b[d]=a;e.__cacheIndex=c;b[c]=e},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(a,
b,c){var d=b||this._root;const e=d.uuid;d="string"===typeof a?AnimationClip$$module$js$threejs$three_module.findByName(d,a):a;a=null!==d?d.uuid:a;const g=this._actionsByClip[a];var h=null;void 0===c&&(c=null!==d?d.blendMode:NormalAnimationBlendMode$$module$js$threejs$three_module);if(void 0!==g){h=g.actionByRoot[e];if(void 0!==h&&h.blendMode===c)return h;h=g.knownActions[0];null===d&&(d=h._clip)}if(null===d)return null;b=new AnimationAction$$module$js$threejs$three_module(this,d,b,c);this._bindAction(b,
h);this._addInactiveAction(b,a,e);return b},existingAction:function(a,b){var c=b||this._root;b=c.uuid;c="string"===typeof a?AnimationClip$$module$js$threejs$three_module.findByName(c,a):a;a=this._actionsByClip[c?c.uuid:a];return void 0!==a?a.actionByRoot[b]||null:null},stopAllAction:function(){const a=this._actions;var b=this._nActiveActions;for(--b;0<=b;--b)a[b].stop();return this},update:function(a){a*=this.timeScale;var b=this._actions,c=this._nActiveActions;const d=this.time+=a,e=Math.sign(a),
g=this._accuIndex^=1;for(let h=0;h!==c;++h)b[h]._update(d,a,e,g);a=this._bindings;b=this._nActiveBindings;for(c=0;c!==b;++c)a[c].apply(g);return this},setTime:function(a){this.time=0;for(let b=0;b<this._actions.length;b++)this._actions[b].time=0;return this.update(a)},getRoot:function(){return this._root},uncacheClip:function(a){const b=this._actions;a=a.uuid;const c=this._actionsByClip;var d=c[a];if(void 0!==d){d=d.knownActions;for(let e=0,g=d.length;e!==g;++e){const h=d[e];this._deactivateAction(h);
const k=h._cacheIndex,l=b[b.length-1];h._cacheIndex=null;h._byClipCacheIndex=null;l._cacheIndex=k;b[k]=l;b.pop();this._removeInactiveBindingsForAction(h)}delete c[a]}},uncacheRoot:function(a){a=a.uuid;const b=this._actionsByClip;for(var c in b){const d=b[c].actionByRoot[a];void 0!==d&&(this._deactivateAction(d),this._removeInactiveAction(d))}c=this._bindingsByRootAndName[a];if(void 0!==c)for(const d in c)a=c[d],a.restoreOriginalState(),this._removeInactiveBinding(a)},uncacheAction:function(a,b){a=
this.existingAction(a,b);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}});class Uniform$$module$js$threejs$three_module{constructor(a,b){"string"===typeof a&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),a=b);this.value=a}clone(){return new Uniform$$module$js$threejs$three_module(void 0===this.value.clone?this.value:this.value.clone())}}
function InstancedInterleavedBuffer$$module$js$threejs$three_module(a,b,c){InterleavedBuffer$$module$js$threejs$three_module.call(this,a,b);this.meshPerAttribute=c||1}
InstancedInterleavedBuffer$$module$js$threejs$three_module.prototype=Object.assign(Object.create(InterleavedBuffer$$module$js$threejs$three_module.prototype),{constructor:InstancedInterleavedBuffer$$module$js$threejs$three_module,isInstancedInterleavedBuffer:!0,copy:function(a){InterleavedBuffer$$module$js$threejs$three_module.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this},clone:function(a){a=InterleavedBuffer$$module$js$threejs$three_module.prototype.clone.call(this,
a);a.meshPerAttribute=this.meshPerAttribute;return a},toJSON:function(a){a=InterleavedBuffer$$module$js$threejs$three_module.prototype.toJSON.call(this,a);a.isInstancedInterleavedBuffer=!0;a.meshPerAttribute=this.meshPerAttribute;return a}});function GLBufferAttribute$$module$js$threejs$three_module(a,b,c,d,e){this.buffer=a;this.type=b;this.itemSize=c;this.elementSize=d;this.count=e;this.version=0}
Object.defineProperty(GLBufferAttribute$$module$js$threejs$three_module.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}});Object.assign(GLBufferAttribute$$module$js$threejs$three_module.prototype,{isGLBufferAttribute:!0,setBuffer:function(a){this.buffer=a;return this},setType:function(a,b){this.type=a;this.elementSize=b;return this},setItemSize:function(a){this.itemSize=a;return this},setCount:function(a){this.count=a;return this}});
function Raycaster$$module$js$threejs$three_module(a,b,c,d){this.ray=new Ray$$module$js$threejs$three_module(a,b);this.near=c||0;this.far=d||Infinity;this.camera=null;this.layers=new Layers$$module$js$threejs$three_module;this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})}
function ascSort$$module$js$threejs$three_module(a,b){return a.distance-b.distance}function intersectObject$$module$js$threejs$three_module(a,b,c,d){a.layers.test(b.layers)&&a.raycast(b,c);if(!0===d){a=a.children;for(let e=0,g=a.length;e<g;e++)intersectObject$$module$js$threejs$three_module(a[e],b,c,!0)}}
Object.assign(Raycaster$$module$js$threejs$three_module.prototype,{set:function(a,b){this.ray.set(a,b)},setFromCamera:function(a,b){b&&b.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(b.matrixWorld),this.ray.direction.set(a.x,a.y,.5).unproject(b).sub(this.ray.origin).normalize(),this.camera=b):b&&b.isOrthographicCamera?(this.ray.origin.set(a.x,a.y,(b.near+b.far)/(b.near-b.far)).unproject(b),this.ray.direction.set(0,0,-1).transformDirection(b.matrixWorld),this.camera=b):console.error("THREE.Raycaster: Unsupported camera type.")},
intersectObject:function(a,b,c){c=c||[];intersectObject$$module$js$threejs$three_module(a,this,c,b);c.sort(ascSort$$module$js$threejs$three_module);return c},intersectObjects:function(a,b,c){c=c||[];if(!1===Array.isArray(a))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),c;for(let d=0,e=a.length;d<e;d++)intersectObject$$module$js$threejs$three_module(a[d],this,c,b);c.sort(ascSort$$module$js$threejs$three_module);return c}});
class Spherical$$module$js$threejs$three_module{constructor(a=1,b=0,c=0){this.radius=a;this.phi=b;this.theta=c;return this}set(a,b,c){this.radius=a;this.phi=b;this.theta=c;return this}clone(){return(new this.constructor).copy(this)}copy(a){this.radius=a.radius;this.phi=a.phi;this.theta=a.theta;return this}makeSafe(){this.phi=Math.max(1E-6,Math.min(Math.PI-1E-6,this.phi));return this}setFromVector3(a){return this.setFromCartesianCoords(a.x,a.y,a.z)}setFromCartesianCoords(a,b,c){this.radius=Math.sqrt(a*
a+b*b+c*c);0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a,c),this.phi=Math.acos(MathUtils$$module$js$threejs$three_module.clamp(b/this.radius,-1,1)));return this}}
class Cylindrical$$module$js$threejs$three_module{constructor(a,b,c){this.radius=void 0!==a?a:1;this.theta=void 0!==b?b:0;this.y=void 0!==c?c:0;return this}set(a,b,c){this.radius=a;this.theta=b;this.y=c;return this}clone(){return(new this.constructor).copy(this)}copy(a){this.radius=a.radius;this.theta=a.theta;this.y=a.y;return this}setFromVector3(a){return this.setFromCartesianCoords(a.x,a.y,a.z)}setFromCartesianCoords(a,b,c){this.radius=Math.sqrt(a*a+c*c);this.theta=Math.atan2(a,c);this.y=b;return this}}
const _vector$7$$module$js$threejs$three_module=new Vector2$$module$js$threejs$three_module;
class Box2$$module$js$threejs$three_module{constructor(a,b){Object.defineProperty(this,"isBox2",{value:!0});this.min=void 0!==a?a:new Vector2$$module$js$threejs$three_module(Infinity,Infinity);this.max=void 0!==b?b:new Vector2$$module$js$threejs$three_module(-Infinity,-Infinity)}set(a,b){this.min.copy(a);this.max.copy(b);return this}setFromPoints(a){this.makeEmpty();for(let b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this}setFromCenterAndSize(a,b){b=_vector$7$$module$js$threejs$three_module.copy(b).multiplyScalar(.5);
this.min.copy(a).sub(b);this.max.copy(a).add(b);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.min.copy(a.min);this.max.copy(a.max);return this}makeEmpty(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(a){void 0===a&&(console.warn("THREE.Box2: .getCenter() target is now required"),a=new Vector2$$module$js$threejs$three_module);return this.isEmpty()?a.set(0,0):a.addVectors(this.min,
this.max).multiplyScalar(.5)}getSize(a){void 0===a&&(console.warn("THREE.Box2: .getSize() target is now required"),a=new Vector2$$module$js$threejs$three_module);return this.isEmpty()?a.set(0,0):a.subVectors(this.max,this.min)}expandByPoint(a){this.min.min(a);this.max.max(a);return this}expandByVector(a){this.min.sub(a);this.max.add(a);return this}expandByScalar(a){this.min.addScalar(-a);this.max.addScalar(a);return this}containsPoint(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>
this.max.y?!1:!0}containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y}getParameter(a,b){void 0===b&&(console.warn("THREE.Box2: .getParameter() target is now required"),b=new Vector2$$module$js$threejs$three_module);return b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?!1:!0}clampPoint(a,b){void 0===b&&(console.warn("THREE.Box2: .clampPoint() target is now required"),
b=new Vector2$$module$js$threejs$three_module);return b.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return _vector$7$$module$js$threejs$three_module.copy(a).clamp(this.min,this.max).sub(a).length()}intersect(a){this.min.max(a.min);this.max.min(a.max);return this}union(a){this.min.min(a.min);this.max.max(a.max);return this}translate(a){this.min.add(a);this.max.add(a);return this}equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}
const _startP$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_startEnd$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module;
class Line3$$module$js$threejs$three_module{constructor(a,b){this.start=void 0!==a?a:new Vector3$$module$js$threejs$three_module;this.end=void 0!==b?b:new Vector3$$module$js$threejs$three_module}set(a,b){this.start.copy(a);this.end.copy(b);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.start.copy(a.start);this.end.copy(a.end);return this}getCenter(a){void 0===a&&(console.warn("THREE.Line3: .getCenter() target is now required"),a=new Vector3$$module$js$threejs$three_module);
return a.addVectors(this.start,this.end).multiplyScalar(.5)}delta(a){void 0===a&&(console.warn("THREE.Line3: .delta() target is now required"),a=new Vector3$$module$js$threejs$three_module);return a.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(a,b){void 0===b&&(console.warn("THREE.Line3: .at() target is now required"),b=new Vector3$$module$js$threejs$three_module);return this.delta(b).multiplyScalar(a).add(this.start)}closestPointToPointParameter(a,
b){_startP$$module$js$threejs$three_module.subVectors(a,this.start);_startEnd$$module$js$threejs$three_module.subVectors(this.end,this.start);a=_startEnd$$module$js$threejs$three_module.dot(_startEnd$$module$js$threejs$three_module);a=_startEnd$$module$js$threejs$three_module.dot(_startP$$module$js$threejs$three_module)/a;b&&(a=MathUtils$$module$js$threejs$three_module.clamp(a,0,1));return a}closestPointToPoint(a,b,c){a=this.closestPointToPointParameter(a,b);void 0===c&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),
c=new Vector3$$module$js$threejs$three_module);return this.delta(c).multiplyScalar(a).add(this.start)}applyMatrix4(a){this.start.applyMatrix4(a);this.end.applyMatrix4(a);return this}equals(a){return a.start.equals(this.start)&&a.end.equals(this.end)}}
function ImmediateRenderObject$$module$js$threejs$three_module(a){Object3D$$module$js$threejs$three_module.call(this);this.material=a;this.render=function(){};this.hasUvs=this.hasColors=this.hasNormals=this.hasPositions=!1;this.uvArray=this.colorArray=this.normalArray=this.positionArray=null;this.count=0}ImmediateRenderObject$$module$js$threejs$three_module.prototype=Object.create(Object3D$$module$js$threejs$three_module.prototype);
ImmediateRenderObject$$module$js$threejs$three_module.prototype.constructor=ImmediateRenderObject$$module$js$threejs$three_module;ImmediateRenderObject$$module$js$threejs$three_module.prototype.isImmediateRenderObject=!0;const _vector$8$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module;
class SpotLightHelper$$module$js$threejs$three_module extends Object3D$$module$js$threejs$three_module{constructor(a,b){super();this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=b;a=new BufferGeometry$$module$js$threejs$three_module;b=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let c=0,d=1,e=32;c<e;c++,d++){const g=c/e*Math.PI*2,h=d/e*Math.PI*2;b.push(Math.cos(g),Math.sin(g),1,Math.cos(h),Math.sin(h),1)}a.setAttribute("position",
new Float32BufferAttribute$$module$js$threejs$three_module(b,3));b=new LineBasicMaterial$$module$js$threejs$three_module({fog:!1,toneMapped:!1});this.cone=new LineSegments$$module$js$threejs$three_module(a,b);this.add(this.cone);this.update()}dispose(){this.cone.geometry.dispose();this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const a=this.light.distance?this.light.distance:1E3,b=a*Math.tan(this.light.angle);this.cone.scale.set(b,b,a);_vector$8$$module$js$threejs$three_module.setFromMatrixPosition(this.light.target.matrixWorld);
this.cone.lookAt(_vector$8$$module$js$threejs$three_module);void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$9$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_boneMatrix$$module$js$threejs$three_module=new Matrix4$$module$js$threejs$three_module,_matrixWorldInv$$module$js$threejs$three_module=new Matrix4$$module$js$threejs$three_module;
class SkeletonHelper$$module$js$threejs$three_module extends LineSegments$$module$js$threejs$three_module{constructor(a){const b=getBoneList$$module$js$threejs$three_module(a),c=new BufferGeometry$$module$js$threejs$three_module;var d=[];const e=[],g=new Color$$module$js$threejs$three_module(0,0,1),h=new Color$$module$js$threejs$three_module(0,1,0);for(let k=0;k<b.length;k++){const l=b[k];l.parent&&l.parent.isBone&&(d.push(0,0,0),d.push(0,0,0),e.push(g.r,g.g,g.b),e.push(h.r,h.g,h.b))}c.setAttribute("position",
new Float32BufferAttribute$$module$js$threejs$three_module(d,3));c.setAttribute("color",new Float32BufferAttribute$$module$js$threejs$three_module(e,3));d=new LineBasicMaterial$$module$js$threejs$three_module({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(c,d);this.type="SkeletonHelper";this.isSkeletonHelper=!0;this.root=a;this.bones=b;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1}updateMatrixWorld(a){const b=this.bones,c=this.geometry,d=c.getAttribute("position");
_matrixWorldInv$$module$js$threejs$three_module.getInverse(this.root.matrixWorld);for(let e=0,g=0;e<b.length;e++){const h=b[e];h.parent&&h.parent.isBone&&(_boneMatrix$$module$js$threejs$three_module.multiplyMatrices(_matrixWorldInv$$module$js$threejs$three_module,h.matrixWorld),_vector$9$$module$js$threejs$three_module.setFromMatrixPosition(_boneMatrix$$module$js$threejs$three_module),d.setXYZ(g,_vector$9$$module$js$threejs$three_module.x,_vector$9$$module$js$threejs$three_module.y,_vector$9$$module$js$threejs$three_module.z),
_boneMatrix$$module$js$threejs$three_module.multiplyMatrices(_matrixWorldInv$$module$js$threejs$three_module,h.parent.matrixWorld),_vector$9$$module$js$threejs$three_module.setFromMatrixPosition(_boneMatrix$$module$js$threejs$three_module),d.setXYZ(g+1,_vector$9$$module$js$threejs$three_module.x,_vector$9$$module$js$threejs$three_module.y,_vector$9$$module$js$threejs$three_module.z),g+=2)}c.getAttribute("position").needsUpdate=!0;super.updateMatrixWorld(a)}}
function getBoneList$$module$js$threejs$three_module(a){const b=[];a&&a.isBone&&b.push(a);for(let c=0;c<a.children.length;c++)b.push.apply(b,getBoneList$$module$js$threejs$three_module(a.children[c]));return b}
class PointLightHelper$$module$js$threejs$three_module extends Mesh$$module$js$threejs$three_module{constructor(a,b,c){b=new SphereBufferGeometry$$module$js$threejs$three_module(b,4,2);const d=new MeshBasicMaterial$$module$js$threejs$three_module({wireframe:!0,fog:!1,toneMapped:!1});super(b,d);this.light=a;this.light.updateMatrixWorld();this.color=c;this.type="PointLightHelper";this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1;this.update()}dispose(){this.geometry.dispose();this.material.dispose()}update(){void 0!==
this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$a$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_color1$$module$js$threejs$three_module=new Color$$module$js$threejs$three_module,_color2$$module$js$threejs$three_module=new Color$$module$js$threejs$three_module;
class HemisphereLightHelper$$module$js$threejs$three_module extends Object3D$$module$js$threejs$three_module{constructor(a,b,c){super();this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=c;a=new OctahedronBufferGeometry$$module$js$threejs$three_module(b);a.rotateY(.5*Math.PI);this.material=new MeshBasicMaterial$$module$js$threejs$three_module({wireframe:!0,fog:!1,toneMapped:!1});void 0===this.color&&(this.material.vertexColors=!0);b=a.getAttribute("position");
b=new Float32Array(3*b.count);a.setAttribute("color",new BufferAttribute$$module$js$threejs$three_module(b,3));this.add(new Mesh$$module$js$threejs$three_module(a,this.material));this.update()}dispose(){this.children[0].geometry.dispose();this.children[0].material.dispose()}update(){const a=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const b=a.geometry.getAttribute("color");_color1$$module$js$threejs$three_module.copy(this.light.color);_color2$$module$js$threejs$three_module.copy(this.light.groundColor);
for(let c=0,d=b.count;c<d;c++){const e=c<d/2?_color1$$module$js$threejs$three_module:_color2$$module$js$threejs$three_module;b.setXYZ(c,e.r,e.g,e.b)}b.needsUpdate=!0}a.lookAt(_vector$a$$module$js$threejs$three_module.setFromMatrixPosition(this.light.matrixWorld).negate())}}
class GridHelper$$module$js$threejs$three_module extends LineSegments$$module$js$threejs$three_module{constructor(a,b,c,d){a=a||10;b=b||10;c=new Color$$module$js$threejs$three_module(void 0!==c?c:4473924);d=new Color$$module$js$threejs$three_module(void 0!==d?d:8947848);const e=b/2,g=a/b,h=a/2;a=[];const k=[];for(let l=0,m=0,n=-h;l<=b;l++,n+=g){a.push(-h,0,n,h,0,n);a.push(n,0,-h,n,0,h);const p=l===e?c:d;p.toArray(k,m);m+=3;p.toArray(k,m);m+=3;p.toArray(k,m);m+=3;p.toArray(k,m);m+=3}b=new BufferGeometry$$module$js$threejs$three_module;
b.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(a,3));b.setAttribute("color",new Float32BufferAttribute$$module$js$threejs$three_module(k,3));c=new LineBasicMaterial$$module$js$threejs$three_module({vertexColors:!0,toneMapped:!1});super(b,c);this.type="GridHelper"}}
class PolarGridHelper$$module$js$threejs$three_module extends LineSegments$$module$js$threejs$three_module{constructor(a,b,c,d,e,g){a=a||10;b=b||16;c=c||8;d=d||64;e=new Color$$module$js$threejs$three_module(void 0!==e?e:4473924);g=new Color$$module$js$threejs$three_module(void 0!==g?g:8947848);var h=[];const k=[];for(var l=0;l<=b;l++){var m=l/b*2*Math.PI,n=Math.sin(m)*a;m=Math.cos(m)*a;h.push(0,0,0);h.push(n,0,m);n=l&1?e:g;k.push(n.r,n.g,n.b);k.push(n.r,n.g,n.b)}for(b=0;b<=c;b++)for(l=b&1?e:g,n=a-
a/c*b,m=0;m<d;m++){var p=m/d*2*Math.PI;let t=Math.sin(p)*n;p=Math.cos(p)*n;h.push(t,0,p);k.push(l.r,l.g,l.b);p=(m+1)/d*2*Math.PI;t=Math.sin(p)*n;p=Math.cos(p)*n;h.push(t,0,p);k.push(l.r,l.g,l.b)}a=new BufferGeometry$$module$js$threejs$three_module;a.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(h,3));a.setAttribute("color",new Float32BufferAttribute$$module$js$threejs$three_module(k,3));h=new LineBasicMaterial$$module$js$threejs$three_module({vertexColors:!0,toneMapped:!1});
super(a,h);this.type="PolarGridHelper"}}const _v1$5$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_v2$3$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_v3$1$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module;
class DirectionalLightHelper$$module$js$threejs$three_module extends Object3D$$module$js$threejs$three_module{constructor(a,b,c){super();this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=c;void 0===b&&(b=1);a=new BufferGeometry$$module$js$threejs$three_module;a.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module([-b,b,0,b,b,0,b,-b,0,-b,-b,0,-b,b,0],3));b=new LineBasicMaterial$$module$js$threejs$three_module({fog:!1,
toneMapped:!1});this.lightPlane=new Line$$module$js$threejs$three_module(a,b);this.add(this.lightPlane);a=new BufferGeometry$$module$js$threejs$three_module;a.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module([0,0,0,0,0,1],3));this.targetLine=new Line$$module$js$threejs$three_module(a,b);this.add(this.targetLine);this.update()}dispose(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose()}update(){_v1$5$$module$js$threejs$three_module.setFromMatrixPosition(this.light.matrixWorld);
_v2$3$$module$js$threejs$three_module.setFromMatrixPosition(this.light.target.matrixWorld);_v3$1$$module$js$threejs$three_module.subVectors(_v2$3$$module$js$threejs$three_module,_v1$5$$module$js$threejs$three_module);this.lightPlane.lookAt(_v2$3$$module$js$threejs$three_module);void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color));
this.targetLine.lookAt(_v2$3$$module$js$threejs$three_module);this.targetLine.scale.z=_v3$1$$module$js$threejs$three_module.length()}}const _vector$b$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module,_camera$$module$js$threejs$three_module=new Camera$$module$js$threejs$three_module;
class CameraHelper$$module$js$threejs$three_module extends LineSegments$$module$js$threejs$three_module{constructor(a){function b(w,x,A){c(w,A);c(x,A)}function c(w,x){g.push(0,0,0);h.push(x.r,x.g,x.b);void 0===k[w]&&(k[w]=[]);k[w].push(g.length/3-1)}const d=new BufferGeometry$$module$js$threejs$three_module,e=new LineBasicMaterial$$module$js$threejs$three_module({color:16777215,vertexColors:!0,toneMapped:!1}),g=[],h=[],k={},l=new Color$$module$js$threejs$three_module(16755200),m=new Color$$module$js$threejs$three_module(16711680),
n=new Color$$module$js$threejs$three_module(43775),p=new Color$$module$js$threejs$three_module(16777215),t=new Color$$module$js$threejs$three_module(3355443);b("n1","n2",l);b("n2","n4",l);b("n4","n3",l);b("n3","n1",l);b("f1","f2",l);b("f2","f4",l);b("f4","f3",l);b("f3","f1",l);b("n1","f1",l);b("n2","f2",l);b("n3","f3",l);b("n4","f4",l);b("p","n1",m);b("p","n2",m);b("p","n3",m);b("p","n4",m);b("u1","u2",n);b("u2","u3",n);b("u3","u1",n);b("c","t",p);b("p","c",t);b("cn1","cn2",t);b("cn3","cn4",t);b("cf1",
"cf2",t);b("cf3","cf4",t);d.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(g,3));d.setAttribute("color",new Float32BufferAttribute$$module$js$threejs$three_module(h,3));super(d,e);this.type="CameraHelper";this.camera=a;this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=k;this.update()}update(){const a=this.geometry,b=this.pointMap;_camera$$module$js$threejs$three_module.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);
setPoint$$module$js$threejs$three_module("c",b,a,_camera$$module$js$threejs$three_module,0,0,-1);setPoint$$module$js$threejs$three_module("t",b,a,_camera$$module$js$threejs$three_module,0,0,1);setPoint$$module$js$threejs$three_module("n1",b,a,_camera$$module$js$threejs$three_module,-1,-1,-1);setPoint$$module$js$threejs$three_module("n2",b,a,_camera$$module$js$threejs$three_module,1,-1,-1);setPoint$$module$js$threejs$three_module("n3",b,a,_camera$$module$js$threejs$three_module,-1,1,-1);setPoint$$module$js$threejs$three_module("n4",
b,a,_camera$$module$js$threejs$three_module,1,1,-1);setPoint$$module$js$threejs$three_module("f1",b,a,_camera$$module$js$threejs$three_module,-1,-1,1);setPoint$$module$js$threejs$three_module("f2",b,a,_camera$$module$js$threejs$three_module,1,-1,1);setPoint$$module$js$threejs$three_module("f3",b,a,_camera$$module$js$threejs$three_module,-1,1,1);setPoint$$module$js$threejs$three_module("f4",b,a,_camera$$module$js$threejs$three_module,1,1,1);setPoint$$module$js$threejs$three_module("u1",b,a,_camera$$module$js$threejs$three_module,
.7,1.1,-1);setPoint$$module$js$threejs$three_module("u2",b,a,_camera$$module$js$threejs$three_module,-.7,1.1,-1);setPoint$$module$js$threejs$three_module("u3",b,a,_camera$$module$js$threejs$three_module,0,2,-1);setPoint$$module$js$threejs$three_module("cf1",b,a,_camera$$module$js$threejs$three_module,-1,0,1);setPoint$$module$js$threejs$three_module("cf2",b,a,_camera$$module$js$threejs$three_module,1,0,1);setPoint$$module$js$threejs$three_module("cf3",b,a,_camera$$module$js$threejs$three_module,0,
-1,1);setPoint$$module$js$threejs$three_module("cf4",b,a,_camera$$module$js$threejs$three_module,0,1,1);setPoint$$module$js$threejs$three_module("cn1",b,a,_camera$$module$js$threejs$three_module,-1,0,-1);setPoint$$module$js$threejs$three_module("cn2",b,a,_camera$$module$js$threejs$three_module,1,0,-1);setPoint$$module$js$threejs$three_module("cn3",b,a,_camera$$module$js$threejs$three_module,0,-1,-1);setPoint$$module$js$threejs$three_module("cn4",b,a,_camera$$module$js$threejs$three_module,0,1,-1);
a.getAttribute("position").needsUpdate=!0}}function setPoint$$module$js$threejs$three_module(a,b,c,d,e,g,h){_vector$b$$module$js$threejs$three_module.set(e,g,h).unproject(d);a=b[a];if(void 0!==a){c=c.getAttribute("position");for(let k=0,l=a.length;k<l;k++)c.setXYZ(a[k],_vector$b$$module$js$threejs$three_module.x,_vector$b$$module$js$threejs$three_module.y,_vector$b$$module$js$threejs$three_module.z)}}const _box$3$$module$js$threejs$three_module=new Box3$$module$js$threejs$three_module;
class BoxHelper$$module$js$threejs$three_module extends LineSegments$$module$js$threejs$three_module{constructor(a,b=16776960){const c=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),d=new Float32Array(24),e=new BufferGeometry$$module$js$threejs$three_module;e.setIndex(new BufferAttribute$$module$js$threejs$three_module(c,1));e.setAttribute("position",new BufferAttribute$$module$js$threejs$three_module(d,3));super(e,new LineBasicMaterial$$module$js$threejs$three_module({color:b,
toneMapped:!1}));this.object=a;this.type="BoxHelper";this.matrixAutoUpdate=!1;this.update()}update(a){void 0!==a&&console.warn("THREE.BoxHelper: .update() has no longer arguments.");void 0!==this.object&&_box$3$$module$js$threejs$three_module.setFromObject(this.object);if(!_box$3$$module$js$threejs$three_module.isEmpty()){a=_box$3$$module$js$threejs$three_module.min;var b=_box$3$$module$js$threejs$three_module.max,c=this.geometry.attributes.position,d=c.array;d[0]=b.x;d[1]=b.y;d[2]=b.z;d[3]=a.x;d[4]=
b.y;d[5]=b.z;d[6]=a.x;d[7]=a.y;d[8]=b.z;d[9]=b.x;d[10]=a.y;d[11]=b.z;d[12]=b.x;d[13]=b.y;d[14]=a.z;d[15]=a.x;d[16]=b.y;d[17]=a.z;d[18]=a.x;d[19]=a.y;d[20]=a.z;d[21]=b.x;d[22]=a.y;d[23]=a.z;c.needsUpdate=!0;this.geometry.computeBoundingSphere()}}setFromObject(a){this.object=a;this.update();return this}copy(a){LineSegments$$module$js$threejs$three_module.prototype.copy.call(this,a);this.object=a.object;return this}}
class Box3Helper$$module$js$threejs$three_module extends LineSegments$$module$js$threejs$three_module{constructor(a,b=16776960){const c=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),d=new BufferGeometry$$module$js$threejs$three_module;d.setIndex(new BufferAttribute$$module$js$threejs$three_module(c,1));d.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3));super(d,new LineBasicMaterial$$module$js$threejs$three_module({color:b,
toneMapped:!1}));this.box=a;this.type="Box3Helper";this.geometry.computeBoundingSphere()}updateMatrixWorld(a){const b=this.box;b.isEmpty()||(b.getCenter(this.position),b.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(a))}}
class PlaneHelper$$module$js$threejs$three_module extends Line$$module$js$threejs$three_module{constructor(a,b,c){c=void 0!==c?c:16776960;const d=new BufferGeometry$$module$js$threejs$three_module;d.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3));d.computeBoundingSphere();super(d,new LineBasicMaterial$$module$js$threejs$three_module({color:c,toneMapped:!1}));this.type="PlaneHelper";this.plane=
a;this.size=void 0===b?1:b;a=new BufferGeometry$$module$js$threejs$three_module;a.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3));a.computeBoundingSphere();this.add(new Mesh$$module$js$threejs$three_module(a,new MeshBasicMaterial$$module$js$threejs$three_module({color:c,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(a){let b=-this.plane.constant;1E-8>Math.abs(b)&&(b=1E-8);this.scale.set(.5*
this.size,.5*this.size,b);this.children[0].material.side=0>b?BackSide$$module$js$threejs$three_module:FrontSide$$module$js$threejs$three_module;this.lookAt(this.plane.normal);super.updateMatrixWorld(a)}}const _axis$$module$js$threejs$three_module=new Vector3$$module$js$threejs$three_module;let _lineGeometry$$module$js$threejs$three_module,_coneGeometry$$module$js$threejs$three_module;
class ArrowHelper$$module$js$threejs$three_module extends Object3D$$module$js$threejs$three_module{constructor(a,b,c,d,e,g){super();this.type="ArrowHelper";void 0===a&&(a=new Vector3$$module$js$threejs$three_module(0,0,1));void 0===b&&(b=new Vector3$$module$js$threejs$three_module(0,0,0));void 0===c&&(c=1);void 0===d&&(d=16776960);void 0===e&&(e=.2*c);void 0===g&&(g=.2*e);void 0===_lineGeometry$$module$js$threejs$three_module&&(_lineGeometry$$module$js$threejs$three_module=new BufferGeometry$$module$js$threejs$three_module,
_lineGeometry$$module$js$threejs$three_module.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module([0,0,0,0,1,0],3)),_coneGeometry$$module$js$threejs$three_module=new CylinderBufferGeometry$$module$js$threejs$three_module(0,.5,1,5,1),_coneGeometry$$module$js$threejs$three_module.translate(0,-.5,0));this.position.copy(b);this.line=new Line$$module$js$threejs$three_module(_lineGeometry$$module$js$threejs$three_module,new LineBasicMaterial$$module$js$threejs$three_module({color:d,
toneMapped:!1}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new Mesh$$module$js$threejs$three_module(_coneGeometry$$module$js$threejs$three_module,new MeshBasicMaterial$$module$js$threejs$three_module({color:d,toneMapped:!1}));this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(a);this.setLength(c,e,g)}setDirection(a){.99999<a.y?this.quaternion.set(0,0,0,1):-.99999>a.y?this.quaternion.set(1,0,0,0):(_axis$$module$js$threejs$three_module.set(a.z,0,-a.x).normalize(),
this.quaternion.setFromAxisAngle(_axis$$module$js$threejs$three_module,Math.acos(a.y)))}setLength(a,b,c){void 0===b&&(b=.2*a);void 0===c&&(c=.2*b);this.line.scale.set(1,Math.max(1E-4,a-b),1);this.line.updateMatrix();this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()}setColor(a){this.line.material.color.set(a);this.cone.material.color.set(a)}copy(a){super.copy(a,!1);this.line.copy(a.line);this.cone.copy(a.cone);return this}}
class AxesHelper$$module$js$threejs$three_module extends LineSegments$$module$js$threejs$three_module{constructor(a=1){var b=[0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a];a=new BufferGeometry$$module$js$threejs$three_module;a.setAttribute("position",new Float32BufferAttribute$$module$js$threejs$three_module(b,3));a.setAttribute("color",new Float32BufferAttribute$$module$js$threejs$three_module([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));b=new LineBasicMaterial$$module$js$threejs$three_module({vertexColors:!0,
toneMapped:!1});super(a,b);this.type="AxesHelper"}}
const LOD_MIN$$module$js$threejs$three_module=4,LOD_MAX$$module$js$threejs$three_module=8,SIZE_MAX$$module$js$threejs$three_module=Math.pow(2,LOD_MAX$$module$js$threejs$three_module),EXTRA_LOD_SIGMA$$module$js$threejs$three_module=[.125,.215,.35,.446,.526,.582],TOTAL_LODS$$module$js$threejs$three_module=LOD_MAX$$module$js$threejs$three_module-LOD_MIN$$module$js$threejs$three_module+1+EXTRA_LOD_SIGMA$$module$js$threejs$three_module.length,MAX_SAMPLES$$module$js$threejs$three_module=20,ENCODINGS$$module$js$threejs$three_module=
{[LinearEncoding$$module$js$threejs$three_module]:0,[sRGBEncoding$$module$js$threejs$three_module]:1,[RGBEEncoding$$module$js$threejs$three_module]:2,[RGBM7Encoding$$module$js$threejs$three_module]:3,[RGBM16Encoding$$module$js$threejs$three_module]:4,[RGBDEncoding$$module$js$threejs$three_module]:5,[GammaEncoding$$module$js$threejs$three_module]:6},_flatCamera$$module$js$threejs$three_module=new OrthographicCamera$$module$js$threejs$three_module,{_lodPlanes:_lodPlanes$$module$js$threejs$three_module,
_sizeLods:_sizeLods$$module$js$threejs$three_module,_sigmas:_sigmas$$module$js$threejs$three_module}=_createPlanes$$module$js$threejs$three_module();let _oldTarget$$module$js$threejs$three_module=null;
const PHI$$module$js$threejs$three_module=(1+Math.sqrt(5))/2,INV_PHI$$module$js$threejs$three_module=1/PHI$$module$js$threejs$three_module,_axisDirections$$module$js$threejs$three_module=[new Vector3$$module$js$threejs$three_module(1,1,1),new Vector3$$module$js$threejs$three_module(-1,1,1),new Vector3$$module$js$threejs$three_module(1,1,-1),new Vector3$$module$js$threejs$three_module(-1,1,-1),new Vector3$$module$js$threejs$three_module(0,PHI$$module$js$threejs$three_module,INV_PHI$$module$js$threejs$three_module),
new Vector3$$module$js$threejs$three_module(0,PHI$$module$js$threejs$three_module,-INV_PHI$$module$js$threejs$three_module),new Vector3$$module$js$threejs$three_module(INV_PHI$$module$js$threejs$three_module,0,PHI$$module$js$threejs$three_module),new Vector3$$module$js$threejs$three_module(-INV_PHI$$module$js$threejs$three_module,0,PHI$$module$js$threejs$three_module),new Vector3$$module$js$threejs$three_module(PHI$$module$js$threejs$three_module,INV_PHI$$module$js$threejs$three_module,0),new Vector3$$module$js$threejs$three_module(-PHI$$module$js$threejs$three_module,
INV_PHI$$module$js$threejs$three_module,0)];
class PMREMGenerator$$module$js$threejs$three_module{constructor(a){this._renderer=a;this._pingPongRenderTarget=null;this._blurMaterial=_getBlurShader$$module$js$threejs$three_module(MAX_SAMPLES$$module$js$threejs$three_module);this._cubemapShader=this._equirectShader=null;this._compileMaterial(this._blurMaterial)}fromScene(a,b=0,c=.1,d=100){_oldTarget$$module$js$threejs$three_module=this._renderer.getRenderTarget();const e=this._allocateTargets();this._sceneToCubeUV(a,c,d,e);0<b&&this._blur(e,0,
0,b);this._applyPMREM(e);this._cleanup(e);return e}fromEquirectangular(a){return this._fromTexture(a)}fromCubemap(a){return this._fromTexture(a)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=_getCubemapShader$$module$js$threejs$three_module(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=_getEquirectShader$$module$js$threejs$three_module(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose();
null!==this._cubemapShader&&this._cubemapShader.dispose();null!==this._equirectShader&&this._equirectShader.dispose();for(let a=0;a<_lodPlanes$$module$js$threejs$three_module.length;a++)_lodPlanes$$module$js$threejs$three_module[a].dispose()}_cleanup(a){this._pingPongRenderTarget.dispose();this._renderer.setRenderTarget(_oldTarget$$module$js$threejs$three_module);a.scissorTest=!1;_setViewport$$module$js$threejs$three_module(a,0,0,a.width,a.height)}_fromTexture(a){_oldTarget$$module$js$threejs$three_module=
this._renderer.getRenderTarget();const b=this._allocateTargets(a);this._textureToCubeUV(a,b);this._applyPMREM(b);this._cleanup(b);return b}_allocateTargets(a){const b={magFilter:NearestFilter$$module$js$threejs$three_module,minFilter:NearestFilter$$module$js$threejs$three_module,generateMipmaps:!1,type:UnsignedByteType$$module$js$threejs$three_module,format:RGBAFormat$$module$js$threejs$three_module,encoding:_isLDR$$module$js$threejs$three_module(a)?a.encoding:RGBEEncoding$$module$js$threejs$three_module,
depthBuffer:!1},c=_createRenderTarget$$module$js$threejs$three_module(b);c.depthBuffer=a?!1:!0;this._pingPongRenderTarget=_createRenderTarget$$module$js$threejs$three_module(b);return c}_compileMaterial(a){a=new Mesh$$module$js$threejs$three_module(_lodPlanes$$module$js$threejs$three_module[0],a);this._renderer.compile(a,_flatCamera$$module$js$threejs$three_module)}_sceneToCubeUV(a,b,c,d){b=new PerspectiveCamera$$module$js$threejs$three_module(90,1,b,c);c=[1,-1,1,1,1,1];const e=[1,1,1,-1,-1,-1],g=
this._renderer,h=g.outputEncoding,k=g.toneMapping,l=g.getClearColor(),m=g.getClearAlpha();g.toneMapping=NoToneMapping$$module$js$threejs$three_module;g.outputEncoding=LinearEncoding$$module$js$threejs$three_module;var n=a.background;if(n&&n.isColor){n.convertSRGBToLinear();var p=Math.min(Math.max(Math.ceil(Math.log2(Math.max(n.r,n.g,n.b))),-128),127);n=n.multiplyScalar(Math.pow(2,-p));g.setClearColor(n,(p+128)/255);a.background=null}for(n=0;6>n;n++)p=n%3,0==p?(b.up.set(0,c[n],0),b.lookAt(e[n],0,0)):
1==p?(b.up.set(0,0,c[n]),b.lookAt(0,e[n],0)):(b.up.set(0,c[n],0),b.lookAt(0,0,e[n])),_setViewport$$module$js$threejs$three_module(d,p*SIZE_MAX$$module$js$threejs$three_module,2<n?SIZE_MAX$$module$js$threejs$three_module:0,SIZE_MAX$$module$js$threejs$three_module,SIZE_MAX$$module$js$threejs$three_module),g.setRenderTarget(d),g.render(a,b);g.toneMapping=k;g.outputEncoding=h;g.setClearColor(l,m)}_textureToCubeUV(a,b){const c=this._renderer;a.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=
_getCubemapShader$$module$js$threejs$three_module()):null==this._equirectShader&&(this._equirectShader=_getEquirectShader$$module$js$threejs$three_module());var d=a.isCubeTexture?this._cubemapShader:this._equirectShader;const e=new Mesh$$module$js$threejs$three_module(_lodPlanes$$module$js$threejs$three_module[0],d);d=d.uniforms;d.envMap.value=a;a.isCubeTexture||d.texelSize.value.set(1/a.image.width,1/a.image.height);d.inputEncoding.value=ENCODINGS$$module$js$threejs$three_module[a.encoding];d.outputEncoding.value=
ENCODINGS$$module$js$threejs$three_module[b.texture.encoding];_setViewport$$module$js$threejs$three_module(b,0,0,3*SIZE_MAX$$module$js$threejs$three_module,2*SIZE_MAX$$module$js$threejs$three_module);c.setRenderTarget(b);c.render(e,_flatCamera$$module$js$threejs$three_module)}_applyPMREM(a){const b=this._renderer,c=b.autoClear;b.autoClear=!1;for(let d=1;d<TOTAL_LODS$$module$js$threejs$three_module;d++)this._blur(a,d-1,d,Math.sqrt(_sigmas$$module$js$threejs$three_module[d]*_sigmas$$module$js$threejs$three_module[d]-
_sigmas$$module$js$threejs$three_module[d-1]*_sigmas$$module$js$threejs$three_module[d-1]),_axisDirections$$module$js$threejs$three_module[(d-1)%_axisDirections$$module$js$threejs$three_module.length]);b.autoClear=c}_blur(a,b,c,d,e){const g=this._pingPongRenderTarget;this._halfBlur(a,g,b,c,d,"latitudinal",e);this._halfBlur(g,a,c,c,d,"longitudinal",e)}_halfBlur(a,b,c,d,e,g,h){const k=this._renderer;var l=this._blurMaterial;"latitudinal"!==g&&"longitudinal"!==g&&console.error("blur direction must be either latitudinal or longitudinal!");
const m=new Mesh$$module$js$threejs$three_module(_lodPlanes$$module$js$threejs$three_module[d],l);l=l.uniforms;var n=_sizeLods$$module$js$threejs$three_module[c]-1;n=isFinite(e)?Math.PI/(2*n):2*Math.PI/(2*MAX_SAMPLES$$module$js$threejs$three_module-1);var p=e/n;const t=isFinite(e)?1+Math.floor(3*p):MAX_SAMPLES$$module$js$threejs$three_module;t>MAX_SAMPLES$$module$js$threejs$three_module&&console.warn(`sigmaRadians, ${e}, is too large and will clip, as it requested ${t} samples when the maximum is set to ${MAX_SAMPLES$$module$js$threejs$three_module}`);
e=[];let w=0;for(let A=0;A<MAX_SAMPLES$$module$js$threejs$three_module;++A){var x=A/p;x=Math.exp(-x*x/2);e.push(x);0==A?w+=x:A<t&&(w+=2*x)}for(p=0;p<e.length;p++)e[p]/=w;l.envMap.value=a.texture;l.samples.value=t;l.weights.value=e;l.latitudinal.value="latitudinal"===g;h&&(l.poleAxis.value=h);l.dTheta.value=n;l.mipInt.value=LOD_MAX$$module$js$threejs$three_module-c;l.inputEncoding.value=ENCODINGS$$module$js$threejs$three_module[a.texture.encoding];l.outputEncoding.value=ENCODINGS$$module$js$threejs$three_module[a.texture.encoding];
a=_sizeLods$$module$js$threejs$three_module[d];_setViewport$$module$js$threejs$three_module(b,3*Math.max(0,SIZE_MAX$$module$js$threejs$three_module-2*a),(0===d?0:2*SIZE_MAX$$module$js$threejs$three_module)+2*a*(d>LOD_MAX$$module$js$threejs$three_module-LOD_MIN$$module$js$threejs$three_module?d-LOD_MAX$$module$js$threejs$three_module+LOD_MIN$$module$js$threejs$three_module:0),3*a,2*a);k.setRenderTarget(b);k.render(m,_flatCamera$$module$js$threejs$three_module)}}
function _isLDR$$module$js$threejs$three_module(a){return void 0===a||a.type!==UnsignedByteType$$module$js$threejs$three_module?!1:a.encoding===LinearEncoding$$module$js$threejs$three_module||a.encoding===sRGBEncoding$$module$js$threejs$three_module||a.encoding===GammaEncoding$$module$js$threejs$three_module}
function _createPlanes$$module$js$threejs$three_module(){const a=[],b=[],c=[];let d=LOD_MAX$$module$js$threejs$three_module;for(let k=0;k<TOTAL_LODS$$module$js$threejs$three_module;k++){var e=Math.pow(2,d);b.push(e);var g=1/e;k>LOD_MAX$$module$js$threejs$three_module-LOD_MIN$$module$js$threejs$three_module?g=EXTRA_LOD_SIGMA$$module$js$threejs$three_module[k-LOD_MAX$$module$js$threejs$three_module+LOD_MIN$$module$js$threejs$three_module-1]:0==k&&(g=0);c.push(g);g=1/(e-1);e=-g/2;g=1+g/2;var h=[e,e,
g,e,g,g,e,e,g,g,e,g];e=new Float32Array(108);g=new Float32Array(72);const l=new Float32Array(36);for(let m=0;6>m;m++){const n=m%3*2/3-1,p=2<m?0:-1;e.set([n,p,0,n+2/3,p,0,n+2/3,p+1,0,n,p,0,n+2/3,p+1,0,n,p+1,0],18*m);g.set(h,12*m);l.set([m,m,m,m,m,m],6*m)}h=new BufferGeometry$$module$js$threejs$three_module;h.setAttribute("position",new BufferAttribute$$module$js$threejs$three_module(e,3));h.setAttribute("uv",new BufferAttribute$$module$js$threejs$three_module(g,2));h.setAttribute("faceIndex",new BufferAttribute$$module$js$threejs$three_module(l,
1));a.push(h);d>LOD_MIN$$module$js$threejs$three_module&&d--}return{_lodPlanes:a,_sizeLods:b,_sigmas:c}}function _createRenderTarget$$module$js$threejs$three_module(a){a=new WebGLRenderTarget$$module$js$threejs$three_module(3*SIZE_MAX$$module$js$threejs$three_module,3*SIZE_MAX$$module$js$threejs$three_module,a);a.texture.mapping=CubeUVReflectionMapping$$module$js$threejs$three_module;a.texture.name="PMREM.cubeUv";a.scissorTest=!0;return a}
function _setViewport$$module$js$threejs$three_module(a,b,c,d,e){a.viewport.set(b,c,d,e);a.scissor.set(b,c,d,e)}
function _getBlurShader$$module$js$threejs$three_module(a){const b=new Float32Array(a),c=new Vector3$$module$js$threejs$three_module(0,1,0);return new RawShaderMaterial$$module$js$threejs$three_module({name:"SphericalGaussianBlur",defines:{n:a},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:b},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:c},inputEncoding:{value:ENCODINGS$$module$js$threejs$three_module[LinearEncoding$$module$js$threejs$three_module]},outputEncoding:{value:ENCODINGS$$module$js$threejs$three_module[LinearEncoding$$module$js$threejs$three_module]}},
vertexShader:_getCommonVertexShader$$module$js$threejs$three_module(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${_getEncodings$$module$js$threejs$three_module()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:NoBlending$$module$js$threejs$three_module,depthTest:!1,depthWrite:!1})}
function _getEquirectShader$$module$js$threejs$three_module(){const a=new Vector2$$module$js$threejs$three_module(1,1);return new RawShaderMaterial$$module$js$threejs$three_module({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:a},inputEncoding:{value:ENCODINGS$$module$js$threejs$three_module[LinearEncoding$$module$js$threejs$three_module]},outputEncoding:{value:ENCODINGS$$module$js$threejs$three_module[LinearEncoding$$module$js$threejs$three_module]}},vertexShader:_getCommonVertexShader$$module$js$threejs$three_module(),
fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${_getEncodings$$module$js$threejs$three_module()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:NoBlending$$module$js$threejs$three_module,depthTest:!1,depthWrite:!1})}
function _getCubemapShader$$module$js$threejs$three_module(){return new RawShaderMaterial$$module$js$threejs$three_module({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:ENCODINGS$$module$js$threejs$three_module[LinearEncoding$$module$js$threejs$three_module]},outputEncoding:{value:ENCODINGS$$module$js$threejs$three_module[LinearEncoding$$module$js$threejs$three_module]}},vertexShader:_getCommonVertexShader$$module$js$threejs$three_module(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${_getEncodings$$module$js$threejs$three_module()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:NoBlending$$module$js$threejs$three_module,depthTest:!1,depthWrite:!1})}
function _getCommonVertexShader$$module$js$threejs$three_module(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}
function _getEncodings$$module$js$threejs$three_module(){return"\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t"}
function Face4$$module$js$threejs$three_module(a,b,c,d,e,g,h){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new Face3$$module$js$threejs$three_module(a,b,c,e,g,h)}const LineStrip$$module$js$threejs$three_module=0,LinePieces$$module$js$threejs$three_module=1,NoColors$$module$js$threejs$three_module=0,FaceColors$$module$js$threejs$three_module=1,VertexColors$$module$js$threejs$three_module=2;
function MeshFaceMaterial$$module$js$threejs$three_module(a){console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead.");return a}function MultiMaterial$$module$js$threejs$three_module(a){void 0===a&&(a=[]);console.warn("THREE.MultiMaterial has been removed. Use an Array instead.");a.isMultiMaterial=!0;a.materials=a;a.clone=function(){return a.slice()};return a}
function PointCloud$$module$js$threejs$three_module(a,b){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new Points$$module$js$threejs$three_module(a,b)}function Particle$$module$js$threejs$three_module(a){console.warn("THREE.Particle has been renamed to THREE.Sprite.");return new Sprite$$module$js$threejs$three_module(a)}
function ParticleSystem$$module$js$threejs$three_module(a,b){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");return new Points$$module$js$threejs$three_module(a,b)}function PointCloudMaterial$$module$js$threejs$three_module(a){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");return new PointsMaterial$$module$js$threejs$three_module(a)}
function ParticleBasicMaterial$$module$js$threejs$three_module(a){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");return new PointsMaterial$$module$js$threejs$three_module(a)}function ParticleSystemMaterial$$module$js$threejs$three_module(a){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");return new PointsMaterial$$module$js$threejs$three_module(a)}
function Vertex$$module$js$threejs$three_module(a,b,c){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");return new Vector3$$module$js$threejs$three_module(a,b,c)}
function DynamicBufferAttribute$$module$js$threejs$three_module(a,b){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.");return(new BufferAttribute$$module$js$threejs$three_module(a,b)).setUsage(DynamicDrawUsage$$module$js$threejs$three_module)}
function Int8Attribute$$module$js$threejs$three_module(a,b){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.");return new Int8BufferAttribute$$module$js$threejs$three_module(a,b)}function Uint8Attribute$$module$js$threejs$three_module(a,b){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.");return new Uint8BufferAttribute$$module$js$threejs$three_module(a,b)}
function Uint8ClampedAttribute$$module$js$threejs$three_module(a,b){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.");return new Uint8ClampedBufferAttribute$$module$js$threejs$three_module(a,b)}function Int16Attribute$$module$js$threejs$three_module(a,b){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.");return new Int16BufferAttribute$$module$js$threejs$three_module(a,b)}
function Uint16Attribute$$module$js$threejs$three_module(a,b){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.");return new Uint16BufferAttribute$$module$js$threejs$three_module(a,b)}function Int32Attribute$$module$js$threejs$three_module(a,b){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.");return new Int32BufferAttribute$$module$js$threejs$three_module(a,b)}
function Uint32Attribute$$module$js$threejs$three_module(a,b){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.");return new Uint32BufferAttribute$$module$js$threejs$three_module(a,b)}function Float32Attribute$$module$js$threejs$three_module(a,b){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.");return new Float32BufferAttribute$$module$js$threejs$three_module(a,b)}
function Float64Attribute$$module$js$threejs$three_module(a,b){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.");return new Float64BufferAttribute$$module$js$threejs$three_module(a,b)}Curve$$module$js$threejs$three_module.create=function(a,b){console.log("THREE.Curve.create() has been deprecated");a.prototype=Object.create(Curve$$module$js$threejs$three_module.prototype);a.prototype.constructor=a;a.prototype.getPoint=b;return a};
Object.assign(CurvePath$$module$js$threejs$three_module.prototype,{createPointsGeometry:function(a){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");a=this.getPoints(a);return this.createGeometry(a)},createSpacedPointsGeometry:function(a){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");a=this.getSpacedPoints(a);return this.createGeometry(a)},
createGeometry:function(a){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const b=new Geometry$$module$js$threejs$three_module;for(let c=0,d=a.length;c<d;c++){const e=a[c];b.vertices.push(new Vector3$$module$js$threejs$three_module(e.x,e.y,e.z||0))}return b}});
Object.assign(Path$$module$js$threejs$three_module.prototype,{fromPoints:function(a){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints().");return this.setFromPoints(a)}});function ClosedSplineCurve3$$module$js$threejs$three_module(a){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");CatmullRomCurve3$$module$js$threejs$three_module.call(this,a);this.type="catmullrom";this.closed=!0}
ClosedSplineCurve3$$module$js$threejs$three_module.prototype=Object.create(CatmullRomCurve3$$module$js$threejs$three_module.prototype);function SplineCurve3$$module$js$threejs$three_module(a){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.");CatmullRomCurve3$$module$js$threejs$three_module.call(this,a);this.type="catmullrom"}SplineCurve3$$module$js$threejs$three_module.prototype=Object.create(CatmullRomCurve3$$module$js$threejs$three_module.prototype);
function Spline$$module$js$threejs$three_module(a){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.");CatmullRomCurve3$$module$js$threejs$three_module.call(this,a);this.type="catmullrom"}Spline$$module$js$threejs$three_module.prototype=Object.create(CatmullRomCurve3$$module$js$threejs$three_module.prototype);
Object.assign(Spline$$module$js$threejs$three_module.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});
function AxisHelper$$module$js$threejs$three_module(a){console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper.");return new AxesHelper$$module$js$threejs$three_module(a)}function BoundingBoxHelper$$module$js$threejs$three_module(a,b){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.");return new BoxHelper$$module$js$threejs$three_module(a,b)}
function EdgesHelper$$module$js$threejs$three_module(a,b){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.");return new LineSegments$$module$js$threejs$three_module(new EdgesGeometry$$module$js$threejs$three_module(a.geometry),new LineBasicMaterial$$module$js$threejs$three_module({color:void 0!==b?b:16777215}))}GridHelper$$module$js$threejs$three_module.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};
SkeletonHelper$$module$js$threejs$three_module.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};
function WireframeHelper$$module$js$threejs$three_module(a,b){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.");return new LineSegments$$module$js$threejs$three_module(new WireframeGeometry$$module$js$threejs$three_module(a.geometry),new LineBasicMaterial$$module$js$threejs$three_module({color:void 0!==b?b:16777215}))}
Object.assign(Loader$$module$js$threejs$three_module.prototype,{extractUrlBase:function(a){console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.");return LoaderUtils$$module$js$threejs$three_module.extractUrlBase(a)}});Loader$$module$js$threejs$three_module.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};
function XHRLoader$$module$js$threejs$three_module(a){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader.");return new FileLoader$$module$js$threejs$three_module(a)}function BinaryTextureLoader$$module$js$threejs$three_module(a){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.");return new DataTextureLoader$$module$js$threejs$three_module(a)}
Object.assign(ObjectLoader$$module$js$threejs$three_module.prototype,{setTexturePath:function(a){console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().");return this.setResourcePath(a)}});
Object.assign(Box2$$module$js$threejs$three_module.prototype,{center:function(a){console.warn("THREE.Box2: .center() has been renamed to .getCenter().");return this.getCenter(a)},empty:function(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},size:function(a){console.warn("THREE.Box2: .size() has been renamed to .getSize().");
return this.getSize(a)}});
Object.assign(Box3$$module$js$threejs$three_module.prototype,{center:function(a){console.warn("THREE.Box3: .center() has been renamed to .getCenter().");return this.getCenter(a)},empty:function(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionSphere:function(a){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)},
size:function(a){console.warn("THREE.Box3: .size() has been renamed to .getSize().");return this.getSize(a)}});Object.assign(Sphere$$module$js$threejs$three_module.prototype,{empty:function(){console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty().");return this.isEmpty()}});Frustum$$module$js$threejs$three_module.prototype.setFromMatrix=function(a){console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().");return this.setFromProjectionMatrix(a)};
Line3$$module$js$threejs$three_module.prototype.center=function(a){console.warn("THREE.Line3: .center() has been renamed to .getCenter().");return this.getCenter(a)};
Object.assign(MathUtils$$module$js$threejs$three_module,{random16:function(){console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead.");return Math.random()},nearestPowerOfTwo:function(a){console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().");return MathUtils$$module$js$threejs$three_module.floorPowerOfTwo(a)},nextPowerOfTwo:function(a){console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().");return MathUtils$$module$js$threejs$three_module.ceilPowerOfTwo(a)}});
Object.assign(Matrix3$$module$js$threejs$three_module.prototype,{flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},multiplyVector3:function(a){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return a.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},
applyToBufferAttribute:function(a){console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.");return a.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});
Object.assign(Matrix4$$module$js$threejs$three_module.prototype,{extractPosition:function(a){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");return this.copyPosition(a)},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},getPosition:function(){console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");
return(new Vector3$$module$js$threejs$three_module).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(a){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return this.makeRotationFromQuaternion(a)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(a){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.");
return a.applyMatrix4(this)},multiplyVector4:function(a){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");a.transformDirection(this)},crossVector:function(a){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");
return a.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(a){console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.");
return a.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(a,b,c,d,e,g){console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.");return this.makePerspective(a,b,d,c,e,g)}});
Plane$$module$js$threejs$three_module.prototype.isIntersectionLine=function(a){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");return this.intersectsLine(a)};Quaternion$$module$js$threejs$three_module.prototype.multiplyVector3=function(a){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return a.applyQuaternion(this)};
Object.assign(Ray$$module$js$threejs$three_module.prototype,{isIntersectionBox:function(a){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionPlane:function(a){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");return this.intersectsPlane(a)},isIntersectionSphere:function(a){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});
Object.assign(Triangle$$module$js$threejs$three_module.prototype,{area:function(){console.warn("THREE.Triangle: .area() has been renamed to .getArea().");return this.getArea()},barycoordFromPoint:function(a,b){console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().");return this.getBarycoord(a,b)},midpoint:function(a){console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint().");return this.getMidpoint(a)},normal:function(a){console.warn("THREE.Triangle: .normal() has been renamed to .getNormal().");
return this.getNormal(a)},plane:function(a){console.warn("THREE.Triangle: .plane() has been renamed to .getPlane().");return this.getPlane(a)}});
Object.assign(Triangle$$module$js$threejs$three_module,{barycoordFromPoint:function(a,b,c,d,e){console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().");return Triangle$$module$js$threejs$three_module.getBarycoord(a,b,c,d,e)},normal:function(a,b,c,d){console.warn("THREE.Triangle: .normal() has been renamed to .getNormal().");return Triangle$$module$js$threejs$three_module.getNormal(a,b,c,d)}});
Object.assign(Shape$$module$js$threejs$three_module.prototype,{extractAllPoints:function(a){console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.");return this.extractPoints(a)},extrude:function(a){console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.");return new ExtrudeGeometry$$module$js$threejs$three_module(this,a)},makeGeometry:function(a){console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.");
return new ShapeGeometry$$module$js$threejs$three_module(this,a)}});
Object.assign(Vector2$$module$js$threejs$three_module.prototype,{fromAttribute:function(a,b,c){console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},distanceToManhattan:function(a){console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().");return this.manhattanDistanceTo(a)},lengthManhattan:function(){console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});
Object.assign(Vector3$$module$js$threejs$three_module.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(a){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");
return this.setFromMatrixPosition(a)},getScaleFromMatrix:function(a){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");return this.setFromMatrixScale(a)},getColumnFromMatrix:function(a,b){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return this.setFromMatrixColumn(b,a)},applyProjection:function(a){console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.");return this.applyMatrix4(a)},
fromAttribute:function(a,b,c){console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},distanceToManhattan:function(a){console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().");return this.manhattanDistanceTo(a)},lengthManhattan:function(){console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});
Object.assign(Vector4$$module$js$threejs$three_module.prototype,{fromAttribute:function(a,b,c){console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)},lengthManhattan:function(){console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().");return this.manhattanLength()}});
Object.assign(Geometry$$module$js$threejs$three_module.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(a){console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4().");return this.applyMatrix4(a)}});
Object.assign(Object3D$$module$js$threejs$three_module.prototype,{getChildByName:function(a){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(a)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(a,b){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(b,a)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},
applyMatrix:function(a){console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().");return this.applyMatrix4(a)}});
Object.defineProperties(Object3D$$module$js$threejs$three_module.prototype,{eulerOrder:{get:function(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=a}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});
Object.assign(Mesh$$module$js$threejs$three_module.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});
Object.defineProperties(Mesh$$module$js$threejs$three_module.prototype,{drawMode:{get:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.");return TrianglesDrawMode$$module$js$threejs$three_module},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});
Object.defineProperties(LOD$$module$js$threejs$three_module.prototype,{objects:{get:function(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}});Object.defineProperty(Skeleton$$module$js$threejs$three_module.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});
SkinnedMesh$$module$js$threejs$three_module.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(Curve$$module$js$threejs$three_module.prototype,"__arcLengthDivisions",{get:function(){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");return this.arcLengthDivisions},set:function(a){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.");this.arcLengthDivisions=a}});
PerspectiveCamera$$module$js$threejs$three_module.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");void 0!==b&&(this.filmGauge=b);this.setFocalLength(a)};
Object.defineProperties(Light$$module$js$threejs$three_module.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");
this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");
this.shadow.camera.far=a}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=a}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");
this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=a}}});
Object.defineProperties(BufferAttribute$$module$js$threejs$three_module.prototype,{length:{get:function(){console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead.");return this.array.length}},dynamic:{get:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.");return this.usage===DynamicDrawUsage$$module$js$threejs$three_module},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.");
this.setUsage(DynamicDrawUsage$$module$js$threejs$three_module)}}});
Object.assign(BufferAttribute$$module$js$threejs$three_module.prototype,{setDynamic:function(a){console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.");this.setUsage(!0===a?DynamicDrawUsage$$module$js$threejs$three_module:StaticDrawUsage$$module$js$threejs$three_module);return this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});
Object.assign(BufferGeometry$$module$js$threejs$three_module.prototype,{addIndex:function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(a)},addAttribute:function(a,b,c){console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().");return b&&b.isBufferAttribute||b&&b.isInterleavedBufferAttribute?"index"===a?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(b),this):
this.setAttribute(a,b):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(a,new BufferAttribute$$module$js$threejs$three_module(b,c)))},addDrawCall:function(a,b,c){void 0!==c&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(a,b)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");
this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(a){console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().");return this.deleteAttribute(a)},applyMatrix:function(a){console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().");return this.applyMatrix4(a)}});
Object.defineProperties(BufferGeometry$$module$js$threejs$three_module.prototype,{drawcalls:{get:function(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");return this.groups}},offsets:{get:function(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}}});
Object.defineProperties(InstancedBufferGeometry$$module$js$threejs$three_module.prototype,{maxInstancedCount:{get:function(){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.");return this.instanceCount},set:function(a){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.");this.instanceCount=a}}});
Object.defineProperties(Raycaster$$module$js$threejs$three_module.prototype,{linePrecision:{get:function(){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.");return this.params.Line.threshold},set:function(a){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.");this.params.Line.threshold=a}}});
Object.defineProperties(InterleavedBuffer$$module$js$threejs$three_module.prototype,{dynamic:{get:function(){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.");return this.usage===DynamicDrawUsage$$module$js$threejs$three_module},set:function(a){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.");this.setUsage(a)}}});
Object.assign(InterleavedBuffer$$module$js$threejs$three_module.prototype,{setDynamic:function(a){console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.");this.setUsage(!0===a?DynamicDrawUsage$$module$js$threejs$three_module:StaticDrawUsage$$module$js$threejs$three_module);return this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});
Object.assign(ExtrudeBufferGeometry$$module$js$threejs$three_module.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.assign(Scene$$module$js$threejs$three_module.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}});
Object.defineProperties(Uniform$$module$js$threejs$three_module.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.");return this}}});
Object.defineProperties(Material$$module$js$threejs$three_module.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){console.warn("THREE.Material: .wrapRGB has been removed.");return new Color$$module$js$threejs$three_module}},
shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(a){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.");this.flatShading=a===FlatShading$$module$js$threejs$three_module}},stencilMask:{get:function(){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead.");return this.stencilFuncMask},set:function(a){console.warn("THREE."+
this.type+": .stencilMask has been removed. Use .stencilFuncMask instead.");this.stencilFuncMask=a}}});Object.defineProperties(MeshPhongMaterial$$module$js$threejs$three_module.prototype,{metal:{get:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");return!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});
Object.defineProperties(MeshPhysicalMaterial$$module$js$threejs$three_module.prototype,{transparency:{get:function(){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.");return this.transmission},set:function(a){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.");this.transmission=a}}});
Object.defineProperties(ShaderMaterial$$module$js$threejs$three_module.prototype,{derivatives:{get:function(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=a}}});
Object.assign(WebGLRenderer$$module$js$threejs$three_module.prototype,{clearTarget:function(a,b,c,d){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.");this.setRenderTarget(a);this.clear(b,c,d)},animate:function(a){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop().");this.setAnimationLoop(a)},getCurrentRenderTarget:function(){console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().");
return this.getRenderTarget()},getMaxAnisotropy:function(){console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().");return this.capabilities.getMaxAnisotropy()},getPrecision:function(){console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.");return this.capabilities.precision},resetGLState:function(){console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset().");return this.state.reset()},supportsFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");
return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");
return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.");
return this.capabilities.vertexTextures},supportsInstancedArrays:function(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");this.setScissorTest(a)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},
addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},
setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().");return this.getActiveMipmapLevel()}});
Object.defineProperties(WebGLRenderer$$module$js$threejs$three_module.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=a}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},
set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.");return this.getContext()}},vr:{get:function(){console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr");return this.xr}},gammaInput:{get:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.");
return!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.");return!1},set:function(a){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.");this.outputEncoding=!0===a?sRGBEncoding$$module$js$threejs$three_module:LinearEncoding$$module$js$threejs$three_module}},
toneMappingWhitePoint:{get:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.");return 1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});
Object.defineProperties(WebGLShadowMap$$module$js$threejs$three_module.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},
renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});
function WebGLRenderTargetCube$$module$js$threejs$three_module(a,b,c){console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).");return new WebGLCubeRenderTarget$$module$js$threejs$three_module(a,c)}
Object.defineProperties(WebGLRenderTarget$$module$js$threejs$three_module.prototype,{wrapS:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");this.texture.wrapS=a}},wrapT:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");
this.texture.wrapT=a}},magFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=a}},minFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");
this.texture.minFilter=a}},anisotropy:{get:function(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=a}},offset:{get:function(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");
this.texture.offset=a}},repeat:{get:function(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=a}},format:{get:function(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");return this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=a}},type:{get:function(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");
return this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=a}},generateMipmaps:{get:function(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=a}}});
Object.defineProperties(Audio$$module$js$threejs$three_module.prototype,{load:{value:function(a){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const b=this;(new AudioLoader$$module$js$threejs$three_module).load(a,function(c){b.setBuffer(c)});return this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}});
AudioAnalyser$$module$js$threejs$three_module.prototype.getData=function(){console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");return this.getFrequencyData()};CubeCamera$$module$js$threejs$three_module.prototype.updateCubeMap=function(a,b){console.warn("THREE.CubeCamera: .updateCubeMap() is now .update().");return this.update(a,b)};
const GeometryUtils$$module$js$threejs$three_module={merge:function(a,b,c){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");let d;b.isMesh&&(b.matrixAutoUpdate&&b.updateMatrix(),d=b.matrix,b=b.geometry);a.merge(b,d,c)},center:function(a){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return a.center()}};
ImageUtils$$module$js$threejs$three_module.crossOrigin=void 0;ImageUtils$$module$js$threejs$three_module.loadTexture=function(a,b,c,d){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const e=new TextureLoader$$module$js$threejs$three_module;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a};
ImageUtils$$module$js$threejs$three_module.loadTextureCube=function(a,b,c,d){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const e=new CubeTextureLoader$$module$js$threejs$three_module;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a};ImageUtils$$module$js$threejs$three_module.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};
ImageUtils$$module$js$threejs$three_module.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function CanvasRenderer$$module$js$threejs$three_module(){console.error("THREE.CanvasRenderer has been removed")}function JSONLoader$$module$js$threejs$three_module(){console.error("THREE.JSONLoader has been removed.")}
const SceneUtils$$module$js$threejs$three_module={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};
function LensFlare$$module$js$threejs$three_module(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION$$module$js$threejs$three_module}}));var module$js$threejs$three_module={};module$js$threejs$three_module.ACESFilmicToneMapping=ACESFilmicToneMapping$$module$js$threejs$three_module;module$js$threejs$three_module.AddEquation=AddEquation$$module$js$threejs$three_module;
module$js$threejs$three_module.AddOperation=AddOperation$$module$js$threejs$three_module;module$js$threejs$three_module.AdditiveAnimationBlendMode=AdditiveAnimationBlendMode$$module$js$threejs$three_module;module$js$threejs$three_module.AdditiveBlending=AdditiveBlending$$module$js$threejs$three_module;module$js$threejs$three_module.AlphaFormat=AlphaFormat$$module$js$threejs$three_module;module$js$threejs$three_module.AlwaysDepth=AlwaysDepth$$module$js$threejs$three_module;
module$js$threejs$three_module.AlwaysStencilFunc=AlwaysStencilFunc$$module$js$threejs$three_module;module$js$threejs$three_module.AmbientLight=AmbientLight$$module$js$threejs$three_module;module$js$threejs$three_module.AmbientLightProbe=AmbientLightProbe$$module$js$threejs$three_module;module$js$threejs$three_module.AnimationClip=AnimationClip$$module$js$threejs$three_module;module$js$threejs$three_module.AnimationLoader=AnimationLoader$$module$js$threejs$three_module;
module$js$threejs$three_module.AnimationMixer=AnimationMixer$$module$js$threejs$three_module;module$js$threejs$three_module.AnimationObjectGroup=AnimationObjectGroup$$module$js$threejs$three_module;module$js$threejs$three_module.AnimationUtils=AnimationUtils$$module$js$threejs$three_module;module$js$threejs$three_module.ArcCurve=ArcCurve$$module$js$threejs$three_module;module$js$threejs$three_module.ArrayCamera=ArrayCamera$$module$js$threejs$three_module;
module$js$threejs$three_module.ArrowHelper=ArrowHelper$$module$js$threejs$three_module;module$js$threejs$three_module.Audio=Audio$$module$js$threejs$three_module;module$js$threejs$three_module.AudioAnalyser=AudioAnalyser$$module$js$threejs$three_module;module$js$threejs$three_module.AudioContext=AudioContext$$module$js$threejs$three_module;module$js$threejs$three_module.AudioListener=AudioListener$$module$js$threejs$three_module;module$js$threejs$three_module.AudioLoader=AudioLoader$$module$js$threejs$three_module;
module$js$threejs$three_module.AxesHelper=AxesHelper$$module$js$threejs$three_module;module$js$threejs$three_module.AxisHelper=AxisHelper$$module$js$threejs$three_module;module$js$threejs$three_module.BackSide=BackSide$$module$js$threejs$three_module;module$js$threejs$three_module.BasicDepthPacking=BasicDepthPacking$$module$js$threejs$three_module;module$js$threejs$three_module.BasicShadowMap=BasicShadowMap$$module$js$threejs$three_module;module$js$threejs$three_module.BinaryTextureLoader=BinaryTextureLoader$$module$js$threejs$three_module;
module$js$threejs$three_module.Bone=Bone$$module$js$threejs$three_module;module$js$threejs$three_module.BooleanKeyframeTrack=BooleanKeyframeTrack$$module$js$threejs$three_module;module$js$threejs$three_module.BoundingBoxHelper=BoundingBoxHelper$$module$js$threejs$three_module;module$js$threejs$three_module.Box2=Box2$$module$js$threejs$three_module;module$js$threejs$three_module.Box3=Box3$$module$js$threejs$three_module;module$js$threejs$three_module.Box3Helper=Box3Helper$$module$js$threejs$three_module;
module$js$threejs$three_module.BoxBufferGeometry=BoxBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.BoxGeometry=BoxGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.BoxHelper=BoxHelper$$module$js$threejs$three_module;module$js$threejs$three_module.BufferAttribute=BufferAttribute$$module$js$threejs$three_module;module$js$threejs$three_module.BufferGeometry=BufferGeometry$$module$js$threejs$three_module;
module$js$threejs$three_module.BufferGeometryLoader=BufferGeometryLoader$$module$js$threejs$three_module;module$js$threejs$three_module.ByteType=ByteType$$module$js$threejs$three_module;module$js$threejs$three_module.Cache=Cache$$module$js$threejs$three_module;module$js$threejs$three_module.Camera=Camera$$module$js$threejs$three_module;module$js$threejs$three_module.CameraHelper=CameraHelper$$module$js$threejs$three_module;module$js$threejs$three_module.CanvasRenderer=CanvasRenderer$$module$js$threejs$three_module;
module$js$threejs$three_module.CanvasTexture=CanvasTexture$$module$js$threejs$three_module;module$js$threejs$three_module.CatmullRomCurve3=CatmullRomCurve3$$module$js$threejs$three_module;module$js$threejs$three_module.CineonToneMapping=CineonToneMapping$$module$js$threejs$three_module;module$js$threejs$three_module.CircleBufferGeometry=CircleBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.CircleGeometry=CircleGeometry$$module$js$threejs$three_module;
module$js$threejs$three_module.ClampToEdgeWrapping=ClampToEdgeWrapping$$module$js$threejs$three_module;module$js$threejs$three_module.Clock=Clock$$module$js$threejs$three_module;module$js$threejs$three_module.ClosedSplineCurve3=ClosedSplineCurve3$$module$js$threejs$three_module;module$js$threejs$three_module.Color=Color$$module$js$threejs$three_module;module$js$threejs$three_module.ColorKeyframeTrack=ColorKeyframeTrack$$module$js$threejs$three_module;
module$js$threejs$three_module.CompressedTexture=CompressedTexture$$module$js$threejs$three_module;module$js$threejs$three_module.CompressedTextureLoader=CompressedTextureLoader$$module$js$threejs$three_module;module$js$threejs$three_module.ConeBufferGeometry=ConeBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.ConeGeometry=ConeGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.CubeCamera=CubeCamera$$module$js$threejs$three_module;
module$js$threejs$three_module.CubeGeometry=BoxGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.CubeReflectionMapping=CubeReflectionMapping$$module$js$threejs$three_module;module$js$threejs$three_module.CubeRefractionMapping=CubeRefractionMapping$$module$js$threejs$three_module;module$js$threejs$three_module.CubeTexture=CubeTexture$$module$js$threejs$three_module;module$js$threejs$three_module.CubeTextureLoader=CubeTextureLoader$$module$js$threejs$three_module;
module$js$threejs$three_module.CubeUVReflectionMapping=CubeUVReflectionMapping$$module$js$threejs$three_module;module$js$threejs$three_module.CubeUVRefractionMapping=CubeUVRefractionMapping$$module$js$threejs$three_module;module$js$threejs$three_module.CubicBezierCurve=CubicBezierCurve$$module$js$threejs$three_module;module$js$threejs$three_module.CubicBezierCurve3=CubicBezierCurve3$$module$js$threejs$three_module;module$js$threejs$three_module.CubicInterpolant=CubicInterpolant$$module$js$threejs$three_module;
module$js$threejs$three_module.CullFaceBack=CullFaceBack$$module$js$threejs$three_module;module$js$threejs$three_module.CullFaceFront=CullFaceFront$$module$js$threejs$three_module;module$js$threejs$three_module.CullFaceFrontBack=CullFaceFrontBack$$module$js$threejs$three_module;module$js$threejs$three_module.CullFaceNone=CullFaceNone$$module$js$threejs$three_module;module$js$threejs$three_module.Curve=Curve$$module$js$threejs$three_module;module$js$threejs$three_module.CurvePath=CurvePath$$module$js$threejs$three_module;
module$js$threejs$three_module.CustomBlending=CustomBlending$$module$js$threejs$three_module;module$js$threejs$three_module.CustomToneMapping=CustomToneMapping$$module$js$threejs$three_module;module$js$threejs$three_module.CylinderBufferGeometry=CylinderBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.CylinderGeometry=CylinderGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.Cylindrical=Cylindrical$$module$js$threejs$three_module;
module$js$threejs$three_module.DataTexture=DataTexture$$module$js$threejs$three_module;module$js$threejs$three_module.DataTexture2DArray=DataTexture2DArray$$module$js$threejs$three_module;module$js$threejs$three_module.DataTexture3D=DataTexture3D$$module$js$threejs$three_module;module$js$threejs$three_module.DataTextureLoader=DataTextureLoader$$module$js$threejs$three_module;module$js$threejs$three_module.DecrementStencilOp=DecrementStencilOp$$module$js$threejs$three_module;
module$js$threejs$three_module.DecrementWrapStencilOp=DecrementWrapStencilOp$$module$js$threejs$three_module;module$js$threejs$three_module.DefaultLoadingManager=DefaultLoadingManager$$module$js$threejs$three_module;module$js$threejs$three_module.DepthFormat=DepthFormat$$module$js$threejs$three_module;module$js$threejs$three_module.DepthStencilFormat=DepthStencilFormat$$module$js$threejs$three_module;module$js$threejs$three_module.DepthTexture=DepthTexture$$module$js$threejs$three_module;
module$js$threejs$three_module.DirectionalLight=DirectionalLight$$module$js$threejs$three_module;module$js$threejs$three_module.DirectionalLightHelper=DirectionalLightHelper$$module$js$threejs$three_module;module$js$threejs$three_module.DiscreteInterpolant=DiscreteInterpolant$$module$js$threejs$three_module;module$js$threejs$three_module.DodecahedronBufferGeometry=DodecahedronBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.DodecahedronGeometry=DodecahedronGeometry$$module$js$threejs$three_module;
module$js$threejs$three_module.DoubleSide=DoubleSide$$module$js$threejs$three_module;module$js$threejs$three_module.DstAlphaFactor=DstAlphaFactor$$module$js$threejs$three_module;module$js$threejs$three_module.DstColorFactor=DstColorFactor$$module$js$threejs$three_module;module$js$threejs$three_module.DynamicBufferAttribute=DynamicBufferAttribute$$module$js$threejs$three_module;module$js$threejs$three_module.DynamicCopyUsage=DynamicCopyUsage$$module$js$threejs$three_module;
module$js$threejs$three_module.DynamicDrawUsage=DynamicDrawUsage$$module$js$threejs$three_module;module$js$threejs$three_module.DynamicReadUsage=DynamicReadUsage$$module$js$threejs$three_module;module$js$threejs$three_module.EdgesGeometry=EdgesGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.EdgesHelper=EdgesHelper$$module$js$threejs$three_module;module$js$threejs$three_module.EllipseCurve=EllipseCurve$$module$js$threejs$three_module;
module$js$threejs$three_module.EqualDepth=EqualDepth$$module$js$threejs$three_module;module$js$threejs$three_module.EqualStencilFunc=EqualStencilFunc$$module$js$threejs$three_module;module$js$threejs$three_module.EquirectangularReflectionMapping=EquirectangularReflectionMapping$$module$js$threejs$three_module;module$js$threejs$three_module.EquirectangularRefractionMapping=EquirectangularRefractionMapping$$module$js$threejs$three_module;module$js$threejs$three_module.Euler=Euler$$module$js$threejs$three_module;
module$js$threejs$three_module.EventDispatcher=EventDispatcher$$module$js$threejs$three_module;module$js$threejs$three_module.ExtrudeBufferGeometry=ExtrudeBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.ExtrudeGeometry=ExtrudeGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.Face3=Face3$$module$js$threejs$three_module;module$js$threejs$three_module.Face4=Face4$$module$js$threejs$three_module;module$js$threejs$three_module.FaceColors=FaceColors$$module$js$threejs$three_module;
module$js$threejs$three_module.FileLoader=FileLoader$$module$js$threejs$three_module;module$js$threejs$three_module.FlatShading=FlatShading$$module$js$threejs$three_module;module$js$threejs$three_module.Float32Attribute=Float32Attribute$$module$js$threejs$three_module;module$js$threejs$three_module.Float32BufferAttribute=Float32BufferAttribute$$module$js$threejs$three_module;module$js$threejs$three_module.Float64Attribute=Float64Attribute$$module$js$threejs$three_module;
module$js$threejs$three_module.Float64BufferAttribute=Float64BufferAttribute$$module$js$threejs$three_module;module$js$threejs$three_module.FloatType=FloatType$$module$js$threejs$three_module;module$js$threejs$three_module.Fog=Fog$$module$js$threejs$three_module;module$js$threejs$three_module.FogExp2=FogExp2$$module$js$threejs$three_module;module$js$threejs$three_module.Font=Font$$module$js$threejs$three_module;module$js$threejs$three_module.FontLoader=FontLoader$$module$js$threejs$three_module;
module$js$threejs$three_module.FrontSide=FrontSide$$module$js$threejs$three_module;module$js$threejs$three_module.Frustum=Frustum$$module$js$threejs$three_module;module$js$threejs$three_module.GLBufferAttribute=GLBufferAttribute$$module$js$threejs$three_module;module$js$threejs$three_module.GLSL1=GLSL1$$module$js$threejs$three_module;module$js$threejs$three_module.GLSL3=GLSL3$$module$js$threejs$three_module;module$js$threejs$three_module.GammaEncoding=GammaEncoding$$module$js$threejs$three_module;
module$js$threejs$three_module.Geometry=Geometry$$module$js$threejs$three_module;module$js$threejs$three_module.GeometryUtils=GeometryUtils$$module$js$threejs$three_module;module$js$threejs$three_module.GreaterDepth=GreaterDepth$$module$js$threejs$three_module;module$js$threejs$three_module.GreaterEqualDepth=GreaterEqualDepth$$module$js$threejs$three_module;module$js$threejs$three_module.GreaterEqualStencilFunc=GreaterEqualStencilFunc$$module$js$threejs$three_module;
module$js$threejs$three_module.GreaterStencilFunc=GreaterStencilFunc$$module$js$threejs$three_module;module$js$threejs$three_module.GridHelper=GridHelper$$module$js$threejs$three_module;module$js$threejs$three_module.Group=Group$$module$js$threejs$three_module;module$js$threejs$three_module.HalfFloatType=HalfFloatType$$module$js$threejs$three_module;module$js$threejs$three_module.HemisphereLight=HemisphereLight$$module$js$threejs$three_module;module$js$threejs$three_module.HemisphereLightHelper=HemisphereLightHelper$$module$js$threejs$three_module;
module$js$threejs$three_module.HemisphereLightProbe=HemisphereLightProbe$$module$js$threejs$three_module;module$js$threejs$three_module.IcosahedronBufferGeometry=IcosahedronBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.IcosahedronGeometry=IcosahedronGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.ImageBitmapLoader=ImageBitmapLoader$$module$js$threejs$three_module;module$js$threejs$three_module.ImageLoader=ImageLoader$$module$js$threejs$three_module;
module$js$threejs$three_module.ImageUtils=ImageUtils$$module$js$threejs$three_module;module$js$threejs$three_module.ImmediateRenderObject=ImmediateRenderObject$$module$js$threejs$three_module;module$js$threejs$three_module.IncrementStencilOp=IncrementStencilOp$$module$js$threejs$three_module;module$js$threejs$three_module.IncrementWrapStencilOp=IncrementWrapStencilOp$$module$js$threejs$three_module;module$js$threejs$three_module.InstancedBufferAttribute=InstancedBufferAttribute$$module$js$threejs$three_module;
module$js$threejs$three_module.InstancedBufferGeometry=InstancedBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.InstancedInterleavedBuffer=InstancedInterleavedBuffer$$module$js$threejs$three_module;module$js$threejs$three_module.InstancedMesh=InstancedMesh$$module$js$threejs$three_module;module$js$threejs$three_module.Int16Attribute=Int16Attribute$$module$js$threejs$three_module;module$js$threejs$three_module.Int16BufferAttribute=Int16BufferAttribute$$module$js$threejs$three_module;
module$js$threejs$three_module.Int32Attribute=Int32Attribute$$module$js$threejs$three_module;module$js$threejs$three_module.Int32BufferAttribute=Int32BufferAttribute$$module$js$threejs$three_module;module$js$threejs$three_module.Int8Attribute=Int8Attribute$$module$js$threejs$three_module;module$js$threejs$three_module.Int8BufferAttribute=Int8BufferAttribute$$module$js$threejs$three_module;module$js$threejs$three_module.IntType=IntType$$module$js$threejs$three_module;
module$js$threejs$three_module.InterleavedBuffer=InterleavedBuffer$$module$js$threejs$three_module;module$js$threejs$three_module.InterleavedBufferAttribute=InterleavedBufferAttribute$$module$js$threejs$three_module;module$js$threejs$three_module.Interpolant=Interpolant$$module$js$threejs$three_module;module$js$threejs$three_module.InterpolateDiscrete=InterpolateDiscrete$$module$js$threejs$three_module;module$js$threejs$three_module.InterpolateLinear=InterpolateLinear$$module$js$threejs$three_module;
module$js$threejs$three_module.InterpolateSmooth=InterpolateSmooth$$module$js$threejs$three_module;module$js$threejs$three_module.InvertStencilOp=InvertStencilOp$$module$js$threejs$three_module;module$js$threejs$three_module.JSONLoader=JSONLoader$$module$js$threejs$three_module;module$js$threejs$three_module.KeepStencilOp=KeepStencilOp$$module$js$threejs$three_module;module$js$threejs$three_module.KeyframeTrack=KeyframeTrack$$module$js$threejs$three_module;module$js$threejs$three_module.LOD=LOD$$module$js$threejs$three_module;
module$js$threejs$three_module.LatheBufferGeometry=LatheBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.LatheGeometry=LatheGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.Layers=Layers$$module$js$threejs$three_module;module$js$threejs$three_module.LensFlare=LensFlare$$module$js$threejs$three_module;module$js$threejs$three_module.LessDepth=LessDepth$$module$js$threejs$three_module;module$js$threejs$three_module.LessEqualDepth=LessEqualDepth$$module$js$threejs$three_module;
module$js$threejs$three_module.LessEqualStencilFunc=LessEqualStencilFunc$$module$js$threejs$three_module;module$js$threejs$three_module.LessStencilFunc=LessStencilFunc$$module$js$threejs$three_module;module$js$threejs$three_module.Light=Light$$module$js$threejs$three_module;module$js$threejs$three_module.LightProbe=LightProbe$$module$js$threejs$three_module;module$js$threejs$three_module.LightShadow=LightShadow$$module$js$threejs$three_module;module$js$threejs$three_module.Line=Line$$module$js$threejs$three_module;
module$js$threejs$three_module.Line3=Line3$$module$js$threejs$three_module;module$js$threejs$three_module.LineBasicMaterial=LineBasicMaterial$$module$js$threejs$three_module;module$js$threejs$three_module.LineCurve=LineCurve$$module$js$threejs$three_module;module$js$threejs$three_module.LineCurve3=LineCurve3$$module$js$threejs$three_module;module$js$threejs$three_module.LineDashedMaterial=LineDashedMaterial$$module$js$threejs$three_module;module$js$threejs$three_module.LineLoop=LineLoop$$module$js$threejs$three_module;
module$js$threejs$three_module.LinePieces=LinePieces$$module$js$threejs$three_module;module$js$threejs$three_module.LineSegments=LineSegments$$module$js$threejs$three_module;module$js$threejs$three_module.LineStrip=LineStrip$$module$js$threejs$three_module;module$js$threejs$three_module.LinearEncoding=LinearEncoding$$module$js$threejs$three_module;module$js$threejs$three_module.LinearFilter=LinearFilter$$module$js$threejs$three_module;module$js$threejs$three_module.LinearInterpolant=LinearInterpolant$$module$js$threejs$three_module;
module$js$threejs$three_module.LinearMipMapLinearFilter=LinearMipMapLinearFilter$$module$js$threejs$three_module;module$js$threejs$three_module.LinearMipMapNearestFilter=LinearMipMapNearestFilter$$module$js$threejs$three_module;module$js$threejs$three_module.LinearMipmapLinearFilter=LinearMipmapLinearFilter$$module$js$threejs$three_module;module$js$threejs$three_module.LinearMipmapNearestFilter=LinearMipmapNearestFilter$$module$js$threejs$three_module;
module$js$threejs$three_module.LinearToneMapping=LinearToneMapping$$module$js$threejs$three_module;module$js$threejs$three_module.Loader=Loader$$module$js$threejs$three_module;module$js$threejs$three_module.LoaderUtils=LoaderUtils$$module$js$threejs$three_module;module$js$threejs$three_module.LoadingManager=LoadingManager$$module$js$threejs$three_module;module$js$threejs$three_module.LogLuvEncoding=LogLuvEncoding$$module$js$threejs$three_module;module$js$threejs$three_module.LoopOnce=LoopOnce$$module$js$threejs$three_module;
module$js$threejs$three_module.LoopPingPong=LoopPingPong$$module$js$threejs$three_module;module$js$threejs$three_module.LoopRepeat=LoopRepeat$$module$js$threejs$three_module;module$js$threejs$three_module.LuminanceAlphaFormat=LuminanceAlphaFormat$$module$js$threejs$three_module;module$js$threejs$three_module.LuminanceFormat=LuminanceFormat$$module$js$threejs$three_module;module$js$threejs$three_module.MOUSE=MOUSE$$module$js$threejs$three_module;module$js$threejs$three_module.Material=Material$$module$js$threejs$three_module;
module$js$threejs$three_module.MaterialLoader=MaterialLoader$$module$js$threejs$three_module;module$js$threejs$three_module.Math=MathUtils$$module$js$threejs$three_module;module$js$threejs$three_module.MathUtils=MathUtils$$module$js$threejs$three_module;module$js$threejs$three_module.Matrix3=Matrix3$$module$js$threejs$three_module;module$js$threejs$three_module.Matrix4=Matrix4$$module$js$threejs$three_module;module$js$threejs$three_module.MaxEquation=MaxEquation$$module$js$threejs$three_module;
module$js$threejs$three_module.Mesh=Mesh$$module$js$threejs$three_module;module$js$threejs$three_module.MeshBasicMaterial=MeshBasicMaterial$$module$js$threejs$three_module;module$js$threejs$three_module.MeshDepthMaterial=MeshDepthMaterial$$module$js$threejs$three_module;module$js$threejs$three_module.MeshDistanceMaterial=MeshDistanceMaterial$$module$js$threejs$three_module;module$js$threejs$three_module.MeshFaceMaterial=MeshFaceMaterial$$module$js$threejs$three_module;
module$js$threejs$three_module.MeshLambertMaterial=MeshLambertMaterial$$module$js$threejs$three_module;module$js$threejs$three_module.MeshMatcapMaterial=MeshMatcapMaterial$$module$js$threejs$three_module;module$js$threejs$three_module.MeshNormalMaterial=MeshNormalMaterial$$module$js$threejs$three_module;module$js$threejs$three_module.MeshPhongMaterial=MeshPhongMaterial$$module$js$threejs$three_module;module$js$threejs$three_module.MeshPhysicalMaterial=MeshPhysicalMaterial$$module$js$threejs$three_module;
module$js$threejs$three_module.MeshStandardMaterial=MeshStandardMaterial$$module$js$threejs$three_module;module$js$threejs$three_module.MeshToonMaterial=MeshToonMaterial$$module$js$threejs$three_module;module$js$threejs$three_module.MinEquation=MinEquation$$module$js$threejs$three_module;module$js$threejs$three_module.MirroredRepeatWrapping=MirroredRepeatWrapping$$module$js$threejs$three_module;module$js$threejs$three_module.MixOperation=MixOperation$$module$js$threejs$three_module;
module$js$threejs$three_module.MultiMaterial=MultiMaterial$$module$js$threejs$three_module;module$js$threejs$three_module.MultiplyBlending=MultiplyBlending$$module$js$threejs$three_module;module$js$threejs$three_module.MultiplyOperation=MultiplyOperation$$module$js$threejs$three_module;module$js$threejs$three_module.NearestFilter=NearestFilter$$module$js$threejs$three_module;module$js$threejs$three_module.NearestMipMapLinearFilter=NearestMipMapLinearFilter$$module$js$threejs$three_module;
module$js$threejs$three_module.NearestMipMapNearestFilter=NearestMipMapNearestFilter$$module$js$threejs$three_module;module$js$threejs$three_module.NearestMipmapLinearFilter=NearestMipmapLinearFilter$$module$js$threejs$three_module;module$js$threejs$three_module.NearestMipmapNearestFilter=NearestMipmapNearestFilter$$module$js$threejs$three_module;module$js$threejs$three_module.NeverDepth=NeverDepth$$module$js$threejs$three_module;module$js$threejs$three_module.NeverStencilFunc=NeverStencilFunc$$module$js$threejs$three_module;
module$js$threejs$three_module.NoBlending=NoBlending$$module$js$threejs$three_module;module$js$threejs$three_module.NoColors=NoColors$$module$js$threejs$three_module;module$js$threejs$three_module.NoToneMapping=NoToneMapping$$module$js$threejs$three_module;module$js$threejs$three_module.NormalAnimationBlendMode=NormalAnimationBlendMode$$module$js$threejs$three_module;module$js$threejs$three_module.NormalBlending=NormalBlending$$module$js$threejs$three_module;
module$js$threejs$three_module.NotEqualDepth=NotEqualDepth$$module$js$threejs$three_module;module$js$threejs$three_module.NotEqualStencilFunc=NotEqualStencilFunc$$module$js$threejs$three_module;module$js$threejs$three_module.NumberKeyframeTrack=NumberKeyframeTrack$$module$js$threejs$three_module;module$js$threejs$three_module.Object3D=Object3D$$module$js$threejs$three_module;module$js$threejs$three_module.ObjectLoader=ObjectLoader$$module$js$threejs$three_module;
module$js$threejs$three_module.ObjectSpaceNormalMap=ObjectSpaceNormalMap$$module$js$threejs$three_module;module$js$threejs$three_module.OctahedronBufferGeometry=OctahedronBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.OctahedronGeometry=OctahedronGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.OneFactor=OneFactor$$module$js$threejs$three_module;module$js$threejs$three_module.OneMinusDstAlphaFactor=OneMinusDstAlphaFactor$$module$js$threejs$three_module;
module$js$threejs$three_module.OneMinusDstColorFactor=OneMinusDstColorFactor$$module$js$threejs$three_module;module$js$threejs$three_module.OneMinusSrcAlphaFactor=OneMinusSrcAlphaFactor$$module$js$threejs$three_module;module$js$threejs$three_module.OneMinusSrcColorFactor=OneMinusSrcColorFactor$$module$js$threejs$three_module;module$js$threejs$three_module.OrthographicCamera=OrthographicCamera$$module$js$threejs$three_module;module$js$threejs$three_module.PCFShadowMap=PCFShadowMap$$module$js$threejs$three_module;
module$js$threejs$three_module.PCFSoftShadowMap=PCFSoftShadowMap$$module$js$threejs$three_module;module$js$threejs$three_module.PMREMGenerator=PMREMGenerator$$module$js$threejs$three_module;module$js$threejs$three_module.ParametricBufferGeometry=ParametricBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.ParametricGeometry=ParametricGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.Particle=Particle$$module$js$threejs$three_module;
module$js$threejs$three_module.ParticleBasicMaterial=ParticleBasicMaterial$$module$js$threejs$three_module;module$js$threejs$three_module.ParticleSystem=ParticleSystem$$module$js$threejs$three_module;module$js$threejs$three_module.ParticleSystemMaterial=ParticleSystemMaterial$$module$js$threejs$three_module;module$js$threejs$three_module.Path=Path$$module$js$threejs$three_module;module$js$threejs$three_module.PerspectiveCamera=PerspectiveCamera$$module$js$threejs$three_module;
module$js$threejs$three_module.Plane=Plane$$module$js$threejs$three_module;module$js$threejs$three_module.PlaneBufferGeometry=PlaneBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.PlaneGeometry=PlaneGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.PlaneHelper=PlaneHelper$$module$js$threejs$three_module;module$js$threejs$three_module.PointCloud=PointCloud$$module$js$threejs$three_module;module$js$threejs$three_module.PointCloudMaterial=PointCloudMaterial$$module$js$threejs$three_module;
module$js$threejs$three_module.PointLight=PointLight$$module$js$threejs$three_module;module$js$threejs$three_module.PointLightHelper=PointLightHelper$$module$js$threejs$three_module;module$js$threejs$three_module.Points=Points$$module$js$threejs$three_module;module$js$threejs$three_module.PointsMaterial=PointsMaterial$$module$js$threejs$three_module;module$js$threejs$three_module.PolarGridHelper=PolarGridHelper$$module$js$threejs$three_module;
module$js$threejs$three_module.PolyhedronBufferGeometry=PolyhedronBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.PolyhedronGeometry=PolyhedronGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.PositionalAudio=PositionalAudio$$module$js$threejs$three_module;module$js$threejs$three_module.PropertyBinding=PropertyBinding$$module$js$threejs$three_module;module$js$threejs$three_module.PropertyMixer=PropertyMixer$$module$js$threejs$three_module;
module$js$threejs$three_module.QuadraticBezierCurve=QuadraticBezierCurve$$module$js$threejs$three_module;module$js$threejs$three_module.QuadraticBezierCurve3=QuadraticBezierCurve3$$module$js$threejs$three_module;module$js$threejs$three_module.Quaternion=Quaternion$$module$js$threejs$three_module;module$js$threejs$three_module.QuaternionKeyframeTrack=QuaternionKeyframeTrack$$module$js$threejs$three_module;module$js$threejs$three_module.QuaternionLinearInterpolant=QuaternionLinearInterpolant$$module$js$threejs$three_module;
module$js$threejs$three_module.REVISION=REVISION$$module$js$threejs$three_module;module$js$threejs$three_module.RGBADepthPacking=RGBADepthPacking$$module$js$threejs$three_module;module$js$threejs$three_module.RGBAFormat=RGBAFormat$$module$js$threejs$three_module;module$js$threejs$three_module.RGBAIntegerFormat=RGBAIntegerFormat$$module$js$threejs$three_module;module$js$threejs$three_module.RGBA_ASTC_10x10_Format=RGBA_ASTC_10x10_Format$$module$js$threejs$three_module;
module$js$threejs$three_module.RGBA_ASTC_10x5_Format=RGBA_ASTC_10x5_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGBA_ASTC_10x6_Format=RGBA_ASTC_10x6_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGBA_ASTC_10x8_Format=RGBA_ASTC_10x8_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGBA_ASTC_12x10_Format=RGBA_ASTC_12x10_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGBA_ASTC_12x12_Format=RGBA_ASTC_12x12_Format$$module$js$threejs$three_module;
module$js$threejs$three_module.RGBA_ASTC_4x4_Format=RGBA_ASTC_4x4_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGBA_ASTC_5x4_Format=RGBA_ASTC_5x4_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGBA_ASTC_5x5_Format=RGBA_ASTC_5x5_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGBA_ASTC_6x5_Format=RGBA_ASTC_6x5_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGBA_ASTC_6x6_Format=RGBA_ASTC_6x6_Format$$module$js$threejs$three_module;
module$js$threejs$three_module.RGBA_ASTC_8x5_Format=RGBA_ASTC_8x5_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGBA_ASTC_8x6_Format=RGBA_ASTC_8x6_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGBA_ASTC_8x8_Format=RGBA_ASTC_8x8_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGBA_BPTC_Format=RGBA_BPTC_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGBA_ETC2_EAC_Format=RGBA_ETC2_EAC_Format$$module$js$threejs$three_module;
module$js$threejs$three_module.RGBA_PVRTC_2BPPV1_Format=RGBA_PVRTC_2BPPV1_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGBA_PVRTC_4BPPV1_Format=RGBA_PVRTC_4BPPV1_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGBA_S3TC_DXT1_Format=RGBA_S3TC_DXT1_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGBA_S3TC_DXT3_Format=RGBA_S3TC_DXT3_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGBA_S3TC_DXT5_Format=RGBA_S3TC_DXT5_Format$$module$js$threejs$three_module;
module$js$threejs$three_module.RGBDEncoding=RGBDEncoding$$module$js$threejs$three_module;module$js$threejs$three_module.RGBEEncoding=RGBEEncoding$$module$js$threejs$three_module;module$js$threejs$three_module.RGBEFormat=RGBAFormat$$module$js$threejs$three_module;module$js$threejs$three_module.RGBFormat=RGBFormat$$module$js$threejs$three_module;module$js$threejs$three_module.RGBIntegerFormat=RGBIntegerFormat$$module$js$threejs$three_module;module$js$threejs$three_module.RGBM16Encoding=RGBM16Encoding$$module$js$threejs$three_module;
module$js$threejs$three_module.RGBM7Encoding=RGBM7Encoding$$module$js$threejs$three_module;module$js$threejs$three_module.RGB_ETC1_Format=RGB_ETC1_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGB_ETC2_Format=RGB_ETC2_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGB_PVRTC_2BPPV1_Format=RGB_PVRTC_2BPPV1_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGB_PVRTC_4BPPV1_Format=RGB_PVRTC_4BPPV1_Format$$module$js$threejs$three_module;
module$js$threejs$three_module.RGB_S3TC_DXT1_Format=RGB_S3TC_DXT1_Format$$module$js$threejs$three_module;module$js$threejs$three_module.RGFormat=RGFormat$$module$js$threejs$three_module;module$js$threejs$three_module.RGIntegerFormat=RGIntegerFormat$$module$js$threejs$three_module;module$js$threejs$three_module.RawShaderMaterial=RawShaderMaterial$$module$js$threejs$three_module;module$js$threejs$three_module.Ray=Ray$$module$js$threejs$three_module;module$js$threejs$three_module.Raycaster=Raycaster$$module$js$threejs$three_module;
module$js$threejs$three_module.RectAreaLight=RectAreaLight$$module$js$threejs$three_module;module$js$threejs$three_module.RedFormat=RedFormat$$module$js$threejs$three_module;module$js$threejs$three_module.RedIntegerFormat=RedIntegerFormat$$module$js$threejs$three_module;module$js$threejs$three_module.ReinhardToneMapping=ReinhardToneMapping$$module$js$threejs$three_module;module$js$threejs$three_module.RepeatWrapping=RepeatWrapping$$module$js$threejs$three_module;
module$js$threejs$three_module.ReplaceStencilOp=ReplaceStencilOp$$module$js$threejs$three_module;module$js$threejs$three_module.ReverseSubtractEquation=ReverseSubtractEquation$$module$js$threejs$three_module;module$js$threejs$three_module.RingBufferGeometry=RingBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.RingGeometry=RingGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.SRGB8_ALPHA8_ASTC_10x10_Format=SRGB8_ALPHA8_ASTC_10x10_Format$$module$js$threejs$three_module;
module$js$threejs$three_module.SRGB8_ALPHA8_ASTC_10x5_Format=SRGB8_ALPHA8_ASTC_10x5_Format$$module$js$threejs$three_module;module$js$threejs$three_module.SRGB8_ALPHA8_ASTC_10x6_Format=SRGB8_ALPHA8_ASTC_10x6_Format$$module$js$threejs$three_module;module$js$threejs$three_module.SRGB8_ALPHA8_ASTC_10x8_Format=SRGB8_ALPHA8_ASTC_10x8_Format$$module$js$threejs$three_module;module$js$threejs$three_module.SRGB8_ALPHA8_ASTC_12x10_Format=SRGB8_ALPHA8_ASTC_12x10_Format$$module$js$threejs$three_module;
module$js$threejs$three_module.SRGB8_ALPHA8_ASTC_12x12_Format=SRGB8_ALPHA8_ASTC_12x12_Format$$module$js$threejs$three_module;module$js$threejs$three_module.SRGB8_ALPHA8_ASTC_4x4_Format=SRGB8_ALPHA8_ASTC_4x4_Format$$module$js$threejs$three_module;module$js$threejs$three_module.SRGB8_ALPHA8_ASTC_5x4_Format=SRGB8_ALPHA8_ASTC_5x4_Format$$module$js$threejs$three_module;module$js$threejs$three_module.SRGB8_ALPHA8_ASTC_5x5_Format=SRGB8_ALPHA8_ASTC_5x5_Format$$module$js$threejs$three_module;
module$js$threejs$three_module.SRGB8_ALPHA8_ASTC_6x5_Format=SRGB8_ALPHA8_ASTC_6x5_Format$$module$js$threejs$three_module;module$js$threejs$three_module.SRGB8_ALPHA8_ASTC_6x6_Format=SRGB8_ALPHA8_ASTC_6x6_Format$$module$js$threejs$three_module;module$js$threejs$three_module.SRGB8_ALPHA8_ASTC_8x5_Format=SRGB8_ALPHA8_ASTC_8x5_Format$$module$js$threejs$three_module;module$js$threejs$three_module.SRGB8_ALPHA8_ASTC_8x6_Format=SRGB8_ALPHA8_ASTC_8x6_Format$$module$js$threejs$three_module;
module$js$threejs$three_module.SRGB8_ALPHA8_ASTC_8x8_Format=SRGB8_ALPHA8_ASTC_8x8_Format$$module$js$threejs$three_module;module$js$threejs$three_module.Scene=Scene$$module$js$threejs$three_module;module$js$threejs$three_module.SceneUtils=SceneUtils$$module$js$threejs$three_module;module$js$threejs$three_module.ShaderChunk=ShaderChunk$$module$js$threejs$three_module;module$js$threejs$three_module.ShaderLib=ShaderLib$$module$js$threejs$three_module;module$js$threejs$three_module.ShaderMaterial=ShaderMaterial$$module$js$threejs$three_module;
module$js$threejs$three_module.ShadowMaterial=ShadowMaterial$$module$js$threejs$three_module;module$js$threejs$three_module.Shape=Shape$$module$js$threejs$three_module;module$js$threejs$three_module.ShapeBufferGeometry=ShapeBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.ShapeGeometry=ShapeGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.ShapePath=ShapePath$$module$js$threejs$three_module;module$js$threejs$three_module.ShapeUtils=ShapeUtils$$module$js$threejs$three_module;
module$js$threejs$three_module.ShortType=ShortType$$module$js$threejs$three_module;module$js$threejs$three_module.Skeleton=Skeleton$$module$js$threejs$three_module;module$js$threejs$three_module.SkeletonHelper=SkeletonHelper$$module$js$threejs$three_module;module$js$threejs$three_module.SkinnedMesh=SkinnedMesh$$module$js$threejs$three_module;module$js$threejs$three_module.SmoothShading=SmoothShading$$module$js$threejs$three_module;module$js$threejs$three_module.Sphere=Sphere$$module$js$threejs$three_module;
module$js$threejs$three_module.SphereBufferGeometry=SphereBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.SphereGeometry=SphereGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.Spherical=Spherical$$module$js$threejs$three_module;module$js$threejs$three_module.SphericalHarmonics3=SphericalHarmonics3$$module$js$threejs$three_module;module$js$threejs$three_module.Spline=Spline$$module$js$threejs$three_module;
module$js$threejs$three_module.SplineCurve=SplineCurve$$module$js$threejs$three_module;module$js$threejs$three_module.SplineCurve3=SplineCurve3$$module$js$threejs$three_module;module$js$threejs$three_module.SpotLight=SpotLight$$module$js$threejs$three_module;module$js$threejs$three_module.SpotLightHelper=SpotLightHelper$$module$js$threejs$three_module;module$js$threejs$three_module.Sprite=Sprite$$module$js$threejs$three_module;module$js$threejs$three_module.SpriteMaterial=SpriteMaterial$$module$js$threejs$three_module;
module$js$threejs$three_module.SrcAlphaFactor=SrcAlphaFactor$$module$js$threejs$three_module;module$js$threejs$three_module.SrcAlphaSaturateFactor=SrcAlphaSaturateFactor$$module$js$threejs$three_module;module$js$threejs$three_module.SrcColorFactor=SrcColorFactor$$module$js$threejs$three_module;module$js$threejs$three_module.StaticCopyUsage=StaticCopyUsage$$module$js$threejs$three_module;module$js$threejs$three_module.StaticDrawUsage=StaticDrawUsage$$module$js$threejs$three_module;
module$js$threejs$three_module.StaticReadUsage=StaticReadUsage$$module$js$threejs$three_module;module$js$threejs$three_module.StereoCamera=StereoCamera$$module$js$threejs$three_module;module$js$threejs$three_module.StreamCopyUsage=StreamCopyUsage$$module$js$threejs$three_module;module$js$threejs$three_module.StreamDrawUsage=StreamDrawUsage$$module$js$threejs$three_module;module$js$threejs$three_module.StreamReadUsage=StreamReadUsage$$module$js$threejs$three_module;
module$js$threejs$three_module.StringKeyframeTrack=StringKeyframeTrack$$module$js$threejs$three_module;module$js$threejs$three_module.SubtractEquation=SubtractEquation$$module$js$threejs$three_module;module$js$threejs$three_module.SubtractiveBlending=SubtractiveBlending$$module$js$threejs$three_module;module$js$threejs$three_module.TOUCH=TOUCH$$module$js$threejs$three_module;module$js$threejs$three_module.TangentSpaceNormalMap=TangentSpaceNormalMap$$module$js$threejs$three_module;
module$js$threejs$three_module.TetrahedronBufferGeometry=TetrahedronBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.TetrahedronGeometry=TetrahedronGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.TextBufferGeometry=TextBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.TextGeometry=TextGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.Texture=Texture$$module$js$threejs$three_module;
module$js$threejs$three_module.TextureLoader=TextureLoader$$module$js$threejs$three_module;module$js$threejs$three_module.TorusBufferGeometry=TorusBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.TorusGeometry=TorusGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.TorusKnotBufferGeometry=TorusKnotBufferGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.TorusKnotGeometry=TorusKnotGeometry$$module$js$threejs$three_module;
module$js$threejs$three_module.Triangle=Triangle$$module$js$threejs$three_module;module$js$threejs$three_module.TriangleFanDrawMode=TriangleFanDrawMode$$module$js$threejs$three_module;module$js$threejs$three_module.TriangleStripDrawMode=TriangleStripDrawMode$$module$js$threejs$three_module;module$js$threejs$three_module.TrianglesDrawMode=TrianglesDrawMode$$module$js$threejs$three_module;module$js$threejs$three_module.TubeBufferGeometry=TubeBufferGeometry$$module$js$threejs$three_module;
module$js$threejs$three_module.TubeGeometry=TubeGeometry$$module$js$threejs$three_module;module$js$threejs$three_module.UVMapping=UVMapping$$module$js$threejs$three_module;module$js$threejs$three_module.Uint16Attribute=Uint16Attribute$$module$js$threejs$three_module;module$js$threejs$three_module.Uint16BufferAttribute=Uint16BufferAttribute$$module$js$threejs$three_module;module$js$threejs$three_module.Uint32Attribute=Uint32Attribute$$module$js$threejs$three_module;
module$js$threejs$three_module.Uint32BufferAttribute=Uint32BufferAttribute$$module$js$threejs$three_module;module$js$threejs$three_module.Uint8Attribute=Uint8Attribute$$module$js$threejs$three_module;module$js$threejs$three_module.Uint8BufferAttribute=Uint8BufferAttribute$$module$js$threejs$three_module;module$js$threejs$three_module.Uint8ClampedAttribute=Uint8ClampedAttribute$$module$js$threejs$three_module;module$js$threejs$three_module.Uint8ClampedBufferAttribute=Uint8ClampedBufferAttribute$$module$js$threejs$three_module;
module$js$threejs$three_module.Uniform=Uniform$$module$js$threejs$three_module;module$js$threejs$three_module.UniformsLib=UniformsLib$$module$js$threejs$three_module;module$js$threejs$three_module.UniformsUtils=UniformsUtils$$module$js$threejs$three_module;module$js$threejs$three_module.UnsignedByteType=UnsignedByteType$$module$js$threejs$three_module;module$js$threejs$three_module.UnsignedInt248Type=UnsignedInt248Type$$module$js$threejs$three_module;
module$js$threejs$three_module.UnsignedIntType=UnsignedIntType$$module$js$threejs$three_module;module$js$threejs$three_module.UnsignedShort4444Type=UnsignedShort4444Type$$module$js$threejs$three_module;module$js$threejs$three_module.UnsignedShort5551Type=UnsignedShort5551Type$$module$js$threejs$three_module;module$js$threejs$three_module.UnsignedShort565Type=UnsignedShort565Type$$module$js$threejs$three_module;module$js$threejs$three_module.UnsignedShortType=UnsignedShortType$$module$js$threejs$three_module;
module$js$threejs$three_module.VSMShadowMap=VSMShadowMap$$module$js$threejs$three_module;module$js$threejs$three_module.Vector2=Vector2$$module$js$threejs$three_module;module$js$threejs$three_module.Vector3=Vector3$$module$js$threejs$three_module;module$js$threejs$three_module.Vector4=Vector4$$module$js$threejs$three_module;module$js$threejs$three_module.VectorKeyframeTrack=VectorKeyframeTrack$$module$js$threejs$three_module;module$js$threejs$three_module.Vertex=Vertex$$module$js$threejs$three_module;
module$js$threejs$three_module.VertexColors=VertexColors$$module$js$threejs$three_module;module$js$threejs$three_module.VideoTexture=VideoTexture$$module$js$threejs$three_module;module$js$threejs$three_module.WebGL1Renderer=WebGL1Renderer$$module$js$threejs$three_module;module$js$threejs$three_module.WebGLCubeRenderTarget=WebGLCubeRenderTarget$$module$js$threejs$three_module;module$js$threejs$three_module.WebGLMultisampleRenderTarget=WebGLMultisampleRenderTarget$$module$js$threejs$three_module;
module$js$threejs$three_module.WebGLRenderTarget=WebGLRenderTarget$$module$js$threejs$three_module;module$js$threejs$three_module.WebGLRenderTargetCube=WebGLRenderTargetCube$$module$js$threejs$three_module;module$js$threejs$three_module.WebGLRenderer=WebGLRenderer$$module$js$threejs$three_module;module$js$threejs$three_module.WebGLUtils=WebGLUtils$$module$js$threejs$three_module;module$js$threejs$three_module.WireframeGeometry=WireframeGeometry$$module$js$threejs$three_module;
module$js$threejs$three_module.WireframeHelper=WireframeHelper$$module$js$threejs$three_module;module$js$threejs$three_module.WrapAroundEnding=WrapAroundEnding$$module$js$threejs$three_module;module$js$threejs$three_module.XHRLoader=XHRLoader$$module$js$threejs$three_module;module$js$threejs$three_module.ZeroCurvatureEnding=ZeroCurvatureEnding$$module$js$threejs$three_module;module$js$threejs$three_module.ZeroFactor=ZeroFactor$$module$js$threejs$three_module;
module$js$threejs$three_module.ZeroSlopeEnding=ZeroSlopeEnding$$module$js$threejs$three_module;module$js$threejs$three_module.ZeroStencilOp=ZeroStencilOp$$module$js$threejs$three_module;module$js$threejs$three_module.sRGBEncoding=sRGBEncoding$$module$js$threejs$three_module;const gravity$$module$js$main=new b2Vec2$$module$js$box2d$Box2D(0,10),DO_SLEEP$$module$js$main=!0,world$$module$js$main=new b2World$$module$js$box2d$Box2D(gravity$$module$js$main,DO_SLEEP$$module$js$main),renderer$$module$js$main=new WebGLRenderer$$module$node_modules$three$build$three_module,loader$$module$js$main=new TDSLoader$$module$node_modules$three$examples$jsm$loaders$TDSLoader,scene$$module$js$main=new Scene$$module$node_modules$three$build$three_module,camera$$module$js$main=new PerspectiveCamera$$module$node_modules$three$build$three_module(50,
1,1,1E4),mainLight$$module$js$main=new PointLight$$module$node_modules$three$build$three_module(16777215,1,500,2),ambientLight$$module$js$main=new AmbientLight$$module$node_modules$three$build$three_module(15790320,.5),container$$module$js$main=document.body.querySelector("#main-container"),texture$$module$js$main=(new TextureLoader$$module$node_modules$three$build$three_module).load("textures/checker/redwhite.jpg"),spaceshipMaterial$$module$js$main=new MeshStandardMaterial$$module$node_modules$three$build$three_module({map:(new TextureLoader$$module$node_modules$three$build$three_module).load("textures/spaceships/arrow_thing.png"),
roughness:.8}),material$$module$js$main=new MeshStandardMaterial$$module$node_modules$three$build$three_module({map:texture$$module$js$main,roughness:.8}),floor$$module$js$main=createWall$$module$js$main({x:0,y:20},{width:24,height:.5}),ceiling$$module$js$main=createWall$$module$js$main({x:0,y:-20},{width:24,height:.5}),leftWall$$module$js$main=createWall$$module$js$main({x:-24,y:0},{width:.5,height:20}),rightWall$$module$js$main=createWall$$module$js$main({x:24,y:0},{width:.5,height:20}),box1$$module$js$main=
createPlayer$$module$js$main({x:0,y:5},{width:4,height:1,depth:4},material$$module$js$main),box2$$module$js$main=createPlayer$$module$js$main({x:0,y:0},{width:2,height:1,depth:1},spaceshipMaterial$$module$js$main),lightBall$$module$js$main=new Mesh$$module$node_modules$three$build$three_module(new OctahedronGeometry$$module$node_modules$three$build$three_module(.5,2),new MeshBasicMaterial$$module$node_modules$three$build$three_module({color:16777215})),rayCaster$$module$js$main=new Raycaster$$module$node_modules$three$build$three_module,
keyPress$$module$js$main=new KeyPress$$module$js$KeyPress(window);let translate$$module$js$main={x:0,y:0},scale$$module$js$main=25,cameraMaximumDimension$$module$js$main=1,timeStep$$module$js$main=1/60,iteration$$module$js$main=1,canvas$$module$js$main,balls$$module$js$main=[];scene$$module$js$main.add(ceiling$$module$js$main);scene$$module$js$main.add(floor$$module$js$main);scene$$module$js$main.add(leftWall$$module$js$main);scene$$module$js$main.add(rightWall$$module$js$main);box1$$module$js$main.physics.SetFixedRotation(!1);
scene$$module$js$main.add(box1$$module$js$main);scene$$module$js$main.add(box2$$module$js$main);scene$$module$js$main.add(lightBall$$module$js$main);renderer$$module$js$main.shadowMap.enabled=!0;renderer$$module$js$main.shadowMap.type=PCFSoftShadowMap$$module$node_modules$three$build$three_module;container$$module$js$main.appendChild(renderer$$module$js$main.domElement);canvas$$module$js$main=document.body.querySelector("canvas");lightBall$$module$js$main.position.set(5,5,0);
mainLight$$module$js$main.position.set(5,5,0);mainLight$$module$js$main.castShadow=!0;mainLight$$module$js$main.shadow.mapSize.width=512;mainLight$$module$js$main.shadow.mapSize.height=512;scene$$module$js$main.add(mainLight$$module$js$main);scene$$module$js$main.add(ambientLight$$module$js$main);
loader$$module$js$main.load("meshes/soccer_clients.3DS",function(a){a.scale.set(new Vector3$$module$node_modules$three$build$three_module(.02,.02,.02));scene$$module$js$main.add(a)},function(a){console.log(a.loaded/a.total*100+"% loaded")},function(){console.error("An error happened")});let f$$module$js$main=100,hasGravity$$module$js$main=!0;
keyPress$$module$js$main.onKey("w",a=>{if(a){let b=box2$$module$js$main.physics.GetAngle();keyChange$$module$js$main("w",a,box2$$module$js$main,new b2Vec2$$module$js$box2d$Box2D(Math.cos(b)*f$$module$js$main,Math.sin(b)*f$$module$js$main))}}).onKey("s",a=>{if(a){let b=box2$$module$js$main.physics.GetAngle();keyChange$$module$js$main("w",a,box2$$module$js$main,new b2Vec2$$module$js$box2d$Box2D(Math.cos(b)*-f$$module$js$main,Math.sin(b)*-f$$module$js$main))}}).onKey("l",a=>{a&&turnBox$$module$js$main(box2$$module$js$main,
.1)}).onKey("d",a=>{a&&turnBox$$module$js$main(box2$$module$js$main,.1)}).onKey("j",a=>{a&&turnBox$$module$js$main(box2$$module$js$main,-.1)}).onKey("a",a=>{a&&turnBox$$module$js$main(box2$$module$js$main,-.1)}).onKey("ArrowLeft",a=>{a&&(lightBall$$module$js$main.position.x=mainLight$$module$js$main.position.x-=.1)}).onKey("ArrowRight",a=>{a&&(lightBall$$module$js$main.position.x=mainLight$$module$js$main.position.x+=.1)}).onKey("ArrowUp",a=>{a&&(lightBall$$module$js$main.position.y=mainLight$$module$js$main.position.y+=
.1)}).onKey("ArrowDown",a=>{a&&(lightBall$$module$js$main.position.y=mainLight$$module$js$main.position.y-=.1)}).onKey(" ",a=>{if(a&&600<performance.now()-box2$$module$js$main.physics.lastFired){a=box2$$module$js$main.physics.GetAngle();let b=box2$$module$js$main.physics.GetPosition(),c=new b2Vec2$$module$js$box2d$Box2D(100*Math.cos(a),100*Math.sin(a)),d=box2$$module$js$main.physics.GetLinearVelocity(),e=createBouncyBall$$module$js$main(Math.cos(a)+b.x,Math.sin(a)+b.y,c,d);box2$$module$js$main.physics.ApplyImpulse(new b2Vec2$$module$js$box2d$Box2D(-.5*
c.x,-.5*c.y),box2$$module$js$main.physics.GetWorldCenter());balls$$module$js$main.push(e);setTimeout(()=>{removeBall$$module$js$main(e)},2E3);box2$$module$js$main.physics.lastFired=performance.now()}}).onKey("p",a=>{if(a&&0<performance.now()-box2$$module$js$main.physics.lastFired){a=box2$$module$js$main.physics.GetAngle();let b=box2$$module$js$main.physics.GetPosition(),c=new b2Vec2$$module$js$box2d$Box2D(100*Math.cos(a),100*Math.sin(a)),d=box2$$module$js$main.physics.GetLinearVelocity(),e=createBouncyBall$$module$js$main(Math.cos(a)+
b.x,Math.sin(a)+b.y,c,d);box2$$module$js$main.physics.ApplyImpulse(new b2Vec2$$module$js$box2d$Box2D(-.5*c.x,-.5*c.y),box2$$module$js$main.physics.GetWorldCenter());balls$$module$js$main.push(e);setTimeout(()=>{removeBall$$module$js$main(e)},2E3);box2$$module$js$main.physics.lastFired=performance.now()}}).onKeyPress("g",()=>{(hasGravity$$module$js$main=!hasGravity$$module$js$main)?world$$module$js$main.SetGravity(gravity$$module$js$main):world$$module$js$main.SetGravity(new b2Vec2$$module$js$box2d$Box2D(0,
0))}).onKeyPress("r",()=>{box1$$module$js$main.physics.SetPosition({x:0,y:5});box1$$module$js$main.physics.SetAngle(0);box1$$module$js$main.physics.SetLinearVelocity({x:0,y:0});box1$$module$js$main.physics.SetAngularVelocity();box2$$module$js$main.physics.SetPosition({x:0,y:0});box2$$module$js$main.physics.SetAngle(0);box2$$module$js$main.physics.SetLinearVelocity({x:0,y:0});box2$$module$js$main.physics.SetAngularVelocity();let a;for(;a=balls$$module$js$main.pop();)removeBall$$module$js$main(a)});
resizeCanvas$$module$js$main();window.addEventListener("resize",resizeCanvas$$module$js$main);
canvas$$module$js$main.addEventListener("click",a=>{a.preventDefault();var b=new Vector2$$module$node_modules$three$build$three_module;b.x=(a.clientX-canvas$$module$js$main.offsetLeft)/canvas$$module$js$main.width*2-1;b.y=2*-((a.clientY-canvas$$module$js$main.offsetTop)/canvas$$module$js$main.height)+1;rayCaster$$module$js$main.setFromCamera(b,camera$$module$js$main);(a=rayCaster$$module$js$main.intersectObjects(scene$$module$js$main.children,!0)[0])?(b=Math.sqrt(a.point.x*a.point.x+a.point.y*a.point.y),
a.object.physics.ApplyImpulse(new b2Vec2$$module$js$box2d$Box2D(a.point.x/b*-50,a.point.y/b*50),a.object.physics.GetWorldCenter())):balls$$module$js$main.push(createBouncyBall$$module$js$main(rayCaster$$module$js$main.ray.x,rayCaster$$module$js$main.ray.y))});
(function animate(){keyPress$$module$js$main.processKeys();world$$module$js$main.Step(timeStep$$module$js$main,iteration$$module$js$main);world$$module$js$main.ClearForces();let b=box1$$module$js$main.physics.GetPosition(),c=box1$$module$js$main.physics.GetAngle();box1$$module$js$main.position.x=b.x;box1$$module$js$main.position.y=-b.y;box1$$module$js$main.rotation.z=-c;b=box2$$module$js$main.physics.GetPosition();c=box2$$module$js$main.physics.GetAngle();box2$$module$js$main.position.x=b.x;box2$$module$js$main.position.y=
-b.y;box2$$module$js$main.rotation.z=-c;balls$$module$js$main.forEach(d=>{let e=d.physical.GetPosition(),g=d.physical.GetAngle();d.mesh.position.x=e.x;d.mesh.position.y=-e.y;d.mesh.rotation.z=-g});renderer$$module$js$main.render(scene$$module$js$main,camera$$module$js$main);requestAnimationFrame(animate)})();
function resizeCanvas$$module$js$main(){renderer$$module$js$main.setSize(container$$module$js$main.offsetWidth,container$$module$js$main.offsetHeight);var a=renderer$$module$js$main.getSize(new Vector2$$module$node_modules$three$build$three_module),b=cameraMaximumDimension$$module$js$main=Math.max(a.x,a.y),c=cameraMaximumDimension$$module$js$main;camera$$module$js$main.aspect=1;camera$$module$js$main.setViewOffset(b,c,(b-a.x)/2,(c-a.y)/2,a.x,a.y);camera$$module$js$main.updateProjectionMatrix();updateCameraPosition$$module$js$main()}
function keyChange$$module$js$main(a,b,c,d){b&&c.physics.ApplyForce(d,c.physics.GetWorldCenter())}function turnBox$$module$js$main(a,b){a=a.physics;a.SetAngle(a.GetAngle()+b);a.SetAngularVelocity(0)}function updateCameraPosition$$module$js$main(){camera$$module$js$main.position.set(translate$$module$js$main.x,-translate$$module$js$main.y,1.21*cameraMaximumDimension$$module$js$main/scale$$module$js$main)}
function removeBall$$module$js$main(a){world$$module$js$main.DestroyBody(a.physical);scene$$module$js$main.remove(a.mesh);return a}function createBouncyBall$$module$js$main(a=0,b=0,c,d){a={mesh:createBallMesh$$module$js$main(a,b),physical:createBallPhysics$$module$js$main(a,b,c,d)};a.mesh.physics=a.physical;return a}
function createBallMesh$$module$js$main(a=0,b=0){var c=new OctahedronGeometry$$module$node_modules$three$build$three_module(1,2),d=(new TextureLoader$$module$node_modules$three$build$three_module).load("textures/checker/redwhite.jpg",function(e){e.wrapS=e.wrapT=RepeatWrapping$$module$node_modules$three$build$three_module;e.offset.set(0,0);e.repeat.set(4,4)});d=new MeshStandardMaterial$$module$node_modules$three$build$three_module({map:d,roughness:.8});c=new Mesh$$module$node_modules$three$build$three_module(c,
d);c.castShadow=!0;c.receiveShadow=!0;c.position.set(a,b,0);scene$$module$js$main.add(c);return c}
function createBallPhysics$$module$js$main(a=0,b=0,c,d){let e=new b2CircleShape$$module$js$box2d$Box2D(1),g=new b2FixtureDef$$module$js$box2d$Box2D,h=new b2BodyDef$$module$js$box2d$Box2D;g.shape=e;g.density=1;g.friction=Math.randRange(.5,1);g.restitution=Math.randRange(0,1);h.type=b2Body$$module$js$box2d$Box2D.b2_dynamicBody;h.position={x:a,y:b};a=world$$module$js$main.CreateBody(h);a.CreateFixture(g);d&&a.SetLinearVelocity(d);c&&a.ApplyImpulse(c,a.GetWorldCenter());return a}
function createPlayer$$module$js$main(a,b,c){a=createPlayerPhysics$$module$js$main(a,b);b=createPlayerMesh$$module$js$main({x:a.GetPosition().x,y:-a.GetPosition().y},{width:2*b.width,height:2*b.height,depth:b.depth},c);b.physics=a;return b}
function createPlayerPhysics$$module$js$main(a,b){let c=new b2PolygonShape$$module$js$box2d$Box2D,d=new b2FixtureDef$$module$js$box2d$Box2D,e=new b2BodyDef$$module$js$box2d$Box2D;c.SetAsOrientedBox(b.width,b.height,{x:0,y:0},0);d.shape=c;d.density=1;d.friction=.5;d.restitution=.5;e.type=Box2D$$module$js$box2d$Box2D.Dynamics.b2Body.b2_dynamicBody;e.position=a;e.angle=0;a=world$$module$js$main.CreateBody(e);a.CreateFixture(d);a.SetFixedRotation(!0);a.lastFired=performance.now();return a}
function createPlayerMesh$$module$js$main(a,b,c){b=new Mesh$$module$node_modules$three$build$three_module(new BoxGeometry$$module$node_modules$three$build$three_module(b.width,b.height,b.depth||1),c);b.position.x=a.x;b.position.y=a.y;b.castShadow=!0;b.receiveShadow=!0;return b}function createWall$$module$js$main(a,b){a=createWallPhysics$$module$js$main(a,b);b=createWallMesh$$module$js$main({x:a.GetPosition().x,y:-a.GetPosition().y},{width:2*b.width,height:2*b.height});b.physics=a;return b}
function createWallMesh$$module$js$main(a,b){var c=(new TextureLoader$$module$node_modules$three$build$three_module).load("textures/checker/redwhite.jpg");c=new MeshStandardMaterial$$module$node_modules$three$build$three_module({map:c,roughness:.8});b=new Mesh$$module$node_modules$three$build$three_module(new BoxGeometry$$module$node_modules$three$build$three_module(b.width,b.height,6),c);b.castShadow=!0;b.receiveShadow=!0;b.position.y=a.y;b.position.x=a.x;return b}
function createWallPhysics$$module$js$main(a,b){let c=new b2PolygonShape$$module$js$box2d$Box2D,d=new b2FixtureDef$$module$js$box2d$Box2D,e=new b2BodyDef$$module$js$box2d$Box2D;c.SetAsOrientedBox(b.width,b.height,{x:0,y:0},0);d.shape=c;d.density=1;d.friction=.5;d.restitution=.5;e.type=Box2D$$module$js$box2d$Box2D.Dynamics.b2Body.b2_staticBody;e.position=a;e.angle=0;a=world$$module$js$main.CreateBody(e);a.CreateFixture(d);return a}Math.randRange=function(a,b){return Math.random()*(b-a)+a};
var module$js$main={};
